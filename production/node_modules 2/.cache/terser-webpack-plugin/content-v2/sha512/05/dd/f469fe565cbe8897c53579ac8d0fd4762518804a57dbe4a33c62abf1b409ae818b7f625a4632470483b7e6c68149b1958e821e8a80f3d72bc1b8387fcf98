{"code":"!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"/build/\",n(n.s=317)}([function(e,t,n){\"use strict\";n.d(t,\"f\",(function(){return i})),n.d(t,\"h\",(function(){return r})),n.d(t,\"g\",(function(){return o})),n.d(t,\"x\",(function(){return h})),n.d(t,\"y\",(function(){return f})),n.d(t,\"lb\",(function(){return p})),n.d(t,\"P\",(function(){return g})),n.d(t,\"hb\",(function(){return m})),n.d(t,\"s\",(function(){return v})),n.d(t,\"L\",(function(){return O})),n.d(t,\"d\",(function(){return b})),n.d(t,\"b\",(function(){return _})),n.d(t,\"e\",(function(){return w})),n.d(t,\"c\",(function(){return x})),n.d(t,\"a\",(function(){return k})),n.d(t,\"O\",(function(){return j})),n.d(t,\"kb\",(function(){return C})),n.d(t,\"R\",(function(){return B})),n.d(t,\"S\",(function(){return L})),n.d(t,\"T\",(function(){return $})),n.d(t,\"U\",(function(){return W})),n.d(t,\"mb\",(function(){return Y})),n.d(t,\"nb\",(function(){return H})),n.d(t,\"ob\",(function(){return q})),n.d(t,\"pb\",(function(){return V})),n.d(t,\"W\",(function(){return G})),n.d(t,\"ib\",(function(){return X})),n.d(t,\"i\",(function(){return Z})),n.d(t,\"k\",(function(){return Q})),n.d(t,\"l\",(function(){return K})),n.d(t,\"j\",(function(){return ee})),n.d(t,\"m\",(function(){return re})),n.d(t,\"n\",(function(){return oe})),n.d(t,\"o\",(function(){return u})),n.d(t,\"p\",(function(){return ae})),n.d(t,\"q\",(function(){return se})),n.d(t,\"r\",(function(){return le})),n.d(t,\"t\",(function(){return he})),n.d(t,\"u\",(function(){return d})),n.d(t,\"v\",(function(){return fe})),n.d(t,\"w\",(function(){return ce})),n.d(t,\"z\",(function(){return pe})),n.d(t,\"A\",(function(){return ge})),n.d(t,\"B\",(function(){return E})),n.d(t,\"C\",(function(){return me})),n.d(t,\"D\",(function(){return ve})),n.d(t,\"E\",(function(){return J})),n.d(t,\"F\",(function(){return ye})),n.d(t,\"G\",(function(){return S})),n.d(t,\"H\",(function(){return be})),n.d(t,\"I\",(function(){return _e})),n.d(t,\"J\",(function(){return we})),n.d(t,\"K\",(function(){return xe})),n.d(t,\"M\",(function(){return ke})),n.d(t,\"N\",(function(){return Oe})),n.d(t,\"Q\",(function(){return Se})),n.d(t,\"V\",(function(){return T})),n.d(t,\"X\",(function(){return Ee})),n.d(t,\"Y\",(function(){return De})),n.d(t,\"Z\",(function(){return c})),n.d(t,\"ab\",(function(){return je})),n.d(t,\"bb\",(function(){return Ce})),n.d(t,\"cb\",(function(){return Te})),n.d(t,\"db\",(function(){return A})),n.d(t,\"fb\",(function(){return Ae})),n.d(t,\"eb\",(function(){return Fe})),n.d(t,\"gb\",(function(){return Pe})),n.d(t,\"jb\",(function(){return Ne}));var i=function(e,t,n){return e.fields=t||[],e.fname=n,e};function r(e){return null==e?null:e.fname}function o(e){return null==e?null:e.fields}var a=function(e){return 1===e.length?s(e[0]):l(e)};const s=e=>function(t){return t[e]},l=e=>{const t=e.length;return function(n){for(let i=0;i<t;++i)n=n[e[i]];return n}};var u=function(e){throw Error(e)},c=function(e){const t=[],n=e.length;let i,r,o,a=null,s=0,l=\"\";function c(){t.push(l+e.substring(i,r)),l=\"\",i=r+1}for(e+=\"\",i=r=0;r<n;++r)if(o=e[r],\"\\\\\"===o)l+=e.substring(i,r),l+=e.substring(++r,++r),i=r;else if(o===a)c(),a=null,s=-1;else{if(a)continue;i===s&&'\"'===o||i===s&&\"'\"===o?(i=r+1,a=o):\".\"!==o||s?\"[\"===o?(r>i&&c(),s=i=r+1):\"]\"===o&&(s||u(\"Access path missing open bracket: \"+e),s>0&&c(),s=0,i=r+1):r>i?c():i=r+1}return s&&u(\"Access path missing closing bracket: \"+e),a&&u(\"Access path missing closing quote: \"+e),r>i&&(r++,c()),t},d=function(e,t,n){const r=c(e);return e=1===r.length?r[0]:e,i((n&&n.get||a)(r),[e],t||e)};const h=d(\"id\"),f=i(e=>e,[],\"identity\"),p=i(()=>0,[],\"zero\"),g=i(()=>1,[],\"one\"),m=i(()=>!0,[],\"true\"),v=i(()=>!1,[],\"false\");function y(e,t,n){const i=[t].concat([].slice.call(n));console[e].apply(console,i)}const b=0,_=1,w=2,x=3,k=4;var O=function(e,t){let n=e||b;return{level(e){return arguments.length?(n=+e,this):n},error(){return n>=_&&y(t||\"error\",\"ERROR\",arguments),this},warn(){return n>=w&&y(t||\"warn\",\"WARN\",arguments),this},info(){return n>=x&&y(t||\"log\",\"INFO\",arguments),this},debug(){return n>=k&&y(t||\"log\",\"DEBUG\",arguments),this}}},E=Array.isArray,S=function(e){return e===Object(e)};const D=e=>\"__proto__\"!==e;function j(...e){return e.reduce((e,t)=>{for(const n in t)if(\"signals\"===n)e.signals=M(e.signals,t.signals);else{const i=\"legend\"===n?{layout:1}:\"style\"===n||null;C(e,n,t[n],i)}return e},{})}function C(e,t,n,i){if(!D(t))return;let r,o;if(S(n)&&!E(n))for(r in o=S(e[t])?e[t]:e[t]={},n)i&&(!0===i||i[r])?C(o,r,n[r]):D(r)&&(o[r]=n[r]);else e[t]=n}function M(e,t){if(null==e)return t;const n={},i=[];function r(e){n[e.name]||(n[e.name]=1,i.push(e))}return t.forEach(r),e.forEach(r),i}var T=function(e){return e[e.length-1]},A=function(e){return null==e||\"\"===e?null:+e};const F=e=>t=>e*Math.exp(t),P=e=>t=>Math.log(e*t),N=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),z=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,R=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function I(e,t,n,i){const r=n(e[0]),o=n(T(e)),a=(o-r)*t;return[i(r-a),i(o-a)]}function B(e,t){return I(e,t,A,f)}function L(e,t){var n=Math.sign(e[0]);return I(e,t,P(n),F(n))}function $(e,t,n){return I(e,t,R(n),R(1/n))}function W(e,t,n){return I(e,t,N(n),z(n))}function U(e,t,n,i,r){const o=i(e[0]),a=i(T(e)),s=null!=t?i(t):(o+a)/2;return[r(s+(o-s)*n),r(s+(a-s)*n)]}function Y(e,t,n){return U(e,t,n,A,f)}function H(e,t,n){const i=Math.sign(e[0]);return U(e,t,n,P(i),F(i))}function q(e,t,n,i){return U(e,t,n,R(i),R(1/i))}function V(e,t,n,i){return U(e,t,n,N(i),z(i))}function G(e){return 1+~~(new Date(e).getMonth()/3)}function X(e){return 1+~~(new Date(e).getUTCMonth()/3)}var Z=function(e){return null!=e?E(e)?e:[e]:[]},Q=function(e,t,n){let i,r=e[0],o=e[1];return o<r&&(i=o,o=r,r=i),i=o-r,i>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-i),r+i]},J=function(e){return\"function\"==typeof e};var K=function(e,t,n){n=n||{},t=Z(t)||[];const r=[],a=[],s={},l=n.comparator||te;return Z(e).forEach((e,i)=>{null!=e&&(r.push(\"descending\"===t[i]?-1:1),a.push(e=J(e)?e:d(e,null,n)),(o(e)||[]).forEach(e=>s[e]=1))}),0===a.length?null:i(l(a,r),Object.keys(s))};const ee=(e,t)=>(e<t||null==e)&&null!=t?-1:(e>t||null==t)&&null!=e?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t==t?-1:t!=t&&e==e?1:0),te=(e,t)=>1===e.length?ne(e[0],t[0]):ie(e,t,e.length),ne=(e,t)=>function(n,i){return ee(e(n),e(i))*t},ie=(e,t,n)=>(t.push(0),function(i,r){let o,a=0,s=-1;for(;0===a&&++s<n;)o=e[s],a=ee(o(i),o(r));return a*t[s]});var re=function(e){return J(e)?e:()=>e},oe=function(e,t){let n;return i=>{n&&clearTimeout(n),n=setTimeout(()=>(t(i),n=null),e)}},ae=function(e){for(let t,n,i=1,r=arguments.length;i<r;++i)for(n in t=arguments[i],t)e[n]=t[n];return e},se=function(e,t){let n,i,r,o,a=0;if(e&&(n=e.length))if(null==t){for(i=e[a];a<n&&(null==i||i!=i);i=e[++a]);for(r=o=i;a<n;++a)i=e[a],null!=i&&(i<r&&(r=i),i>o&&(o=i))}else{for(i=t(e[a]);a<n&&(null==i||i!=i);i=t(e[++a]));for(r=o=i;a<n;++a)i=t(e[a]),null!=i&&(i<r&&(r=i),i>o&&(o=i))}return[r,o]},le=function(e,t){const n=e.length;let i,r,o,a,s,l=-1;if(null==t){for(;++l<n;)if(r=e[l],null!=r&&r>=r){i=o=r;break}if(l===n)return[-1,-1];for(a=s=l;++l<n;)r=e[l],null!=r&&(i>r&&(i=r,a=l),o<r&&(o=r,s=l))}else{for(;++l<n;)if(r=t(e[l],l,e),null!=r&&r>=r){i=o=r;break}if(l===n)return[-1,-1];for(a=s=l;++l<n;)r=t(e[l],l,e),null!=r&&(i>r&&(i=r,a=l),o<r&&(o=r,s=l))}return[a,s]};const ue=Object.prototype.hasOwnProperty;var ce=function(e,t){return ue.call(e,t)};const de={};var he=function(e){let t,n={};function i(e){return ce(n,e)&&n[e]!==de}const r={size:0,empty:0,object:n,has:i,get:e=>i(e)?n[e]:void 0,set(e,t){return i(e)||(++r.size,n[e]===de&&--r.empty),n[e]=t,this},delete(e){return i(e)&&(--r.size,++r.empty,n[e]=de),this},clear(){r.size=r.empty=0,r.object=n={}},test(e){return arguments.length?(t=e,r):t},clean(){const e={};let i=0;for(const r in n){const o=n[r];o===de||t&&t(o)||(e[r]=o,++i)}r.size=i,r.empty=0,r.object=n=e}};return e&&Object.keys(e).forEach(t=>{r.set(t,e[t])}),r},fe=function(e,t,n,i,r,o){if(!n&&0!==n)return o;const a=+n;let s,l=e[0],u=T(e);u<l&&(s=l,l=u,u=s),s=Math.abs(t-l);const c=Math.abs(u-t);return s<c&&s<=a?i:c<=a?r:o},pe=function(e,t,n){const i=e.prototype=Object.create(t.prototype);return i.constructor=e,ae(i,n)},ge=function(e,t,n,i){let r,o=t[0],a=t[t.length-1];return o>a&&(r=o,o=a,a=r),i=void 0===i||i,((n=void 0===n||n)?o<=e:o<e)&&(i?e<=a:e<a)},me=function(e){return\"boolean\"==typeof e},ve=function(e){return\"[object Date]\"===Object.prototype.toString.call(e)},ye=function(e){return\"number\"==typeof e},be=function(e){return\"[object RegExp]\"===Object.prototype.toString.call(e)},_e=function(e){return\"string\"==typeof e},we=function(e,t,n){e&&(e=t?Z(e).map(e=>e.replace(/\\\\(.)/g,\"$1\")):Z(e));const r=e&&e.length,o=n&&n.get||a,s=e=>o(t?[e]:c(e));let l;if(r)if(1===r){const t=s(e[0]);l=function(e){return\"\"+t(e)}}else{const t=e.map(s);l=function(e){let n=\"\"+t[0](e),i=0;for(;++i<r;)n+=\"|\"+t[i](e);return n}}else l=function(){return\"\"};return i(l,e,\"key\")},xe=function(e,t){const n=e[0],i=T(e),r=+t;return r?1===r?i:n+r*(i-n):n};var ke=function(e){let t,n,i;e=+e||1e4;const r=()=>{t={},n={},i=0},o=(r,o)=>(++i>e&&(n=t,t={},i=1),t[r]=o);return r(),{clear:r,has:e=>ce(t,e)||ce(n,e),get:e=>ce(t,e)?t[e]:ce(n,e)?o(e,n[e]):void 0,set:(e,n)=>ce(t,e)?t[e]=n:o(e,n)}},Oe=function(e,t,n,i){const r=t.length,o=n.length;if(!o)return t;if(!r)return n;const a=i||new t.constructor(r+o);let s=0,l=0,u=0;for(;s<r&&l<o;++u)a[u]=e(t[s],n[l])>0?n[l++]:t[s++];for(;s<r;++s,++u)a[u]=t[s];for(;l<o;++l,++u)a[u]=n[l];return a},Ee=function(e,t){let n=\"\";for(;--t>=0;)n+=e;return n},Se=function(e,t,n,i){const r=n||\" \",o=e+\"\",a=t-o.length;return a<=0?o:\"left\"===i?Ee(r,a)+o:\"center\"===i?Ee(r,~~(a/2))+o+Ee(r,Math.ceil(a/2)):o+Ee(r,a)},De=function(e){return e&&T(e)-e[0]||0};function je(e){return E(e)?\"[\"+e.map(je)+\"]\":S(e)||_e(e)?JSON.stringify(e).replace(\"\\u2028\",\"\\\\u2028\").replace(\"\\u2029\",\"\\\\u2029\"):e}var Ce=function(e){return null==e||\"\"===e?null:!(!e||\"false\"===e||\"0\"===e)&&!!e};const Me=e=>ye(e)||ve(e)?e:Date.parse(e);var Te=function(e,t){return t=t||Me,null==e||\"\"===e?null:t(e)},Ae=function(e){return null==e||\"\"===e?null:e+\"\"},Fe=function(e){const t={},n=e.length;for(let i=0;i<n;++i)t[e[i]]=!0;return t},Pe=function(e,t,n,i){const r=null!=i?i:\"…\",o=e+\"\",a=o.length,s=Math.max(0,t-r.length);return a<=t?o:\"left\"===n?r+o.slice(a-s):\"center\"===n?o.slice(0,Math.ceil(s/2))+r+o.slice(a-~~(s/2)):o.slice(0,s)+r},Ne=function(e,t,n){if(e)if(t){const i=e.length;for(let r=0;r<i;++r){const i=t(e[r]);i&&n(i,r,e)}}else e.forEach(n)}},function(e,t,n){\"use strict\";e.exports=n(153)},,function(e,t,n){const i=n(47),{MAX_LENGTH:r,MAX_SAFE_INTEGER:o}=n(46),{re:a,t:s}=n(15),{compareIdentifiers:l}=n(78);class u{constructor(e,t){if(t&&\"object\"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(\"string\"!=typeof e)throw new TypeError(\"Invalid Version: \"+e);if(e.length>r)throw new TypeError(`version is longer than ${r} characters`);i(\"SemVer\",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?a[s.LOOSE]:a[s.FULL]);if(!n)throw new TypeError(\"Invalid Version: \"+e);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>o||this.major<0)throw new TypeError(\"Invalid major version\");if(this.minor>o||this.minor<0)throw new TypeError(\"Invalid minor version\");if(this.patch>o||this.patch<0)throw new TypeError(\"Invalid patch version\");n[4]?this.prerelease=n[4].split(\".\").map(e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<o)return t}return e}):this.prerelease=[],this.build=n[5]?n[5].split(\".\"):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=\"-\"+this.prerelease.join(\".\")),this.version}toString(){return this.version}compare(e){if(i(\"SemVer.compare\",this.version,this.options,e),!(e instanceof u)){if(\"string\"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),l(this.major,e.major)||l(this.minor,e.minor)||l(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],r=e.prerelease[t];if(i(\"prerelease compare\",t,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return l(n,r)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const n=this.build[t],r=e.build[t];if(i(\"prerelease compare\",t,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return l(n,r)}while(++t)}inc(e,t){switch(e){case\"premajor\":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc(\"pre\",t);break;case\"preminor\":this.prerelease.length=0,this.patch=0,this.minor++,this.inc(\"pre\",t);break;case\"prepatch\":this.prerelease.length=0,this.inc(\"patch\",t),this.inc(\"pre\",t);break;case\"prerelease\":0===this.prerelease.length&&this.inc(\"patch\",t),this.inc(\"pre\",t);break;case\"major\":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case\"minor\":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case\"patch\":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case\"pre\":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)\"number\"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(\"invalid increment argument: \"+e)}return this.format(),this.raw=this.version,this}}e.exports=u},function(e,t,n){var i=n(94),r=\"object\"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function(\"return this\")();e.exports=o},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&(\"object\"==t||\"function\"==t)}},function(e,t){e.exports=function(e){return null!=e&&\"object\"==typeof e}},function(e,t,n){const i=n(3);e.exports=(e,t,n)=>new i(e,n).compare(new i(t,n))},function(e,t,n){class i{constructor(e,t){if(t&&\"object\"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof i)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new i(e.raw,t);if(e instanceof r)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\\s*\\|\\|\\s*/).map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError(\"Invalid SemVer Range: \"+e);this.format()}format(){return this.range=this.set.map(e=>e.join(\" \").trim()).join(\"||\").trim(),this.range}toString(){return this.range}parseRange(e){const t=this.options.loose;e=e.trim();const n=t?s[l.HYPHENRANGELOOSE]:s[l.HYPHENRANGE];e=e.replace(n,k(this.options.includePrerelease)),o(\"hyphen replace\",e),e=e.replace(s[l.COMPARATORTRIM],u),o(\"comparator trim\",e,s[l.COMPARATORTRIM]),e=(e=(e=e.replace(s[l.TILDETRIM],c)).replace(s[l.CARETTRIM],d)).split(/\\s+/).join(\" \");const i=t?s[l.COMPARATORLOOSE]:s[l.COMPARATOR];return e.split(\" \").map(e=>f(e,this.options)).join(\" \").split(/\\s+/).map(e=>x(e,this.options)).filter(this.options.loose?e=>!!e.match(i):()=>!0).map(e=>new r(e,this.options))}intersects(e,t){if(!(e instanceof i))throw new TypeError(\"a Range is required\");return this.set.some(n=>h(n,t)&&e.set.some(e=>h(e,t)&&n.every(n=>e.every(e=>n.intersects(e,t)))))}test(e){if(!e)return!1;if(\"string\"==typeof e)try{e=new a(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(O(this.set[t],e,this.options))return!0;return!1}}e.exports=i;const r=n(49),o=n(47),a=n(3),{re:s,t:l,comparatorTrimReplace:u,tildeTrimReplace:c,caretTrimReplace:d}=n(15),h=(e,t)=>{let n=!0;const i=e.slice();let r=i.pop();for(;n&&i.length;)n=i.every(e=>r.intersects(e,t)),r=i.pop();return n},f=(e,t)=>(o(\"comp\",e,t),e=v(e,t),o(\"caret\",e),e=g(e,t),o(\"tildes\",e),e=b(e,t),o(\"xrange\",e),e=w(e,t),o(\"stars\",e),e),p=e=>!e||\"x\"===e.toLowerCase()||\"*\"===e,g=(e,t)=>e.trim().split(/\\s+/).map(e=>m(e,t)).join(\" \"),m=(e,t)=>{const n=t.loose?s[l.TILDELOOSE]:s[l.TILDE];return e.replace(n,(t,n,i,r,a)=>{let s;return o(\"tilde\",e,t,n,i,r,a),p(n)?s=\"\":p(i)?s=`>=${n}.0.0 <${+n+1}.0.0-0`:p(r)?s=`>=${n}.${i}.0 <${n}.${+i+1}.0-0`:a?(o(\"replaceTilde pr\",a),s=`>=${n}.${i}.${r}-${a} <${n}.${+i+1}.0-0`):s=`>=${n}.${i}.${r} <${n}.${+i+1}.0-0`,o(\"tilde return\",s),s})},v=(e,t)=>e.trim().split(/\\s+/).map(e=>y(e,t)).join(\" \"),y=(e,t)=>{o(\"caret\",e,t);const n=t.loose?s[l.CARETLOOSE]:s[l.CARET],i=t.includePrerelease?\"-0\":\"\";return e.replace(n,(t,n,r,a,s)=>{let l;return o(\"caret\",e,t,n,r,a,s),p(n)?l=\"\":p(r)?l=`>=${n}.0.0${i} <${+n+1}.0.0-0`:p(a)?l=\"0\"===n?`>=${n}.${r}.0${i} <${n}.${+r+1}.0-0`:`>=${n}.${r}.0${i} <${+n+1}.0.0-0`:s?(o(\"replaceCaret pr\",s),l=\"0\"===n?\"0\"===r?`>=${n}.${r}.${a}-${s} <${n}.${r}.${+a+1}-0`:`>=${n}.${r}.${a}-${s} <${n}.${+r+1}.0-0`:`>=${n}.${r}.${a}-${s} <${+n+1}.0.0-0`):(o(\"no pr\"),l=\"0\"===n?\"0\"===r?`>=${n}.${r}.${a}${i} <${n}.${r}.${+a+1}-0`:`>=${n}.${r}.${a}${i} <${n}.${+r+1}.0-0`:`>=${n}.${r}.${a} <${+n+1}.0.0-0`),o(\"caret return\",l),l})},b=(e,t)=>(o(\"replaceXRanges\",e,t),e.split(/\\s+/).map(e=>_(e,t)).join(\" \")),_=(e,t)=>{e=e.trim();const n=t.loose?s[l.XRANGELOOSE]:s[l.XRANGE];return e.replace(n,(n,i,r,a,s,l)=>{o(\"xRange\",e,n,i,r,a,s,l);const u=p(r),c=u||p(a),d=c||p(s),h=d;return\"=\"===i&&h&&(i=\"\"),l=t.includePrerelease?\"-0\":\"\",u?n=\">\"===i||\"<\"===i?\"<0.0.0-0\":\"*\":i&&h?(c&&(a=0),s=0,\">\"===i?(i=\">=\",c?(r=+r+1,a=0,s=0):(a=+a+1,s=0)):\"<=\"===i&&(i=\"<\",c?r=+r+1:a=+a+1),\"<\"===i&&(l=\"-0\"),n=`${i+r}.${a}.${s}${l}`):c?n=`>=${r}.0.0${l} <${+r+1}.0.0-0`:d&&(n=`>=${r}.${a}.0${l} <${r}.${+a+1}.0-0`),o(\"xRange return\",n),n})},w=(e,t)=>(o(\"replaceStars\",e,t),e.trim().replace(s[l.STAR],\"\")),x=(e,t)=>(o(\"replaceGTE0\",e,t),e.trim().replace(s[t.includePrerelease?l.GTE0PRE:l.GTE0],\"\")),k=e=>(t,n,i,r,o,a,s,l,u,c,d,h,f)=>`${n=p(i)?\"\":p(r)?`>=${i}.0.0${e?\"-0\":\"\"}`:p(o)?`>=${i}.${r}.0${e?\"-0\":\"\"}`:a?\">=\"+n:`>=${n}${e?\"-0\":\"\"}`} ${l=p(u)?\"\":p(c)?`<${+u+1}.0.0-0`:p(d)?`<${u}.${+c+1}.0-0`:h?`<=${u}.${c}.${d}-${h}`:e?`<${u}.${c}.${+d+1}-0`:\"<=\"+l}`.trim(),O=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(o(e[n].semver),e[n].semver!==r.ANY&&e[n].semver.prerelease.length>0){const i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}},,function(e,t,n){var i=n(163),r=n(168);e.exports=function(e,t){var n=r(e,t);return i(n)?n:void 0}},function(e,t,n){var i=n(14),r=n(164),o=n(165),a=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?\"[object Undefined]\":\"[object Null]\":a&&a in Object(e)?r(e):o(e)}},function(e,t,n){\"use strict\";e.exports=function(e,t){t||(t={}),\"function\"==typeof t&&(t={cmp:t});var n,i=\"boolean\"==typeof t.cycles&&t.cycles,r=t.cmp&&(n=t.cmp,function(e){return function(t,i){var r={key:t,value:e[t]},o={key:i,value:e[i]};return n(r,o)}}),o=[];return function e(t){if(t&&t.toJSON&&\"function\"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if(\"number\"==typeof t)return isFinite(t)?\"\"+t:\"null\";if(\"object\"!=typeof t)return JSON.stringify(t);var n,a;if(Array.isArray(t)){for(a=\"[\",n=0;n<t.length;n++)n&&(a+=\",\"),a+=e(t[n])||\"null\";return a+\"]\"}if(null===t)return\"null\";if(-1!==o.indexOf(t)){if(i)return JSON.stringify(\"__cycle__\");throw new TypeError(\"Converting circular structure to JSON\")}var s=o.push(t)-1,l=Object.keys(t).sort(r&&r(t));for(a=\"\",n=0;n<l.length;n++){var u=l[n],c=e(t[u]);c&&(a&&(a+=\",\"),a+=JSON.stringify(u)+\":\"+c)}return o.splice(s,1),\"{\"+a+\"}\"}}(e)}},function(e,t,n){var i=n(4).Symbol;e.exports=i},function(e,t,n){const{MAX_SAFE_COMPONENT_LENGTH:i}=n(46),r=n(47),o=(t=e.exports={}).re=[],a=t.src=[],s=t.t={};let l=0;const u=(e,t,n)=>{const i=l++;r(i,t),s[e]=i,a[i]=t,o[i]=new RegExp(t,n?\"g\":void 0)};u(\"NUMERICIDENTIFIER\",\"0|[1-9]\\\\d*\"),u(\"NUMERICIDENTIFIERLOOSE\",\"[0-9]+\"),u(\"NONNUMERICIDENTIFIER\",\"\\\\d*[a-zA-Z-][a-zA-Z0-9-]*\"),u(\"MAINVERSION\",`(${a[s.NUMERICIDENTIFIER]})\\\\.(${a[s.NUMERICIDENTIFIER]})\\\\.(${a[s.NUMERICIDENTIFIER]})`),u(\"MAINVERSIONLOOSE\",`(${a[s.NUMERICIDENTIFIERLOOSE]})\\\\.(${a[s.NUMERICIDENTIFIERLOOSE]})\\\\.(${a[s.NUMERICIDENTIFIERLOOSE]})`),u(\"PRERELEASEIDENTIFIER\",`(?:${a[s.NUMERICIDENTIFIER]}|${a[s.NONNUMERICIDENTIFIER]})`),u(\"PRERELEASEIDENTIFIERLOOSE\",`(?:${a[s.NUMERICIDENTIFIERLOOSE]}|${a[s.NONNUMERICIDENTIFIER]})`),u(\"PRERELEASE\",`(?:-(${a[s.PRERELEASEIDENTIFIER]}(?:\\\\.${a[s.PRERELEASEIDENTIFIER]})*))`),u(\"PRERELEASELOOSE\",`(?:-?(${a[s.PRERELEASEIDENTIFIERLOOSE]}(?:\\\\.${a[s.PRERELEASEIDENTIFIERLOOSE]})*))`),u(\"BUILDIDENTIFIER\",\"[0-9A-Za-z-]+\"),u(\"BUILD\",`(?:\\\\+(${a[s.BUILDIDENTIFIER]}(?:\\\\.${a[s.BUILDIDENTIFIER]})*))`),u(\"FULLPLAIN\",`v?${a[s.MAINVERSION]}${a[s.PRERELEASE]}?${a[s.BUILD]}?`),u(\"FULL\",`^${a[s.FULLPLAIN]}$`),u(\"LOOSEPLAIN\",`[v=\\\\s]*${a[s.MAINVERSIONLOOSE]}${a[s.PRERELEASELOOSE]}?${a[s.BUILD]}?`),u(\"LOOSE\",`^${a[s.LOOSEPLAIN]}$`),u(\"GTLT\",\"((?:<|>)?=?)\"),u(\"XRANGEIDENTIFIERLOOSE\",a[s.NUMERICIDENTIFIERLOOSE]+\"|x|X|\\\\*\"),u(\"XRANGEIDENTIFIER\",a[s.NUMERICIDENTIFIER]+\"|x|X|\\\\*\"),u(\"XRANGEPLAIN\",`[v=\\\\s]*(${a[s.XRANGEIDENTIFIER]})(?:\\\\.(${a[s.XRANGEIDENTIFIER]})(?:\\\\.(${a[s.XRANGEIDENTIFIER]})(?:${a[s.PRERELEASE]})?${a[s.BUILD]}?)?)?`),u(\"XRANGEPLAINLOOSE\",`[v=\\\\s]*(${a[s.XRANGEIDENTIFIERLOOSE]})(?:\\\\.(${a[s.XRANGEIDENTIFIERLOOSE]})(?:\\\\.(${a[s.XRANGEIDENTIFIERLOOSE]})(?:${a[s.PRERELEASELOOSE]})?${a[s.BUILD]}?)?)?`),u(\"XRANGE\",`^${a[s.GTLT]}\\\\s*${a[s.XRANGEPLAIN]}$`),u(\"XRANGELOOSE\",`^${a[s.GTLT]}\\\\s*${a[s.XRANGEPLAINLOOSE]}$`),u(\"COERCE\",`(^|[^\\\\d])(\\\\d{1,${i}})(?:\\\\.(\\\\d{1,${i}}))?(?:\\\\.(\\\\d{1,${i}}))?(?:$|[^\\\\d])`),u(\"COERCERTL\",a[s.COERCE],!0),u(\"LONETILDE\",\"(?:~>?)\"),u(\"TILDETRIM\",`(\\\\s*)${a[s.LONETILDE]}\\\\s+`,!0),t.tildeTrimReplace=\"$1~\",u(\"TILDE\",`^${a[s.LONETILDE]}${a[s.XRANGEPLAIN]}$`),u(\"TILDELOOSE\",`^${a[s.LONETILDE]}${a[s.XRANGEPLAINLOOSE]}$`),u(\"LONECARET\",\"(?:\\\\^)\"),u(\"CARETTRIM\",`(\\\\s*)${a[s.LONECARET]}\\\\s+`,!0),t.caretTrimReplace=\"$1^\",u(\"CARET\",`^${a[s.LONECARET]}${a[s.XRANGEPLAIN]}$`),u(\"CARETLOOSE\",`^${a[s.LONECARET]}${a[s.XRANGEPLAINLOOSE]}$`),u(\"COMPARATORLOOSE\",`^${a[s.GTLT]}\\\\s*(${a[s.LOOSEPLAIN]})$|^$`),u(\"COMPARATOR\",`^${a[s.GTLT]}\\\\s*(${a[s.FULLPLAIN]})$|^$`),u(\"COMPARATORTRIM\",`(\\\\s*)${a[s.GTLT]}\\\\s*(${a[s.LOOSEPLAIN]}|${a[s.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace=\"$1$2$3\",u(\"HYPHENRANGE\",`^\\\\s*(${a[s.XRANGEPLAIN]})\\\\s+-\\\\s+(${a[s.XRANGEPLAIN]})\\\\s*$`),u(\"HYPHENRANGELOOSE\",`^\\\\s*(${a[s.XRANGEPLAINLOOSE]})\\\\s+-\\\\s+(${a[s.XRANGEPLAINLOOSE]})\\\\s*$`),u(\"STAR\",\"(<|>)?=?\\\\s*\\\\*\"),u(\"GTE0\",\"^\\\\s*>=\\\\s*0.0.0\\\\s*$\"),u(\"GTE0PRE\",\"^\\\\s*>=\\\\s*0.0.0-0\\\\s*$\")},function(e,t,n){const{MAX_LENGTH:i}=n(46),{re:r,t:o}=n(15),a=n(3);e.exports=(e,t)=>{if(t&&\"object\"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof a)return e;if(\"string\"!=typeof e)return null;if(e.length>i)return null;if(!(t.loose?r[o.LOOSE]:r[o.FULL]).test(e))return null;try{return new a(e,t)}catch(e){return null}}},,,function(e,t){e.exports=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}},function(e,t,n){var i=n(12),r=n(7);e.exports=function(e){return\"symbol\"==typeof e||r(e)&&\"[object Symbol]\"==i(e)}},function(e,t,n){var i=n(110),r=n(62);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=o?o(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),a?r(n,u,c):i(n,u,c)}return n}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var i=n(111),r=n(221),o=n(40);e.exports=function(e){return o(e)?i(e,!0):r(e)}},function(e,t,n){var i=n(227),r=n(68),o=n(228),a=n(229),s=n(93),l=n(12),u=n(95),c=u(i),d=u(r),h=u(o),f=u(a),p=u(s),g=l;(i&&\"[object DataView]\"!=g(new i(new ArrayBuffer(1)))||r&&\"[object Map]\"!=g(new r)||o&&\"[object Promise]\"!=g(o.resolve())||a&&\"[object Set]\"!=g(new a)||s&&\"[object WeakMap]\"!=g(new s))&&(g=function(e){var t=l(e),n=\"[object Object]\"==t?e.constructor:void 0,i=n?u(n):\"\";if(i)switch(i){case c:return\"[object DataView]\";case d:return\"[object Map]\";case h:return\"[object Promise]\";case f:return\"[object Set]\";case p:return\"[object WeakMap]\"}return t}),e.exports=g},function(e,t,n){var i=n(20);e.exports=function(e){if(\"string\"==typeof e||i(e))return e;var t=e+\"\";return\"0\"==t&&1/e==-1/0?\"-0\":t}},function(e,t,n){e.exports=n(288)()},function(e,t,n){e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=1)}([function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.DBMode=t.DBOperations=t.CreateObjectStore=t.openDatabase=void 0;var i,r=n(4),o=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;function a(e,t,n){return new Promise((function(i,r){var a,s=o.open(e,t);s.onsuccess=function(e){a=s.result,i(a)},s.onerror=function(e){r(\"IndexedDB error: \"+s.error)},\"function\"==typeof n&&(s.onupgradeneeded=function(e){n(e,a)})}))}t.openDatabase=a,t.CreateObjectStore=function(e,t,n){var i=o.open(e,t);i.onupgradeneeded=function(e){var t=e.target.result;n.forEach((function(e){if(!t.objectStoreNames.contains(e.store)){var n=t.createObjectStore(e.store,e.storeConfig);e.storeSchema.forEach((function(e){n.createIndex(e.name,e.keypath,e.options)}))}})),t.close()},i.onsuccess=function(e){e.target.result.close()}},t.DBOperations=function(e,t,n){return{add:function(o,s){return new Promise((function(l,u){a(e,t).then((function(e){r.createTransaction(e,r.optionsGenerator(i.readwrite,n,u,l)).objectStore(n).add(o,s).onsuccess=function(e){s=e.target.result,l(s)}}))}))},getByID:function(o){return new Promise((function(s,l){a(e,t).then((function(e){r.validateBeforeTransaction(e,n,l),r.createTransaction(e,r.optionsGenerator(i.readonly,n,l,s)).objectStore(n).get(+o).onsuccess=function(e){s(e.target.result)}}))}))},getAll:function(){return new Promise((function(o,s){a(e,t).then((function(e){r.validateBeforeTransaction(e,n,s);var t=r.createTransaction(e,r.optionsGenerator(i.readonly,n,s,o)).objectStore(n).getAll();t.onerror=function(e){s(e)},t.onsuccess=function(e){var t=e.target.result;o(t)}}))}))},update:function(o,s){return new Promise((function(l,u){a(e,t).then((function(e){r.validateBeforeTransaction(e,n,u);var t=r.createTransaction(e,r.optionsGenerator(i.readwrite,n,u,l)),a=t.objectStore(n);t.oncomplete=function(e){l(e)},a.put(o,s)}))}))},deleteRecord:function(o){return new Promise((function(s,l){a(e,t).then((function(e){r.validateBeforeTransaction(e,n,l),r.createTransaction(e,r.optionsGenerator(i.readwrite,n,l,s)).objectStore(n).delete(o).onsuccess=function(e){s(e)}}))}))},clear:function(){return new Promise((function(o,s){a(e,t).then((function(e){r.validateBeforeTransaction(e,n,s);var t=r.createTransaction(e,r.optionsGenerator(i.readwrite,n,s,o));t.objectStore(n).clear(),t.oncomplete=function(e){o()}}))}))},openCursor:function(o,s){return new Promise((function(l,u){a(e,t).then((function(e){r.validateBeforeTransaction(e,n,u),r.createTransaction(e,r.optionsGenerator(i.readonly,n,u,l)).objectStore(n).openCursor(s).onsuccess=function(e){o(e),l()}}))}))},getByIndex:function(o,s){return new Promise((function(l,u){a(e,t).then((function(e){r.validateBeforeTransaction(e,n,u),r.createTransaction(e,r.optionsGenerator(i.readonly,n,u,l)).objectStore(n).index(o).get(s).onsuccess=function(e){l(e.target.result)}}))}))}}},function(e){e.readonly=\"readonly\",e.readwrite=\"readwrite\"}(i=t.DBMode||(t.DBMode={}))},function(e,t,n){\"use strict\";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)\"default\"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,\"__esModule\",{value:!0});var o=n(2);Object.defineProperty(t,\"AccessDB\",{enumerable:!0,get:function(){return o.AccessDB}}),Object.defineProperty(t,\"IndexedDB\",{enumerable:!0,get:function(){return o.IndexedDB}}),r(n(5),t)},function(e,t,n){\"use strict\";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,\"__esModule\",{value:!0}),t.AccessDB=t.IndexedDB=void 0;var s=a(n(3)),l=n(0),u=s.default.createContext({db:null,name:null,version:null}),c=u.Provider,d=u.Consumer;t.IndexedDB=function(e){var t=this,n=e.name,i=e.version,a=e.children;return e.objectStoresMeta.forEach((function(e){return r(t,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,l.openDatabase(n,i,(function(t){var n=t.currentTarget.result.createObjectStore(e.store,e.storeConfig);e.storeSchema.forEach((function(e){n.createIndex(e.name,e.keypath,e.options)}))}))];case 1:return t.sent(),[2]}}))}))})),s.default.createElement(c,{value:{db:null,name:n,version:i}},a)},t.AccessDB=function(e){var t=e.children,n=e.objectStore;return s.default.createElement(d,null,(function(e){var r=e.db,o=e.name,a=e.version;return t(i({db:r},l.DBOperations(o,a,n)))}))}},function(e,t){e.exports=n(1)},function(e,t,n){\"use strict\";function i(e,t){return e.objectStoreNames.contains(t)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.optionsGenerator=t.createTransaction=t.validateBeforeTransaction=t.validateStoreName=void 0,t.validateStoreName=i,t.validateBeforeTransaction=function(e,t,n){e||n(\"You need to use the openDatabase function to create a database before you query it!\"),i(e,t)||n(\"objectStore does not exists: \"+t)},t.createTransaction=function(e,t){var n=e.transaction(t.storeName,t.dbMode);return n.onerror=t.error,n.oncomplete=t.complete,n.onabort=t.abort,n},t.optionsGenerator=function(e,t,n,i){return{storeName:t,dbMode:e,error:function(e){n(e)},complete:function(e){i()},abort:function(e){n(e)}}}},function(e,t,n){\"use strict\";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.defineProperty(t,\"__esModule\",{value:!0}),t.useIndexedDB=t.initDB=void 0;var r=n(0),o={version:null,name:null};t.initDB=function(e){var t=e.name,n=e.version,i=e.objectStoresMeta;o.name=t,o.version=n,Object.freeze(o),r.CreateObjectStore(t,n,i)},t.useIndexedDB=function(e){if(!o.name||!o.version)throw new Error(\"Please, initialize the DB before the use.\");return i({},r.DBOperations(o.name,o.version,e))}}])},,function(e,t){e.exports=function(e){return e}},function(e,t,n){var i=n(12),r=n(6);e.exports=function(e){if(!r(e))return!1;var t=i(e);return\"[object Function]\"==t||\"[object GeneratorFunction]\"==t||\"[object AsyncFunction]\"==t||\"[object Proxy]\"==t}},function(e,t){var n;n=function(){return this}();try{n=n||new Function(\"return this\")()}catch(e){\"object\"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var i=n(33),r=n(6);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=i(e.prototype),o=e.apply(n,t);return r(o)?o:n}}},function(e,t,n){var i=n(6),r=Object.create,o=function(){function e(){}return function(t){if(!i(t))return{};if(r)return r(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t){var n=/^(?:0|[1-9]\\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?9007199254740991:t)&&(\"number\"==i||\"symbol\"!=i&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var i=n(111),r=n(112),o=n(40);e.exports=function(e){return o(e)?i(e):r(e)}},function(e,t,n){var i=n(193),r=n(7),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(e){return r(e)&&a.call(e,\"callee\")&&!s.call(e,\"callee\")};e.exports=l},function(e,t,n){(function(e){var i=n(4),r=n(194),o=t&&!t.nodeType&&t,a=o&&\"object\"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o?i.Buffer:void 0,l=(s?s.isBuffer:void 0)||r;e.exports=l}).call(this,n(63)(e))},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){var i=n(30),r=n(65);e.exports=function(e){return null!=e&&r(e.length)&&!i(e)}},function(e,t,n){var i=n(42),r=n(203),o=n(204),a=n(205),s=n(206),l=n(207);function u(e){var t=this.__data__=new i(e);this.size=t.size}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,e.exports=u},function(e,t,n){var i=n(198),r=n(199),o=n(200),a=n(201),s=n(202);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var i=n(22);e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},function(e,t,n){var i=n(11)(Object,\"create\");e.exports=i},function(e,t,n){var i=n(216);e.exports=function(e,t){var n=e.__data__;return i(t)?n[\"string\"==typeof t?\"string\":\"hash\"]:n.map}},function(e,t){const n=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:\"2.0.0\",MAX_LENGTH:256,MAX_SAFE_INTEGER:n,MAX_SAFE_COMPONENT_LENGTH:16}},function(e,t,n){(function(t){const n=\"object\"==typeof t&&t.env&&t.env.NODE_DEBUG&&/\\bsemver\\b/i.test(t.env.NODE_DEBUG)?(...e)=>console.error(\"SEMVER\",...e):()=>{};e.exports=n}).call(this,n(290))},function(e,t,n){const i=n(8);e.exports=(e,t,n)=>i(e,t,n)>0},function(e,t,n){const i=Symbol(\"SemVer ANY\");class r{static get ANY(){return i}constructor(e,t){if(t&&\"object\"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof r){if(e.loose===!!t.loose)return e;e=e.value}l(\"comparator\",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===i?this.value=\"\":this.value=this.operator+this.semver.version,l(\"comp\",this)}parse(e){const t=this.options.loose?o[a.COMPARATORLOOSE]:o[a.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(\"Invalid comparator: \"+e);this.operator=void 0!==n[1]?n[1]:\"\",\"=\"===this.operator&&(this.operator=\"\"),n[2]?this.semver=new u(n[2],this.options.loose):this.semver=i}toString(){return this.value}test(e){if(l(\"Comparator.test\",e,this.options.loose),this.semver===i||e===i)return!0;if(\"string\"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return s(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof r))throw new TypeError(\"a Comparator is required\");if(t&&\"object\"==typeof t||(t={loose:!!t,includePrerelease:!1}),\"\"===this.operator)return\"\"===this.value||new c(e.value,t).test(this.value);if(\"\"===e.operator)return\"\"===e.value||new c(this.value,t).test(e.semver);const n=!(\">=\"!==this.operator&&\">\"!==this.operator||\">=\"!==e.operator&&\">\"!==e.operator),i=!(\"<=\"!==this.operator&&\"<\"!==this.operator||\"<=\"!==e.operator&&\"<\"!==e.operator),o=this.semver.version===e.semver.version,a=!(\">=\"!==this.operator&&\"<=\"!==this.operator||\">=\"!==e.operator&&\"<=\"!==e.operator),l=s(this.semver,\"<\",e.semver,t)&&(\">=\"===this.operator||\">\"===this.operator)&&(\"<=\"===e.operator||\"<\"===e.operator),u=s(this.semver,\">\",e.semver,t)&&(\"<=\"===this.operator||\"<\"===this.operator)&&(\">=\"===e.operator||\">\"===e.operator);return n||i||o&&a||l||u}}e.exports=r;const{re:o,t:a}=n(15),s=n(140),l=n(47),u=n(3),c=n(9)},function(e,t,n){const i=n(9);e.exports=(e,t,n)=>{try{t=new i(t,n)}catch(e){return!1}return t.test(e)}},function(e,t,n){\"use strict\";(function(e){n.d(t,\"a\",(function(){return r}));var i=n(0);function r(t,n){const r=n&&n.property?Object(i.u)(n.property):i.y;return!Object(i.G)(t)||(o=t,\"function\"==typeof e&&Object(i.E)(e.isBuffer)&&e.isBuffer(o))?r(JSON.parse(t)):function(e,t){return t&&t.copy?JSON.parse(JSON.stringify(e)):e}(r(t));var o}r.responseType=\"json\"}).call(this,n(141).Buffer)},function(e,t,n){\"use strict\";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&\"object\"==typeof t&&\"object\"==typeof n){if(t.constructor!==n.constructor)return!1;var i,r,o;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(r=i;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=i;0!=r--;)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=i;0!=r--;){var a=o[r];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n}},function(e,t,n){\"use strict\";var i=/(\"(?:[^\\\\\"]|\\\\.)*\")|[:,]/g;e.exports=function(e,t){var n,r,o;return t=t||{},n=JSON.stringify([1],void 0,void 0===t.indent?2:t.indent).slice(2,-3),r=\"\"===n?1/0:void 0===t.maxLength?80:t.maxLength,o=t.replacer,function e(t,a,s){var l,u,c,d,h,f,p,g,m,v,y,b;if(t&&\"function\"==typeof t.toJSON&&(t=t.toJSON()),void 0===(y=JSON.stringify(t,o)))return y;if(p=r-a.length-s,y.length<=p&&(m=y.replace(i,(function(e,t){return t||e+\" \"}))).length<=p)return m;if(null!=o&&(t=JSON.parse(y),o=void 0),\"object\"==typeof t&&null!==t){if(g=a+n,c=[],u=0,Array.isArray(t))for(v=\"[\",l=\"]\",p=t.length;u<p;u++)c.push(e(t[u],g,u===p-1?0:1)||\"null\");else for(v=\"{\",l=\"}\",p=(f=Object.keys(t)).length;u<p;u++)d=f[u],h=JSON.stringify(d)+\": \",void 0!==(b=e(t[d],g,h.length+(u===p-1?0:1)))&&c.push(h+b);if(c.length>0)return[v,n+c.join(\",\\n\"+g),l].join(\"\\n\"+a)}return y}(e,\"\",0)}},,,function(e,t,n){var i=n(91),r=n(169),o=n(170),a=n(96),s=n(188),l=n(100),u=n(189),c=n(102),d=n(104),h=n(108),f=Math.max;e.exports=function(e,t,n,p,g,m,v,y){var b=2&t;if(!b&&\"function\"!=typeof e)throw new TypeError(\"Expected a function\");var _=p?p.length:0;if(_||(t&=-97,p=g=void 0),v=void 0===v?v:f(h(v),0),y=void 0===y?y:h(y),_-=g?g.length:0,64&t){var w=p,x=g;p=g=void 0}var k=b?void 0:l(e),O=[e,t,n,p,g,w,x,m,v,y];if(k&&u(O,k),e=O[0],t=O[1],n=O[2],p=O[3],g=O[4],!(y=O[9]=void 0===O[9]?b?0:e.length:f(O[9]-_,0))&&24&t&&(t&=-25),t&&1!=t)E=8==t||16==t?o(e,t,y):32!=t&&33!=t||g.length?a.apply(void 0,O):s(e,t,n,p);else var E=r(e,t,n);return d((k?i:c)(E,O),e,t)}},function(e,t,n){var i=n(33),r=n(58);function o(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}o.prototype=i(r.prototype),o.prototype.constructor=o,e.exports=o},function(e,t){e.exports=function(){}},function(e,t,n){var i=n(180),r=n(103)(i);e.exports=r},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},function(e,t){e.exports=function(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n];a!==t&&\"__lodash_placeholder__\"!==a||(e[n]=\"__lodash_placeholder__\",o[r++]=n)}return o}},function(e,t,n){var i=n(105);e.exports=function(e,t,n){\"__proto__\"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,\"loaded\",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,\"id\",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var i=n(195),r=n(39),o=n(66),a=o&&o.isTypedArray,s=a?r(a):i;e.exports=s},function(e,t){e.exports=function(e){return\"number\"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){(function(e){var i=n(94),r=t&&!t.nodeType&&t,o=r&&\"object\"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===r&&i.process,s=function(){try{var e=o&&o.require&&o.require(\"util\").types;return e||a&&a.binding&&a.binding(\"util\")}catch(e){}}();e.exports=s}).call(this,n(63)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===(\"function\"==typeof t&&t.prototype||n)}},function(e,t,n){var i=n(11)(n(4),\"Map\");e.exports=i},function(e,t,n){var i=n(208),r=n(215),o=n(217),a=n(218),s=n(219);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var i=n(224),r=n(116),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),i(a(e),(function(t){return o.call(e,t)})))}:r;e.exports=s},function(e,t){e.exports=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}},function(e,t,n){var i=n(113)(Object.getPrototypeOf,Object);e.exports=i},function(e,t,n){var i=n(120);e.exports=function(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}},function(e,t,n){var i=n(246),r=n(7);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!r(t)&&!r(n)?t!=t&&n!=n:i(t,n,o,a,e,s))}},function(e,t,n){var i=n(5),r=n(20),o=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,a=/^\\w*$/;e.exports=function(e,t){if(i(e))return!1;var n=typeof e;return!(\"number\"!=n&&\"symbol\"!=n&&\"boolean\"!=n&&null!=e&&!r(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}},function(e,t,n){var i=n(29),r=n(134),o=n(59);e.exports=function(e,t){return o(r(e,t,i),e+\"\")}},function(e,t){const n=/^[0-9]+$/,i=(e,t)=>{const i=n.test(e),r=n.test(t);return i&&r&&(e=+e,t=+t),e===t?0:i&&!r?-1:r&&!i?1:e<t?-1:1};e.exports={compareIdentifiers:i,rcompareIdentifiers:(e,t)=>i(t,e)}},function(e,t,n){const i=n(8);e.exports=(e,t,n)=>0===i(e,t,n)},function(e,t,n){const i=n(3);e.exports=(e,t,n)=>{const r=new i(e,n),o=new i(t,n);return r.compare(o)||r.compareBuild(o)}},function(e,t,n){const i=n(8);e.exports=(e,t,n)=>i(e,t,n)<0},function(e,t,n){const i=n(8);e.exports=(e,t,n)=>i(e,t,n)>=0},function(e,t,n){const i=n(8);e.exports=(e,t,n)=>i(e,t,n)<=0},function(e,t,n){const i=n(3),r=n(49),{ANY:o}=r,a=n(9),s=n(50),l=n(48),u=n(81),c=n(83),d=n(82);e.exports=(e,t,n,h)=>{let f,p,g,m,v;switch(e=new i(e,h),t=new a(t,h),n){case\">\":f=l,p=c,g=u,m=\">\",v=\">=\";break;case\"<\":f=u,p=d,g=l,m=\"<\",v=\"<=\";break;default:throw new TypeError('Must provide a hilo val of \"<\" or \">\"')}if(s(e,t,h))return!1;for(let n=0;n<t.set.length;++n){const i=t.set[n];let a=null,s=null;if(i.forEach(e=>{e.semver===o&&(e=new r(\">=0.0.0\")),a=a||e,s=s||e,f(e.semver,a.semver,h)?a=e:g(e.semver,s.semver,h)&&(s=e)}),a.operator===m||a.operator===v)return!1;if((!s.operator||s.operator===m)&&p(e,s.semver))return!1;if(s.operator===v&&g(e,s.semver))return!1}return!0}},function(e,t,n){const i=n(15);e.exports={re:i.re,src:i.src,tokens:i.t,SEMVER_SPEC_VERSION:n(46).SEMVER_SPEC_VERSION,SemVer:n(3),compareIdentifiers:n(78).compareIdentifiers,rcompareIdentifiers:n(78).rcompareIdentifiers,parse:n(16),valid:n(291),clean:n(292),inc:n(293),diff:n(294),major:n(295),minor:n(296),patch:n(297),prerelease:n(298),compare:n(8),rcompare:n(299),compareLoose:n(300),compareBuild:n(80),sort:n(301),rsort:n(302),gt:n(48),lt:n(81),eq:n(79),neq:n(139),gte:n(82),lte:n(83),cmp:n(140),coerce:n(303),Comparator:n(49),Range:n(9),satisfies:n(50),toComparators:n(304),maxSatisfying:n(305),minSatisfying:n(306),minVersion:n(307),validRange:n(308),outside:n(84),gtr:n(309),ltr:n(310),intersects:n(311),simplifyRange:n(312),subset:n(313)}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){var t=/\\/schema\\/([\\w-]+)\\/([\\w\\.\\-]+)\\.json$/g.exec(e).slice(1,3);return{library:t[0],version:t[1]}}},,,function(e,t,n){\"use strict\";\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError(\"Object.assign cannot be called with null or undefined\");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String(\"abc\");if(e[5]=\"de\",\"5\"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t[\"_\"+String.fromCharCode(n)]=n;if(\"0123456789\"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(\"\"))return!1;var i={};return\"abcdefghijklmnopqrst\".split(\"\").forEach((function(e){i[e]=e})),\"abcdefghijklmnopqrst\"===Object.keys(Object.assign({},i)).join(\"\")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,l=a(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))r.call(n,c)&&(l[c]=n[c]);if(i){s=i(n);for(var d=0;d<s.length;d++)o.call(n,s[d])&&(l[s[d]]=n[s[d]])}}return l}},function(e,t){e.exports={}},function(e,t,n){var i=n(29),r=n(92),o=r?function(e,t){return r.set(e,t),e}:i;e.exports=o},function(e,t,n){var i=n(93),r=i&&new i;e.exports=r},function(e,t,n){var i=n(11)(n(4),\"WeakMap\");e.exports=i},function(e,t,n){(function(t){var n=\"object\"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(31))},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+\"\"}catch(e){}}return\"\"}},function(e,t,n){var i=n(97),r=n(98),o=n(171),a=n(32),s=n(99),l=n(107),u=n(187),c=n(61),d=n(4);e.exports=function e(t,n,h,f,p,g,m,v,y,b){var _=128&n,w=1&n,x=2&n,k=24&n,O=512&n,E=x?void 0:a(t);return function S(){for(var D=arguments.length,j=Array(D),C=D;C--;)j[C]=arguments[C];if(k)var M=l(S),T=o(j,M);if(f&&(j=i(j,f,p,k)),g&&(j=r(j,g,m,k)),D-=T,k&&D<b){var A=c(j,M);return s(t,n,e,S.placeholder,h,j,A,v,y,b-D)}var F=w?h:this,P=x?F[t]:t;return D=j.length,v?j=u(j,v):O&&D>1&&j.reverse(),_&&y<D&&(j.length=y),this&&this!==d&&this instanceof S&&(P=E||a(P)),P.apply(F,j)}}},function(e,t){var n=Math.max;e.exports=function(e,t,i,r){for(var o=-1,a=e.length,s=i.length,l=-1,u=t.length,c=n(a-s,0),d=Array(u+c),h=!r;++l<u;)d[l]=t[l];for(;++o<s;)(h||o<a)&&(d[i[o]]=e[o]);for(;c--;)d[l++]=e[o++];return d}},function(e,t){var n=Math.max;e.exports=function(e,t,i,r){for(var o=-1,a=e.length,s=-1,l=i.length,u=-1,c=t.length,d=n(a-l,0),h=Array(d+c),f=!r;++o<d;)h[o]=e[o];for(var p=o;++u<c;)h[p+u]=t[u];for(;++s<l;)(f||o<a)&&(h[p+i[s]]=e[o++]);return h}},function(e,t,n){var i=n(172),r=n(102),o=n(104);e.exports=function(e,t,n,a,s,l,u,c,d,h){var f=8&t;t|=f?32:64,4&(t&=~(f?64:32))||(t&=-4);var p=[e,t,s,f?l:void 0,f?u:void 0,f?void 0:l,f?void 0:u,c,d,h],g=n.apply(void 0,p);return i(e)&&r(g,p),g.placeholder=a,o(g,e,t)}},function(e,t,n){var i=n(92),r=n(173),o=i?function(e){return i.get(e)}:r;e.exports=o},function(e,t,n){var i=n(33),r=n(58);function o(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}o.prototype=i(r.prototype),o.prototype.constructor=o,e.exports=o},function(e,t,n){var i=n(91),r=n(103)(i);e.exports=r},function(e,t){var n=Date.now;e.exports=function(e){var t=0,i=0;return function(){var r=n(),o=16-(r-i);if(i=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var i=n(178),r=n(179),o=n(59),a=n(182);e.exports=function(e,t,n){var s=t+\"\";return o(e,r(s,a(i(s),n)))}},function(e,t,n){var i=n(11),r=function(){try{var e=i(Object,\"defineProperty\");return e({},\"\",{}),e}catch(e){}}();e.exports=r},function(e,t,n){var i=n(183);e.exports=function(e,t){return!!(null==e?0:e.length)&&i(e,t,0)>-1}},function(e,t){e.exports=function(e){return e.placeholder}},function(e,t,n){var i=n(190);e.exports=function(e){var t=i(e),n=t%1;return t==t?n?t-n:t:0}},function(e,t,n){var i=n(21),r=n(36);e.exports=function(e,t){return e&&i(t,r(t),e)}},function(e,t,n){var i=n(62),r=n(22),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&r(a,n)&&(void 0!==n||t in e)||i(e,t,n)}},function(e,t,n){var i=n(192),r=n(37),o=n(5),a=n(38),s=n(35),l=n(64),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&r(e),d=!n&&!c&&a(e),h=!n&&!c&&!d&&l(e),f=n||c||d||h,p=f?i(e.length,String):[],g=p.length;for(var m in e)!t&&!u.call(e,m)||f&&(\"length\"==m||d&&(\"offset\"==m||\"parent\"==m)||h&&(\"buffer\"==m||\"byteLength\"==m||\"byteOffset\"==m)||s(m,g))||p.push(m);return p}},function(e,t,n){var i=n(67),r=n(196),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return r(e);var t=[];for(var n in Object(e))o.call(e,n)&&\"constructor\"!=n&&t.push(n);return t}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var i=n(41),r=n(60),o=n(110),a=n(109),s=n(220),l=n(115),u=n(19),c=n(223),d=n(225),h=n(118),f=n(226),p=n(24),g=n(230),m=n(231),v=n(122),y=n(5),b=n(38),_=n(235),w=n(6),x=n(237),k=n(36),O=n(23),E={};E[\"[object Arguments]\"]=E[\"[object Array]\"]=E[\"[object ArrayBuffer]\"]=E[\"[object DataView]\"]=E[\"[object Boolean]\"]=E[\"[object Date]\"]=E[\"[object Float32Array]\"]=E[\"[object Float64Array]\"]=E[\"[object Int8Array]\"]=E[\"[object Int16Array]\"]=E[\"[object Int32Array]\"]=E[\"[object Map]\"]=E[\"[object Number]\"]=E[\"[object Object]\"]=E[\"[object RegExp]\"]=E[\"[object Set]\"]=E[\"[object String]\"]=E[\"[object Symbol]\"]=E[\"[object Uint8Array]\"]=E[\"[object Uint8ClampedArray]\"]=E[\"[object Uint16Array]\"]=E[\"[object Uint32Array]\"]=!0,E[\"[object Error]\"]=E[\"[object Function]\"]=E[\"[object WeakMap]\"]=!1,e.exports=function e(t,n,S,D,j,C){var M,T=1&n,A=2&n,F=4&n;if(S&&(M=j?S(t,D,j,C):S(t)),void 0!==M)return M;if(!w(t))return t;var P=y(t);if(P){if(M=g(t),!T)return u(t,M)}else{var N=p(t),z=\"[object Function]\"==N||\"[object GeneratorFunction]\"==N;if(b(t))return l(t,T);if(\"[object Object]\"==N||\"[object Arguments]\"==N||z&&!j){if(M=A||z?{}:v(t),!T)return A?d(t,s(M,t)):c(t,a(M,t))}else{if(!E[N])return j?t:{};M=m(t,N,T)}}C||(C=new i);var R=C.get(t);if(R)return R;C.set(t,M),x(t)?t.forEach((function(i){M.add(e(i,n,S,i,t,C))})):_(t)&&t.forEach((function(i,r){M.set(r,e(i,n,S,r,t,C))}));var I=P?void 0:(F?A?f:h:A?O:k)(t);return r(I||t,(function(i,r){I&&(i=t[r=i]),o(M,r,e(i,n,S,r,t,C))})),M}},function(e,t,n){(function(e){var i=n(4),r=t&&!t.nodeType&&t,o=r&&\"object\"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===r?i.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,i=s?s(n):new e.constructor(n);return e.copy(i),i}}).call(this,n(63)(e))},function(e,t){e.exports=function(){return[]}},function(e,t,n){var i=n(71),r=n(72),o=n(70),a=n(116),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)i(t,o(e)),e=r(e);return t}:a;e.exports=s},function(e,t,n){var i=n(119),r=n(70),o=n(36);e.exports=function(e){return i(e,o,r)}},function(e,t,n){var i=n(71),r=n(5);e.exports=function(e,t,n){var o=t(e);return r(e)?o:i(o,n(e))}},function(e,t,n){var i=n(4).Uint8Array;e.exports=i},function(e,t,n){var i=n(73);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var i=n(33),r=n(72),o=n(67);e.exports=function(e){return\"function\"!=typeof e.constructor||o(e)?{}:i(r(e))}},function(e,t,n){var i=n(12),r=n(72),o=n(7),a=Function.prototype,s=Object.prototype,l=a.toString,u=s.hasOwnProperty,c=l.call(Object);e.exports=function(e){if(!o(e)||\"[object Object]\"!=i(e))return!1;var t=r(e);if(null===t)return!0;var n=u.call(t,\"constructor\")&&t.constructor;return\"function\"==typeof n&&n instanceof n&&l.call(n)==c}},function(e,t,n){var i=n(125),r=n(249),o=n(126);e.exports=function(e,t,n,a,s,l){var u=1&n,c=e.length,d=t.length;if(c!=d&&!(u&&d>c))return!1;var h=l.get(e),f=l.get(t);if(h&&f)return h==t&&f==e;var p=-1,g=!0,m=2&n?new i:void 0;for(l.set(e,t),l.set(t,e);++p<c;){var v=e[p],y=t[p];if(a)var b=u?a(y,v,p,t,e,l):a(v,y,p,e,t,l);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!r(t,(function(e,t){if(!o(m,t)&&(v===e||s(v,e,n,a,l)))return m.push(t)}))){g=!1;break}}else if(v!==y&&!s(v,y,n,a,l)){g=!1;break}}return l.delete(e),l.delete(t),g}},function(e,t,n){var i=n(69),r=n(247),o=n(248);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=r,a.prototype.has=o,e.exports=a},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var i=n(6);e.exports=function(e){return e==e&&!i(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},function(e,t,n){var i=n(130),r=n(25);e.exports=function(e,t){for(var n=0,o=(t=i(t,e)).length;null!=e&&n<o;)e=e[r(t[n++])];return n&&n==o?e:void 0}},function(e,t,n){var i=n(5),r=n(75),o=n(131),a=n(132);e.exports=function(e,t){return i(e)?e:r(e,t)?[e]:o(a(e))}},function(e,t,n){var i=n(257),r=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,o=/\\\\(\\\\)?/g,a=i((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(\"\"),e.replace(r,(function(e,n,i,r){t.push(i?r.replace(o,\"$1\"):n||e)})),t}));e.exports=a},function(e,t,n){var i=n(259);e.exports=function(e){return null==e?\"\":i(e)}},function(e,t,n){var i=n(71),r=n(269);e.exports=function e(t,n,o,a,s){var l=-1,u=t.length;for(o||(o=r),s||(s=[]);++l<u;){var c=t[l];n>0&&o(c)?n>1?e(c,n-1,o,a,s):i(s,c):a||(s[s.length]=c)}return s}},function(e,t,n){var i=n(34),r=Math.max;e.exports=function(e,t,n){return t=r(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=r(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=o[a];return u[t]=n(l),i(e,this,u)}}},function(e,t,n){var i=n(41),r=n(136),o=n(273),a=n(275),s=n(6),l=n(23),u=n(138);e.exports=function e(t,n,c,d,h){t!==n&&o(n,(function(o,l){if(h||(h=new i),s(o))a(t,n,l,c,e,d,h);else{var f=d?d(u(t,l),o,l+\"\",t,n,h):void 0;void 0===f&&(f=o),r(t,l,f)}}),l)}},function(e,t,n){var i=n(62),r=n(22);e.exports=function(e,t,n){(void 0!==n&&!r(e[t],n)||void 0===n&&!(t in e))&&i(e,t,n)}},function(e,t,n){var i=n(40),r=n(7);e.exports=function(e){return r(e)&&i(e)}},function(e,t){e.exports=function(e,t){if((\"constructor\"!==t||\"function\"!=typeof e[t])&&\"__proto__\"!=t)return e[t]}},function(e,t,n){const i=n(8);e.exports=(e,t,n)=>0!==i(e,t,n)},function(e,t,n){const i=n(79),r=n(139),o=n(48),a=n(82),s=n(81),l=n(83);e.exports=(e,t,n,u)=>{switch(t){case\"===\":return\"object\"==typeof e&&(e=e.version),\"object\"==typeof n&&(n=n.version),e===n;case\"!==\":return\"object\"==typeof e&&(e=e.version),\"object\"==typeof n&&(n=n.version),e!==n;case\"\":case\"=\":case\"==\":return i(e,n,u);case\"!=\":return r(e,n,u);case\">\":return o(e,n,u);case\">=\":return a(e,n,u);case\"<\":return s(e,n,u);case\"<=\":return l(e,n,u);default:throw new TypeError(\"Invalid operator: \"+t)}}},function(e,t,n){\"use strict\";(function(e){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\nvar i=n(314),r=n(315),o=n(316);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError(\"Invalid typed array length\");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if(\"number\"==typeof e){if(\"string\"==typeof t)throw new Error(\"If encoding is specified then the first argument must be a string\");return d(this,e)}return u(this,e,t,n)}function u(e,t,n,i){if(\"number\"==typeof t)throw new TypeError('\"value\" argument must not be a number');return\"undefined\"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError(\"'offset' is out of bounds\");if(t.byteLength<n+(i||0))throw new RangeError(\"'length' is out of bounds\");t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=h(e,t);return e}(e,t,n,i):\"string\"==typeof t?function(e,t,n){\"string\"==typeof n&&\"\"!==n||(n=\"utf8\");if(!l.isEncoding(n))throw new TypeError('\"encoding\" must be a valid string encoding');var i=0|p(t,n),r=(e=s(e,i)).write(t,n);r!==i&&(e=e.slice(0,r));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|f(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if(\"undefined\"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||\"length\"in t)return\"number\"!=typeof t.length||(i=t.length)!=i?s(e,0):h(e,t);if(\"Buffer\"===t.type&&o(t.data))return h(e,t.data)}var i;throw new TypeError(\"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\")}(e,t)}function c(e){if(\"number\"!=typeof e)throw new TypeError('\"size\" argument must be a number');if(e<0)throw new RangeError('\"size\" argument must not be negative')}function d(e,t){if(c(t),e=s(e,t<0?0:0|f(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function f(e){if(e>=a())throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+a().toString(16)+\" bytes\");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if(\"undefined\"!=typeof ArrayBuffer&&\"function\"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;\"string\"!=typeof e&&(e=\"\"+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case\"ascii\":case\"latin1\":case\"binary\":return n;case\"utf8\":case\"utf-8\":case void 0:return L(e).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*n;case\"hex\":return n>>>1;case\"base64\":return $(e).length;default:if(i)return L(e).length;t=(\"\"+t).toLowerCase(),i=!0}}function g(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return\"\";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return\"\";if((n>>>=0)<=(t>>>=0))return\"\";for(e||(e=\"utf8\");;)switch(e){case\"hex\":return C(this,t,n);case\"utf8\":case\"utf-8\":return S(this,t,n);case\"ascii\":return D(this,t,n);case\"latin1\":case\"binary\":return j(this,t,n);case\"base64\":return E(this,t,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return M(this,t,n);default:if(i)throw new TypeError(\"Unknown encoding: \"+e);e=(e+\"\").toLowerCase(),i=!0}}function m(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function v(e,t,n,i,r){if(0===e.length)return-1;if(\"string\"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if(\"string\"==typeof t&&(t=l.from(t,i)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,i,r);if(\"number\"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&\"function\"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,i,r);throw new TypeError(\"val must be string, number or Buffer\")}function y(e,t,n,i,r){var o,a=1,s=e.length,l=t.length;if(void 0!==i&&(\"ucs2\"===(i=String(i).toLowerCase())||\"ucs-2\"===i||\"utf16le\"===i||\"utf-16le\"===i)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(r){var c=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var d=!0,h=0;h<l;h++)if(u(e,o+h)!==u(t,h)){d=!1;break}if(d)return o}return-1}function b(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=t.length;if(o%2!=0)throw new TypeError(\"Invalid hex string\");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function _(e,t,n,i){return W(L(t,e.length-n),e,n,i)}function w(e,t,n,i){return W(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function x(e,t,n,i){return w(e,t,n,i)}function k(e,t,n,i){return W($(t),e,n,i)}function O(e,t,n,i){return W(function(e,t){for(var n,i,r,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(t,e.length-n),e,n,i)}function E(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o,a,s,l,u=e[r],c=null,d=u>239?4:u>223?3:u>191?2:1;if(r+d<=n)switch(d){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[r+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=e[r+1],a=e[r+2],128==(192&o)&&128==(192&a)&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=e[r+1],a=e[r+2],s=e[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,d=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),r+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n=\"\",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=4096));return n}(i)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&\"function\"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return u(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,\"undefined\"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,i){return c(t),t<=0?s(e,t):void 0!==n?\"string\"==typeof i?s(e,t).fill(n,i):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError(\"Arguments must be Buffers\");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=l.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('\"list\" argument must be an Array of Buffers');a.copy(i,r),r+=a.length}return i},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?\"\":0===arguments.length?S(this,0,e):g.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e=\"\",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString(\"hex\",0,n).match(/.{2}/g).join(\" \"),this.length>n&&(e+=\" ... \")),\"<Buffer \"+e+\">\"},l.prototype.compare=function(e,t,n,i,r){if(!l.isBuffer(e))throw new TypeError(\"Argument must be a Buffer\");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError(\"out of range index\");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(r>>>=0)-(i>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(i,r),c=e.slice(t,n),d=0;d<s;++d)if(u[d]!==c[d]){o=u[d],a=c[d];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,i){if(void 0===t)i=\"utf8\",n=this.length,t=0;else if(void 0===n&&\"string\"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");t|=0,isFinite(n)?(n|=0,void 0===i&&(i=\"utf8\")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");i||(i=\"utf8\");for(var o=!1;;)switch(i){case\"hex\":return b(this,e,t,n);case\"utf8\":case\"utf-8\":return _(this,e,t,n);case\"ascii\":return w(this,e,t,n);case\"latin1\":case\"binary\":return x(this,e,t,n);case\"base64\":return k(this,e,t,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return O(this,e,t,n);default:if(o)throw new TypeError(\"Unknown encoding: \"+i);i=(\"\"+i).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};function D(e,t,n){var i=\"\";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function j(e,t,n){var i=\"\";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function C(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r=\"\",o=t;o<n;++o)r+=B(e[o]);return r}function M(e,t,n){for(var i=e.slice(t,n),r=\"\",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function T(e,t,n){if(e%1!=0||e<0)throw new RangeError(\"offset is not uint\");if(e+t>n)throw new RangeError(\"Trying to access beyond buffer length\")}function A(e,t,n,i,r,o){if(!l.isBuffer(e))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('\"value\" argument is out of bounds');if(n+i>e.length)throw new RangeError(\"Index out of range\")}function F(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function P(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function N(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError(\"Index out of range\");if(n<0)throw new RangeError(\"Index out of range\")}function z(e,t,n,i,o){return o||N(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function R(e,t,n,i,o){return o||N(e,0,n,8),r.write(e,t,n,i,52,8),n+8}l.prototype.slice=function(e,t){var n,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var r=t-e;n=new l(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},l.prototype.readUInt8=function(e,t){return t||T(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||T(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||T(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||T(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||T(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||T(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||T(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||T(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||T(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||A(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||A(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):P(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);A(this,e,t,n,r-1,-r)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);A(this,e,t,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):P(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return z(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return z(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return R(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return R(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError(\"targetStart out of bounds\");if(n<0||n>=this.length)throw new RangeError(\"sourceStart out of bounds\");if(i<0)throw new RangeError(\"sourceEnd out of bounds\");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,o=i-n;if(this===e&&n<t&&t<i)for(r=o-1;r>=0;--r)e[r+t]=this[r+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,i){if(\"string\"==typeof e){if(\"string\"==typeof t?(i=t,t=0,n=this.length):\"string\"==typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&\"string\"!=typeof i)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof i&&!l.isEncoding(i))throw new TypeError(\"Unknown encoding: \"+i)}else\"number\"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError(\"Out of range index\");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),\"number\"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=l.isBuffer(e)?e:L(new l(e,i).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var I=/[^+\\/0-9A-Za-z-_]/g;function B(e){return e<16?\"0\"+e.toString(16):e.toString(16)}function L(e,t){var n;t=t||1/0;for(var i=e.length,r=null,o=[],a=0;a<i;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error(\"Invalid code point\");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function $(e){return i.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\\s+|\\s+$/g,\"\")}(e).replace(I,\"\")).length<2)return\"\";for(;e.length%4!=0;)e+=\"=\";return e}(e))}function W(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(this,n(31))},function(e){e.exports=JSON.parse('{\"a\":\"5.15.0\"}')},function(e){e.exports=JSON.parse('{\"a\":\"4.15.0\"}')},function(e,t,n){\"use strict\";!function e(){if(\"undefined\"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&\"function\"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(154)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(1),o=h(r),a=h(n(157)),s=h(n(280)),l=h(n(281)),u=h(n(285)),c=h(n(286)),d=h(n(26));function h(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),i=e.identifier;return n.updateGraph=n.updateGraph.bind(n),n.state={identifier:void 0!==i?i:c.default.v4()},n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:\"componentDidMount\",value:function(){this.edges=new u.default.DataSet,this.edges.add(this.props.graph.edges),this.nodes=new u.default.DataSet,this.nodes.add(this.props.graph.nodes),this.updateGraph()}},{key:\"shouldComponentUpdate\",value:function(e,t){var n=!(0,s.default)(this.props.graph.nodes,e.graph.nodes),i=!(0,s.default)(this.props.graph.edges,e.graph.edges),r=!(0,s.default)(this.props.options,e.options),o=!(0,s.default)(this.props.events,e.events);if(n){var a=function(e,t){return e.id===t.id},u=(0,l.default)(this.props.graph.nodes,e.graph.nodes,a),c=(0,l.default)(e.graph.nodes,this.props.graph.nodes,a),d=(0,l.default)((0,l.default)(e.graph.nodes,this.props.graph.nodes,s.default),c);this.patchNodes({nodesRemoved:u,nodesAdded:c,nodesChanged:d})}if(i){var h=(0,l.default)(this.props.graph.edges,e.graph.edges,s.default),f=(0,l.default)(e.graph.edges,this.props.graph.edges,s.default),p=(0,l.default)((0,l.default)(e.graph.edges,this.props.graph.edges,s.default),f);this.patchEdges({edgesRemoved:h,edgesAdded:f,edgesChanged:p})}if(r&&this.Network.setOptions(e.options),o){var g=this.props.events||{},m=!0,v=!1,y=void 0;try{for(var b,_=Object.keys(g)[Symbol.iterator]();!(m=(b=_.next()).done);m=!0){var w=b.value;this.Network.off(w,g[w])}}catch(e){v=!0,y=e}finally{try{!m&&_.return&&_.return()}finally{if(v)throw y}}g=e.events||{};var x=!0,k=!1,O=void 0;try{for(var E,S=Object.keys(g)[Symbol.iterator]();!(x=(E=S.next()).done);x=!0){var D=E.value;this.Network.on(D,g[D])}}catch(e){k=!0,O=e}finally{try{!x&&S.return&&S.return()}finally{if(k)throw O}}}return!1}},{key:\"componentDidUpdate\",value:function(){this.updateGraph()}},{key:\"patchEdges\",value:function(e){var t=e.edgesRemoved,n=e.edgesAdded,i=e.edgesChanged;this.edges.remove(t),this.edges.add(n),this.edges.update(i)}},{key:\"patchNodes\",value:function(e){var t=e.nodesRemoved,n=e.nodesAdded,i=e.nodesChanged;this.nodes.remove(t),this.nodes.add(n),this.nodes.update(i)}},{key:\"updateGraph\",value:function(){var e=document.getElementById(this.state.identifier),t=(0,a.default)({physics:{stabilization:!1},autoResize:!1,edges:{smooth:!1,color:\"#000000\",width:.5,arrows:{to:{enabled:!0,scaleFactor:.5}}}},this.props.options);this.Network=new u.default.Network(e,Object.assign({},this.props.graph,{edges:this.edges,nodes:this.nodes}),t),this.props.getNetwork&&this.props.getNetwork(this.Network),this.props.getNodes&&this.props.getNodes(this.nodes),this.props.getEdges&&this.props.getEdges(this.edges);var n=this.props.events||{},i=!0,r=!1,o=void 0;try{for(var s,l=Object.keys(n)[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value;this.Network.on(c,n[c])}}catch(e){r=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw o}}}},{key:\"render\",value:function(){var e=this.state.identifier,t=this.props.style;return o.default.createElement(\"div\",{id:e,style:t},e)}}]),t}(r.Component);f.defaultProps={graph:{},style:{width:\"100%\",height:\"100%\"}},f.propTypes={graph:d.default.object,style:d.default.object,getNetwork:d.default.func,getNodes:d.default.func,getEdges:d.default.func},t.default=f},function(e,t,n){(function(t){var n=function(){\"use strict\";function e(e,t){return null!=t&&e instanceof t}var n,i,r;try{n=Map}catch(e){n=function(){}}try{i=Set}catch(e){i=function(){}}try{r=Promise}catch(e){r=function(){}}function o(a,l,u,c,d){\"object\"==typeof l&&(u=l.depth,c=l.prototype,d=l.includeNonEnumerable,l=l.circular);var h=[],f=[],p=void 0!==t;return void 0===l&&(l=!0),void 0===u&&(u=1/0),function a(u,g){if(null===u)return null;if(0===g)return u;var m,v;if(\"object\"!=typeof u)return u;if(e(u,n))m=new n;else if(e(u,i))m=new i;else if(e(u,r))m=new r((function(e,t){u.then((function(t){e(a(t,g-1))}),(function(e){t(a(e,g-1))}))}));else if(o.__isArray(u))m=[];else if(o.__isRegExp(u))m=new RegExp(u.source,s(u)),u.lastIndex&&(m.lastIndex=u.lastIndex);else if(o.__isDate(u))m=new Date(u.getTime());else{if(p&&t.isBuffer(u))return m=t.allocUnsafe?t.allocUnsafe(u.length):new t(u.length),u.copy(m),m;e(u,Error)?m=Object.create(u):void 0===c?(v=Object.getPrototypeOf(u),m=Object.create(v)):(m=Object.create(c),v=c)}if(l){var y=h.indexOf(u);if(-1!=y)return f[y];h.push(u),f.push(m)}for(var b in e(u,n)&&u.forEach((function(e,t){var n=a(t,g-1),i=a(e,g-1);m.set(n,i)})),e(u,i)&&u.forEach((function(e){var t=a(e,g-1);m.add(t)})),u){var _;v&&(_=Object.getOwnPropertyDescriptor(v,b)),_&&null==_.set||(m[b]=a(u[b],g-1))}if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(u);for(b=0;b<w.length;b++){var x=w[b];(!(O=Object.getOwnPropertyDescriptor(u,x))||O.enumerable||d)&&(m[x]=a(u[x],g-1),O.enumerable||Object.defineProperty(m,x,{enumerable:!1}))}}if(d){var k=Object.getOwnPropertyNames(u);for(b=0;b<k.length;b++){var O,E=k[b];(O=Object.getOwnPropertyDescriptor(u,E))&&O.enumerable||(m[E]=a(u[E],g-1),Object.defineProperty(m,E,{enumerable:!1}))}}return m}(a,u)}function a(e){return Object.prototype.toString.call(e)}function s(e){var t=\"\";return e.global&&(t+=\"g\"),e.ignoreCase&&(t+=\"i\"),e.multiline&&(t+=\"m\"),t}return o.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},o.__objToStr=a,o.__isDate=function(e){return\"object\"==typeof e&&\"[object Date]\"===a(e)},o.__isArray=function(e){return\"object\"==typeof e&&\"[object Array]\"===a(e)},o.__isRegExp=function(e){return\"object\"==typeof e&&\"[object RegExp]\"===a(e)},o.__getRegExpFlags=s,o}();e.exports&&(e.exports=n)}).call(this,n(141).Buffer)},function(e){e.exports=JSON.parse('{\"name\":\"vega-themes\",\"version\":\"2.8.5\",\"description\":\"Themes for stylized Vega and Vega-Lite visualizations.\",\"keywords\":[\"vega\",\"vega-lite\",\"themes\",\"style\"],\"license\":\"BSD-3-Clause\",\"author\":{\"name\":\"UW Interactive Data Lab\",\"url\":\"https://idl.cs.washington.edu\"},\"contributors\":[{\"name\":\"Emily Gu\",\"url\":\"https://github.com/emilygu\"},{\"name\":\"Arvind Satyanarayan\",\"url\":\"http://arvindsatya.com\"},{\"name\":\"Jeffrey Heer\",\"url\":\"https://idl.cs.washington.edu\"},{\"name\":\"Dominik Moritz\",\"url\":\"https://www.domoritz.de\"}],\"main\":\"build/vega-themes.js\",\"module\":\"build/src/index.js\",\"unpkg\":\"build/vega-themes.min.js\",\"jsdelivr\":\"build/vega-themes.min.js\",\"typings\":\"build/src/index.d.ts\",\"repository\":{\"type\":\"git\",\"url\":\"https://github.com/vega/vega-themes.git\"},\"scripts\":{\"prepare\":\"beemo create-config --silent\",\"clean\":\"rm -rf build examples/build\",\"prettierbase\":\"beemo prettier \\'examples/*.{html,scss,css}\\'\",\"eslintbase\":\"beemo eslint .\",\"format\":\"yarn eslintbase --fix && yarn prettierbase --write\",\"lint\":\"yarn eslintbase && yarn prettierbase --check\",\"prebuild\":\"mkdir -p build\",\"build\":\"tsc && rollup -c\",\"postbuild\":\"terser build/vega-themes.js -cm > build/vega-themes.min.js\",\"deploy:gh\":\"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples\",\"prepublishOnly\":\"yarn clean && yarn build\",\"preversion\":\"yarn lint\",\"serve\":\"browser-sync start -s -f build examples --serveStatic examples\",\"start\":\"yarn build && concurrently --kill-others -n Server,Typescript,Rollup \\'yarn serve\\' \\'tsc -w\\' \\'rollup -c -w\\'\"},\"devDependencies\":{\"@rollup/plugin-json\":\"^4.1.0\",\"browser-sync\":\"^2.26.7\",\"concurrently\":\"^5.2.0\",\"gh-pages\":\"^3.1.0\",\"rollup\":\"^2.21.0\",\"terser\":\"^4.8.0\",\"typescript\":\"^3.9.6\",\"vega\":\"^5.10.0\",\"vega-lite\":\"^4.8.1\",\"vega-lite-dev-config\":\"^0.11.8\"},\"peerDependencies\":{\"vega\":\"*\",\"vega-lite\":\"*\"},\"beemo\":{\"module\":\"vega-lite-dev-config\",\"drivers\":[\"prettier\",\"eslint\"]}}')},function(e){e.exports=JSON.parse('{\"name\":\"vega-tooltip\",\"version\":\"0.23.2\",\"description\":\"A tooltip plugin for Vega-Lite and Vega visualizations.\",\"main\":\"build/vega-tooltip.js\",\"module\":\"build/src/index.js\",\"unpkg\":\"build/vega-tooltip.min.js\",\"jsdelivr\":\"build/vega-tooltip.min.js\",\"typings\":\"build/src/index.d.ts\",\"repository\":{\"type\":\"git\",\"url\":\"https://github.com/vega/vega-tooltip.git\"},\"keywords\":[\"vega-lite\",\"vega\",\"tooltip\"],\"author\":{\"name\":\"UW Interactive Data Lab\",\"url\":\"https://idl.cs.washington.edu\"},\"collaborators\":[\"Dominik Moritz\",\"Sira Horradarn\",\"Zening Qu\",\"Kanit Wongsuphasawat\",\"Yuri Astrakhan\",\"Jeffrey Heer\"],\"license\":\"BSD-3-Clause\",\"bugs\":{\"url\":\"https://github.com/vega/vega-tooltip/issues\"},\"homepage\":\"https://github.com/vega/vega-tooltip#readme\",\"scripts\":{\"prepare\":\"beemo create-config --silent\",\"tsc:src\":\"tsc -b tsconfig.src.json\",\"build\":\"yarn tsc:src && rollup -c\",\"clean\":\"rm -rf build examples/data && rm -f src/style.ts\",\"copy:data\":\"rsync -r node_modules/vega-datasets/data/* examples/data\",\"copy:build\":\"rsync -r build/* examples/build\",\"deploy:gh\":\"yarn build && yarn copy:build && gh-pages -d examples && yarn clean\",\"prettierbase\":\"beemo prettier \\'examples/*.{html,scss,css}\\'\",\"eslintbase\":\"beemo eslint .\",\"format\":\"yarn eslintbase --fix && yarn prettierbase --write\",\"lint\":\"yarn eslintbase && yarn prettierbase --check\",\"postbuild\":\"terser build/vega-tooltip.js -c -m -o build/vega-tooltip.min.js\",\"prebuild\":\"mkdir -p build && yarn copy:data && ./build-style.sh\",\"prepublishOnly\":\"yarn clean && yarn build\",\"preversion\":\"yarn lint\",\"start\":\"yarn build && concurrently --kill-others -n Server,Typescript,Rollup \\'browser-sync start -s -f build examples --serveStatic examples\\' \\'yarn tsc:src -w\\' \\'rollup -c -w\\'\",\"pretest\":\"./build-style.sh\",\"test\":\"jest\"},\"devDependencies\":{\"@rollup/plugin-commonjs\":\"13.0.0\",\"@rollup/plugin-json\":\"^4.1.0\",\"@rollup/plugin-node-resolve\":\"^8.1.0\",\"@types/jest\":\"^26.0.4\",\"browser-sync\":\"^2.26.7\",\"codecov\":\"^3.7.0\",\"concurrently\":\"^5.2.0\",\"gh-pages\":\"^3.1.0\",\"jest\":\"^26.1.0\",\"node-sass\":\"^4.14.1\",\"path\":\"^0.12.7\",\"rollup\":\"^2.21.0\",\"terser\":\"^4.8.0\",\"ts-jest\":\"^26.1.1\",\"typescript\":\"^3.9.6\",\"vega-datasets\":\"^2.1.0\",\"vega-lite-dev-config\":\"^0.11.8\",\"vega-typings\":\"^0.18.0\"},\"dependencies\":{\"vega-util\":\"^1.14.1\"},\"beemo\":{\"module\":\"vega-lite-dev-config\",\"drivers\":[\"prettier\",\"eslint\"]},\"jest\":{\"testURL\":\"http://localhost/\",\"transform\":{\"^.+\\\\\\\\.tsx?$\":\"ts-jest\"},\"testRegex\":\"(/__tests__/.*|(\\\\\\\\.|/)(test|spec))\\\\\\\\.(jsx?|tsx?)$\",\"moduleFileExtensions\":[\"ts\",\"tsx\",\"js\",\"jsx\",\"json\",\"node\"],\"testPathIgnorePatterns\":[\"node_modules\",\"<rootDir>/build\",\"src\"]}}')},,,,,function(e,t,n){\"use strict\";\n/** @license React v16.13.1\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var i=n(89),r=\"function\"==typeof Symbol&&Symbol.for,o=r?Symbol.for(\"react.element\"):60103,a=r?Symbol.for(\"react.portal\"):60106,s=r?Symbol.for(\"react.fragment\"):60107,l=r?Symbol.for(\"react.strict_mode\"):60108,u=r?Symbol.for(\"react.profiler\"):60114,c=r?Symbol.for(\"react.provider\"):60109,d=r?Symbol.for(\"react.context\"):60110,h=r?Symbol.for(\"react.forward_ref\"):60112,f=r?Symbol.for(\"react.suspense\"):60113,p=r?Symbol.for(\"react.memo\"):60115,g=r?Symbol.for(\"react.lazy\"):60116,m=\"function\"==typeof Symbol&&Symbol.iterator;function v(e){for(var t=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+e,n=1;n<arguments.length;n++)t+=\"&args[]=\"+encodeURIComponent(arguments[n]);return\"Minified React error #\"+e+\"; visit \"+t+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function _(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function w(){}function x(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if(\"object\"!=typeof e&&\"function\"!=typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,\"setState\")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,\"forceUpdate\")},w.prototype=_.prototype;var k=x.prototype=new w;k.constructor=x,i(k,_.prototype),k.isPureReactComponent=!0;var O={current:null},E=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function D(e,t,n){var i,r={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=\"\"+t.key),t)E.call(t,i)&&!S.hasOwnProperty(i)&&(r[i]=t[i]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];r.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===r[i]&&(r[i]=l[i]);return{$$typeof:o,type:e,key:a,ref:s,props:r,_owner:O.current}}function j(e){return\"object\"==typeof e&&null!==e&&e.$$typeof===o}var C=/\\/+/g,M=[];function T(e,t,n,i){if(M.length){var r=M.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=i,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:i,count:0}}function A(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>M.length&&M.push(e)}function F(e,t,n){return null==e?0:function e(t,n,i,r){var s=typeof t;\"undefined\"!==s&&\"boolean\"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case\"string\":case\"number\":l=!0;break;case\"object\":switch(t.$$typeof){case o:case a:l=!0}}if(l)return i(r,t,\"\"===n?\".\"+P(t,0):n),1;if(l=0,n=\"\"===n?\".\":n+\":\",Array.isArray(t))for(var u=0;u<t.length;u++){var c=n+P(s=t[u],u);l+=e(s,c,i,r)}else if(null===t||\"object\"!=typeof t?c=null:c=\"function\"==typeof(c=m&&t[m]||t[\"@@iterator\"])?c:null,\"function\"==typeof c)for(t=c.call(t),u=0;!(s=t.next()).done;)l+=e(s=s.value,c=n+P(s,u++),i,r);else if(\"object\"===s)throw i=\"\"+t,Error(v(31,\"[object Object]\"===i?\"object with keys {\"+Object.keys(t).join(\", \")+\"}\":i,\"\"));return l}(e,\"\",t,n)}function P(e,t){return\"object\"==typeof e&&null!==e&&null!=e.key?function(e){var t={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+(\"\"+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function N(e,t){e.func.call(e.context,t,e.count++)}function z(e,t,n){var i=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?R(e,i,n,(function(e){return e})):null!=e&&(j(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,r+(!e.key||t&&t.key===e.key?\"\":(\"\"+e.key).replace(C,\"$&/\")+\"/\")+n)),i.push(e))}function R(e,t,n,i,r){var o=\"\";null!=n&&(o=(\"\"+n).replace(C,\"$&/\")+\"/\"),F(e,z,t=T(t,o,i,r)),A(t)}var I={current:null};function B(){var e=I.current;if(null===e)throw Error(v(321));return e}var L={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:O,IsSomeRendererActing:{current:!1},assign:i};t.Children={map:function(e,t,n){if(null==e)return e;var i=[];return R(e,i,null,t,n),i},forEach:function(e,t,n){if(null==e)return e;F(e,N,t=T(null,null,t,n)),A(t)},count:function(e){return F(e,(function(){return null}),null)},toArray:function(e){var t=[];return R(e,t,null,(function(e){return e})),t},only:function(e){if(!j(e))throw Error(v(143));return e}},t.Component=_,t.Fragment=s,t.Profiler=u,t.PureComponent=x,t.StrictMode=l,t.Suspense=f,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,n){if(null==e)throw Error(v(267,e));var r=i({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=O.current),void 0!==t.key&&(a=\"\"+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)E.call(t,c)&&!S.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];r.children=u}return{$$typeof:o,type:e.type,key:a,ref:s,props:r,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=D,t.createFactory=function(e){var t=D.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return B().useCallback(e,t)},t.useContext=function(e,t){return B().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return B().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return B().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return B().useLayoutEffect(e,t)},t.useMemo=function(e,t){return B().useMemo(e,t)},t.useReducer=function(e,t,n){return B().useReducer(e,t,n)},t.useRef=function(e){return B().useRef(e)},t.useState=function(e){return B().useState(e)},t.version=\"16.13.1\"},function(e,t,n){\"use strict\";\n/** @license React v16.13.1\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var i=n(1),r=n(89),o=n(155);function a(e){for(var t=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+e,n=1;n<arguments.length;n++)t+=\"&args[]=\"+encodeURIComponent(arguments[n]);return\"Minified React error #\"+e+\"; visit \"+t+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}if(!i)throw Error(a(227));function s(e,t,n,i,r,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var l=!1,u=null,c=!1,d=null,h={onError:function(e){l=!0,u=e}};function f(e,t,n,i,r,o,a,c,d){l=!1,u=null,s.apply(h,arguments)}var p=null,g=null,m=null;function v(e,t,n){var i=e.type||\"unknown-event\";e.currentTarget=m(n),function(e,t,n,i,r,o,s,h,p){if(f.apply(this,arguments),l){if(!l)throw Error(a(198));var g=u;l=!1,u=null,c||(c=!0,d=g)}}(i,t,void 0,e),e.currentTarget=null}var y=null,b={};function _(){if(y)for(var e in b){var t=b[e],n=y.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!x[n]){if(!t.extractEvents)throw Error(a(97,e));for(var i in x[n]=t,n=t.eventTypes){var r=void 0,o=n[i],s=t,l=i;if(k.hasOwnProperty(l))throw Error(a(99,l));k[l]=o;var u=o.phasedRegistrationNames;if(u){for(r in u)u.hasOwnProperty(r)&&w(u[r],s,l);r=!0}else o.registrationName?(w(o.registrationName,s,l),r=!0):r=!1;if(!r)throw Error(a(98,i,e))}}}}function w(e,t,n){if(O[e])throw Error(a(100,e));O[e]=t,E[e]=t.eventTypes[n].dependencies}var x=[],k={},O={},E={};function S(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];if(!b.hasOwnProperty(t)||b[t]!==i){if(b[t])throw Error(a(102,t));b[t]=i,n=!0}}n&&_()}var D=!(\"undefined\"==typeof window||void 0===window.document||void 0===window.document.createElement),j=null,C=null,M=null;function T(e){if(e=g(e)){if(\"function\"!=typeof j)throw Error(a(280));var t=e.stateNode;t&&(t=p(t),j(e.stateNode,e.type,t))}}function A(e){C?M?M.push(e):M=[e]:C=e}function F(){if(C){var e=C,t=M;if(M=C=null,T(e),t)for(e=0;e<t.length;e++)T(t[e])}}function P(e,t){return e(t)}function N(e,t,n,i,r){return e(t,n,i,r)}function z(){}var R=P,I=!1,B=!1;function L(){null===C&&null===M||(z(),F())}function $(e,t,n){if(B)return e(t,n);B=!0;try{return R(e,t,n)}finally{B=!1,L()}}var W=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,U=Object.prototype.hasOwnProperty,Y={},H={};function q(e,t,n,i,r,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var V={};\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach((function(e){V[e]=new q(e,0,!1,e,null,!1)})),[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach((function(e){var t=e[0];V[t]=new q(t,1,!1,e[1],null,!1)})),[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach((function(e){V[e]=new q(e,2,!1,e.toLowerCase(),null,!1)})),[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach((function(e){V[e]=new q(e,2,!1,e,null,!1)})),\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach((function(e){V[e]=new q(e,3,!1,e.toLowerCase(),null,!1)})),[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach((function(e){V[e]=new q(e,3,!0,e,null,!1)})),[\"capture\",\"download\"].forEach((function(e){V[e]=new q(e,4,!1,e,null,!1)})),[\"cols\",\"rows\",\"size\",\"span\"].forEach((function(e){V[e]=new q(e,6,!1,e,null,!1)})),[\"rowSpan\",\"start\"].forEach((function(e){V[e]=new q(e,5,!1,e.toLowerCase(),null,!1)}));var G=/[\\-:]([a-z])/g;function X(e){return e[1].toUpperCase()}\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach((function(e){var t=e.replace(G,X);V[t]=new q(t,1,!1,e,null,!1)})),\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach((function(e){var t=e.replace(G,X);V[t]=new q(t,1,!1,e,\"http://www.w3.org/1999/xlink\",!1)})),[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach((function(e){var t=e.replace(G,X);V[t]=new q(t,1,!1,e,\"http://www.w3.org/XML/1998/namespace\",!1)})),[\"tabIndex\",\"crossOrigin\"].forEach((function(e){V[e]=new q(e,1,!1,e.toLowerCase(),null,!1)})),V.xlinkHref=new q(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0),[\"src\",\"href\",\"action\",\"formAction\"].forEach((function(e){V[e]=new q(e,1,!1,e.toLowerCase(),null,!0)}));var Z=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Q(e,t,n,i){var r=V.hasOwnProperty(t)?V[t]:null;(null!==r?0===r.type:!i&&(2<t.length&&(\"o\"===t[0]||\"O\"===t[0])&&(\"n\"===t[1]||\"N\"===t[1])))||(function(e,t,n,i){if(null==t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case\"function\":case\"symbol\":return!0;case\"boolean\":return!i&&(null!==n?!n.acceptsBooleans:\"data-\"!==(e=e.toLowerCase().slice(0,5))&&\"aria-\"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!U.call(H,e)||!U.call(Y,e)&&(W.test(e)?H[e]=!0:(Y[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,\"\"+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&\"\":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?\"\":\"\"+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}Z.hasOwnProperty(\"ReactCurrentDispatcher\")||(Z.ReactCurrentDispatcher={current:null}),Z.hasOwnProperty(\"ReactCurrentBatchConfig\")||(Z.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\\\\/]/,K=\"function\"==typeof Symbol&&Symbol.for,ee=K?Symbol.for(\"react.element\"):60103,te=K?Symbol.for(\"react.portal\"):60106,ne=K?Symbol.for(\"react.fragment\"):60107,ie=K?Symbol.for(\"react.strict_mode\"):60108,re=K?Symbol.for(\"react.profiler\"):60114,oe=K?Symbol.for(\"react.provider\"):60109,ae=K?Symbol.for(\"react.context\"):60110,se=K?Symbol.for(\"react.concurrent_mode\"):60111,le=K?Symbol.for(\"react.forward_ref\"):60112,ue=K?Symbol.for(\"react.suspense\"):60113,ce=K?Symbol.for(\"react.suspense_list\"):60120,de=K?Symbol.for(\"react.memo\"):60115,he=K?Symbol.for(\"react.lazy\"):60116,fe=K?Symbol.for(\"react.block\"):60121,pe=\"function\"==typeof Symbol&&Symbol.iterator;function ge(e){return null===e||\"object\"!=typeof e?null:\"function\"==typeof(e=pe&&e[pe]||e[\"@@iterator\"])?e:null}function me(e){if(null==e)return null;if(\"function\"==typeof e)return e.displayName||e.name||null;if(\"string\"==typeof e)return e;switch(e){case ne:return\"Fragment\";case te:return\"Portal\";case re:return\"Profiler\";case ie:return\"StrictMode\";case ue:return\"Suspense\";case ce:return\"SuspenseList\"}if(\"object\"==typeof e)switch(e.$$typeof){case ae:return\"Context.Consumer\";case oe:return\"Context.Provider\";case le:var t=e.render;return t=t.displayName||t.name||\"\",e.displayName||(\"\"!==t?\"ForwardRef(\"+t+\")\":\"ForwardRef\");case de:return me(e.type);case fe:return me(e.render);case he:if(e=1===e._status?e._result:null)return me(e)}return null}function ve(e){var t=\"\";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n=\"\";break e;default:var i=e._debugOwner,r=e._debugSource,o=me(e.type);n=null,i&&(n=me(i.type)),i=o,o=\"\",r?o=\" (at \"+r.fileName.replace(J,\"\")+\":\"+r.lineNumber+\")\":n&&(o=\" (created by \"+n+\")\"),n=\"\\n    in \"+(i||\"Unknown\")+o}t+=n,e=e.return}while(e);return t}function ye(e){switch(typeof e){case\"boolean\":case\"number\":case\"object\":case\"string\":case\"undefined\":return e;default:return\"\"}}function be(e){var t=e.type;return(e=e.nodeName)&&\"input\"===e.toLowerCase()&&(\"checkbox\"===t||\"radio\"===t)}function _e(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?\"checked\":\"value\",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=\"\"+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&\"function\"==typeof n.get&&\"function\"==typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=\"\"+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=\"\"+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function we(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i=\"\";return e&&(i=be(e)?e.checked?\"true\":\"false\":e.value),(e=i)!==n&&(t.setValue(e),!0)}function xe(e,t){var n=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ke(e,t){var n=null==t.defaultValue?\"\":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=ye(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:\"checkbox\"===t.type||\"radio\"===t.type?null!=t.checked:null!=t.value}}function Oe(e,t){null!=(t=t.checked)&&Q(e,\"checked\",t,!1)}function Ee(e,t){Oe(e,t);var n=ye(t.value),i=t.type;if(null!=n)\"number\"===i?(0===n&&\"\"===e.value||e.value!=n)&&(e.value=\"\"+n):e.value!==\"\"+n&&(e.value=\"\"+n);else if(\"submit\"===i||\"reset\"===i)return void e.removeAttribute(\"value\");t.hasOwnProperty(\"value\")?De(e,t.type,n):t.hasOwnProperty(\"defaultValue\")&&De(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Se(e,t,n){if(t.hasOwnProperty(\"value\")||t.hasOwnProperty(\"defaultValue\")){var i=t.type;if(!(\"submit\"!==i&&\"reset\"!==i||void 0!==t.value&&null!==t.value))return;t=\"\"+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}\"\"!==(n=e.name)&&(e.name=\"\"),e.defaultChecked=!!e._wrapperState.initialChecked,\"\"!==n&&(e.name=n)}function De(e,t,n){\"number\"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=\"\"+e._wrapperState.initialValue:e.defaultValue!==\"\"+n&&(e.defaultValue=\"\"+n))}function je(e,t){return e=r({children:void 0},t),(t=function(e){var t=\"\";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ce(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t[\"$\"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty(\"$\"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=\"\"+ye(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function Me(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return r({},t,{value:void 0,defaultValue:void 0,children:\"\"+e._wrapperState.initialValue})}function Te(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=\"\"),n=t}e._wrapperState={initialValue:ye(n)}}function Ae(e,t){var n=ye(t.value),i=ye(t.defaultValue);null!=n&&((n=\"\"+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=\"\"+i)}function Fe(e){var t=e.textContent;t===e._wrapperState.initialValue&&\"\"!==t&&null!==t&&(e.value=t)}var Pe=\"http://www.w3.org/1999/xhtml\",Ne=\"http://www.w3.org/2000/svg\";function ze(e){switch(e){case\"svg\":return\"http://www.w3.org/2000/svg\";case\"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}function Re(e,t){return null==e||\"http://www.w3.org/1999/xhtml\"===e?ze(t):\"http://www.w3.org/2000/svg\"===e&&\"foreignObject\"===t?\"http://www.w3.org/1999/xhtml\":e}var Ie,Be=function(e){return\"undefined\"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Ne||\"innerHTML\"in e)e.innerHTML=t;else{for((Ie=Ie||document.createElement(\"div\")).innerHTML=\"<svg>\"+t.valueOf().toString()+\"</svg>\",t=Ie.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Le(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function $e(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[\"Webkit\"+e]=\"webkit\"+t,n[\"Moz\"+e]=\"moz\"+t,n}var We={animationend:$e(\"Animation\",\"AnimationEnd\"),animationiteration:$e(\"Animation\",\"AnimationIteration\"),animationstart:$e(\"Animation\",\"AnimationStart\"),transitionend:$e(\"Transition\",\"TransitionEnd\")},Ue={},Ye={};function He(e){if(Ue[e])return Ue[e];if(!We[e])return e;var t,n=We[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ye)return Ue[e]=n[t];return e}D&&(Ye=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),\"TransitionEvent\"in window||delete We.transitionend.transition);var qe=He(\"animationend\"),Ve=He(\"animationiteration\"),Ge=He(\"animationstart\"),Xe=He(\"transitionend\"),Ze=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),Qe=new(\"function\"==typeof WeakMap?WeakMap:Map);function Je(e){var t=Qe.get(e);return void 0===t&&(t=new Map,Qe.set(e,t)),t}function Ke(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Ke(e)!==e)throw Error(a(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ke(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return tt(r),e;if(o===i)return tt(r),t;o=o.sibling}throw Error(a(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=o;break}if(l===i){s=!0,i=r,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,i=r;break}if(l===i){s=!0,i=o,n=r;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function rt(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var i=0;i<t.length&&!e.isPropagationStopped();i++)v(e,t[i],n[i]);else t&&v(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(ot=it(ot,e)),e=ot,ot=null,e){if(rt(e,at),ot)throw Error(a(95));if(c)throw e=d,c=!1,d=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ut(e){if(!D)return!1;var t=(e=\"on\"+e)in document;return t||((t=document.createElement(\"div\")).setAttribute(e,\"return;\"),t=\"function\"==typeof t[e]),t}var ct=[];function dt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ct.length&&ct.push(e)}function ht(e,t,n,i){if(ct.length){var r=ct.pop();return r.topLevelType=e,r.eventSystemFlags=i,r.nativeEvent=t,r.targetInst=n,r}return{topLevelType:e,eventSystemFlags:i,nativeEvent:t,targetInst:n,ancestors:[]}}function ft(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var i=n;if(3===i.tag)i=i.stateNode.containerInfo;else{for(;i.return;)i=i.return;i=3!==i.tag?null:i.stateNode.containerInfo}if(!i)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Dn(i)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var r=lt(e.nativeEvent);i=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,l=0;l<x.length;l++){var u=x[l];u&&(u=u.extractEvents(i,t,o,r,a))&&(s=it(s,u))}st(s)}}function pt(e,t,n){if(!n.has(e)){switch(e){case\"scroll\":Gt(t,\"scroll\",!0);break;case\"focus\":case\"blur\":Gt(t,\"focus\",!0),Gt(t,\"blur\",!0),n.set(\"blur\",null),n.set(\"focus\",null);break;case\"cancel\":case\"close\":ut(e)&&Gt(t,e,!0);break;case\"invalid\":case\"submit\":case\"reset\":break;default:-1===Ze.indexOf(e)&&Vt(e,t)}n.set(e,null)}}var gt,mt,vt,yt=!1,bt=[],_t=null,wt=null,xt=null,kt=new Map,Ot=new Map,Et=[],St=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit\".split(\" \"),Dt=\"focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture\".split(\" \");function jt(e,t,n,i,r){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:r,container:i}}function Ct(e,t){switch(e){case\"focus\":case\"blur\":_t=null;break;case\"dragenter\":case\"dragleave\":wt=null;break;case\"mouseover\":case\"mouseout\":xt=null;break;case\"pointerover\":case\"pointerout\":kt.delete(t.pointerId);break;case\"gotpointercapture\":case\"lostpointercapture\":Ot.delete(t.pointerId)}}function Mt(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e=jt(t,n,i,r,o),null!==t&&(null!==(t=jn(t))&&mt(t)),e):(e.eventSystemFlags|=i,e)}function Tt(e){var t=Dn(e.target);if(null!==t){var n=Ke(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){vt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function At(e){if(null!==e.blockedOn)return!1;var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=jn(t);return null!==n&&mt(n),e.blockedOn=t,!1}return!0}function Ft(e,t,n){At(e)&&n.delete(t)}function Pt(){for(yt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=jn(e.blockedOn))&&gt(e);break}var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==_t&&At(_t)&&(_t=null),null!==wt&&At(wt)&&(wt=null),null!==xt&&At(xt)&&(xt=null),kt.forEach(Ft),Ot.forEach(Ft)}function Nt(e,t){e.blockedOn===t&&(e.blockedOn=null,yt||(yt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Pt)))}function zt(e){function t(t){return Nt(t,e)}if(0<bt.length){Nt(bt[0],e);for(var n=1;n<bt.length;n++){var i=bt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==_t&&Nt(_t,e),null!==wt&&Nt(wt,e),null!==xt&&Nt(xt,e),kt.forEach(t),Ot.forEach(t),n=0;n<Et.length;n++)(i=Et[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Et.length&&null===(n=Et[0]).blockedOn;)Tt(n),null===n.blockedOn&&Et.shift()}var Rt={},It=new Map,Bt=new Map,Lt=[\"abort\",\"abort\",qe,\"animationEnd\",Ve,\"animationIteration\",Ge,\"animationStart\",\"canplay\",\"canPlay\",\"canplaythrough\",\"canPlayThrough\",\"durationchange\",\"durationChange\",\"emptied\",\"emptied\",\"encrypted\",\"encrypted\",\"ended\",\"ended\",\"error\",\"error\",\"gotpointercapture\",\"gotPointerCapture\",\"load\",\"load\",\"loadeddata\",\"loadedData\",\"loadedmetadata\",\"loadedMetadata\",\"loadstart\",\"loadStart\",\"lostpointercapture\",\"lostPointerCapture\",\"playing\",\"playing\",\"progress\",\"progress\",\"seeking\",\"seeking\",\"stalled\",\"stalled\",\"suspend\",\"suspend\",\"timeupdate\",\"timeUpdate\",Xe,\"transitionEnd\",\"waiting\",\"waiting\"];function $t(e,t){for(var n=0;n<e.length;n+=2){var i=e[n],r=e[n+1],o=\"on\"+(r[0].toUpperCase()+r.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+\"Capture\"},dependencies:[i],eventPriority:t},Bt.set(i,t),It.set(i,o),Rt[r]=o}}$t(\"blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange\".split(\" \"),0),$t(\"drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel\".split(\" \"),1),$t(Lt,2);for(var Wt=\"change selectionchange textInput compositionstart compositionend compositionupdate\".split(\" \"),Ut=0;Ut<Wt.length;Ut++)Bt.set(Wt[Ut],0);var Yt=o.unstable_UserBlockingPriority,Ht=o.unstable_runWithPriority,qt=!0;function Vt(e,t){Gt(t,e,!1)}function Gt(e,t,n){var i=Bt.get(t);switch(void 0===i?2:i){case 0:i=Xt.bind(null,t,1,e);break;case 1:i=Zt.bind(null,t,1,e);break;default:i=Qt.bind(null,t,1,e)}n?e.addEventListener(t,i,!0):e.addEventListener(t,i,!1)}function Xt(e,t,n,i){I||z();var r=Qt,o=I;I=!0;try{N(r,e,t,n,i)}finally{(I=o)||L()}}function Zt(e,t,n,i){Ht(Yt,Qt.bind(null,e,t,n,i))}function Qt(e,t,n,i){if(qt)if(0<bt.length&&-1<St.indexOf(e))e=jt(null,e,t,n,i),bt.push(e);else{var r=Jt(e,t,n,i);if(null===r)Ct(e,i);else if(-1<St.indexOf(e))e=jt(r,e,t,n,i),bt.push(e);else if(!function(e,t,n,i,r){switch(t){case\"focus\":return _t=Mt(_t,e,t,n,i,r),!0;case\"dragenter\":return wt=Mt(wt,e,t,n,i,r),!0;case\"mouseover\":return xt=Mt(xt,e,t,n,i,r),!0;case\"pointerover\":var o=r.pointerId;return kt.set(o,Mt(kt.get(o)||null,e,t,n,i,r)),!0;case\"gotpointercapture\":return o=r.pointerId,Ot.set(o,Mt(Ot.get(o)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i)){Ct(e,i),e=ht(e,i,null,t);try{$(ft,e)}finally{dt(e)}}}}function Jt(e,t,n,i){if(null!==(n=Dn(n=lt(i)))){var r=Ke(n);if(null===r)n=null;else{var o=r.tag;if(13===o){if(null!==(n=et(r)))return n;n=null}else if(3===o){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}e=ht(e,i,n,t);try{$(ft,e)}finally{dt(e)}return null}var Kt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=[\"Webkit\",\"ms\",\"Moz\",\"O\"];function tn(e,t,n){return null==t||\"boolean\"==typeof t||\"\"===t?\"\":n||\"number\"!=typeof t||0===t||Kt.hasOwnProperty(e)&&Kt[e]?(\"\"+t).trim():t+\"px\"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf(\"--\"),r=tn(n,t[n],i);\"float\"===n&&(n=\"cssFloat\"),i?e.setProperty(n,r):e[n]=r}}Object.keys(Kt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kt[t]=Kt[e]}))}));var rn=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,\"\"));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if(\"object\"!=typeof t.dangerouslySetInnerHTML||!(\"__html\"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&\"object\"!=typeof t.style)throw Error(a(62,\"\"))}}function an(e,t){if(-1===e.indexOf(\"-\"))return\"string\"==typeof t.is;switch(e){case\"annotation-xml\":case\"color-profile\":case\"font-face\":case\"font-face-src\":case\"font-face-uri\":case\"font-face-format\":case\"font-face-name\":case\"missing-glyph\":return!1;default:return!0}}var sn=Pe;function ln(e,t){var n=Je(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=E[t];for(var i=0;i<t.length;i++)pt(t[i],e,n)}function un(){}function cn(e){if(void 0===(e=e||(\"undefined\"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function dn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hn(e,t){var n,i=dn(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=dn(i)}}function fn(){for(var e=window,t=cn();t instanceof e.HTMLIFrameElement;){try{var n=\"string\"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=cn((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(\"input\"===t&&(\"text\"===e.type||\"search\"===e.type||\"tel\"===e.type||\"url\"===e.type||\"password\"===e.type)||\"textarea\"===t||\"true\"===e.contentEditable)}var gn=null,mn=null;function vn(e,t){switch(e){case\"button\":case\"input\":case\"select\":case\"textarea\":return!!t.autoFocus}return!1}function yn(e,t){return\"textarea\"===e||\"option\"===e||\"noscript\"===e||\"string\"==typeof t.children||\"number\"==typeof t.children||\"object\"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bn=\"function\"==typeof setTimeout?setTimeout:void 0,_n=\"function\"==typeof clearTimeout?clearTimeout:void 0;function wn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function xn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(\"$\"===n||\"$!\"===n||\"$?\"===n){if(0===t)return e;t--}else\"/$\"===n&&t++}e=e.previousSibling}return null}var kn=Math.random().toString(36).slice(2),On=\"__reactInternalInstance$\"+kn,En=\"__reactEventHandlers$\"+kn,Sn=\"__reactContainere$\"+kn;function Dn(e){var t=e[On];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Sn]||n[On]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=xn(e);null!==e;){if(n=e[On])return n;e=xn(e)}return t}n=(e=n).parentNode}return null}function jn(e){return!(e=e[On]||e[Sn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Cn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Mn(e){return e[En]||null}function Tn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function An(e,t){var n=e.stateNode;if(!n)return null;var i=p(n);if(!i)return null;n=i[t];e:switch(t){case\"onClick\":case\"onClickCapture\":case\"onDoubleClick\":case\"onDoubleClickCapture\":case\"onMouseDown\":case\"onMouseDownCapture\":case\"onMouseMove\":case\"onMouseMoveCapture\":case\"onMouseUp\":case\"onMouseUpCapture\":case\"onMouseEnter\":(i=!i.disabled)||(i=!(\"button\"===(e=e.type)||\"input\"===e||\"select\"===e||\"textarea\"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&\"function\"!=typeof n)throw Error(a(231,t,typeof n));return n}function Fn(e,t,n){(t=An(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Pn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Tn(t);for(t=n.length;0<t--;)Fn(n[t],\"captured\",e);for(t=0;t<n.length;t++)Fn(n[t],\"bubbled\",e)}}function Nn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=An(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function zn(e){e&&e.dispatchConfig.registrationName&&Nn(e._targetInst,null,e)}function Rn(e){rt(e,Pn)}var In=null,Bn=null,Ln=null;function $n(){if(Ln)return Ln;var e,t,n=Bn,i=n.length,r=\"value\"in In?In.value:In.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===r[o-t];t++);return Ln=r.slice(e,1<t?1-t:void 0)}function Wn(){return!0}function Un(){return!1}function Yn(e,t,n,i){for(var r in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(r)&&((t=e[r])?this[r]=t(n):\"target\"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Wn:Un,this.isPropagationStopped=Un,this}function Hn(e,t,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,e,t,n,i),r}return new this(e,t,n,i)}function qn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Vn(e){e.eventPool=[],e.getPooled=Hn,e.release=qn}r(Yn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():\"unknown\"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():\"unknown\"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){this.isPersistent=Wn},isPersistent:Un,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Un,this._dispatchInstances=this._dispatchListeners=null}}),Yn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Yn.extend=function(e){function t(){}function n(){return i.apply(this,arguments)}var i=this;t.prototype=i.prototype;var o=new t;return r(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=r({},i.Interface,e),n.extend=i.extend,Vn(n),n},Vn(Yn);var Gn=Yn.extend({data:null}),Xn=Yn.extend({data:null}),Zn=[9,13,27,32],Qn=D&&\"CompositionEvent\"in window,Jn=null;D&&\"documentMode\"in document&&(Jn=document.documentMode);var Kn=D&&\"TextEvent\"in window&&!Jn,ei=D&&(!Qn||Jn&&8<Jn&&11>=Jn),ti=String.fromCharCode(32),ni={beforeInput:{phasedRegistrationNames:{bubbled:\"onBeforeInput\",captured:\"onBeforeInputCapture\"},dependencies:[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]},compositionEnd:{phasedRegistrationNames:{bubbled:\"onCompositionEnd\",captured:\"onCompositionEndCapture\"},dependencies:\"blur compositionend keydown keypress keyup mousedown\".split(\" \")},compositionStart:{phasedRegistrationNames:{bubbled:\"onCompositionStart\",captured:\"onCompositionStartCapture\"},dependencies:\"blur compositionstart keydown keypress keyup mousedown\".split(\" \")},compositionUpdate:{phasedRegistrationNames:{bubbled:\"onCompositionUpdate\",captured:\"onCompositionUpdateCapture\"},dependencies:\"blur compositionupdate keydown keypress keyup mousedown\".split(\" \")}},ii=!1;function ri(e,t){switch(e){case\"keyup\":return-1!==Zn.indexOf(t.keyCode);case\"keydown\":return 229!==t.keyCode;case\"keypress\":case\"mousedown\":case\"blur\":return!0;default:return!1}}function oi(e){return\"object\"==typeof(e=e.detail)&&\"data\"in e?e.data:null}var ai=!1;var si={eventTypes:ni,extractEvents:function(e,t,n,i){var r;if(Qn)e:{switch(e){case\"compositionstart\":var o=ni.compositionStart;break e;case\"compositionend\":o=ni.compositionEnd;break e;case\"compositionupdate\":o=ni.compositionUpdate;break e}o=void 0}else ai?ri(e,n)&&(o=ni.compositionEnd):\"keydown\"===e&&229===n.keyCode&&(o=ni.compositionStart);return o?(ei&&\"ko\"!==n.locale&&(ai||o!==ni.compositionStart?o===ni.compositionEnd&&ai&&(r=$n()):(Bn=\"value\"in(In=i)?In.value:In.textContent,ai=!0)),o=Gn.getPooled(o,t,n,i),r?o.data=r:null!==(r=oi(n))&&(o.data=r),Rn(o),r=o):r=null,(e=Kn?function(e,t){switch(e){case\"compositionend\":return oi(t);case\"keypress\":return 32!==t.which?null:(ii=!0,ti);case\"textInput\":return(e=t.data)===ti&&ii?null:e;default:return null}}(e,n):function(e,t){if(ai)return\"compositionend\"===e||!Qn&&ri(e,t)?(e=$n(),Ln=Bn=In=null,ai=!1,e):null;switch(e){case\"paste\":return null;case\"keypress\":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case\"compositionend\":return ei&&\"ko\"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Xn.getPooled(ni.beforeInput,t,n,i)).data=e,Rn(t)):t=null,null===r?t:null===t?r:[r,t]}},li={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ui(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return\"input\"===t?!!li[e.type]:\"textarea\"===t}var ci={change:{phasedRegistrationNames:{bubbled:\"onChange\",captured:\"onChangeCapture\"},dependencies:\"blur change click focus input keydown keyup selectionchange\".split(\" \")}};function di(e,t,n){return(e=Yn.getPooled(ci.change,e,t,n)).type=\"change\",A(n),Rn(e),e}var hi=null,fi=null;function pi(e){st(e)}function gi(e){if(we(Cn(e)))return e}function mi(e,t){if(\"change\"===e)return t}var vi=!1;function yi(){hi&&(hi.detachEvent(\"onpropertychange\",bi),fi=hi=null)}function bi(e){if(\"value\"===e.propertyName&&gi(fi))if(e=di(fi,e,lt(e)),I)st(e);else{I=!0;try{P(pi,e)}finally{I=!1,L()}}}function _i(e,t,n){\"focus\"===e?(yi(),fi=n,(hi=t).attachEvent(\"onpropertychange\",bi)):\"blur\"===e&&yi()}function wi(e){if(\"selectionchange\"===e||\"keyup\"===e||\"keydown\"===e)return gi(fi)}function xi(e,t){if(\"click\"===e)return gi(t)}function ki(e,t){if(\"input\"===e||\"change\"===e)return gi(t)}D&&(vi=ut(\"input\")&&(!document.documentMode||9<document.documentMode));var Oi={eventTypes:ci,_isInputEventSupported:vi,extractEvents:function(e,t,n,i){var r=t?Cn(t):window,o=r.nodeName&&r.nodeName.toLowerCase();if(\"select\"===o||\"input\"===o&&\"file\"===r.type)var a=mi;else if(ui(r))if(vi)a=ki;else{a=wi;var s=_i}else(o=r.nodeName)&&\"input\"===o.toLowerCase()&&(\"checkbox\"===r.type||\"radio\"===r.type)&&(a=xi);if(a&&(a=a(e,t)))return di(a,n,i);s&&s(e,r,t),\"blur\"===e&&(e=r._wrapperState)&&e.controlled&&\"number\"===r.type&&De(r,\"number\",r.value)}},Ei=Yn.extend({view:null,detail:null}),Si={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Di(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Si[e])&&!!t[e]}function ji(){return Di}var Ci=0,Mi=0,Ti=!1,Ai=!1,Fi=Ei.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:ji,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if(\"movementX\"in e)return e.movementX;var t=Ci;return Ci=e.screenX,Ti?\"mousemove\"===e.type?e.screenX-t:0:(Ti=!0,0)},movementY:function(e){if(\"movementY\"in e)return e.movementY;var t=Mi;return Mi=e.screenY,Ai?\"mousemove\"===e.type?e.screenY-t:0:(Ai=!0,0)}}),Pi=Fi.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Ni={mouseEnter:{registrationName:\"onMouseEnter\",dependencies:[\"mouseout\",\"mouseover\"]},mouseLeave:{registrationName:\"onMouseLeave\",dependencies:[\"mouseout\",\"mouseover\"]},pointerEnter:{registrationName:\"onPointerEnter\",dependencies:[\"pointerout\",\"pointerover\"]},pointerLeave:{registrationName:\"onPointerLeave\",dependencies:[\"pointerout\",\"pointerover\"]}},zi={eventTypes:Ni,extractEvents:function(e,t,n,i,r){var o=\"mouseover\"===e||\"pointerover\"===e,a=\"mouseout\"===e||\"pointerout\"===e;if(o&&0==(32&r)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?Dn(t):null)&&(t!==Ke(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if(\"mouseout\"===e||\"mouseover\"===e)var s=Fi,l=Ni.mouseLeave,u=Ni.mouseEnter,c=\"mouse\";else\"pointerout\"!==e&&\"pointerover\"!==e||(s=Pi,l=Ni.pointerLeave,u=Ni.pointerEnter,c=\"pointer\");if(e=null==a?o:Cn(a),o=null==t?o:Cn(t),(l=s.getPooled(l,a,n,i)).type=c+\"leave\",l.target=e,l.relatedTarget=o,(n=s.getPooled(u,t,n,i)).type=c+\"enter\",n.target=o,n.relatedTarget=e,c=t,(i=a)&&c)e:{for(u=c,a=0,e=s=i;e;e=Tn(e))a++;for(e=0,t=u;t;t=Tn(t))e++;for(;0<a-e;)s=Tn(s),a--;for(;0<e-a;)u=Tn(u),e--;for(;a--;){if(s===u||s===u.alternate)break e;s=Tn(s),u=Tn(u)}s=null}else s=null;for(u=s,s=[];i&&i!==u&&(null===(a=i.alternate)||a!==u);)s.push(i),i=Tn(i);for(i=[];c&&c!==u&&(null===(a=c.alternate)||a!==u);)i.push(c),c=Tn(c);for(c=0;c<s.length;c++)Nn(s[c],\"bubbled\",l);for(c=i.length;0<c--;)Nn(i[c],\"captured\",n);return 0==(64&r)?[l]:[l,n]}};var Ri=\"function\"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Ii=Object.prototype.hasOwnProperty;function Bi(e,t){if(Ri(e,t))return!0;if(\"object\"!=typeof e||null===e||\"object\"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!Ii.call(t,n[i])||!Ri(e[n[i]],t[n[i]]))return!1;return!0}var Li=D&&\"documentMode\"in document&&11>=document.documentMode,$i={select:{phasedRegistrationNames:{bubbled:\"onSelect\",captured:\"onSelectCapture\"},dependencies:\"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange\".split(\" \")}},Wi=null,Ui=null,Yi=null,Hi=!1;function qi(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Hi||null==Wi||Wi!==cn(n)?null:(\"selectionStart\"in(n=Wi)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Yi&&Bi(Yi,n)?null:(Yi=n,(e=Yn.getPooled($i.select,Ui,e,t)).type=\"select\",e.target=Wi,Rn(e),e))}var Vi={eventTypes:$i,extractEvents:function(e,t,n,i,r,o){if(!(o=!(r=o||(i.window===i?i.document:9===i.nodeType?i:i.ownerDocument)))){e:{r=Je(r),o=E.onSelect;for(var a=0;a<o.length;a++)if(!r.has(o[a])){r=!1;break e}r=!0}o=!r}if(o)return null;switch(r=t?Cn(t):window,e){case\"focus\":(ui(r)||\"true\"===r.contentEditable)&&(Wi=r,Ui=t,Yi=null);break;case\"blur\":Yi=Ui=Wi=null;break;case\"mousedown\":Hi=!0;break;case\"contextmenu\":case\"mouseup\":case\"dragend\":return Hi=!1,qi(n,i);case\"selectionchange\":if(Li)break;case\"keydown\":case\"keyup\":return qi(n,i)}return null}},Gi=Yn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Xi=Yn.extend({clipboardData:function(e){return\"clipboardData\"in e?e.clipboardData:window.clipboardData}}),Zi=Ei.extend({relatedTarget:null});function Qi(e){var t=e.keyCode;return\"charCode\"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Ji={Esc:\"Escape\",Spacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Ki={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},er=Ei.extend({key:function(e){if(e.key){var t=Ji[e.key]||e.key;if(\"Unidentified\"!==t)return t}return\"keypress\"===e.type?13===(e=Qi(e))?\"Enter\":String.fromCharCode(e):\"keydown\"===e.type||\"keyup\"===e.type?Ki[e.keyCode]||\"Unidentified\":\"\"},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:ji,charCode:function(e){return\"keypress\"===e.type?Qi(e):0},keyCode:function(e){return\"keydown\"===e.type||\"keyup\"===e.type?e.keyCode:0},which:function(e){return\"keypress\"===e.type?Qi(e):\"keydown\"===e.type||\"keyup\"===e.type?e.keyCode:0}}),tr=Fi.extend({dataTransfer:null}),nr=Ei.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:ji}),ir=Yn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),rr=Fi.extend({deltaX:function(e){return\"deltaX\"in e?e.deltaX:\"wheelDeltaX\"in e?-e.wheelDeltaX:0},deltaY:function(e){return\"deltaY\"in e?e.deltaY:\"wheelDeltaY\"in e?-e.wheelDeltaY:\"wheelDelta\"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),or={eventTypes:Rt,extractEvents:function(e,t,n,i){var r=It.get(e);if(!r)return null;switch(e){case\"keypress\":if(0===Qi(n))return null;case\"keydown\":case\"keyup\":e=er;break;case\"blur\":case\"focus\":e=Zi;break;case\"click\":if(2===n.button)return null;case\"auxclick\":case\"dblclick\":case\"mousedown\":case\"mousemove\":case\"mouseup\":case\"mouseout\":case\"mouseover\":case\"contextmenu\":e=Fi;break;case\"drag\":case\"dragend\":case\"dragenter\":case\"dragexit\":case\"dragleave\":case\"dragover\":case\"dragstart\":case\"drop\":e=tr;break;case\"touchcancel\":case\"touchend\":case\"touchmove\":case\"touchstart\":e=nr;break;case qe:case Ve:case Ge:e=Gi;break;case Xe:e=ir;break;case\"scroll\":e=Ei;break;case\"wheel\":e=rr;break;case\"copy\":case\"cut\":case\"paste\":e=Xi;break;case\"gotpointercapture\":case\"lostpointercapture\":case\"pointercancel\":case\"pointerdown\":case\"pointermove\":case\"pointerout\":case\"pointerover\":case\"pointerup\":e=Pi;break;default:e=Yn}return Rn(t=e.getPooled(r,t,n,i)),t}};if(y)throw Error(a(101));y=Array.prototype.slice.call(\"ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin\".split(\" \")),_(),p=Mn,g=jn,m=Cn,S({SimpleEventPlugin:or,EnterLeaveEventPlugin:zi,ChangeEventPlugin:Oi,SelectEventPlugin:Vi,BeforeInputEventPlugin:si});var ar=[],sr=-1;function lr(e){0>sr||(e.current=ar[sr],ar[sr]=null,sr--)}function ur(e,t){sr++,ar[sr]=e.current,e.current=t}var cr={},dr={current:cr},hr={current:!1},fr=cr;function pr(e,t){var n=e.type.contextTypes;if(!n)return cr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gr(e){return null!=(e=e.childContextTypes)}function mr(){lr(hr),lr(dr)}function vr(e,t,n){if(dr.current!==cr)throw Error(a(168));ur(dr,t),ur(hr,n)}function yr(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,\"function\"!=typeof i.getChildContext)return n;for(var o in i=i.getChildContext())if(!(o in e))throw Error(a(108,me(t)||\"Unknown\",o));return r({},n,{},i)}function br(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cr,fr=dr.current,ur(dr,e),ur(hr,hr.current),!0}function _r(e,t,n){var i=e.stateNode;if(!i)throw Error(a(169));n?(e=yr(e,t,fr),i.__reactInternalMemoizedMergedChildContext=e,lr(hr),lr(dr),ur(dr,e)):lr(hr),ur(hr,n)}var wr=o.unstable_runWithPriority,xr=o.unstable_scheduleCallback,kr=o.unstable_cancelCallback,Or=o.unstable_requestPaint,Er=o.unstable_now,Sr=o.unstable_getCurrentPriorityLevel,Dr=o.unstable_ImmediatePriority,jr=o.unstable_UserBlockingPriority,Cr=o.unstable_NormalPriority,Mr=o.unstable_LowPriority,Tr=o.unstable_IdlePriority,Ar={},Fr=o.unstable_shouldYield,Pr=void 0!==Or?Or:function(){},Nr=null,zr=null,Rr=!1,Ir=Er(),Br=1e4>Ir?Er:function(){return Er()-Ir};function Lr(){switch(Sr()){case Dr:return 99;case jr:return 98;case Cr:return 97;case Mr:return 96;case Tr:return 95;default:throw Error(a(332))}}function $r(e){switch(e){case 99:return Dr;case 98:return jr;case 97:return Cr;case 96:return Mr;case 95:return Tr;default:throw Error(a(332))}}function Wr(e,t){return e=$r(e),wr(e,t)}function Ur(e,t,n){return e=$r(e),xr(e,t,n)}function Yr(e){return null===Nr?(Nr=[e],zr=xr(Dr,qr)):Nr.push(e),Ar}function Hr(){if(null!==zr){var e=zr;zr=null,kr(e)}qr()}function qr(){if(!Rr&&null!==Nr){Rr=!0;var e=0;try{var t=Nr;Wr(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Nr=null}catch(t){throw null!==Nr&&(Nr=Nr.slice(e+1)),xr(Dr,Hr),t}finally{Rr=!1}}}function Vr(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Gr(e,t){if(e&&e.defaultProps)for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Xr={current:null},Zr=null,Qr=null,Jr=null;function Kr(){Jr=Qr=Zr=null}function eo(e){var t=Xr.current;lr(Xr),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function no(e,t){Zr=e,Jr=Qr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Ma=!0),e.firstContext=null)}function io(e,t){if(Jr!==e&&!1!==t&&0!==t)if(\"number\"==typeof t&&1073741823!==t||(Jr=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Qr){if(null===Zr)throw Error(a(308));Qr=t,Zr.dependencies={expirationTime:0,firstContext:t,responders:null}}else Qr=Qr.next=t;return e._currentValue}var ro=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function so(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function lo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function uo(e,t){var n=e.alternate;null!==n&&ao(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function co(e,t,n,i){var o=e.updateQueue;ro=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}a=s,o.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==a){l=a.next;var u=o.baseState,c=0,d=null,h=null,f=null;if(null!==l)for(var p=l;;){if((s=p.expirationTime)<i){var g={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===f?(h=f=g,d=u):f=f.next=g,s>c&&(c=s)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),ol(s,p.suspenseConfig);e:{var m=e,v=p;switch(s=t,g=n,v.tag){case 1:if(\"function\"==typeof(m=v.payload)){u=m.call(g,u,s);break e}u=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null==(s=\"function\"==typeof(m=v.payload)?m.call(g,u,s):m))break e;u=r({},u,s);break e;case 2:ro=!0}}null!==p.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[p]:s.push(p))}if(null===(p=p.next)||p===l){if(null===(s=o.shared.pending))break;p=a.next=s.next,s.next=l,o.baseQueue=a=s,o.shared.pending=null}}null===f?d=u:f.next=h,o.baseState=d,o.baseQueue=f,al(c),e.expirationTime=c,e.memoizedState=u}}function ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=r,r=n,\"function\"!=typeof i)throw Error(a(191,i));i.call(r)}}}var fo=Z.ReactCurrentBatchConfig,po=(new i.Component).refs;function go(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:r({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var mo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Ke(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var i=qs(),r=fo.suspense;(r=so(i=Vs(i,e,r),r)).payload=t,null!=n&&(r.callback=n),lo(e,r),Gs(e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var i=qs(),r=fo.suspense;(r=so(i=Vs(i,e,r),r)).tag=1,r.payload=t,null!=n&&(r.callback=n),lo(e,r),Gs(e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=qs(),i=fo.suspense;(i=so(n=Vs(n,e,i),i)).tag=2,null!=t&&(i.callback=t),lo(e,i),Gs(e,n)}};function vo(e,t,n,i,r,o,a){return\"function\"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Bi(n,i)||!Bi(r,o))}function yo(e,t,n){var i=!1,r=cr,o=t.contextType;return\"object\"==typeof o&&null!==o?o=io(o):(r=gr(t)?fr:dr.current,o=(i=null!=(i=t.contextTypes))?pr(e,r):cr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mo,e.stateNode=t,t._reactInternalFiber=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function bo(e,t,n,i){e=t.state,\"function\"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),\"function\"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function _o(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=po,oo(e);var o=t.contextType;\"object\"==typeof o&&null!==o?r.context=io(o):(o=gr(t)?fr:dr.current,r.context=pr(e,o)),co(e,n,r,i),r.state=e.memoizedState,\"function\"==typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),r.state=e.memoizedState),\"function\"==typeof t.getDerivedStateFromProps||\"function\"==typeof r.getSnapshotBeforeUpdate||\"function\"!=typeof r.UNSAFE_componentWillMount&&\"function\"!=typeof r.componentWillMount||(t=r.state,\"function\"==typeof r.componentWillMount&&r.componentWillMount(),\"function\"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&mo.enqueueReplaceState(r,r.state,null),co(e,n,r,i),r.state=e.memoizedState),\"function\"==typeof r.componentDidMount&&(e.effectTag|=4)}var wo=Array.isArray;function xo(e,t,n){if(null!==(e=n.ref)&&\"function\"!=typeof e&&\"object\"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var i=n.stateNode}if(!i)throw Error(a(147,e));var r=\"\"+e;return null!==t&&null!==t.ref&&\"function\"==typeof t.ref&&t.ref._stringRef===r?t.ref:((t=function(e){var t=i.refs;t===po&&(t=i.refs={}),null===e?delete t[r]:t[r]=e})._stringRef=r,t)}if(\"string\"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ko(e,t){if(\"textarea\"!==e.type)throw Error(a(31,\"[object Object]\"===Object.prototype.toString.call(t)?\"object with keys {\"+Object.keys(t).join(\", \")+\"}\":t,\"\"))}function Oo(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Sl(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.effectTag=2,n):i:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Cl(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function u(e,t,n,i){return null!==t&&t.elementType===n.type?((i=r(t,n.props)).ref=xo(e,t,n),i.return=e,i):((i=Dl(n.type,n.key,n.props,null,e.mode,i)).ref=xo(e,t,n),i.return=e,i)}function c(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ml(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,o){return null===t||7!==t.tag?((t=jl(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if(\"string\"==typeof t||\"number\"==typeof t)return(t=Cl(\"\"+t,e.mode,n)).return=e,t;if(\"object\"==typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Dl(t.type,t.key,t.props,null,e.mode,n)).ref=xo(e,null,t),n.return=e,n;case te:return(t=Ml(t,e.mode,n)).return=e,t}if(wo(t)||ge(t))return(t=jl(t,e.mode,n,null)).return=e,t;ko(e,t)}return null}function f(e,t,n,i){var r=null!==t?t.key:null;if(\"string\"==typeof n||\"number\"==typeof n)return null!==r?null:l(e,t,\"\"+n,i);if(\"object\"==typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===r?n.type===ne?d(e,t,n.props.children,i,r):u(e,t,n,i):null;case te:return n.key===r?c(e,t,n,i):null}if(wo(n)||ge(n))return null!==r?null:d(e,t,n,i,null);ko(e,n)}return null}function p(e,t,n,i,r){if(\"string\"==typeof i||\"number\"==typeof i)return l(t,e=e.get(n)||null,\"\"+i,r);if(\"object\"==typeof i&&null!==i){switch(i.$$typeof){case ee:return e=e.get(null===i.key?n:i.key)||null,i.type===ne?d(t,e,i.props.children,r,i.key):u(t,e,i,r);case te:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r)}if(wo(i)||ge(i))return d(t,e=e.get(n)||null,i,r,null);ko(t,i)}return null}function g(r,a,s,l){for(var u=null,c=null,d=a,g=a=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=f(r,d,s[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(r,d),a=o(v,a,g),null===c?u=v:c.sibling=v,c=v,d=m}if(g===s.length)return n(r,d),u;if(null===d){for(;g<s.length;g++)null!==(d=h(r,s[g],l))&&(a=o(d,a,g),null===c?u=d:c.sibling=d,c=d);return u}for(d=i(r,d);g<s.length;g++)null!==(m=p(d,r,g,s[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),a=o(m,a,g),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(r,e)})),u}function m(r,s,l,u){var c=ge(l);if(\"function\"!=typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var d=c=null,g=s,m=s=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(r,g,y.value,u);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(r,g),s=o(b,s,m),null===d?c=b:d.sibling=b,d=b,g=v}if(y.done)return n(r,g),c;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=h(r,y.value,u))&&(s=o(y,s,m),null===d?c=y:d.sibling=y,d=y);return c}for(g=i(r,g);!y.done;m++,y=l.next())null!==(y=p(g,r,m,y.value,u))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=o(y,s,m),null===d?c=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(r,e)})),c}return function(e,i,o,l){var u=\"object\"==typeof o&&null!==o&&o.type===ne&&null===o.key;u&&(o=o.props.children);var c=\"object\"==typeof o&&null!==o;if(c)switch(o.$$typeof){case ee:e:{for(c=o.key,u=i;null!==u;){if(u.key===c){switch(u.tag){case 7:if(o.type===ne){n(e,u.sibling),(i=r(u,o.props.children)).return=e,e=i;break e}break;default:if(u.elementType===o.type){n(e,u.sibling),(i=r(u,o.props)).ref=xo(e,u,o),i.return=e,e=i;break e}}n(e,u);break}t(e,u),u=u.sibling}o.type===ne?((i=jl(o.props.children,e.mode,l,o.key)).return=e,e=i):((l=Dl(o.type,o.key,o.props,null,e.mode,l)).ref=xo(e,i,o),l.return=e,e=l)}return s(e);case te:e:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(e,i.sibling),(i=r(i,o.children||[])).return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=Ml(o,e.mode,l)).return=e,e=i}return s(e)}if(\"string\"==typeof o||\"number\"==typeof o)return o=\"\"+o,null!==i&&6===i.tag?(n(e,i.sibling),(i=r(i,o)).return=e,e=i):(n(e,i),(i=Cl(o,e.mode,l)).return=e,e=i),s(e);if(wo(o))return g(e,i,o,l);if(ge(o))return m(e,i,o,l);if(c&&ko(e,o),void 0===o&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||\"Component\"))}return n(e,i)}}var Eo=Oo(!0),So=Oo(!1),Do={},jo={current:Do},Co={current:Do},Mo={current:Do};function To(e){if(e===Do)throw Error(a(174));return e}function Ao(e,t){switch(ur(Mo,t),ur(Co,e),ur(jo,Do),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Re(null,\"\");break;default:t=Re(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}lr(jo),ur(jo,t)}function Fo(){lr(jo),lr(Co),lr(Mo)}function Po(e){To(Mo.current);var t=To(jo.current),n=Re(t,e.type);t!==n&&(ur(Co,e),ur(jo,n))}function No(e){Co.current===e&&(lr(jo),lr(Co))}var zo={current:0};function Ro(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||\"$?\"===n.data||\"$!\"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Io(e,t){return{responder:e,props:t}}var Bo=Z.ReactCurrentDispatcher,Lo=Z.ReactCurrentBatchConfig,$o=0,Wo=null,Uo=null,Yo=null,Ho=!1;function qo(){throw Error(a(321))}function Vo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ri(e[n],t[n]))return!1;return!0}function Go(e,t,n,i,r,o){if($o=o,Wo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Bo.current=null===e||null===e.memoizedState?va:ya,e=n(i,r),t.expirationTime===$o){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Yo=Uo=null,t.updateQueue=null,Bo.current=ba,e=n(i,r)}while(t.expirationTime===$o)}if(Bo.current=ma,t=null!==Uo&&null!==Uo.next,$o=0,Yo=Uo=Wo=null,Ho=!1,t)throw Error(a(300));return e}function Xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Yo?Wo.memoizedState=Yo=e:Yo=Yo.next=e,Yo}function Zo(){if(null===Uo){var e=Wo.alternate;e=null!==e?e.memoizedState:null}else e=Uo.next;var t=null===Yo?Wo.memoizedState:Yo.next;if(null!==t)Yo=t,Uo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Uo=e).memoizedState,baseState:Uo.baseState,baseQueue:Uo.baseQueue,queue:Uo.queue,next:null},null===Yo?Wo.memoizedState=Yo=e:Yo=Yo.next=e}return Yo}function Qo(e,t){return\"function\"==typeof t?t(e):t}function Jo(e){var t=Zo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=Uo,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,n.pending=null}if(null!==r){r=r.next,i=i.baseState;var l=s=o=null,u=r;do{var c=u.expirationTime;if(c<$o){var d={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=d,o=i):l=l.next=d,c>Wo.expirationTime&&(Wo.expirationTime=c,al(c))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),ol(c,u.suspenseConfig),i=u.eagerReducer===e?u.eagerState:e(i,u.action);u=u.next}while(null!==u&&u!==r);null===l?o=i:l.next=s,Ri(i,t.memoizedState)||(Ma=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=l,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function Ko(e){var t=Zo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{o=e(o,s.action),s=s.next}while(s!==r);Ri(o,t.memoizedState)||(Ma=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function ea(e){var t=Xo();return\"function\"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:e}).dispatch=ga.bind(null,Wo,e),[t.memoizedState,e]}function ta(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=Wo.updateQueue)?(t={lastEffect:null},Wo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function na(){return Zo().memoizedState}function ia(e,t,n,i){var r=Xo();Wo.effectTag|=e,r.memoizedState=ta(1|t,n,void 0,void 0===i?null:i)}function ra(e,t,n,i){var r=Zo();i=void 0===i?null:i;var o=void 0;if(null!==Uo){var a=Uo.memoizedState;if(o=a.destroy,null!==i&&Vo(i,a.deps))return void ta(t,n,o,i)}Wo.effectTag|=e,r.memoizedState=ta(1|t,n,o,i)}function oa(e,t){return ia(516,4,e,t)}function aa(e,t){return ra(516,4,e,t)}function sa(e,t){return ra(4,2,e,t)}function la(e,t){return\"function\"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ua(e,t,n){return n=null!=n?n.concat([e]):null,ra(4,2,la.bind(null,t,e),n)}function ca(){}function da(e,t){return Xo().memoizedState=[e,void 0===t?null:t],e}function ha(e,t){var n=Zo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Vo(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function fa(e,t){var n=Zo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Vo(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function pa(e,t,n){var i=Lr();Wr(98>i?98:i,(function(){e(!0)})),Wr(97<i?97:i,(function(){var i=Lo.suspense;Lo.suspense=void 0===t?null:t;try{e(!1),n()}finally{Lo.suspense=i}}))}function ga(e,t,n){var i=qs(),r=fo.suspense;r={expirationTime:i=Vs(i,e,r),suspenseConfig:r,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?r.next=r:(r.next=o.next,o.next=r),t.pending=r,o=e.alternate,e===Wo||null!==o&&o===Wo)Ho=!0,r.expirationTime=$o,Wo.expirationTime=$o;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(r.eagerReducer=o,r.eagerState=s,Ri(s,a))return}catch(e){}Gs(e,i)}}var ma={readContext:io,useCallback:qo,useContext:qo,useEffect:qo,useImperativeHandle:qo,useLayoutEffect:qo,useMemo:qo,useReducer:qo,useRef:qo,useState:qo,useDebugValue:qo,useResponder:qo,useDeferredValue:qo,useTransition:qo},va={readContext:io,useCallback:da,useContext:io,useEffect:oa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ia(4,2,la.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ia(4,2,e,t)},useMemo:function(e,t){var n=Xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Xo();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e=(e=i.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ga.bind(null,Wo,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Xo().memoizedState=e},useState:ea,useDebugValue:ca,useResponder:Io,useDeferredValue:function(e,t){var n=ea(e),i=n[0],r=n[1];return oa((function(){var n=Lo.suspense;Lo.suspense=void 0===t?null:t;try{r(e)}finally{Lo.suspense=n}}),[e,t]),i},useTransition:function(e){var t=ea(!1),n=t[0];return t=t[1],[da(pa.bind(null,t,e),[t,e]),n]}},ya={readContext:io,useCallback:ha,useContext:io,useEffect:aa,useImperativeHandle:ua,useLayoutEffect:sa,useMemo:fa,useReducer:Jo,useRef:na,useState:function(){return Jo(Qo)},useDebugValue:ca,useResponder:Io,useDeferredValue:function(e,t){var n=Jo(Qo),i=n[0],r=n[1];return aa((function(){var n=Lo.suspense;Lo.suspense=void 0===t?null:t;try{r(e)}finally{Lo.suspense=n}}),[e,t]),i},useTransition:function(e){var t=Jo(Qo),n=t[0];return t=t[1],[ha(pa.bind(null,t,e),[t,e]),n]}},ba={readContext:io,useCallback:ha,useContext:io,useEffect:aa,useImperativeHandle:ua,useLayoutEffect:sa,useMemo:fa,useReducer:Ko,useRef:na,useState:function(){return Ko(Qo)},useDebugValue:ca,useResponder:Io,useDeferredValue:function(e,t){var n=Ko(Qo),i=n[0],r=n[1];return aa((function(){var n=Lo.suspense;Lo.suspense=void 0===t?null:t;try{r(e)}finally{Lo.suspense=n}}),[e,t]),i},useTransition:function(e){var t=Ko(Qo),n=t[0];return t=t[1],[ha(pa.bind(null,t,e),[t,e]),n]}},_a=null,wa=null,xa=!1;function ka(e,t){var n=Ol(5,null,null,0);n.elementType=\"DELETED\",n.type=\"DELETED\",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=\"\"===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ea(e){if(xa){var t=wa;if(t){var n=t;if(!Oa(e,t)){if(!(t=wn(n.nextSibling))||!Oa(e,t))return e.effectTag=-1025&e.effectTag|2,xa=!1,void(_a=e);ka(_a,n)}_a=e,wa=wn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,xa=!1,_a=e}}function Sa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;_a=e}function Da(e){if(e!==_a)return!1;if(!xa)return Sa(e),xa=!0,!1;var t=e.type;if(5!==e.tag||\"head\"!==t&&\"body\"!==t&&!yn(t,e.memoizedProps))for(t=wa;t;)ka(e,t),t=wn(t.nextSibling);if(Sa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(\"/$\"===n){if(0===t){wa=wn(e.nextSibling);break e}t--}else\"$\"!==n&&\"$!\"!==n&&\"$?\"!==n||t++}e=e.nextSibling}wa=null}}else wa=_a?wn(e.stateNode.nextSibling):null;return!0}function ja(){wa=_a=null,xa=!1}var Ca=Z.ReactCurrentOwner,Ma=!1;function Ta(e,t,n,i){t.child=null===e?So(t,null,n,i):Eo(t,e.child,n,i)}function Aa(e,t,n,i,r){n=n.render;var o=t.ref;return no(t,r),i=Go(e,t,n,i,o,r),null===e||Ma?(t.effectTag|=1,Ta(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Ga(e,t,r))}function Fa(e,t,n,i,r,o){if(null===e){var a=n.type;return\"function\"!=typeof a||El(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dl(n.type,null,i,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Pa(e,t,a,i,r,o))}return a=e.child,r<o&&(r=a.memoizedProps,(n=null!==(n=n.compare)?n:Bi)(r,i)&&e.ref===t.ref)?Ga(e,t,o):(t.effectTag|=1,(e=Sl(a,i)).ref=t.ref,e.return=t,t.child=e)}function Pa(e,t,n,i,r,o){return null!==e&&Bi(e.memoizedProps,i)&&e.ref===t.ref&&(Ma=!1,r<o)?(t.expirationTime=e.expirationTime,Ga(e,t,o)):za(e,t,n,i,o)}function Na(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function za(e,t,n,i,r){var o=gr(n)?fr:dr.current;return o=pr(t,o),no(t,r),n=Go(e,t,n,i,o,r),null===e||Ma?(t.effectTag|=1,Ta(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Ga(e,t,r))}function Ra(e,t,n,i,r){if(gr(n)){var o=!0;br(t)}else o=!1;if(no(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),yo(t,n,i),_o(t,n,i,r),i=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;\"object\"==typeof u&&null!==u?u=io(u):u=pr(t,u=gr(n)?fr:dr.current);var c=n.getDerivedStateFromProps,d=\"function\"==typeof c||\"function\"==typeof a.getSnapshotBeforeUpdate;d||\"function\"!=typeof a.UNSAFE_componentWillReceiveProps&&\"function\"!=typeof a.componentWillReceiveProps||(s!==i||l!==u)&&bo(t,a,i,u),ro=!1;var h=t.memoizedState;a.state=h,co(t,i,a,r),l=t.memoizedState,s!==i||h!==l||hr.current||ro?(\"function\"==typeof c&&(go(t,n,c,i),l=t.memoizedState),(s=ro||vo(t,n,s,i,h,l,u))?(d||\"function\"!=typeof a.UNSAFE_componentWillMount&&\"function\"!=typeof a.componentWillMount||(\"function\"==typeof a.componentWillMount&&a.componentWillMount(),\"function\"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),\"function\"==typeof a.componentDidMount&&(t.effectTag|=4)):(\"function\"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=i,t.memoizedState=l),a.props=i,a.state=l,a.context=u,i=s):(\"function\"==typeof a.componentDidMount&&(t.effectTag|=4),i=!1)}else a=t.stateNode,ao(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Gr(t.type,s),l=a.context,\"object\"==typeof(u=n.contextType)&&null!==u?u=io(u):u=pr(t,u=gr(n)?fr:dr.current),(d=\"function\"==typeof(c=n.getDerivedStateFromProps)||\"function\"==typeof a.getSnapshotBeforeUpdate)||\"function\"!=typeof a.UNSAFE_componentWillReceiveProps&&\"function\"!=typeof a.componentWillReceiveProps||(s!==i||l!==u)&&bo(t,a,i,u),ro=!1,l=t.memoizedState,a.state=l,co(t,i,a,r),h=t.memoizedState,s!==i||l!==h||hr.current||ro?(\"function\"==typeof c&&(go(t,n,c,i),h=t.memoizedState),(c=ro||vo(t,n,s,i,l,h,u))?(d||\"function\"!=typeof a.UNSAFE_componentWillUpdate&&\"function\"!=typeof a.componentWillUpdate||(\"function\"==typeof a.componentWillUpdate&&a.componentWillUpdate(i,h,u),\"function\"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,h,u)),\"function\"==typeof a.componentDidUpdate&&(t.effectTag|=4),\"function\"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):(\"function\"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),\"function\"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=i,t.memoizedState=h),a.props=i,a.state=h,a.context=u,i=c):(\"function\"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),\"function\"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),i=!1);return Ia(e,t,n,i,o,r)}function Ia(e,t,n,i,r,o){Na(e,t);var a=0!=(64&t.effectTag);if(!i&&!a)return r&&_r(t,n,!1),Ga(e,t,o);i=t.stateNode,Ca.current=t;var s=a&&\"function\"!=typeof n.getDerivedStateFromError?null:i.render();return t.effectTag|=1,null!==e&&a?(t.child=Eo(t,e.child,null,o),t.child=Eo(t,null,s,o)):Ta(e,t,s,o),t.memoizedState=i.state,r&&_r(t,n,!0),t.child}function Ba(e){var t=e.stateNode;t.pendingContext?vr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vr(0,t.context,!1),Ao(e,t.containerInfo)}var La,$a,Wa,Ua={dehydrated:null,retryTime:0};function Ya(e,t,n){var i,r=t.mode,o=t.pendingProps,a=zo.current,s=!1;if((i=0!=(64&t.effectTag))||(i=0!=(2&a)&&(null===e||null!==e.memoizedState)),i?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),ur(zo,1&a),null===e){if(void 0!==o.fallback&&Ea(t),s){if(s=o.fallback,(o=jl(null,r,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=jl(s,r,n,null)).return=t,o.sibling=n,t.memoizedState=Ua,t.child=o,n}return r=o.children,t.memoizedState=null,t.child=So(t,null,r,n)}if(null!==e.memoizedState){if(r=(e=e.child).sibling,s){if(o=o.fallback,(n=Sl(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(r=Sl(r,o)).return=t,n.sibling=r,n.childExpirationTime=0,t.memoizedState=Ua,t.child=n,r}return n=Eo(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=jl(null,r,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=jl(s,r,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Ua,t.child=o,n}return t.memoizedState=null,t.child=Eo(t,e,o.children,n)}function Ha(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),to(e.return,t)}function qa(e,t,n,i,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailExpiration:0,tailMode:r,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailExpiration=0,a.tailMode=r,a.lastEffect=o)}function Va(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(Ta(e,t,i.children,n),0!=(2&(i=zo.current)))i=1&i|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ha(e,n);else if(19===e.tag)Ha(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(ur(zo,i),0==(2&t.mode))t.memoizedState=null;else switch(r){case\"forwards\":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===Ro(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),qa(t,!1,r,n,o,t.lastEffect);break;case\"backwards\":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Ro(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}qa(t,!0,n,null,o,t.lastEffect);break;case\"together\":qa(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ga(e,t,n){null!==e&&(t.dependencies=e.dependencies);var i=t.expirationTime;if(0!==i&&al(i),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Sl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Sl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xa(e,t){switch(e.tailMode){case\"hidden\":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case\"collapsed\":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Za(e,t,n){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return gr(t.type)&&mr(),null;case 3:return Fo(),lr(hr),lr(dr),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Da(t)||(t.effectTag|=4),null;case 5:No(t),n=To(Mo.current);var o=t.type;if(null!==e&&null!=t.stateNode)$a(e,t,o,i,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!i){if(null===t.stateNode)throw Error(a(166));return null}if(e=To(jo.current),Da(t)){i=t.stateNode,o=t.type;var s=t.memoizedProps;switch(i[On]=t,i[En]=s,o){case\"iframe\":case\"object\":case\"embed\":Vt(\"load\",i);break;case\"video\":case\"audio\":for(e=0;e<Ze.length;e++)Vt(Ze[e],i);break;case\"source\":Vt(\"error\",i);break;case\"img\":case\"image\":case\"link\":Vt(\"error\",i),Vt(\"load\",i);break;case\"form\":Vt(\"reset\",i),Vt(\"submit\",i);break;case\"details\":Vt(\"toggle\",i);break;case\"input\":ke(i,s),Vt(\"invalid\",i),ln(n,\"onChange\");break;case\"select\":i._wrapperState={wasMultiple:!!s.multiple},Vt(\"invalid\",i),ln(n,\"onChange\");break;case\"textarea\":Te(i,s),Vt(\"invalid\",i),ln(n,\"onChange\")}for(var l in on(o,s),e=null,s)if(s.hasOwnProperty(l)){var u=s[l];\"children\"===l?\"string\"==typeof u?i.textContent!==u&&(e=[\"children\",u]):\"number\"==typeof u&&i.textContent!==\"\"+u&&(e=[\"children\",\"\"+u]):O.hasOwnProperty(l)&&null!=u&&ln(n,l)}switch(o){case\"input\":_e(i),Se(i,s,!0);break;case\"textarea\":_e(i),Fe(i);break;case\"select\":case\"option\":break;default:\"function\"==typeof s.onClick&&(i.onclick=un)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=ze(o)),e===sn?\"script\"===o?((e=l.createElement(\"div\")).innerHTML=\"<script><\\/script>\",e=e.removeChild(e.firstChild)):\"string\"==typeof i.is?e=l.createElement(o,{is:i.is}):(e=l.createElement(o),\"select\"===o&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,o),e[On]=t,e[En]=i,La(e,t),t.stateNode=e,l=an(o,i),o){case\"iframe\":case\"object\":case\"embed\":Vt(\"load\",e),u=i;break;case\"video\":case\"audio\":for(u=0;u<Ze.length;u++)Vt(Ze[u],e);u=i;break;case\"source\":Vt(\"error\",e),u=i;break;case\"img\":case\"image\":case\"link\":Vt(\"error\",e),Vt(\"load\",e),u=i;break;case\"form\":Vt(\"reset\",e),Vt(\"submit\",e),u=i;break;case\"details\":Vt(\"toggle\",e),u=i;break;case\"input\":ke(e,i),u=xe(e,i),Vt(\"invalid\",e),ln(n,\"onChange\");break;case\"option\":u=je(e,i);break;case\"select\":e._wrapperState={wasMultiple:!!i.multiple},u=r({},i,{value:void 0}),Vt(\"invalid\",e),ln(n,\"onChange\");break;case\"textarea\":Te(e,i),u=Me(e,i),Vt(\"invalid\",e),ln(n,\"onChange\");break;default:u=i}on(o,u);var c=u;for(s in c)if(c.hasOwnProperty(s)){var d=c[s];\"style\"===s?nn(e,d):\"dangerouslySetInnerHTML\"===s?null!=(d=d?d.__html:void 0)&&Be(e,d):\"children\"===s?\"string\"==typeof d?(\"textarea\"!==o||\"\"!==d)&&Le(e,d):\"number\"==typeof d&&Le(e,\"\"+d):\"suppressContentEditableWarning\"!==s&&\"suppressHydrationWarning\"!==s&&\"autoFocus\"!==s&&(O.hasOwnProperty(s)?null!=d&&ln(n,s):null!=d&&Q(e,s,d,l))}switch(o){case\"input\":_e(e),Se(e,i,!1);break;case\"textarea\":_e(e),Fe(e);break;case\"option\":null!=i.value&&e.setAttribute(\"value\",\"\"+ye(i.value));break;case\"select\":e.multiple=!!i.multiple,null!=(n=i.value)?Ce(e,!!i.multiple,n,!1):null!=i.defaultValue&&Ce(e,!!i.multiple,i.defaultValue,!0);break;default:\"function\"==typeof u.onClick&&(e.onclick=un)}vn(o,i)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Wa(0,t,e.memoizedProps,i);else{if(\"string\"!=typeof i&&null===t.stateNode)throw Error(a(166));n=To(Mo.current),To(jo.current),Da(t)?(n=t.stateNode,i=t.memoizedProps,n[On]=t,n.nodeValue!==i&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[On]=t,t.stateNode=n)}return null;case 13:return lr(zo),i=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==i,i=!1,null===e?void 0!==t.memoizedProps.fallback&&Da(t):(i=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!i&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&zo.current)?Ds===_s&&(Ds=ws):(Ds!==_s&&Ds!==ws||(Ds=xs),0!==As&&null!==Os&&(Fl(Os,Ss),Pl(Os,As)))),(n||i)&&(t.effectTag|=4),null);case 4:return Fo(),null;case 10:return eo(t),null;case 17:return gr(t.type)&&mr(),null;case 19:if(lr(zo),null===(i=t.memoizedState))return null;if(o=0!=(64&t.effectTag),null===(s=i.rendering)){if(o)Xa(i,!1);else if(Ds!==_s||null!==e&&0!=(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Ro(s))){for(t.effectTag|=64,Xa(i,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=t.child;null!==i;)s=n,(o=i).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),i=i.sibling;return ur(zo,1&zo.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=Ro(s))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Xa(i,!0),null===i.tail&&\"hidden\"===i.tailMode&&!s.alternate)return null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null),null}else 2*Br()-i.renderingStartTime>i.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,Xa(i,!1),t.expirationTime=t.childExpirationTime=n-1);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=i.last)?n.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(0===i.tailExpiration&&(i.tailExpiration=Br()+500),n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=t.lastEffect,i.renderingStartTime=Br(),n.sibling=null,t=zo.current,ur(zo,o?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function Qa(e){switch(e.tag){case 1:gr(e.type)&&mr();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Fo(),lr(hr),lr(dr),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return No(e),null;case 13:return lr(zo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return lr(zo),null;case 4:return Fo(),null;case 10:return eo(e),null;default:return null}}function Ja(e,t){return{value:e,source:t,stack:ve(t)}}La=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$a=function(e,t,n,i,o){var a=e.memoizedProps;if(a!==i){var s,l,u=t.stateNode;switch(To(jo.current),e=null,n){case\"input\":a=xe(u,a),i=xe(u,i),e=[];break;case\"option\":a=je(u,a),i=je(u,i),e=[];break;case\"select\":a=r({},a,{value:void 0}),i=r({},i,{value:void 0}),e=[];break;case\"textarea\":a=Me(u,a),i=Me(u,i),e=[];break;default:\"function\"!=typeof a.onClick&&\"function\"==typeof i.onClick&&(u.onclick=un)}for(s in on(n,i),n=null,a)if(!i.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if(\"style\"===s)for(l in u=a[s])u.hasOwnProperty(l)&&(n||(n={}),n[l]=\"\");else\"dangerouslySetInnerHTML\"!==s&&\"children\"!==s&&\"suppressContentEditableWarning\"!==s&&\"suppressHydrationWarning\"!==s&&\"autoFocus\"!==s&&(O.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in i){var c=i[s];if(u=null!=a?a[s]:void 0,i.hasOwnProperty(s)&&c!==u&&(null!=c||null!=u))if(\"style\"===s)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]=\"\");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(e||(e=[]),e.push(s,n)),n=c;else\"dangerouslySetInnerHTML\"===s?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(s,c)):\"children\"===s?u===c||\"string\"!=typeof c&&\"number\"!=typeof c||(e=e||[]).push(s,\"\"+c):\"suppressContentEditableWarning\"!==s&&\"suppressHydrationWarning\"!==s&&(O.hasOwnProperty(s)?(null!=c&&ln(o,s),e||u===c||(e=[])):(e=e||[]).push(s,c))}n&&(e=e||[]).push(\"style\",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},Wa=function(e,t,n,i){n!==i&&(t.effectTag|=4)};var Ka=\"function\"==typeof WeakSet?WeakSet:Set;function es(e,t){var n=t.source,i=t.stack;null===i&&null!==n&&(i=ve(n)),null!==n&&me(n.type),t=t.value,null!==e&&1===e.tag&&me(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function ts(e){var t=e.ref;if(null!==t)if(\"function\"==typeof t)try{t(null)}catch(t){yl(e,t)}else t.current=null}function ns(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,i=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Gr(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,void 0!==i&&i()}n=n.next}while(n!==t)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function os(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void rs(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var i=n.elementType===n.type?t.memoizedProps:Gr(n.type,t.memoizedProps);e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&ho(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}ho(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&vn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&zt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(e,t,n){switch(\"function\"==typeof xl&&xl(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var i=e.next;Wr(97<n?97:n,(function(){var e=i;do{var n=e.destroy;if(void 0!==n){var r=t;try{n()}catch(e){yl(r,e)}}e=e.next}while(e!==i)}))}break;case 1:ts(t),\"function\"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){yl(e,t)}}(t,n);break;case 5:ts(t);break;case 4:cs(e,t,n)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function ls(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:{for(var t=e.return;null!==t;){if(ls(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Le(t,\"\"),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ls(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}i?function e(t,n,i){var r=t.tag,o=5===r||6===r;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===i.nodeType?i.parentNode.insertBefore(t,n):i.insertBefore(t,n):(8===i.nodeType?(n=i.parentNode).insertBefore(t,i):(n=i).appendChild(t),null!==(i=i._reactRootContainer)&&void 0!==i||null!==n.onclick||(n.onclick=un));else if(4!==r&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,n,t):function e(t,n,i){var r=t.tag,o=5===r||6===r;if(o)t=o?t.stateNode:t.stateNode.instance,n?i.insertBefore(t,n):i.appendChild(t);else if(4!==r&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,n,t)}function cs(e,t,n){for(var i,r,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(i=s.stateNode,s.tag){case 5:r=!1;break e;case 3:case 4:i=i.containerInfo,r=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var l=e,u=o,c=n,d=u;;)if(as(l,d,c),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===u)break e;for(;null===d.sibling;){if(null===d.return||d.return===u)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r?(l=i,u=o.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):i.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){i=o.stateNode.containerInfo,r=!0,o.child.return=o,o=o.child;continue}}else if(as(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function ds(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void is(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps,r=null!==e?e.memoizedProps:i;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[En]=i,\"input\"===e&&\"radio\"===i.type&&null!=i.name&&Oe(n,i),an(e,r),t=an(e,i),r=0;r<o.length;r+=2){var s=o[r],l=o[r+1];\"style\"===s?nn(n,l):\"dangerouslySetInnerHTML\"===s?Be(n,l):\"children\"===s?Le(n,l):Q(n,s,l,t)}switch(e){case\"input\":Ee(n,i);break;case\"textarea\":Ae(n,i);break;case\"select\":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(e=i.value)?Ce(n,!!i.multiple,e,!1):t!==!!i.multiple&&(null!=i.defaultValue?Ce(n,!!i.multiple,i.defaultValue,!0):Ce(n,!!i.multiple,i.multiple?[]:\"\",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,zt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?i=!1:(i=!0,n=t.child,Ps=Br()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,i?\"function\"==typeof(o=o.style).setProperty?o.setProperty(\"display\",\"none\",\"important\"):o.display=\"none\":(o=e.stateNode,r=null!=(r=e.memoizedProps.style)&&r.hasOwnProperty(\"display\")?r.display:null,o.style.display=tn(\"display\",r));else if(6===e.tag)e.stateNode.nodeValue=i?\"\":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void hs(t);case 19:return void hs(t);case 17:return}throw Error(a(163))}function hs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ka),t.forEach((function(t){var i=_l.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}var fs=\"function\"==typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=so(n,null)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){zs||(zs=!0,Rs=i),es(e,t)},n}function gs(e,t,n){(n=so(n,null)).tag=3;var i=e.type.getDerivedStateFromError;if(\"function\"==typeof i){var r=t.value;n.payload=function(){return es(e,t),i(r)}}var o=e.stateNode;return null!==o&&\"function\"==typeof o.componentDidCatch&&(n.callback=function(){\"function\"!=typeof i&&(null===Is?Is=new Set([this]):Is.add(this),es(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:\"\"})}),n}var ms,vs=Math.ceil,ys=Z.ReactCurrentDispatcher,bs=Z.ReactCurrentOwner,_s=0,ws=3,xs=4,ks=0,Os=null,Es=null,Ss=0,Ds=_s,js=null,Cs=1073741823,Ms=1073741823,Ts=null,As=0,Fs=!1,Ps=0,Ns=null,zs=!1,Rs=null,Is=null,Bs=!1,Ls=null,$s=90,Ws=null,Us=0,Ys=null,Hs=0;function qs(){return 0!=(48&ks)?1073741821-(Br()/10|0):0!==Hs?Hs:Hs=1073741821-(Br()/10|0)}function Vs(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var i=Lr();if(0==(4&t))return 99===i?1073741823:1073741822;if(0!=(16&ks))return Ss;if(null!==n)e=Vr(e,0|n.timeoutMs||5e3,250);else switch(i){case 99:e=1073741823;break;case 98:e=Vr(e,150,100);break;case 97:case 96:e=Vr(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Os&&e===Ss&&--e,e}function Gs(e,t){if(50<Us)throw Us=0,Ys=null,Error(a(185));if(null!==(e=Xs(e,t))){var n=Lr();1073741823===t?0!=(8&ks)&&0==(48&ks)?Ks(e):(Qs(e),0===ks&&Hr()):Qs(e),0==(4&ks)||98!==n&&99!==n||(null===Ws?Ws=new Map([[e,t]]):(void 0===(n=Ws.get(e))||n>t)&&Ws.set(e,t))}}function Xs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var i=e.return,r=null;if(null===i&&3===e.tag)r=e.stateNode;else for(;null!==i;){if(n=i.alternate,i.childExpirationTime<t&&(i.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===i.return&&3===i.tag){r=i.stateNode;break}i=i.return}return null!==r&&(Os===r&&(al(t),Ds===xs&&Fl(r,Ss)),Pl(r,t)),r}function Zs(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Al(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Qs(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Yr(Ks.bind(null,e));else{var t=Zs(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var i=qs();if(1073741823===t?i=99:1===t||2===t?i=95:i=0>=(i=10*(1073741821-t)-10*(1073741821-i))?99:250>=i?98:5250>=i?97:95,null!==n){var r=e.callbackPriority;if(e.callbackExpirationTime===t&&r>=i)return;n!==Ar&&kr(n)}e.callbackExpirationTime=t,e.callbackPriority=i,t=1073741823===t?Yr(Ks.bind(null,e)):Ur(i,Js.bind(null,e),{timeout:10*(1073741821-t)-Br()}),e.callbackNode=t}}}function Js(e,t){if(Hs=0,t)return Nl(e,t=qs()),Qs(e),null;var n=Zs(e);if(0!==n){if(t=e.callbackNode,0!=(48&ks))throw Error(a(327));if(gl(),e===Os&&n===Ss||nl(e,n),null!==Es){var i=ks;ks|=16;for(var r=rl();;)try{ll();break}catch(t){il(e,t)}if(Kr(),ks=i,ys.current=r,1===Ds)throw t=js,nl(e,n),Fl(e,n),Qs(e),t;if(null===Es)switch(r=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,i=Ds,Os=null,i){case _s:case 1:throw Error(a(345));case 2:Nl(e,2<n?2:n);break;case ws:if(Fl(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=dl(r)),1073741823===Cs&&10<(r=Ps+500-Br())){if(Fs){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,nl(e,n);break}}if(0!==(o=Zs(e))&&o!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}e.timeoutHandle=bn(hl.bind(null,e),r);break}hl(e);break;case xs:if(Fl(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=dl(r)),Fs&&(0===(r=e.lastPingedTime)||r>=n)){e.lastPingedTime=n,nl(e,n);break}if(0!==(r=Zs(e))&&r!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}if(1073741823!==Ms?i=10*(1073741821-Ms)-Br():1073741823===Cs?i=0:(i=10*(1073741821-Cs)-5e3,0>(i=(r=Br())-i)&&(i=0),(n=10*(1073741821-n)-r)<(i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*vs(i/1960))-i)&&(i=n)),10<i){e.timeoutHandle=bn(hl.bind(null,e),i);break}hl(e);break;case 5:if(1073741823!==Cs&&null!==Ts){o=Cs;var s=Ts;if(0>=(i=0|s.busyMinDurationMs)?i=0:(r=0|s.busyDelayMs,i=(o=Br()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=r?0:r+i-o),10<i){Fl(e,n),e.timeoutHandle=bn(hl.bind(null,e),i);break}}hl(e);break;default:throw Error(a(329))}if(Qs(e),e.callbackNode===t)return Js.bind(null,e)}}return null}function Ks(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&ks))throw Error(a(327));if(gl(),e===Os&&t===Ss||nl(e,t),null!==Es){var n=ks;ks|=16;for(var i=rl();;)try{sl();break}catch(t){il(e,t)}if(Kr(),ks=n,ys.current=i,1===Ds)throw n=js,nl(e,t),Fl(e,t),Qs(e),n;if(null!==Es)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Os=null,hl(e),Qs(e)}return null}function el(e,t){var n=ks;ks|=1;try{return e(t)}finally{0===(ks=n)&&Hr()}}function tl(e,t){var n=ks;ks&=-2,ks|=8;try{return e(t)}finally{0===(ks=n)&&Hr()}}function nl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,_n(n)),null!==Es)for(n=Es.return;null!==n;){var i=n;switch(i.tag){case 1:null!=(i=i.type.childContextTypes)&&mr();break;case 3:Fo(),lr(hr),lr(dr);break;case 5:No(i);break;case 4:Fo();break;case 13:case 19:lr(zo);break;case 10:eo(i)}n=n.return}Os=e,Es=Sl(e.current,null),Ss=t,Ds=_s,js=null,Ms=Cs=1073741823,Ts=null,As=0,Fs=!1}function il(e,t){for(;;){try{if(Kr(),Bo.current=ma,Ho)for(var n=Wo.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}if($o=0,Yo=Uo=Wo=null,Ho=!1,null===Es||null===Es.return)return Ds=1,js=t,Es=null;e:{var r=e,o=Es.return,a=Es,s=t;if(t=Ss,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&\"object\"==typeof s&&\"function\"==typeof s.then){var l=s;if(0==(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.expirationTime=u.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var c=0!=(1&zo.current),d=o;do{var h;if(h=13===d.tag){var f=d.memoizedState;if(null!==f)h=null!==f.dehydrated;else{var p=d.memoizedProps;h=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(h){var g=d.updateQueue;if(null===g){var m=new Set;m.add(l),d.updateQueue=m}else g.add(l);if(0==(2&d.mode)){if(d.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=so(1073741823,null);v.tag=2,lo(a,v)}a.expirationTime=1073741823;break e}s=void 0,a=t;var y=r.pingCache;if(null===y?(y=r.pingCache=new fs,s=new Set,y.set(l,s)):void 0===(s=y.get(l))&&(s=new Set,y.set(l,s)),!s.has(a)){s.add(a);var b=bl.bind(null,r,l,a);l.then(b,b)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);s=Error((me(a.type)||\"A React component\")+\" suspended while rendering, but no fallback UI was specified.\\n\\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.\"+ve(a))}5!==Ds&&(Ds=2),s=Ja(s,a),d=o;do{switch(d.tag){case 3:l=s,d.effectTag|=4096,d.expirationTime=t,uo(d,ps(d,l,t));break e;case 1:l=s;var _=d.type,w=d.stateNode;if(0==(64&d.effectTag)&&(\"function\"==typeof _.getDerivedStateFromError||null!==w&&\"function\"==typeof w.componentDidCatch&&(null===Is||!Is.has(w)))){d.effectTag|=4096,d.expirationTime=t,uo(d,gs(d,l,t));break e}}d=d.return}while(null!==d)}Es=cl(Es)}catch(e){t=e;continue}break}}function rl(){var e=ys.current;return ys.current=ma,null===e?ma:e}function ol(e,t){e<Cs&&2<e&&(Cs=e),null!==t&&e<Ms&&2<e&&(Ms=e,Ts=t)}function al(e){e>As&&(As=e)}function sl(){for(;null!==Es;)Es=ul(Es)}function ll(){for(;null!==Es&&!Fr();)Es=ul(Es)}function ul(e){var t=ms(e.alternate,e,Ss);return e.memoizedProps=e.pendingProps,null===t&&(t=cl(e)),bs.current=null,t}function cl(e){Es=e;do{var t=Es.alternate;if(e=Es.return,0==(2048&Es.effectTag)){if(t=Za(t,Es,Ss),1===Ss||1!==Es.childExpirationTime){for(var n=0,i=Es.child;null!==i;){var r=i.expirationTime,o=i.childExpirationTime;r>n&&(n=r),o>n&&(n=o),i=i.sibling}Es.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Es.firstEffect),null!==Es.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Es.firstEffect),e.lastEffect=Es.lastEffect),1<Es.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Es:e.firstEffect=Es,e.lastEffect=Es))}else{if(null!==(t=Qa(Es)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Es.sibling))return t;Es=e}while(null!==Es);return Ds===_s&&(Ds=5),null}function dl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function hl(e){var t=Lr();return Wr(99,fl.bind(null,e,t)),null}function fl(e,t){do{gl()}while(null!==Ls);if(0!=(48&ks))throw Error(a(327));var n=e.finishedWork,i=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var r=dl(n);if(e.firstPendingTime=r,i<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:i<=e.firstSuspendedTime&&(e.firstSuspendedTime=i-1),i<=e.lastPingedTime&&(e.lastPingedTime=0),i<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Os&&(Es=Os=null,Ss=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){var o=ks;ks|=32,bs.current=null,gn=qt;var s=fn();if(pn(s)){if(\"selectionStart\"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var u=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{l.nodeType,d.nodeType}catch(e){l=null;break e}var h=0,f=-1,p=-1,g=0,m=0,v=s,y=null;t:for(;;){for(var b;v!==l||0!==c&&3!==v.nodeType||(f=h+c),v!==d||0!==u&&3!==v.nodeType||(p=h+u),3===v.nodeType&&(h+=v.nodeValue.length),null!==(b=v.firstChild);)y=v,v=b;for(;;){if(v===s)break t;if(y===l&&++g===c&&(f=h),y===d&&++m===u&&(p=h),null!==(b=v.nextSibling))break;y=(v=y).parentNode}v=b}l=-1===f||-1===p?null:{start:f,end:p}}else l=null}l=l||{start:0,end:0}}else l=null;mn={activeElementDetached:null,focusedElem:s,selectionRange:l},qt=!1,Ns=r;do{try{pl()}catch(e){if(null===Ns)throw Error(a(330));yl(Ns,e),Ns=Ns.nextEffect}}while(null!==Ns);Ns=r;do{try{for(s=e,l=t;null!==Ns;){var _=Ns.effectTag;if(16&_&&Le(Ns.stateNode,\"\"),128&_){var w=Ns.alternate;if(null!==w){var x=w.ref;null!==x&&(\"function\"==typeof x?x(null):x.current=null)}}switch(1038&_){case 2:us(Ns),Ns.effectTag&=-3;break;case 6:us(Ns),Ns.effectTag&=-3,ds(Ns.alternate,Ns);break;case 1024:Ns.effectTag&=-1025;break;case 1028:Ns.effectTag&=-1025,ds(Ns.alternate,Ns);break;case 4:ds(Ns.alternate,Ns);break;case 8:cs(s,c=Ns,l),ss(c)}Ns=Ns.nextEffect}}catch(e){if(null===Ns)throw Error(a(330));yl(Ns,e),Ns=Ns.nextEffect}}while(null!==Ns);if(x=mn,w=fn(),_=x.focusedElem,l=x.selectionRange,w!==_&&_&&_.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):\"contains\"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(_.ownerDocument.documentElement,_)){null!==l&&pn(_)&&(w=l.start,void 0===(x=l.end)&&(x=w),\"selectionStart\"in _?(_.selectionStart=w,_.selectionEnd=Math.min(x,_.value.length)):(x=(w=_.ownerDocument||document)&&w.defaultView||window).getSelection&&(x=x.getSelection(),c=_.textContent.length,s=Math.min(l.start,c),l=void 0===l.end?s:Math.min(l.end,c),!x.extend&&s>l&&(c=l,l=s,s=c),c=hn(_,s),d=hn(_,l),c&&d&&(1!==x.rangeCount||x.anchorNode!==c.node||x.anchorOffset!==c.offset||x.focusNode!==d.node||x.focusOffset!==d.offset)&&((w=w.createRange()).setStart(c.node,c.offset),x.removeAllRanges(),s>l?(x.addRange(w),x.extend(d.node,d.offset)):(w.setEnd(d.node,d.offset),x.addRange(w))))),w=[];for(x=_;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(\"function\"==typeof _.focus&&_.focus(),_=0;_<w.length;_++)(x=w[_]).element.scrollLeft=x.left,x.element.scrollTop=x.top}qt=!!gn,mn=gn=null,e.current=n,Ns=r;do{try{for(_=e;null!==Ns;){var k=Ns.effectTag;if(36&k&&os(_,Ns.alternate,Ns),128&k){w=void 0;var O=Ns.ref;if(null!==O){var E=Ns.stateNode;switch(Ns.tag){case 5:w=E;break;default:w=E}\"function\"==typeof O?O(w):O.current=w}}Ns=Ns.nextEffect}}catch(e){if(null===Ns)throw Error(a(330));yl(Ns,e),Ns=Ns.nextEffect}}while(null!==Ns);Ns=null,Pr(),ks=o}else e.current=n;if(Bs)Bs=!1,Ls=e,$s=t;else for(Ns=r;null!==Ns;)t=Ns.nextEffect,Ns.nextEffect=null,Ns=t;if(0===(t=e.firstPendingTime)&&(Is=null),1073741823===t?e===Ys?Us++:(Us=0,Ys=e):Us=0,\"function\"==typeof wl&&wl(n.stateNode,i),Qs(e),zs)throw zs=!1,e=Rs,Rs=null,e;return 0!=(8&ks)||Hr(),null}function pl(){for(;null!==Ns;){var e=Ns.effectTag;0!=(256&e)&&ns(Ns.alternate,Ns),0==(512&e)||Bs||(Bs=!0,Ur(97,(function(){return gl(),null}))),Ns=Ns.nextEffect}}function gl(){if(90!==$s){var e=97<$s?97:$s;return $s=90,Wr(e,ml)}}function ml(){if(null===Ls)return!1;var e=Ls;if(Ls=null,0!=(48&ks))throw Error(a(331));var t=ks;for(ks|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:is(5,n),rs(5,n)}}catch(t){if(null===e)throw Error(a(330));yl(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return ks=t,Hr(),!0}function vl(e,t,n){lo(e,t=ps(e,t=Ja(n,t),1073741823)),null!==(e=Xs(e,1073741823))&&Qs(e)}function yl(e,t){if(3===e.tag)vl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){vl(n,e,t);break}if(1===n.tag){var i=n.stateNode;if(\"function\"==typeof n.type.getDerivedStateFromError||\"function\"==typeof i.componentDidCatch&&(null===Is||!Is.has(i))){lo(n,e=gs(n,e=Ja(t,e),1073741823)),null!==(n=Xs(n,1073741823))&&Qs(n);break}}n=n.return}}function bl(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),Os===e&&Ss===n?Ds===xs||Ds===ws&&1073741823===Cs&&Br()-Ps<500?nl(e,Ss):Fs=!0:Al(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Qs(e)))}function _l(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=Vs(t=qs(),e,null)),null!==(e=Xs(e,t))&&Qs(e)}ms=function(e,t,n){var i=t.expirationTime;if(null!==e){var r=t.pendingProps;if(e.memoizedProps!==r||hr.current)Ma=!0;else{if(i<n){switch(Ma=!1,t.tag){case 3:Ba(t),ja();break;case 5:if(Po(t),4&t.mode&&1!==n&&r.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:gr(t.type)&&br(t);break;case 4:Ao(t,t.stateNode.containerInfo);break;case 10:i=t.memoizedProps.value,r=t.type._context,ur(Xr,r._currentValue),r._currentValue=i;break;case 13:if(null!==t.memoizedState)return 0!==(i=t.child.childExpirationTime)&&i>=n?Ya(e,t,n):(ur(zo,1&zo.current),null!==(t=Ga(e,t,n))?t.sibling:null);ur(zo,1&zo.current);break;case 19:if(i=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(i)return Va(e,t,n);t.effectTag|=64}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null),ur(zo,zo.current),!i)return null}return Ga(e,t,n)}Ma=!1}}else Ma=!1;switch(t.expirationTime=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,r=pr(t,dr.current),no(t,n),r=Go(null,t,i,e,r,n),t.effectTag|=1,\"object\"==typeof r&&null!==r&&\"function\"==typeof r.render&&void 0===r.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gr(i)){var o=!0;br(t)}else o=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,oo(t);var s=i.getDerivedStateFromProps;\"function\"==typeof s&&go(t,i,s,e),r.updater=mo,t.stateNode=r,r._reactInternalFiber=t,_o(t,i,e,n),t=Ia(null,t,i,!0,o,n)}else t.tag=0,Ta(null,t,r,n),t=t.child;return t;case 16:e:{if(r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(r),1!==r._status)throw r._result;switch(r=r._result,t.type=r,o=t.tag=function(e){if(\"function\"==typeof e)return El(e)?1:0;if(null!=e){if((e=e.$$typeof)===le)return 11;if(e===de)return 14}return 2}(r),e=Gr(r,e),o){case 0:t=za(null,t,r,e,n);break e;case 1:t=Ra(null,t,r,e,n);break e;case 11:t=Aa(null,t,r,e,n);break e;case 14:t=Fa(null,t,r,Gr(r.type,e),i,n);break e}throw Error(a(306,r,\"\"))}return t;case 0:return i=t.type,r=t.pendingProps,za(e,t,i,r=t.elementType===i?r:Gr(i,r),n);case 1:return i=t.type,r=t.pendingProps,Ra(e,t,i,r=t.elementType===i?r:Gr(i,r),n);case 3:if(Ba(t),i=t.updateQueue,null===e||null===i)throw Error(a(282));if(i=t.pendingProps,r=null!==(r=t.memoizedState)?r.element:null,ao(e,t),co(t,i,null,n),(i=t.memoizedState.element)===r)ja(),t=Ga(e,t,n);else{if((r=t.stateNode.hydrate)&&(wa=wn(t.stateNode.containerInfo.firstChild),_a=t,r=xa=!0),r)for(n=So(t,null,i,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Ta(e,t,i,n),ja();t=t.child}return t;case 5:return Po(t),null===e&&Ea(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,s=r.children,yn(i,r)?s=null:null!==o&&yn(i,o)&&(t.effectTag|=16),Na(e,t),4&t.mode&&1!==n&&r.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Ta(e,t,s,n),t=t.child),t;case 6:return null===e&&Ea(t),null;case 13:return Ya(e,t,n);case 4:return Ao(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Eo(t,null,i,n):Ta(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,Aa(e,t,i,r=t.elementType===i?r:Gr(i,r),n);case 7:return Ta(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ta(e,t,t.pendingProps.children,n),t.child;case 10:e:{i=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value;var l=t.type._context;if(ur(Xr,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=Ri(l,o)?0:0|(\"function\"==typeof i._calculateChangedBits?i._calculateChangedBits(l,o):1073741823))){if(s.children===r.children&&!hr.current){t=Ga(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===i&&0!=(c.observedBits&o)){1===l.tag&&((c=so(n,null)).tag=2,lo(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),to(l.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Ta(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=(o=t.pendingProps).children,no(t,n),i=i(r=io(r,o.unstable_observedBits)),t.effectTag|=1,Ta(e,t,i,n),t.child;case 14:return o=Gr(r=t.type,t.pendingProps),Fa(e,t,r,o=Gr(r.type,o),i,n);case 15:return Pa(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Gr(i,r),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,gr(i)?(e=!0,br(t)):e=!1,no(t,n),yo(t,i,r),_o(t,i,r,n),Ia(null,t,i,!0,e,n);case 19:return Va(e,t,n)}throw Error(a(156,t.tag))};var wl=null,xl=null;function kl(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Ol(e,t,n,i){return new kl(e,t,n,i)}function El(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Sl(e,t){var n=e.alternate;return null===n?((n=Ol(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dl(e,t,n,i,r,o){var s=2;if(i=e,\"function\"==typeof e)El(e)&&(s=1);else if(\"string\"==typeof e)s=5;else e:switch(e){case ne:return jl(n.children,r,o,t);case se:s=8,r|=7;break;case ie:s=8,r|=1;break;case re:return(e=Ol(12,n,t,8|r)).elementType=re,e.type=re,e.expirationTime=o,e;case ue:return(e=Ol(13,n,t,r)).type=ue,e.elementType=ue,e.expirationTime=o,e;case ce:return(e=Ol(19,n,t,r)).elementType=ce,e.expirationTime=o,e;default:if(\"object\"==typeof e&&null!==e)switch(e.$$typeof){case oe:s=10;break e;case ae:s=9;break e;case le:s=11;break e;case de:s=14;break e;case he:s=16,i=null;break e;case fe:s=22;break e}throw Error(a(130,null==e?e:typeof e,\"\"))}return(t=Ol(s,n,t,r)).elementType=e,t.type=i,t.expirationTime=o,t}function jl(e,t,n,i){return(e=Ol(7,e,i,t)).expirationTime=n,e}function Cl(e,t,n){return(e=Ol(6,e,null,t)).expirationTime=n,e}function Ml(e,t,n){return(t=Ol(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Tl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Al(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Fl(e,t){var n=e.firstSuspendedTime,i=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(i>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Pl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Nl(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function zl(e,t,n,i){var r=t.current,o=qs(),s=fo.suspense;o=Vs(o,r,s);e:if(n){t:{if(Ke(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(gr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var u=n.type;if(gr(u)){n=yr(n,u,l);break e}}n=l}else n=cr;return null===t.context?t.context=n:t.pendingContext=n,(t=so(o,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),lo(r,t),Gs(r,o),o}function Rl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Il(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Bl(e,t){Il(e,t),(e=e.alternate)&&Il(e,t)}function Ll(e,t,n){var i=new Tl(e,t,n=null!=n&&!0===n.hydrate),r=Ol(3,null,null,2===t?7:1===t?3:0);i.current=r,r.stateNode=i,oo(r),e[Sn]=i.current,n&&0!==t&&function(e,t){var n=Je(t);St.forEach((function(e){pt(e,t,n)})),Dt.forEach((function(e){pt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=i}function $l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||\" react-mount-point-unstable \"!==e.nodeValue))}function Wl(e,t,n,i,r){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if(\"function\"==typeof r){var s=r;r=function(){var e=Rl(a);s.call(e)}}zl(t,a,e,r)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute(\"data-reactroot\"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ll(e,0,t?{hydrate:!0}:void 0)}(n,i),a=o._internalRoot,\"function\"==typeof r){var l=r;r=function(){var e=Rl(a);l.call(e)}}tl((function(){zl(t,a,e,r)}))}return Rl(a)}function Ul(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==i?null:\"\"+i,children:e,containerInfo:t,implementation:n}}function Yl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$l(t))throw Error(a(200));return Ul(e,t,null,n)}Ll.prototype.render=function(e){zl(e,this._internalRoot,null,null)},Ll.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;zl(null,e,null,(function(){t[Sn]=null}))},gt=function(e){if(13===e.tag){var t=Vr(qs(),150,100);Gs(e,t),Bl(e,t)}},mt=function(e){13===e.tag&&(Gs(e,3),Bl(e,3))},vt=function(e){if(13===e.tag){var t=qs();Gs(e,t=Vs(t,e,null)),Bl(e,t)}},j=function(e,t,n){switch(t){case\"input\":if(Ee(e,n),t=n.name,\"radio\"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+t)+'][type=\"radio\"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=Mn(i);if(!r)throw Error(a(90));we(i),Ee(i,r)}}}break;case\"textarea\":Ae(e,n);break;case\"select\":null!=(t=n.value)&&Ce(e,!!n.multiple,t,!1)}},P=el,N=function(e,t,n,i,r){var o=ks;ks|=4;try{return Wr(98,e.bind(null,t,n,i,r))}finally{0===(ks=o)&&Hr()}},z=function(){0==(49&ks)&&(function(){if(null!==Ws){var e=Ws;Ws=null,e.forEach((function(e,t){Nl(t,e),Qs(t)})),Hr()}}(),gl())},R=function(e,t){var n=ks;ks|=2;try{return e(t)}finally{0===(ks=n)&&Hr()}};var Hl,ql,Vl={Events:[jn,Cn,Mn,S,k,Rn,function(e){rt(e,zn)},A,F,Qt,st,gl,{current:!1}]};ql=(Hl={findFiberByHostInstance:Dn,bundleType:0,version:\"16.13.1\",rendererPackageName:\"react-dom\"}).findFiberByHostInstance,function(e){if(\"undefined\"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);wl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},xl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(r({},Hl,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return ql?ql(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vl,t.createPortal=Yl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if(\"function\"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!=(48&ks))throw Error(a(187));var n=ks;ks|=1;try{return Wr(99,e.bind(null,t))}finally{ks=n,Hr()}},t.hydrate=function(e,t,n){if(!$l(t))throw Error(a(200));return Wl(null,e,t,!0,n)},t.render=function(e,t,n){if(!$l(t))throw Error(a(200));return Wl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$l(e))throw Error(a(40));return!!e._reactRootContainer&&(tl((function(){Wl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Sn]=null}))})),!0)},t.unstable_batchedUpdates=el,t.unstable_createPortal=function(e,t){return Yl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!$l(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Wl(e,t,n,!1,i)},t.version=\"16.13.1\"},function(e,t,n){\"use strict\";e.exports=n(156)},function(e,t,n){\"use strict\";\n/** @license React v0.19.1\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var i,r,o,a,s;if(\"undefined\"==typeof window||\"function\"!=typeof MessageChannel){var l=null,u=null,c=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(c,0),e}},d=Date.now();t.unstable_now=function(){return Date.now()-d},i=function(e){null!==l?setTimeout(i,0,e):(l=e,setTimeout(c,0))},r=function(e,t){u=setTimeout(e,t)},o=function(){clearTimeout(u)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,f=window.Date,p=window.setTimeout,g=window.clearTimeout;if(\"undefined\"!=typeof console){var m=window.cancelAnimationFrame;\"function\"!=typeof window.requestAnimationFrame&&console.error(\"This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\"),\"function\"!=typeof m&&console.error(\"This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\")}if(\"object\"==typeof h&&\"function\"==typeof h.now)t.unstable_now=function(){return h.now()};else{var v=f.now();t.unstable_now=function(){return f.now()-v}}var y=!1,b=null,_=-1,w=5,x=0;a=function(){return t.unstable_now()>=x},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported\"):w=0<e?Math.floor(1e3/e):5};var k=new MessageChannel,O=k.port2;k.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();x=e+w;try{b(!0,e)?O.postMessage(null):(y=!1,b=null)}catch(e){throw O.postMessage(null),e}}else y=!1},i=function(e){b=e,y||(y=!0,O.postMessage(null))},r=function(e,n){_=p((function(){e(t.unstable_now())}),n)},o=function(){g(_),_=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var i=n-1>>>1,r=e[i];if(!(void 0!==r&&0<j(r,t)))break e;e[i]=t,e[n]=r,n=i}}function S(e){return void 0===(e=e[0])?null:e}function D(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length;i<r;){var o=2*(i+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>j(a,n))void 0!==l&&0>j(l,a)?(e[i]=l,e[s]=n,i=s):(e[i]=a,e[o]=n,i=o);else{if(!(void 0!==l&&0>j(l,n)))break e;e[i]=l,e[s]=n,i=s}}}return t}return null}function j(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],M=[],T=1,A=null,F=3,P=!1,N=!1,z=!1;function R(e){for(var t=S(M);null!==t;){if(null===t.callback)D(M);else{if(!(t.startTime<=e))break;D(M),t.sortIndex=t.expirationTime,E(C,t)}t=S(M)}}function I(e){if(z=!1,R(e),!N)if(null!==S(C))N=!0,i(B);else{var t=S(M);null!==t&&r(I,t.startTime-e)}}function B(e,n){N=!1,z&&(z=!1,o()),P=!0;var i=F;try{for(R(n),A=S(C);null!==A&&(!(A.expirationTime>n)||e&&!a());){var s=A.callback;if(null!==s){A.callback=null,F=A.priorityLevel;var l=s(A.expirationTime<=n);n=t.unstable_now(),\"function\"==typeof l?A.callback=l:A===S(C)&&D(C),R(n)}else D(C);A=S(C)}if(null!==A)var u=!0;else{var c=S(M);null!==c&&r(I,c.startTime-n),u=!1}return u}finally{A=null,F=i,P=!1}}function L(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var $=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){N||P||(N=!0,i(B))},t.unstable_getCurrentPriorityLevel=function(){return F},t.unstable_getFirstCallbackNode=function(){return S(C)},t.unstable_next=function(e){switch(F){case 1:case 2:case 3:var t=3;break;default:t=F}var n=F;F=t;try{return e()}finally{F=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=$,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=F;F=e;try{return t()}finally{F=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if(\"object\"==typeof a&&null!==a){var l=a.delay;l=\"number\"==typeof l&&0<l?s+l:s,a=\"number\"==typeof a.timeout?a.timeout:L(e)}else a=L(e),l=s;return e={id:T++,callback:n,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,E(M,e),null===S(C)&&e===S(M)&&(z?o():z=!0,r(I,l-s))):(e.sortIndex=a,E(C,e),N||P||(N=!0,i(B))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();R(e);var n=S(C);return n!==A&&null!==A&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<A.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=F;return function(){var n=F;F=t;try{return e.apply(this,arguments)}finally{F=n}}}},function(e,t,n){var i=n(158)(\"defaultsDeep\",n(271));i.placeholder=n(90),e.exports=i},function(e,t,n){var i=n(159),r=n(161);e.exports=function(e,t,n){return i(r,e,t,n)}},function(e,t,n){var i=n(160),r=n(90),o=Array.prototype.push;function a(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function s(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function l(e,t){return function(){var n=arguments.length;if(n){for(var i=Array(n);n--;)i[n]=arguments[n];var r=i[0]=t.apply(void 0,i);return e.apply(void 0,i),r}}}e.exports=function e(t,n,u,c){var d=\"function\"==typeof n,h=n===Object(n);if(h&&(c=u,u=n,n=void 0),null==u)throw new TypeError;c||(c={});var f=!(\"cap\"in c)||c.cap,p=!(\"curry\"in c)||c.curry,g=!(\"fixed\"in c)||c.fixed,m=!(\"immutable\"in c)||c.immutable,v=!(\"rearg\"in c)||c.rearg,y=d?u:r,b=\"curry\"in c&&c.curry,_=\"fixed\"in c&&c.fixed,w=\"rearg\"in c&&c.rearg,x=d?u.runInContext():void 0,k=d?u:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},O=k.ary,E=k.assign,S=k.clone,D=k.curry,j=k.forEach,C=k.isArray,M=k.isError,T=k.isFunction,A=k.isWeakMap,F=k.keys,P=k.rearg,N=k.toInteger,z=k.toPath,R=F(i.aryMethod),I={castArray:function(e){return function(){var t=arguments[0];return C(t)?e(s(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[0],n=arguments[1],i=e(t,n),r=i.length;return f&&\"number\"==typeof n?(n=n>2?n-2:1,r&&r<=n?i:a(i,n)):i}},mixin:function(e){return function(t){var n=this;if(!T(n))return e(n,Object(t));var i=[];return j(F(t),(function(e){T(t[e])&&i.push([e,n.prototype[e]])})),e(n,Object(t)),j(i,(function(e){var t=e[1];T(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]})),n}},nthArg:function(e){return function(t){var n=t<0?1:N(t)+1;return D(e(t),n)}},rearg:function(e){return function(t,n){var i=n?n.length:0;return D(e(t,n),i)}},runInContext:function(n){return function(i){return e(t,n(i),c)}}};function B(e,t){if(f){var n=i.iterateeRearg[e];if(n)return function(e,t){return Y(e,(function(e){var n=t.length;return function(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(P(a(e,n),t),n)}))}(t,n);var r=!d&&i.iterateeAry[e];if(r)return function(e,t){return Y(e,(function(e){return\"function\"==typeof e?a(e,t):e}))}(t,r)}return t}function L(e,t,n){if(g&&(_||!i.skipFixed[e])){var r=i.methodSpread[e],a=r&&r.start;return void 0===a?O(t,n):function(e,t){return function(){for(var n=arguments.length,i=n-1,r=Array(n);n--;)r[n]=arguments[n];var a=r[t],s=r.slice(0,t);return a&&o.apply(s,a),t!=i&&o.apply(s,r.slice(t+1)),e.apply(this,s)}}(t,a)}return t}function $(e,t,n){return v&&n>1&&(w||!i.skipRearg[e])?P(t,i.methodRearg[e]||i.aryRearg[n]):t}function W(e,t){for(var n=-1,i=(t=z(t)).length,r=i-1,o=S(Object(e)),a=o;null!=a&&++n<i;){var s=t[n],l=a[s];null==l||T(l)||M(l)||A(l)||(a[s]=S(n==r?l:Object(l))),a=a[s]}return o}function U(t,n){var r=i.aliasToReal[t]||t,o=i.remap[r]||r,a=c;return function(t){var i=d?x:k,s=d?x[o]:n,l=E(E({},a),t);return e(i,r,s,l)}}function Y(e,t){return function(){var n=arguments.length;if(!n)return e();for(var i=Array(n);n--;)i[n]=arguments[n];var r=v?0:n-1;return i[r]=t(i[r]),e.apply(void 0,i)}}function H(e,t,n){var r,o=i.aliasToReal[e]||e,a=t,u=I[o];return u?a=u(t):m&&(i.mutate.array[o]?a=l(t,s):i.mutate.object[o]?a=l(t,function(e){return function(t){return e({},t)}}(t)):i.mutate.set[o]&&(a=l(t,W))),j(R,(function(e){return j(i.aryMethod[e],(function(t){if(o==t){var n=i.methodSpread[o],s=n&&n.afterRearg;return r=s?L(o,$(o,a,e),e):$(o,L(o,a,e),e),r=function(e,t,n){return b||p&&n>1?D(t,n):t}(0,r=B(o,r),e),!1}})),!r})),r||(r=a),r==t&&(r=b?D(r,1):function(){return t.apply(this,arguments)}),r.convert=U(o,t),r.placeholder=t.placeholder=n,r}if(!h)return H(n,u,y);var q=u,V=[];return j(R,(function(e){j(i.aryMethod[e],(function(e){var t=q[i.remap[e]||e];t&&V.push([e,H(e,t,q)])}))})),j(F(q),(function(e){var t=q[e];if(\"function\"==typeof t){for(var n=V.length;n--;)if(V[n][0]==e)return;t.convert=U(e,t),V.push([e,t])}})),j(V,(function(e){q[e[0]]=e[1]})),q.convert=function(e){return q.runInContext.convert(e)(void 0)},q.placeholder=q,j(F(q),(function(e){j(i.realToAlias[e]||[],(function(t){q[t]=q[e]}))})),q}},function(e,t){t.aliasToReal={each:\"forEach\",eachRight:\"forEachRight\",entries:\"toPairs\",entriesIn:\"toPairsIn\",extend:\"assignIn\",extendAll:\"assignInAll\",extendAllWith:\"assignInAllWith\",extendWith:\"assignInWith\",first:\"head\",conforms:\"conformsTo\",matches:\"isMatch\",property:\"get\",__:\"placeholder\",F:\"stubFalse\",T:\"stubTrue\",all:\"every\",allPass:\"overEvery\",always:\"constant\",any:\"some\",anyPass:\"overSome\",apply:\"spread\",assoc:\"set\",assocPath:\"set\",complement:\"negate\",compose:\"flowRight\",contains:\"includes\",dissoc:\"unset\",dissocPath:\"unset\",dropLast:\"dropRight\",dropLastWhile:\"dropRightWhile\",equals:\"isEqual\",identical:\"eq\",indexBy:\"keyBy\",init:\"initial\",invertObj:\"invert\",juxt:\"over\",omitAll:\"omit\",nAry:\"ary\",path:\"get\",pathEq:\"matchesProperty\",pathOr:\"getOr\",paths:\"at\",pickAll:\"pick\",pipe:\"flow\",pluck:\"map\",prop:\"get\",propEq:\"matchesProperty\",propOr:\"getOr\",props:\"at\",symmetricDifference:\"xor\",symmetricDifferenceBy:\"xorBy\",symmetricDifferenceWith:\"xorWith\",takeLast:\"takeRight\",takeLastWhile:\"takeRightWhile\",unapply:\"rest\",unnest:\"flatten\",useWith:\"overArgs\",where:\"conformsTo\",whereEq:\"isMatch\",zipObj:\"zipObject\"},t.aryMethod={1:[\"assignAll\",\"assignInAll\",\"attempt\",\"castArray\",\"ceil\",\"create\",\"curry\",\"curryRight\",\"defaultsAll\",\"defaultsDeepAll\",\"floor\",\"flow\",\"flowRight\",\"fromPairs\",\"invert\",\"iteratee\",\"memoize\",\"method\",\"mergeAll\",\"methodOf\",\"mixin\",\"nthArg\",\"over\",\"overEvery\",\"overSome\",\"rest\",\"reverse\",\"round\",\"runInContext\",\"spread\",\"template\",\"trim\",\"trimEnd\",\"trimStart\",\"uniqueId\",\"words\",\"zipAll\"],2:[\"add\",\"after\",\"ary\",\"assign\",\"assignAllWith\",\"assignIn\",\"assignInAllWith\",\"at\",\"before\",\"bind\",\"bindAll\",\"bindKey\",\"chunk\",\"cloneDeepWith\",\"cloneWith\",\"concat\",\"conformsTo\",\"countBy\",\"curryN\",\"curryRightN\",\"debounce\",\"defaults\",\"defaultsDeep\",\"defaultTo\",\"delay\",\"difference\",\"divide\",\"drop\",\"dropRight\",\"dropRightWhile\",\"dropWhile\",\"endsWith\",\"eq\",\"every\",\"filter\",\"find\",\"findIndex\",\"findKey\",\"findLast\",\"findLastIndex\",\"findLastKey\",\"flatMap\",\"flatMapDeep\",\"flattenDepth\",\"forEach\",\"forEachRight\",\"forIn\",\"forInRight\",\"forOwn\",\"forOwnRight\",\"get\",\"groupBy\",\"gt\",\"gte\",\"has\",\"hasIn\",\"includes\",\"indexOf\",\"intersection\",\"invertBy\",\"invoke\",\"invokeMap\",\"isEqual\",\"isMatch\",\"join\",\"keyBy\",\"lastIndexOf\",\"lt\",\"lte\",\"map\",\"mapKeys\",\"mapValues\",\"matchesProperty\",\"maxBy\",\"meanBy\",\"merge\",\"mergeAllWith\",\"minBy\",\"multiply\",\"nth\",\"omit\",\"omitBy\",\"overArgs\",\"pad\",\"padEnd\",\"padStart\",\"parseInt\",\"partial\",\"partialRight\",\"partition\",\"pick\",\"pickBy\",\"propertyOf\",\"pull\",\"pullAll\",\"pullAt\",\"random\",\"range\",\"rangeRight\",\"rearg\",\"reject\",\"remove\",\"repeat\",\"restFrom\",\"result\",\"sampleSize\",\"some\",\"sortBy\",\"sortedIndex\",\"sortedIndexOf\",\"sortedLastIndex\",\"sortedLastIndexOf\",\"sortedUniqBy\",\"split\",\"spreadFrom\",\"startsWith\",\"subtract\",\"sumBy\",\"take\",\"takeRight\",\"takeRightWhile\",\"takeWhile\",\"tap\",\"throttle\",\"thru\",\"times\",\"trimChars\",\"trimCharsEnd\",\"trimCharsStart\",\"truncate\",\"union\",\"uniqBy\",\"uniqWith\",\"unset\",\"unzipWith\",\"without\",\"wrap\",\"xor\",\"zip\",\"zipObject\",\"zipObjectDeep\"],3:[\"assignInWith\",\"assignWith\",\"clamp\",\"differenceBy\",\"differenceWith\",\"findFrom\",\"findIndexFrom\",\"findLastFrom\",\"findLastIndexFrom\",\"getOr\",\"includesFrom\",\"indexOfFrom\",\"inRange\",\"intersectionBy\",\"intersectionWith\",\"invokeArgs\",\"invokeArgsMap\",\"isEqualWith\",\"isMatchWith\",\"flatMapDepth\",\"lastIndexOfFrom\",\"mergeWith\",\"orderBy\",\"padChars\",\"padCharsEnd\",\"padCharsStart\",\"pullAllBy\",\"pullAllWith\",\"rangeStep\",\"rangeStepRight\",\"reduce\",\"reduceRight\",\"replace\",\"set\",\"slice\",\"sortedIndexBy\",\"sortedLastIndexBy\",\"transform\",\"unionBy\",\"unionWith\",\"update\",\"xorBy\",\"xorWith\",\"zipWith\"],4:[\"fill\",\"setWith\",\"updateWith\"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,i={};for(var r in n){var o=n[r];e.call(i,o)?i[o].push(r):i[o]=[r]}return i}(),t.remap={assignAll:\"assign\",assignAllWith:\"assignWith\",assignInAll:\"assignIn\",assignInAllWith:\"assignInWith\",curryN:\"curry\",curryRightN:\"curryRight\",defaultsAll:\"defaults\",defaultsDeepAll:\"defaultsDeep\",findFrom:\"find\",findIndexFrom:\"findIndex\",findLastFrom:\"findLast\",findLastIndexFrom:\"findLastIndex\",getOr:\"get\",includesFrom:\"includes\",indexOfFrom:\"indexOf\",invokeArgs:\"invoke\",invokeArgsMap:\"invokeMap\",lastIndexOfFrom:\"lastIndexOf\",mergeAll:\"merge\",mergeAllWith:\"mergeWith\",padChars:\"pad\",padCharsEnd:\"padEnd\",padCharsStart:\"padStart\",propertyOf:\"get\",rangeStep:\"range\",rangeStepRight:\"rangeRight\",restFrom:\"rest\",spreadFrom:\"spread\",trimChars:\"trim\",trimCharsEnd:\"trimEnd\",trimCharsStart:\"trimStart\",zipAll:\"zip\"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},function(e,t,n){e.exports={ary:n(162),assign:n(109),clone:n(197),curry:n(239),forEach:n(60),isArray:n(5),isError:n(240),isFunction:n(30),isWeakMap:n(241),iteratee:n(242),keys:n(112),rearg:n(266),toInteger:n(108),toPath:n(270)}},function(e,t,n){var i=n(56);e.exports=function(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,i(e,128,void 0,void 0,void 0,void 0,t)}},function(e,t,n){var i=n(30),r=n(166),o=n(6),a=n(95),s=/^\\[object .+?Constructor\\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,d=u.hasOwnProperty,h=RegExp(\"^\"+c.call(d).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");e.exports=function(e){return!(!o(e)||r(e))&&(i(e)?h:s).test(a(e))}},function(e,t,n){var i=n(14),r=Object.prototype,o=r.hasOwnProperty,a=r.toString,s=i?i.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var i=!0}catch(e){}var r=a.call(e);return i&&(t?e[s]=n:delete e[s]),r}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var i,r=n(167),o=(i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+i:\"\";e.exports=function(e){return!!o&&o in e}},function(e,t,n){var i=n(4)[\"__core-js_shared__\"];e.exports=i},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var i=n(32),r=n(4);e.exports=function(e,t,n){var o=1&t,a=i(e);return function t(){var i=this&&this!==r&&this instanceof t?a:e;return i.apply(o?n:this,arguments)}}},function(e,t,n){var i=n(34),r=n(32),o=n(96),a=n(99),s=n(107),l=n(61),u=n(4);e.exports=function(e,t,n){var c=r(e);return function r(){for(var d=arguments.length,h=Array(d),f=d,p=s(r);f--;)h[f]=arguments[f];var g=d<3&&h[0]!==p&&h[d-1]!==p?[]:l(h,p);if((d-=g.length)<n)return a(e,t,o,r.placeholder,void 0,h,g,void 0,void 0,n-d);var m=this&&this!==u&&this instanceof r?c:e;return i(m,this,h)}}},function(e,t){e.exports=function(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}},function(e,t,n){var i=n(57),r=n(100),o=n(174),a=n(176);e.exports=function(e){var t=o(e),n=a[t];if(\"function\"!=typeof n||!(t in i.prototype))return!1;if(e===n)return!0;var s=r(n);return!!s&&e===s[0]}},function(e,t){e.exports=function(){}},function(e,t,n){var i=n(175),r=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+\"\",n=i[t],o=r.call(i,t)?n.length:0;o--;){var a=n[o],s=a.func;if(null==s||s==e)return a.name}return t}},function(e,t){e.exports={}},function(e,t,n){var i=n(57),r=n(101),o=n(58),a=n(5),s=n(7),l=n(177),u=Object.prototype.hasOwnProperty;function c(e){if(s(e)&&!a(e)&&!(e instanceof i)){if(e instanceof r)return e;if(u.call(e,\"__wrapped__\"))return l(e)}return new r(e)}c.prototype=o.prototype,c.prototype.constructor=c,e.exports=c},function(e,t,n){var i=n(57),r=n(101),o=n(19);e.exports=function(e){if(e instanceof i)return e.clone();var t=new r(e.__wrapped__,e.__chain__);return t.__actions__=o(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},function(e,t){var n=/\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,i=/,? & /;e.exports=function(e){var t=e.match(n);return t?t[1].split(i):[]}},function(e,t){var n=/\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/;e.exports=function(e,t){var i=t.length;if(!i)return e;var r=i-1;return t[r]=(i>1?\"& \":\"\")+t[r],t=t.join(i>2?\", \":\" \"),e.replace(n,\"{\\n/* [wrapped with \"+t+\"] */\\n\")}},function(e,t,n){var i=n(181),r=n(105),o=n(29),a=r?function(e,t){return r(e,\"toString\",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:o;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,n){var i=n(60),r=n(106),o=[[\"ary\",128],[\"bind\",1],[\"bindKey\",2],[\"curry\",8],[\"curryRight\",16],[\"flip\",512],[\"partial\",32],[\"partialRight\",64],[\"rearg\",256]];e.exports=function(e,t){return i(o,(function(n){var i=\"_.\"+n[0];t&n[1]&&!r(e,i)&&e.push(i)})),e.sort()}},function(e,t,n){var i=n(184),r=n(185),o=n(186);e.exports=function(e,t,n){return t==t?o(e,t,n):i(e,r,n)}},function(e,t){e.exports=function(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}},function(e,t,n){var i=n(19),r=n(35),o=Math.min;e.exports=function(e,t){for(var n=e.length,a=o(t.length,n),s=i(e);a--;){var l=t[a];e[a]=r(l,n)?s[l]:void 0}return e}},function(e,t,n){var i=n(34),r=n(32),o=n(4);e.exports=function(e,t,n,a){var s=1&t,l=r(e);return function t(){for(var r=-1,u=arguments.length,c=-1,d=a.length,h=Array(d+u),f=this&&this!==o&&this instanceof t?l:e;++c<d;)h[c]=a[c];for(;u--;)h[c++]=arguments[++r];return i(f,s?n:this,h)}}},function(e,t,n){var i=n(97),r=n(98),o=n(61),a=Math.min;e.exports=function(e,t){var n=e[1],s=t[1],l=n|s,u=l<131,c=128==s&&8==n||128==s&&256==n&&e[7].length<=t[8]||384==s&&t[7].length<=t[8]&&8==n;if(!u&&!c)return e;1&s&&(e[2]=t[2],l|=1&n?0:4);var d=t[3];if(d){var h=e[3];e[3]=h?i(h,d,t[4]):d,e[4]=h?o(e[3],\"__lodash_placeholder__\"):t[4]}return(d=t[5])&&(h=e[5],e[5]=h?r(h,d,t[6]):d,e[6]=h?o(e[5],\"__lodash_placeholder__\"):t[6]),(d=t[7])&&(e[7]=d),128&s&&(e[8]=null==e[8]?t[8]:a(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=l,e}},function(e,t,n){var i=n(191);e.exports=function(e){return e?(e=i(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},function(e,t,n){var i=n(6),r=n(20),o=/^\\s+|\\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if(\"number\"==typeof e)return e;if(r(e))return NaN;if(i(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=e.replace(o,\"\");var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},function(e,t){e.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}},function(e,t,n){var i=n(12),r=n(7);e.exports=function(e){return r(e)&&\"[object Arguments]\"==i(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var i=n(12),r=n(65),o=n(7),a={};a[\"[object Float32Array]\"]=a[\"[object Float64Array]\"]=a[\"[object Int8Array]\"]=a[\"[object Int16Array]\"]=a[\"[object Int32Array]\"]=a[\"[object Uint8Array]\"]=a[\"[object Uint8ClampedArray]\"]=a[\"[object Uint16Array]\"]=a[\"[object Uint32Array]\"]=!0,a[\"[object Arguments]\"]=a[\"[object Array]\"]=a[\"[object ArrayBuffer]\"]=a[\"[object Boolean]\"]=a[\"[object DataView]\"]=a[\"[object Date]\"]=a[\"[object Error]\"]=a[\"[object Function]\"]=a[\"[object Map]\"]=a[\"[object Number]\"]=a[\"[object Object]\"]=a[\"[object RegExp]\"]=a[\"[object Set]\"]=a[\"[object String]\"]=a[\"[object WeakMap]\"]=!1,e.exports=function(e){return o(e)&&r(e.length)&&!!a[i(e)]}},function(e,t,n){var i=n(113)(Object.keys,Object);e.exports=i},function(e,t,n){var i=n(114);e.exports=function(e){return i(e,4)}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var i=n(43),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():r.call(t,n,1),--this.size,!0)}},function(e,t,n){var i=n(43);e.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var i=n(43);e.exports=function(e){return i(this.__data__,e)>-1}},function(e,t,n){var i=n(43);e.exports=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},function(e,t,n){var i=n(42);e.exports=function(){this.__data__=new i,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var i=n(42),r=n(68),o=n(69);e.exports=function(e,t){var n=this.__data__;if(n instanceof i){var a=n.__data__;if(!r||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var i=n(209),r=n(42),o=n(68);e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(o||r),string:new i}}},function(e,t,n){var i=n(210),r=n(211),o=n(212),a=n(213),s=n(214);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var i=n(44);e.exports=function(){this.__data__=i?i(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var i=n(44),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(i){var n=t[e];return\"__lodash_hash_undefined__\"===n?void 0:n}return r.call(t,e)?t[e]:void 0}},function(e,t,n){var i=n(44),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:r.call(t,e)}},function(e,t,n){var i=n(44);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?\"__lodash_hash_undefined__\":t,this}},function(e,t,n){var i=n(45);e.exports=function(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return\"string\"==t||\"number\"==t||\"symbol\"==t||\"boolean\"==t?\"__proto__\"!==e:null===e}},function(e,t,n){var i=n(45);e.exports=function(e){return i(this,e).get(e)}},function(e,t,n){var i=n(45);e.exports=function(e){return i(this,e).has(e)}},function(e,t,n){var i=n(45);e.exports=function(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},function(e,t,n){var i=n(21),r=n(23);e.exports=function(e,t){return e&&i(t,r(t),e)}},function(e,t,n){var i=n(6),r=n(67),o=n(222),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return o(e);var t=r(e),n=[];for(var s in e)(\"constructor\"!=s||!t&&a.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var i=n(21),r=n(70);e.exports=function(e,t){return i(e,r(e),t)}},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}},function(e,t,n){var i=n(21),r=n(117);e.exports=function(e,t){return i(e,r(e),t)}},function(e,t,n){var i=n(119),r=n(117),o=n(23);e.exports=function(e){return i(e,o,r)}},function(e,t,n){var i=n(11)(n(4),\"DataView\");e.exports=i},function(e,t,n){var i=n(11)(n(4),\"Promise\");e.exports=i},function(e,t,n){var i=n(11)(n(4),\"Set\");e.exports=i},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,i=new e.constructor(t);return t&&\"string\"==typeof e[0]&&n.call(e,\"index\")&&(i.index=e.index,i.input=e.input),i}},function(e,t,n){var i=n(73),r=n(232),o=n(233),a=n(234),s=n(121);e.exports=function(e,t,n){var l=e.constructor;switch(t){case\"[object ArrayBuffer]\":return i(e);case\"[object Boolean]\":case\"[object Date]\":return new l(+e);case\"[object DataView]\":return r(e,n);case\"[object Float32Array]\":case\"[object Float64Array]\":case\"[object Int8Array]\":case\"[object Int16Array]\":case\"[object Int32Array]\":case\"[object Uint8Array]\":case\"[object Uint8ClampedArray]\":case\"[object Uint16Array]\":case\"[object Uint32Array]\":return s(e,n);case\"[object Map]\":return new l;case\"[object Number]\":case\"[object String]\":return new l(e);case\"[object RegExp]\":return o(e);case\"[object Set]\":return new l;case\"[object Symbol]\":return a(e)}}},function(e,t,n){var i=n(73);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var i=n(14),r=i?i.prototype:void 0,o=r?r.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},function(e,t,n){var i=n(236),r=n(39),o=n(66),a=o&&o.isMap,s=a?r(a):i;e.exports=s},function(e,t,n){var i=n(24),r=n(7);e.exports=function(e){return r(e)&&\"[object Map]\"==i(e)}},function(e,t,n){var i=n(238),r=n(39),o=n(66),a=o&&o.isSet,s=a?r(a):i;e.exports=s},function(e,t,n){var i=n(24),r=n(7);e.exports=function(e){return r(e)&&\"[object Set]\"==i(e)}},function(e,t,n){var i=n(56);function r(e,t,n){var o=i(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return o.placeholder=r.placeholder,o}r.placeholder={},e.exports=r},function(e,t,n){var i=n(12),r=n(7),o=n(123);e.exports=function(e){if(!r(e))return!1;var t=i(e);return\"[object Error]\"==t||\"[object DOMException]\"==t||\"string\"==typeof e.message&&\"string\"==typeof e.name&&!o(e)}},function(e,t,n){var i=n(24),r=n(7);e.exports=function(e){return r(e)&&\"[object WeakMap]\"==i(e)}},function(e,t,n){var i=n(114),r=n(243);e.exports=function(e){return r(\"function\"==typeof e?e:i(e,1))}},function(e,t,n){var i=n(244),r=n(255),o=n(29),a=n(5),s=n(263);e.exports=function(e){return\"function\"==typeof e?e:null==e?o:\"object\"==typeof e?a(e)?r(e[0],e[1]):i(e):s(e)}},function(e,t,n){var i=n(245),r=n(254),o=n(128);e.exports=function(e){var t=r(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}},function(e,t,n){var i=n(41),r=n(74);e.exports=function(e,t,n,o){var a=n.length,s=a,l=!o;if(null==e)return!s;for(e=Object(e);a--;){var u=n[a];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var c=(u=n[a])[0],d=e[c],h=u[1];if(l&&u[2]){if(void 0===d&&!(c in e))return!1}else{var f=new i;if(o)var p=o(d,h,c,e,t,f);if(!(void 0===p?r(h,d,3,o,f):p))return!1}}return!0}},function(e,t,n){var i=n(41),r=n(124),o=n(250),a=n(253),s=n(24),l=n(5),u=n(38),c=n(64),d=\"[object Object]\",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,f,p,g){var m=l(e),v=l(t),y=m?\"[object Array]\":s(e),b=v?\"[object Array]\":s(t),_=(y=\"[object Arguments]\"==y?d:y)==d,w=(b=\"[object Arguments]\"==b?d:b)==d,x=y==b;if(x&&u(e)){if(!u(t))return!1;m=!0,_=!1}if(x&&!_)return g||(g=new i),m||c(e)?r(e,t,n,f,p,g):o(e,t,y,n,f,p,g);if(!(1&n)){var k=_&&h.call(e,\"__wrapped__\"),O=w&&h.call(t,\"__wrapped__\");if(k||O){var E=k?e.value():e,S=O?t.value():t;return g||(g=new i),p(E,S,n,f,g)}}return!!x&&(g||(g=new i),a(e,t,n,f,p,g))}},function(e,t){e.exports=function(e){return this.__data__.set(e,\"__lodash_hash_undefined__\"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}},function(e,t,n){var i=n(14),r=n(120),o=n(22),a=n(124),s=n(251),l=n(252),u=i?i.prototype:void 0,c=u?u.valueOf:void 0;e.exports=function(e,t,n,i,u,d,h){switch(n){case\"[object DataView]\":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case\"[object ArrayBuffer]\":return!(e.byteLength!=t.byteLength||!d(new r(e),new r(t)));case\"[object Boolean]\":case\"[object Date]\":case\"[object Number]\":return o(+e,+t);case\"[object Error]\":return e.name==t.name&&e.message==t.message;case\"[object RegExp]\":case\"[object String]\":return e==t+\"\";case\"[object Map]\":var f=s;case\"[object Set]\":var p=1&i;if(f||(f=l),e.size!=t.size&&!p)return!1;var g=h.get(e);if(g)return g==t;i|=2,h.set(e,t);var m=a(f(e),f(t),i,u,d,h);return h.delete(e),m;case\"[object Symbol]\":if(c)return c.call(e)==c.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){var i=n(118),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var l=1&n,u=i(e),c=u.length;if(c!=i(t).length&&!l)return!1;for(var d=c;d--;){var h=u[d];if(!(l?h in t:r.call(t,h)))return!1}var f=s.get(e),p=s.get(t);if(f&&p)return f==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var m=l;++d<c;){var v=e[h=u[d]],y=t[h];if(o)var b=l?o(y,v,h,t,e,s):o(v,y,h,e,t,s);if(!(void 0===b?v===y||a(v,y,n,o,s):b)){g=!1;break}m||(m=\"constructor\"==h)}if(g&&!m){var _=e.constructor,w=t.constructor;_==w||!(\"constructor\"in e)||!(\"constructor\"in t)||\"function\"==typeof _&&_ instanceof _&&\"function\"==typeof w&&w instanceof w||(g=!1)}return s.delete(e),s.delete(t),g}},function(e,t,n){var i=n(127),r=n(36);e.exports=function(e){for(var t=r(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,i(a)]}return t}},function(e,t,n){var i=n(74),r=n(256),o=n(260),a=n(75),s=n(127),l=n(128),u=n(25);e.exports=function(e,t){return a(e)&&s(t)?l(u(e),t):function(n){var a=r(n,e);return void 0===a&&a===t?o(n,e):i(t,a,3)}}},function(e,t,n){var i=n(129);e.exports=function(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}},function(e,t,n){var i=n(258);e.exports=function(e){var t=i(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var i=n(69);function r(e,t){if(\"function\"!=typeof e||null!=t&&\"function\"!=typeof t)throw new TypeError(\"Expected a function\");var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(r.Cache||i),n}r.Cache=i,e.exports=r},function(e,t,n){var i=n(14),r=n(76),o=n(5),a=n(20),s=i?i.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if(\"string\"==typeof t)return t;if(o(t))return r(t,e)+\"\";if(a(t))return l?l.call(t):\"\";var n=t+\"\";return\"0\"==n&&1/t==-1/0?\"-0\":n}},function(e,t,n){var i=n(261),r=n(262);e.exports=function(e,t){return null!=e&&r(e,t,i)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var i=n(130),r=n(37),o=n(5),a=n(35),s=n(65),l=n(25);e.exports=function(e,t,n){for(var u=-1,c=(t=i(t,e)).length,d=!1;++u<c;){var h=l(t[u]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++u!=c?d:!!(c=null==e?0:e.length)&&s(c)&&a(h,c)&&(o(e)||r(e))}},function(e,t,n){var i=n(264),r=n(265),o=n(75),a=n(25);e.exports=function(e){return o(e)?i(a(e)):r(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var i=n(129);e.exports=function(e){return function(t){return i(t,e)}}},function(e,t,n){var i=n(56),r=n(267),o=r((function(e,t){return i(e,256,void 0,void 0,void 0,t)}));e.exports=o},function(e,t,n){var i=n(268),r=n(134),o=n(59);e.exports=function(e){return o(r(e,void 0,i),e+\"\")}},function(e,t,n){var i=n(133);e.exports=function(e){return(null==e?0:e.length)?i(e,1):[]}},function(e,t,n){var i=n(14),r=n(37),o=n(5),a=i?i.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||r(e)||!!(a&&e&&e[a])}},function(e,t,n){var i=n(76),r=n(19),o=n(5),a=n(20),s=n(131),l=n(25),u=n(132);e.exports=function(e){return o(e)?i(e,l):a(e)?[e]:r(s(u(e)))}},function(e,t,n){var i=n(34),r=n(77),o=n(272),a=n(277),s=r((function(e){return e.push(void 0,o),i(a,void 0,e)}));e.exports=s},function(e,t,n){var i=n(135),r=n(6);e.exports=function e(t,n,o,a,s,l){return r(t)&&r(n)&&(l.set(n,t),i(t,n,void 0,e,l),l.delete(n)),t}},function(e,t,n){var i=n(274)();e.exports=i},function(e,t){e.exports=function(e){return function(t,n,i){for(var r=-1,o=Object(t),a=i(t),s=a.length;s--;){var l=a[e?s:++r];if(!1===n(o[l],l,o))break}return t}}},function(e,t,n){var i=n(136),r=n(115),o=n(121),a=n(19),s=n(122),l=n(37),u=n(5),c=n(137),d=n(38),h=n(30),f=n(6),p=n(123),g=n(64),m=n(138),v=n(276);e.exports=function(e,t,n,y,b,_,w){var x=m(e,n),k=m(t,n),O=w.get(k);if(O)i(e,n,O);else{var E=_?_(x,k,n+\"\",e,t,w):void 0,S=void 0===E;if(S){var D=u(k),j=!D&&d(k),C=!D&&!j&&g(k);E=k,D||j||C?u(x)?E=x:c(x)?E=a(x):j?(S=!1,E=r(k,!0)):C?(S=!1,E=o(k,!0)):E=[]:p(k)||l(k)?(E=x,l(x)?E=v(x):f(x)&&!h(x)||(E=s(k))):S=!1}S&&(w.set(k,E),b(E,k,y,_,w),w.delete(k)),i(e,n,E)}}},function(e,t,n){var i=n(21),r=n(23);e.exports=function(e){return i(e,r(e))}},function(e,t,n){var i=n(135),r=n(278)((function(e,t,n,r){i(e,t,n,r)}));e.exports=r},function(e,t,n){var i=n(77),r=n(279);e.exports=function(e){return i((function(t,n){var i=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&\"function\"==typeof a?(o--,a):void 0,s&&r(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++i<o;){var l=n[i];l&&e(t,l,i,a)}return t}))}},function(e,t,n){var i=n(22),r=n(40),o=n(35),a=n(6);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!(\"number\"==s?r(n)&&o(t,n.length):\"string\"==s&&t in n)&&i(n[t],e)}},function(e,t,n){var i=n(74);e.exports=function(e,t){return i(e,t)}},function(e,t,n){var i=n(282),r=n(133),o=n(77),a=n(137),s=n(284),l=o((function(e,t){var n=s(t);return a(n)&&(n=void 0),a(e)?i(e,r(t,1,a,!0),void 0,n):[]}));e.exports=l},function(e,t,n){var i=n(125),r=n(106),o=n(283),a=n(76),s=n(39),l=n(126);e.exports=function(e,t,n,u){var c=-1,d=r,h=!0,f=e.length,p=[],g=t.length;if(!f)return p;n&&(t=a(t,s(n))),u?(d=o,h=!1):t.length>=200&&(d=l,h=!1,t=new i(t));e:for(;++c<f;){var m=e[c],v=null==n?m:n(m);if(m=u||0!==m?m:0,h&&v==v){for(var y=g;y--;)if(t[y]===v)continue e;p.push(m)}else d(t,v,u)||p.push(m)}return p}},function(e,t){e.exports=function(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}},function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},function(e,t,n){\"use strict\";n.r(t),function(e){n.d(t,\"DOMutil\",(function(){return Du})),n.d(t,\"DataSet\",(function(){return Lr})),n.d(t,\"DataView\",(function(){return $r})),n.d(t,\"Hammer\",(function(){return as})),n.d(t,\"Network\",(function(){return yu})),n.d(t,\"Queue\",(function(){return Fr})),n.d(t,\"data\",(function(){return Ur})),n.d(t,\"keycharm\",(function(){return Fo})),n.d(t,\"moment\",(function(){return Mu})),n.d(t,\"network\",(function(){return Tu})),n.d(t,\"util\",(function(){return Ki}));\n/**\n * vis-network - network\n * http://visjs.org/\n *\n * A dynamic, browser-based visualization library.\n *\n * @version 5.4.1\n * @date    2019-09-06T18:48:22Z\n *\n * @copyright (c) 2011-2017 Almende B.V, http://almende.com\n * @copyright (c) 2018-2019 visjs contributors, https://github.com/visjs\n *\n * @license \n * vis.js is dual licensed under both\n *\n *   1. The Apache 2.0 License\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n *   and\n *\n *   2. The MIT License\n *      http://opensource.org/licenses/MIT\n *\n * vis.js may be distributed under either license.\n */\n\"undefined\"==typeof globalThis?\"undefined\"==typeof window?void 0===e&&(\"undefined\"==typeof self||self):window:globalThis;function i(e,t){return e(t={exports:{}},t.exports),t.exports}var r=i((function(e){var t=e.exports=\"undefined\"!=typeof window&&window.Math==Math?window:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")();\"number\"==typeof __g&&(__g=t)})),o=i((function(e){var t=e.exports={version:\"2.6.9\"};\"number\"==typeof __e&&(__e=t)})),a=(o.version,i((function(e){var t=r[\"__core-js_shared__\"]||(r[\"__core-js_shared__\"]={});(e.exports=function(e,n){return t[e]||(t[e]=void 0===n?{}:n)})(\"versions\",[]).push({version:o.version,mode:\"global\",copyright:\"© 2019 Denis Pushkarev (zloirock.ru)\"})}))),s=0,l=Math.random(),u=function(e){return\"Symbol(\".concat(void 0===e?\"\":e,\")_\",(++s+l).toString(36))},c=i((function(e){var t=a(\"wks\"),n=r.Symbol,i=\"function\"==typeof n;(e.exports=function(e){return t[e]||(t[e]=i&&n[e]||(i?n:u)(\"Symbol.\"+e))}).store=t})),d={f:c},h=function(e){return\"object\"==typeof e?null!==e:\"function\"==typeof e},f=function(e){if(!h(e))throw TypeError(e+\" is not an object!\");return e},p=function(e){try{return!!e()}catch(e){return!0}},g=!p((function(){return 7!=Object.defineProperty({},\"a\",{get:function(){return 7}}).a})),m=r.document,v=h(m)&&h(m.createElement),y=function(e){return v?m.createElement(e):{}},b=!g&&!p((function(){return 7!=Object.defineProperty(y(\"div\"),\"a\",{get:function(){return 7}}).a})),_=function(e,t){if(!h(e))return e;var n,i;if(t&&\"function\"==typeof(n=e.toString)&&!h(i=n.call(e)))return i;if(\"function\"==typeof(n=e.valueOf)&&!h(i=n.call(e)))return i;if(!t&&\"function\"==typeof(n=e.toString)&&!h(i=n.call(e)))return i;throw TypeError(\"Can't convert object to primitive value\")},w=Object.defineProperty,x={f:g?Object.defineProperty:function(e,t,n){if(f(e),t=_(t,!0),f(n),b)try{return w(e,t,n)}catch(t){}if(\"get\"in n||\"set\"in n)throw TypeError(\"Accessors not supported!\");return\"value\"in n&&(e[t]=n.value),e}},k=x.f,O=function(e){var t=o.Symbol||(o.Symbol=r.Symbol||{});\"_\"==e.charAt(0)||e in t||k(t,e,{value:d.f(e)})};O(\"asyncIterator\");var E={}.hasOwnProperty,S=function(e,t){return E.call(e,t)},D=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},j=g?function(e,t,n){return x.f(e,t,D(1,n))}:function(e,t,n){return e[t]=n,e},C=a(\"native-function-to-string\",Function.toString),M=i((function(e){var t=u(\"src\"),n=\"toString\",i=(\"\"+C).split(n);o.inspectSource=function(e){return C.call(e)},(e.exports=function(e,n,o,a){var s=\"function\"==typeof o;s&&(S(o,\"name\")||j(o,\"name\",n)),e[n]===o||(s&&(S(o,t)||j(o,t,e[n]?\"\"+e[n]:i.join(n+\"\"))),e===r?e[n]=o:a?e[n]?e[n]=o:j(e,n,o):(delete e[n],j(e,n,o)))})(Function.prototype,n,(function(){return\"function\"==typeof this&&this[t]||C.call(this)}))})),T=function(e){if(\"function\"!=typeof e)throw TypeError(e+\" is not a function!\");return e},A=function(e,t,n){return T(e),void 0===t?e:1===n?function(n){return e.call(t,n)}:2===n?function(n,i){return e.call(t,n,i)}:3===n?function(n,i,r){return e.call(t,n,i,r)}:function(){return e.apply(t,arguments)}},F=function(e,t,n){var i,a,s,l,u=e&F.F,c=e&F.G,d=e&F.S,h=e&F.P,f=e&F.B,p=c?r:d?r[t]||(r[t]={}):(r[t]||{}).prototype,g=c?o:o[t]||(o[t]={}),m=g.prototype||(g.prototype={});for(i in c&&(n=t),n)s=((a=!u&&p&&void 0!==p[i])?p:n)[i],l=f&&a?A(s,r):h&&\"function\"==typeof s?A(Function.call,s):s,p&&M(p,i,s,e&F.U),g[i]!=s&&j(g,i,l),h&&m[i]!=s&&(m[i]=s)};r.core=o,F.F=1,F.G=2,F.S=4,F.P=8,F.B=16,F.W=32,F.U=64,F.R=128;var P,N=F,z=i((function(e){var t=u(\"meta\"),n=x.f,i=0,r=Object.isExtensible||function(){return!0},o=!p((function(){return r(Object.preventExtensions({}))})),a=function(e){n(e,t,{value:{i:\"O\"+ ++i,w:{}}})},s=e.exports={KEY:t,NEED:!1,fastKey:function(e,n){if(!h(e))return\"symbol\"==typeof e?e:(\"string\"==typeof e?\"S\":\"P\")+e;if(!S(e,t)){if(!r(e))return\"F\";if(!n)return\"E\";a(e)}return e[t].i},getWeak:function(e,n){if(!S(e,t)){if(!r(e))return!0;if(!n)return!1;a(e)}return e[t].w},onFreeze:function(e){return o&&s.NEED&&r(e)&&!S(e,t)&&a(e),e}}})),R=(z.KEY,z.NEED,z.fastKey,z.getWeak,z.onFreeze,x.f),I=c(\"toStringTag\"),B=function(e,t,n){e&&!S(e=n?e:e.prototype,I)&&R(e,I,{configurable:!0,value:t})},L={}.toString,$=function(e){return L.call(e).slice(8,-1)},W=Object(\"z\").propertyIsEnumerable(0)?Object:function(e){return\"String\"==$(e)?e.split(\"\"):Object(e)},U=function(e){if(null==e)throw TypeError(\"Can't call method on  \"+e);return e},Y=function(e){return W(U(e))},H=Math.ceil,q=Math.floor,V=function(e){return isNaN(e=+e)?0:(0<e?q:H)(e)},G=Math.min,X=function(e){return 0<e?G(V(e),9007199254740991):0},Z=Math.max,Q=Math.min,J=a(\"keys\"),K=function(e){return J[e]||(J[e]=u(e))},ee=(P=!1,function(e,t,n){var i,r=Y(e),o=X(r.length),a=function(e,t){return 0>(e=V(e))?Z(e+t,0):Q(e,t)}(n,o);if(P&&t!=t){for(;o>a;)if((i=r[a++])!=i)return!0}else for(;o>a;a++)if((P||a in r)&&r[a]===t)return P||a||0;return!P&&-1}),te=K(\"IE_PROTO\"),ne=function(e,t){var n,i=Y(e),r=0,o=[];for(n in i)n!=te&&S(i,n)&&o.push(n);for(;t.length>r;)S(i,n=t[r++])&&(~ee(o,n)||o.push(n));return o},ie=[\"constructor\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"toLocaleString\",\"toString\",\"valueOf\"],re=Object.keys||function(e){return ne(e,ie)},oe={f:Object.getOwnPropertySymbols},ae={f:{}.propertyIsEnumerable},se=Array.isArray||function(e){return\"Array\"==$(e)},le=function(e){return Object(U(e))},ue=g?Object.defineProperties:function(e,t){f(e);for(var n,i=re(t),r=i.length,o=0;r>o;)x.f(e,n=i[o++],t[n]);return e},ce=r.document,de=ce&&ce.documentElement,he=K(\"IE_PROTO\"),fe=function(){},pe=function(){var e,t=y(\"iframe\"),n=ie.length;for(t.style.display=\"none\",de.appendChild(t),t.src=\"javascript:\",(e=t.contentWindow.document).open(),e.write(\"<script>document.F=Object<\\/script>\"),e.close(),pe=e.F;n--;)delete pe.prototype[ie[n]];return pe()},ge=Object.create||function(e,t){var n;return null===e?n=pe():(fe.prototype=f(e),n=new fe,fe.prototype=null,n[he]=e),void 0===t?n:ue(n,t)},me=ie.concat(\"length\",\"prototype\"),ve={f:Object.getOwnPropertyNames||function(e){return ne(e,me)}},ye=ve.f,be={}.toString,_e=\"object\"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],we={f:function(e){return _e&&\"[object Window]\"==be.call(e)?function(e){try{return ye(e)}catch(e){return _e.slice()}}(e):ye(Y(e))}},xe=Object.getOwnPropertyDescriptor,ke={f:g?xe:function(e,t){if(e=Y(e),t=_(t,!0),b)try{return xe(e,t)}catch(t){}return S(e,t)?D(!ae.f.call(e,t),e[t]):void 0}},Oe=z.KEY,Ee=ke.f,Se=x.f,De=we.f,je=r.Symbol,Ce=r.JSON,Me=Ce&&Ce.stringify,Te=c(\"_hidden\"),Ae=c(\"toPrimitive\"),Fe={}.propertyIsEnumerable,Pe=a(\"symbol-registry\"),Ne=a(\"symbols\"),ze=a(\"op-symbols\"),Re=Object.prototype,Ie=\"function\"==typeof je&&!!oe.f,Be=r.QObject,Le=!Be||!Be.prototype||!Be.prototype.findChild,$e=g&&p((function(){return 7!=ge(Se({},\"a\",{get:function(){return Se(this,\"a\",{value:7}).a}})).a}))?function(e,t,n){var i=Ee(Re,t);i&&delete Re[t],Se(e,t,n),i&&e!==Re&&Se(Re,t,i)}:Se,We=function(e){var t=Ne[e]=ge(je.prototype);return t._k=e,t},Ue=Ie&&\"symbol\"==typeof je.iterator?function(e){return\"symbol\"==typeof e}:function(e){return e instanceof je},Ye=function(e,t,n){return e===Re&&Ye(ze,t,n),f(e),t=_(t,!0),f(n),S(Ne,t)?(n.enumerable?(S(e,Te)&&e[Te][t]&&(e[Te][t]=!1),n=ge(n,{enumerable:D(0,!1)})):(!S(e,Te)&&Se(e,Te,D(1,{})),e[Te][t]=!0),$e(e,t,n)):Se(e,t,n)},He=function(e,t){f(e);for(var n,i=function(e){var t=re(e),n=oe.f;if(n)for(var i,r=n(e),o=ae.f,a=0;r.length>a;)o.call(e,i=r[a++])&&t.push(i);return t}(t=Y(t)),r=0,o=i.length;o>r;)Ye(e,n=i[r++],t[n]);return e},qe=function(e){var t=Fe.call(this,e=_(e,!0));return(this!==Re||!S(Ne,e)||S(ze,e))&&(!(t||!S(this,e)||!S(Ne,e)||S(this,Te)&&this[Te][e])||t)},Ve=function(e,t){if(e=Y(e),t=_(t,!0),e!==Re||!S(Ne,t)||S(ze,t)){var n=Ee(e,t);return n&&S(Ne,t)&&!(S(e,Te)&&e[Te][t])&&(n.enumerable=!0),n}},Ge=function(e){for(var t,n=De(Y(e)),i=[],r=0;n.length>r;)S(Ne,t=n[r++])||t==Te||t==Oe||i.push(t);return i},Xe=function(e){for(var t,n=e===Re,i=De(n?ze:Y(e)),r=[],o=0;i.length>o;)S(Ne,t=i[o++])&&(!n||S(Re,t))&&r.push(Ne[t]);return r};Ie||(M((je=function(){if(this instanceof je)throw TypeError(\"Symbol is not a constructor!\");var e=u(0<arguments.length?arguments[0]:void 0),t=function(n){this===Re&&t.call(ze,n),S(this,Te)&&S(this[Te],e)&&(this[Te][e]=!1),$e(this,e,D(1,n))};return g&&Le&&$e(Re,e,{configurable:!0,set:t}),We(e)}).prototype,\"toString\",(function(){return this._k})),ke.f=Ve,x.f=Ye,ve.f=we.f=Ge,ae.f=qe,oe.f=Xe,g&&M(Re,\"propertyIsEnumerable\",qe,!0),d.f=function(e){return We(c(e))}),N(N.G+N.W+N.F*!Ie,{Symbol:je});for(var Ze=[\"hasInstance\",\"isConcatSpreadable\",\"iterator\",\"match\",\"replace\",\"search\",\"species\",\"split\",\"toPrimitive\",\"toStringTag\",\"unscopables\"],Qe=0;Ze.length>Qe;)c(Ze[Qe++]);for(var Je=re(c.store),Ke=0;Je.length>Ke;)O(Je[Ke++]);N(N.S+N.F*!Ie,\"Symbol\",{for:function(e){return S(Pe,e+=\"\")?Pe[e]:Pe[e]=je(e)},keyFor:function(e){if(!Ue(e))throw TypeError(e+\" is not a symbol!\");for(var t in Pe)if(Pe[t]===e)return t},useSetter:function(){Le=!0},useSimple:function(){Le=!1}}),N(N.S+N.F*!Ie,\"Object\",{create:function(e,t){return void 0===t?ge(e):He(ge(e),t)},defineProperty:Ye,defineProperties:He,getOwnPropertyDescriptor:Ve,getOwnPropertyNames:Ge,getOwnPropertySymbols:Xe});var et=p((function(){oe.f(1)}));function tt(e){return(tt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function it(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function rt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}N(N.S+N.F*et,\"Object\",{getOwnPropertySymbols:function(e){return oe.f(le(e))}}),Ce&&N(N.S+N.F*(!Ie||p((function(){var e=je();return\"[null]\"!=Me([e])||\"{}\"!=Me({a:e})||\"{}\"!=Me(Object(e))}))),\"JSON\",{stringify:function(e){for(var t,n,i=[e],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=t=i[1],(h(t)||void 0!==e)&&!Ue(e))return se(t)||(t=function(e,t){if(\"function\"==typeof n&&(t=n.call(this,e,t)),!Ue(t))return t}),i[1]=t,Me.apply(Ce,i)}}),je.prototype[Ae]||j(je.prototype,Ae,je.prototype.valueOf),B(je,\"Symbol\"),B(Math,\"Math\",!0),B(r.JSON,\"JSON\",!0);!function(e,t){var n=(o.Object||{})[e]||Object[e],i={};i[e]=t(n),N(N.S+N.F*p((function(){n(1)})),\"Object\",i)}(\"keys\",(function(){return function(e){return re(le(e))}}));var ot=function(){var e=f(this),t=\"\";return e.global&&(t+=\"g\"),e.ignoreCase&&(t+=\"i\"),e.multiline&&(t+=\"m\"),e.unicode&&(t+=\"u\"),e.sticky&&(t+=\"y\"),t};g&&\"g\"!=/./g.flags&&x.f(RegExp.prototype,\"flags\",{configurable:!0,get:ot});var at=/./.toString,st=function(e){M(RegExp.prototype,\"toString\",e,!0)};p((function(){return\"/a/b\"!=at.call({source:\"a\",flags:\"b\"})}))?st((function(){var e=f(this);return\"/\".concat(e.source,\"/\",\"flags\"in e?e.flags:!g&&e instanceof RegExp?ot.call(e):void 0)})):\"toString\"!=at.name&&st((function(){return at.call(this)}));var lt=function(e){return function(t,n){var i,r,o=U(t)+\"\",a=V(n),s=o.length;return 0>a||a>=s?e?\"\":void 0:55296>(i=o.charCodeAt(a))||56319<i||a+1===s||56320>(r=o.charCodeAt(a+1))||57343<r?e?o.charAt(a):i:e?o.slice(a,a+2):r-56320+(i-55296<<10)+65536}}(!0),ut=function(e,t,n){return t+(n?lt(e,t).length:1)},ct=c(\"toStringTag\"),dt=\"Arguments\"==$(function(){return arguments}()),ht=function(e){var t,n,i;return void 0===e?\"Undefined\":null===e?\"Null\":\"string\"==typeof(n=function(e,t){try{return e[t]}catch(t){}}(t=Object(e),ct))?n:dt?$(t):\"Object\"==(i=$(t))&&\"function\"==typeof t.callee?\"Arguments\":i},ft=RegExp.prototype.exec,pt=function(e,t){var n=e.exec;if(\"function\"==typeof n){var i=n.call(e,t);if(\"object\"!=typeof i)throw new TypeError(\"RegExp exec method returned something other than an Object or null\");return i}if(\"RegExp\"!==ht(e))throw new TypeError(\"RegExp#exec called on incompatible receiver\");return ft.call(e,t)},gt=RegExp.prototype.exec,mt=String.prototype.replace,vt=gt,yt=function(){var e=/a/,t=/b*/g;return gt.call(e,\"a\"),gt.call(t,\"a\"),0!==e.lastIndex||0!==t.lastIndex}(),bt=void 0!==/()??/.exec(\"\")[1];(yt||bt)&&(vt=function(e){var t,n,i,r,o=this;return bt&&(n=new RegExp(\"^\"+o.source+\"$(?!\\\\s)\",ot.call(o))),yt&&(t=o.lastIndex),i=gt.call(o,e),yt&&i&&(o.lastIndex=o.global?i.index+i[0].length:t),bt&&i&&1<i.length&&mt.call(i[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)})),i});var _t=vt;N({target:\"RegExp\",proto:!0,forced:_t!==/./.exec},{exec:_t});var wt=c(\"species\"),xt=!p((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:\"7\"},e},\"7\"!==\"\".replace(e,\"$<a>\")})),kt=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n=\"ab\".split(e);return 2===n.length&&\"a\"===n[0]&&\"b\"===n[1]}(),Ot=function(e,t,n){var i=c(e),r=!p((function(){var t={};return t[i]=function(){return 7},7!=\"\"[e](t)})),o=r?!p((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},\"split\"===e&&(n.constructor={},n.constructor[wt]=function(){return n}),n[i](\"\"),!t})):void 0;if(!r||!o||\"replace\"===e&&!xt||\"split\"===e&&!kt){var a=/./[i],s=n(U,i,\"\"[e],(function(e,t,n,i,o){return t.exec===_t?r&&!o?{done:!0,value:a.call(t,n,i)}:{done:!0,value:e.call(n,t,i)}:{done:!1}})),l=s[0],u=s[1];M(String.prototype,e,l),j(RegExp.prototype,i,2==t?function(e,t){return u.call(e,this,t)}:function(e){return u.call(e,this)})}},Et=Math.max,St=Math.min,Dt=Math.floor,jt=/\\$([$&`']|\\d\\d?|<[^>]*>)/g,Ct=/\\$([$&`']|\\d\\d?)/g,Mt=function(e){return void 0===e?e:e+\"\"};Ot(\"replace\",2,(function(e,t,n,i){function r(e,t,i,r,o,a){var s=i+e.length,l=r.length,u=Ct;return void 0!==o&&(o=le(o),u=jt),n.call(a,u,(function(n,a){var u;switch(a.charAt(0)){case\"$\":return\"$\";case\"&\":return e;case\"`\":return t.slice(0,i);case\"'\":return t.slice(s);case\"<\":u=o[a.slice(1,-1)];break;default:var c=+a;if(0==c)return n;if(c>l){var d=Dt(c/10);return 0===d?n:d<=l?void 0===r[d-1]?a.charAt(1):r[d-1]+a.charAt(1):n}u=r[c-1]}return void 0===u?\"\":u}))}return[function(i,r){var o=e(this),a=null==i?void 0:i[t];return void 0===a?n.call(o+\"\",i,r):a.call(i,o,r)},function(e,t){var o=i(n,e,this,t);if(o.done)return o.value;var a=f(e),s=this+\"\",l=\"function\"==typeof t;l||(t+=\"\");var u=a.global;if(u){var c=a.unicode;a.lastIndex=0}for(var d,h=[];null!==(d=pt(a,s))&&(h.push(d),u);){\"\"==d[0]+\"\"&&(a.lastIndex=ut(s,X(a.lastIndex),c))}for(var p=\"\",g=0,m=0;m<h.length;m++){for(var v=(d=h[m])[0]+\"\",y=Et(St(V(d.index),s.length),0),b=[],_=1;_<d.length;_++)b.push(Mt(d[_]));var w=d.groups;if(l){var x=[v].concat(b,y,s);void 0!==w&&x.push(w);var k=t.apply(void 0,x)+\"\"}else k=r(v,s,y,b,w,t);y>=g&&(p+=s.slice(g,y)+k,g=y+v.length)}return p+s.slice(g)}]}));var Tt=c(\"unscopables\"),At=Array.prototype;null==At[Tt]&&j(At,Tt,{});var Ft=function(e){At[Tt][e]=!0},Pt=function(e,t){return{value:t,done:!!e}},Nt={},zt={};j(zt,c(\"iterator\"),(function(){return this}));var Rt=K(\"IE_PROTO\"),It=Object.prototype,Bt=Object.getPrototypeOf||function(e){return e=le(e),S(e,Rt)?e[Rt]:\"function\"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?It:null},Lt=c(\"iterator\"),$t=!([].keys&&\"next\"in[].keys()),Wt=function(){return this},Ut=function(e,t,n,i,r,o,a){!function(e,t,n){e.prototype=ge(zt,{next:D(1,n)}),B(e,t+\" Iterator\")}(n,t,i);var s,l,u,c=function(e){return!$t&&e in p?p[e]:function(){return new n(this,e)}},d=t+\" Iterator\",h=\"values\"==r,f=!1,p=e.prototype,g=p[Lt]||p[\"@@iterator\"]||r&&p[r],m=g||c(r),v=r?h?c(\"entries\"):m:void 0,y=\"Array\"==t&&p.entries||g;if(y&&((u=Bt(y.call(new e)))!==Object.prototype&&u.next&&(B(u,d,!0),\"function\"!=typeof u[Lt]&&j(u,Lt,Wt))),h&&g&&\"values\"!==g.name&&(f=!0,m=function(){return g.call(this)}),($t||f||!p[Lt])&&j(p,Lt,m),Nt[t]=m,Nt[d]=Wt,r)if(s={values:h?m:c(\"values\"),keys:o?m:c(\"keys\"),entries:v},a)for(l in s)l in p||M(p,l,s[l]);else N(N.P+N.F*($t||f),t,s);return s}(Array,\"Array\",(function(e,t){this._t=Y(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,Pt(1)):Pt(0,\"keys\"==t?n:\"values\"==t?e[n]:[n,e[n]])}),\"values\");Nt.Arguments=Nt.Array,Ft(\"keys\"),Ft(\"values\"),Ft(\"entries\");for(var Yt=c(\"iterator\"),Ht=c(\"toStringTag\"),qt=Nt.Array,Vt={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Gt=re(Vt),Xt=0;Xt<Gt.length;Xt++){var Zt,Qt=Gt[Xt],Jt=Vt[Qt],Kt=r[Qt],en=Kt&&Kt.prototype;if(en&&(en[Yt]||j(en,Yt,qt),en[Ht]||j(en,Ht,Qt),Nt[Qt]=qt,Jt))for(Zt in Ut)en[Zt]||M(en,Zt,Ut[Zt],!0)}({})[c(\"toStringTag\")]=\"z\",M(Object.prototype,\"toString\",(function(){return\"[object \"+ht(this)+\"]\"}),!0);var tn=ae.f,nn=function(e){return function(t){for(var n,i=Y(t),r=re(i),o=r.length,a=0,s=[];o>a;)n=r[a++],(!g||tn.call(i,n))&&s.push(e?[n,i[n]]:i[n]);return s}}(!1);N(N.S,\"Object\",{values:function(e){return nn(e)}});var rn=c(\"match\"),on=c(\"species\"),an=Math.min,sn=[].push,ln=\"length\",un=!p((function(){RegExp(4294967295,\"y\")}));Ot(\"split\",2,(function(e,t,n,i){var r;return r=\"c\"==\"abbc\".split(/(b)*/)[1]||4!=\"test\".split(/(?:)/,-1)[ln]||2!=\"ab\".split(/(?:ab)*/)[ln]||4!=\".\".split(/(.?)(.?)/)[ln]||1<\".\".split(/()()/)[ln]||\"\".split(/.?/)[ln]?function(e,t){var i=this+\"\";if(void 0===e&&0===t)return[];if(!function(e){var t;return h(e)&&(void 0===(t=e[rn])?\"RegExp\"==$(e):!!t)}(e))return n.call(i,e,t);for(var r,o,a,s=[],l=(e.ignoreCase?\"i\":\"\")+(e.multiline?\"m\":\"\")+(e.unicode?\"u\":\"\")+(e.sticky?\"y\":\"\"),u=0,c=void 0===t?4294967295:t>>>0,d=new RegExp(e.source,l+\"g\");(r=_t.call(d,i))&&!((o=d.lastIndex)>u&&(s.push(i.slice(u,r.index)),1<r[ln]&&r.index<i[ln]&&sn.apply(s,r.slice(1)),a=r[0][ln],u=o,s[ln]>=c));)d.lastIndex===r.index&&d.lastIndex++;return u===i[ln]?(a||!d.test(\"\"))&&s.push(\"\"):s.push(i.slice(u)),s[ln]>c?s.slice(0,c):s}:\"0\".split(void 0,0)[ln]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,i){var o=e(this),a=null==n?void 0:n[t];return void 0===a?r.call(o+\"\",n,i):a.call(n,o,i)},function(e,t){var o=i(r,e,this,t,r!==n);if(o.done)return o.value;var a=f(e),s=this+\"\",l=function(e,t){var n,i=f(e).constructor;return void 0===i||null==(n=f(i)[on])?t:T(n)}(a,RegExp),u=a.unicode,c=(a.ignoreCase?\"i\":\"\")+(a.multiline?\"m\":\"\")+(a.unicode?\"u\":\"\")+(un?\"y\":\"g\"),d=new l(un?a:\"^(?:\"+a.source+\")\",c),h=void 0===t?4294967295:t>>>0;if(0===h)return[];if(0===s.length)return null===pt(d,s)?[s]:[];for(var p=0,g=0,m=[];g<s.length;){d.lastIndex=un?g:0;var v,y=pt(d,un?s:s.slice(g));if(null===y||(v=an(X(d.lastIndex+(un?0:g)),s.length))===p)g=ut(s,g,u);else{if(m.push(s.slice(p,g)),m.length===h)return m;for(var b=1;b<=y.length-1;b++)if(m.push(y[b]),m.length===h)return m;g=p=v}}return m.push(s.slice(p)),m}]}));var cn=Object.assign,dn=!cn||p((function(){var e={},t={},n=Symbol(),i=\"abcdefghijklmnopqrst\";return e[n]=7,i.split(\"\").forEach((function(e){t[e]=e})),7!=cn({},e)[n]||Object.keys(cn({},t)).join(\"\")!=i}))?function(e){for(var t=le(e),n=arguments.length,i=1,r=oe.f,o=ae.f;n>i;)for(var a,s=W(arguments[i++]),l=r?re(s).concat(r(s)):re(s),u=l.length,c=0;u>c;)a=l[c++],(!g||o.call(s,a))&&(t[a]=s[a]);return t}:cn;N(N.S+N.F,\"Object\",{assign:dn});var hn=function(e,t){if(f(e),!h(t)&&null!==t)throw TypeError(t+\": can't set as prototype!\")},fn={set:Object.setPrototypeOf||(\"__proto__\"in{}?function(e,t,n){try{(n=A(Function.call,ke.f(Object.prototype,\"__proto__\").set,2))(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(e,i){return hn(e,i),t?e.__proto__=i:n(e,i),e}}({},!1):void 0),check:hn}.set,pn=function(e,t,n){var i,r=t.constructor;return r!==n&&\"function\"==typeof r&&(i=r.prototype)!==n.prototype&&h(i)&&fn&&fn(e,i),e},gn=\"\\t\\n\\v\\f\\r   ᠎             　\\u2028\\u2029\\ufeff\",mn=\"[\"+gn+\"]\",vn=RegExp(\"^\"+mn+mn+\"*\"),yn=RegExp(mn+mn+\"*$\"),bn=function(e,t,n){var i={},r=p((function(){return!!gn[e]()||\"​\"!=\"​\"[e]()})),o=i[e]=r?t(_n):gn[e];n&&(i[n]=o),N(N.P+N.F*r,\"String\",i)},_n=bn.trim=function(e,t){return e=U(e)+\"\",1&t&&(e=e.replace(vn,\"\")),2&t&&(e=e.replace(yn,\"\")),e},wn=bn,xn=ve.f,kn=ke.f,On=x.f,En=wn.trim,Sn=r.Number,Dn=Sn,jn=Sn.prototype,Cn=\"Number\"==$(ge(jn)),Mn=\"trim\"in String.prototype,Tn=function(e){var t=_(e,!1);if(\"string\"==typeof t&&2<t.length){var n,i,r,o=(t=Mn?t.trim():En(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+t}for(var a,s=t.slice(2),l=0,u=s.length;l<u;l++)if(48>(a=s.charCodeAt(l))||a>r)return NaN;return parseInt(s,i)}}return+t};if(!Sn(\" 0o1\")||!Sn(\"0b1\")||Sn(\"+0x1\")){Sn=function(e){var t=1>arguments.length?0:e,n=this;return n instanceof Sn&&(Cn?p((function(){jn.valueOf.call(n)})):\"Number\"!=$(n))?pn(new Dn(Tn(t)),n,Sn):Tn(t)};for(var An,Fn=g?xn(Dn):\"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger\".split(\",\"),Pn=0;Fn.length>Pn;Pn++)S(Dn,An=Fn[Pn])&&!S(Sn,An)&&On(Sn,An,kn(Dn,An));Sn.prototype=jn,jn.constructor=Sn,M(r,\"Number\",Sn)}for(var Nn=i((function(e){var t=Math.round,n=Math.pow,i=Math.max,r=Math.abs,o=Math.min,a=Math.floor,s=Math.ceil;!function(t,n){e.exports=n()}(0,(function(){function l(){return pt.apply(null,arguments)}function u(e){return e instanceof Array||\"[object Array]\"===Object.prototype.toString.call(e)}function c(e){return null!=e&&\"[object Object]\"===Object.prototype.toString.call(e)}function d(e){return void 0===e}function h(e){return\"number\"==typeof e||\"[object Number]\"===Object.prototype.toString.call(e)}function f(e){return e instanceof Date||\"[object Date]\"===Object.prototype.toString.call(e)}function p(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function g(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function m(e,t){for(var n in t)g(t,n)&&(e[n]=t[n]);return g(t,\"toString\")&&(e.toString=t.toString),g(t,\"valueOf\")&&(e.valueOf=t.valueOf),e}function v(e,t,n,i){return Ce(e,t,n,i,!0).utc()}function y(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function b(e){if(null==e._isValid){var t=y(e),n=gt.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&0>t.overflow&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function _(e){var t=v(NaN);return null==e?y(t).userInvalidated=!0:m(y(t),e),t}function w(e,t){var n,i,r;if(d(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),d(t._i)||(e._i=t._i),d(t._f)||(e._f=t._f),d(t._l)||(e._l=t._l),d(t._strict)||(e._strict=t._strict),d(t._tzm)||(e._tzm=t._tzm),d(t._isUTC)||(e._isUTC=t._isUTC),d(t._offset)||(e._offset=t._offset),d(t._pf)||(e._pf=y(t)),d(t._locale)||(e._locale=t._locale),0<mt.length)for(n=0;n<mt.length;n++)d(r=t[i=mt[n]])||(e[i]=r);return e}function x(e){w(this,e),this._d=new Date(null==e._d?NaN:e._d.getTime()),this.isValid()||(this._d=new Date(NaN)),!1===vt&&(vt=!0,l.updateOffset(this),vt=!1)}function k(e){return e instanceof x||null!=e&&null!=e._isAMomentObject}function O(e){return 0>e?s(e)||0:a(e)}function E(e){var t=+e,n=0;return 0!=t&&isFinite(t)&&(n=O(t)),n}function S(e,t,n){var i,a=o(e.length,t.length),s=r(e.length-t.length),l=0;for(i=0;i<a;i++)(n&&e[i]!==t[i]||!n&&E(e[i])!==E(t[i]))&&l++;return l+s}function D(e){!1===l.suppressDeprecationWarnings&&\"undefined\"!=typeof console&&console.warn&&console.warn(\"Deprecation warning: \"+e)}function j(e,t){var n=!0;return m((function(){if(null!=l.deprecationHandler&&l.deprecationHandler(null,e),n){for(var i,r=[],o=0;o<arguments.length;o++){if(i=\"\",\"object\"==typeof arguments[o]){for(var a in i+=\"\\n[\"+o+\"] \",arguments[0])i+=a+\": \"+arguments[0][a]+\", \";i=i.slice(0,-2)}else i=arguments[o];r.push(i)}D(e+\"\\nArguments: \"+Array.prototype.slice.call(r).join(\"\")+\"\\n\"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}function C(e,t){null!=l.deprecationHandler&&l.deprecationHandler(e,t),yt[e]||(D(t),yt[e]=!0)}function M(e){return e instanceof Function||\"[object Function]\"===Object.prototype.toString.call(e)}function T(e,t){var n,i=m({},e);for(n in t)g(t,n)&&(c(e[n])&&c(t[n])?(i[n]={},m(i[n],e[n]),m(i[n],t[n])):null==t[n]?delete i[n]:i[n]=t[n]);for(n in e)g(e,n)&&!g(t,n)&&c(e[n])&&(i[n]=m({},i[n]));return i}function A(e){null!=e&&this.set(e)}function F(e,t){var n=e.toLowerCase();_t[n]=_t[n+\"s\"]=_t[t]=e}function P(e){return\"string\"==typeof e?_t[e]||_t[e.toLowerCase()]:void 0}function N(e){var t,n,i={};for(n in e)g(e,n)&&((t=P(n))&&(i[t]=e[n]));return i}function z(e,t){wt[e]=t}function R(e,t,o){var a=\"\"+r(e);return(0<=e?o?\"+\":\"\":\"-\")+n(10,i(0,t-a.length)).toString().substr(1)+a}function I(e,t,n,i){var r=i;\"string\"==typeof i&&(r=function(){return this[i]()}),e&&(Et[e]=r),t&&(Et[t[0]]=function(){return R(r.apply(this,arguments),t[1],t[2])}),n&&(Et[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function B(e){return e.match(/\\[[\\s\\S]/)?e.replace(/^\\[|\\]$/g,\"\"):e.replace(/\\\\/g,\"\")}function L(e,t){return e.isValid()?(t=$(t,e.localeData()),Ot[t]=Ot[t]||function(e){var t,n,i=e.match(xt);for(t=0,n=i.length;t<n;t++)i[t]=Et[i[t]]?Et[i[t]]:B(i[t]);return function(t){var r,o=\"\";for(r=0;r<n;r++)o+=M(i[r])?i[r].call(t,e):i[r];return o}}(t),Ot[t](e)):e.localeData().invalidDate()}function $(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(kt.lastIndex=0;0<=i&&kt.test(e);)e=e.replace(kt,n),kt.lastIndex=0,i-=1;return e}function W(e,t,n){Wt[e]=M(t)?t:function(e){return e&&n?n:t}}function U(e,t){return g(Wt,e)?Wt[e](t._strict,t._locale):new RegExp(function(e){return Y(e.replace(\"\\\\\",\"\").replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g,(function(e,t,n,i,r){return t||n||i||r})))}(e))}function Y(e){return e.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,\"\\\\$&\")}function H(e,t){var n,i=t;for(\"string\"==typeof e&&(e=[e]),h(t)&&(i=function(e,n){n[t]=E(e)}),n=0;n<e.length;n++)Ut[e[n]]=i}function q(e,t){H(e,(function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)}))}function V(e,t,n){null!=t&&g(Ut,e)&&Ut[e](t,n._a,n,e)}function G(e){return X(e)?366:365}function X(e){return 0==e%4&&0!=e%100||0==e%400}function Z(e,t){return function(n){return null==n?Q(this,e):(J(this,e,n),l.updateOffset(this,t),this)}}function Q(e,t){return e.isValid()?e._d[\"get\"+(e._isUTC?\"UTC\":\"\")+t]():NaN}function J(e,t,n){e.isValid()&&!isNaN(n)&&(\"FullYear\"===t&&X(e.year())&&1===e.month()&&29===e.date()?e._d[\"set\"+(e._isUTC?\"UTC\":\"\")+t](n,e.month(),K(n,e.month())):e._d[\"set\"+(e._isUTC?\"UTC\":\"\")+t](n))}function K(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=function(e,t){return(e%t+t)%t}(t,12);return e+=(t-n)/12,1===n?X(e)?29:28:31-n%7%2}function ee(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;12>i;++i)o=v([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,\"\").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,\"\").toLocaleLowerCase();return n?\"MMM\"===t?-1===(r=Yt.call(this._shortMonthsParse,a))?null:r:-1===(r=Yt.call(this._longMonthsParse,a))?null:r:\"MMM\"===t?-1!==(r=Yt.call(this._shortMonthsParse,a))?r:-1===(r=Yt.call(this._longMonthsParse,a))?null:r:-1!==(r=Yt.call(this._longMonthsParse,a))?r:-1===(r=Yt.call(this._shortMonthsParse,a))?null:r}function te(e,t){var n;if(!e.isValid())return e;if(\"string\"==typeof t)if(/^\\d+$/.test(t))t=E(t);else if(!h(t=e.localeData().monthsParse(t)))return e;return n=o(e.date(),K(e.year(),t)),e._d[\"set\"+(e._isUTC?\"UTC\":\"\")+\"Month\"](t,n),e}function ne(e){return null==e?Q(this,\"Month\"):(te(this,e),l.updateOffset(this,!0),this)}function ie(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],o=[];for(t=0;12>t;t++)n=v([2e3,t]),i.push(this.monthsShort(n,\"\")),r.push(this.months(n,\"\")),o.push(this.months(n,\"\")),o.push(this.monthsShort(n,\"\"));for(i.sort(e),r.sort(e),o.sort(e),t=0;12>t;t++)i[t]=Y(i[t]),r[t]=Y(r[t]);for(t=0;24>t;t++)o[t]=Y(o[t]);this._monthsRegex=new RegExp(\"^(\"+o.join(\"|\")+\")\",\"i\"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp(\"^(\"+r.join(\"|\")+\")\",\"i\"),this._monthsShortStrictRegex=new RegExp(\"^(\"+i.join(\"|\")+\")\",\"i\")}function re(e,t,n,i,r,o,a){var s;return 100>e&&0<=e?(s=new Date(e+400,t,n,i,r,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,i,r,o,a),s}function oe(e){var t;if(100>e&&0<=e){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function ae(e,t,n){var i=7+t-n;return-((7+oe(e,0,i).getUTCDay()-t)%7)+i-1}function se(e,t,n,i,r){var o,a,s=1+7*(t-1)+(7+n-i)%7+ae(e,i,r);return 0>=s?a=G(o=e-1)+s:s>G(e)?(o=e+1,a=s-G(e)):(o=e,a=s),{year:o,dayOfYear:a}}function le(e,t,n){var i,r,o=ae(e.year(),t,n),s=a((e.dayOfYear()-o-1)/7)+1;return 1>s?i=s+ue(r=e.year()-1,t,n):s>ue(e.year(),t,n)?(i=s-ue(e.year(),t,n),r=e.year()+1):(r=e.year(),i=s),{week:i,year:r}}function ue(e,t,n){var i=ae(e,t,n),r=ae(e+1,t,n);return(G(e)-i+r)/7}function ce(e,t){return e.slice(t,7).concat(e.slice(0,t))}function de(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;7>i;++i)o=v([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,\"\").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,\"\").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,\"\").toLocaleLowerCase();return n?\"dddd\"===t?-1===(r=Yt.call(this._weekdaysParse,a))?null:r:\"ddd\"===t?-1===(r=Yt.call(this._shortWeekdaysParse,a))?null:r:-1===(r=Yt.call(this._minWeekdaysParse,a))?null:r:\"dddd\"===t?-1!==(r=Yt.call(this._weekdaysParse,a))?r:-1!==(r=Yt.call(this._shortWeekdaysParse,a))?r:-1===(r=Yt.call(this._minWeekdaysParse,a))?null:r:\"ddd\"===t?-1!==(r=Yt.call(this._shortWeekdaysParse,a))?r:-1!==(r=Yt.call(this._weekdaysParse,a))?r:-1===(r=Yt.call(this._minWeekdaysParse,a))?null:r:-1!==(r=Yt.call(this._minWeekdaysParse,a))?r:-1!==(r=Yt.call(this._weekdaysParse,a))?r:-1===(r=Yt.call(this._shortWeekdaysParse,a))?null:r}function he(){function e(e,t){return t.length-e.length}var t,n,i,r,o,a=[],s=[],l=[],u=[];for(t=0;7>t;t++)n=v([2e3,1]).day(t),i=this.weekdaysMin(n,\"\"),r=this.weekdaysShort(n,\"\"),o=this.weekdays(n,\"\"),a.push(i),s.push(r),l.push(o),u.push(i),u.push(r),u.push(o);for(a.sort(e),s.sort(e),l.sort(e),u.sort(e),t=0;7>t;t++)s[t]=Y(s[t]),l[t]=Y(l[t]),u[t]=Y(u[t]);this._weekdaysRegex=new RegExp(\"^(\"+u.join(\"|\")+\")\",\"i\"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp(\"^(\"+l.join(\"|\")+\")\",\"i\"),this._weekdaysShortStrictRegex=new RegExp(\"^(\"+s.join(\"|\")+\")\",\"i\"),this._weekdaysMinStrictRegex=new RegExp(\"^(\"+a.join(\"|\")+\")\",\"i\")}function fe(){return this.hours()%12||12}function pe(e,t){I(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function ge(e,t){return t._meridiemParse}function me(e){return e?e.toLowerCase().replace(\"_\",\"-\"):e}function ve(t){var n=null;if(!Jt[t]&&e&&e.exports)try{n=Xt._abbr,function(){throw new Error(\"Dynamic requires are not currently supported by rollup-plugin-commonjs\")}(),ye(n)}catch(t){}return Jt[t]}function ye(e,t){var n;return e&&((n=d(t)?_e(e):be(e,t))?Xt=n:\"undefined\"!=typeof console&&console.warn&&console.warn(\"Locale \"+e+\" not found. Did you forget to load it?\")),Xt._abbr}function be(e,t){if(null!==t){var n,i=Qt;if(t.abbr=e,null!=Jt[e])C(\"defineLocaleOverride\",\"use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info.\"),i=Jt[e]._config;else if(null!=t.parentLocale)if(null!=Jt[t.parentLocale])i=Jt[t.parentLocale]._config;else{if(null==(n=ve(t.parentLocale)))return Kt[t.parentLocale]||(Kt[t.parentLocale]=[]),Kt[t.parentLocale].push({name:e,config:t}),null;i=n._config}return Jt[e]=new A(T(i,t)),Kt[e]&&Kt[e].forEach((function(e){be(e.name,e.config)})),ye(e),Jt[e]}return delete Jt[e],null}function _e(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Xt;if(!u(e)){if(t=ve(e))return t;e=[e]}return function(e){for(var t,n,i,r,o=0;o<e.length;){for(t=(r=me(e[o]).split(\"-\")).length,n=(n=me(e[o+1]))?n.split(\"-\"):null;0<t;){if(i=ve(r.slice(0,t).join(\"-\")))return i;if(n&&n.length>=t&&S(r,n,!0)>=t-1)break;t--}o++}return Xt}(e)}function we(e){var t,n=e._a;return n&&-2===y(e).overflow&&(t=0>n[1]||11<n[1]?1:1>n[2]||n[2]>K(n[0],n[1])?2:0>n[3]||24<n[3]||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:0>n[4]||59<n[4]?4:0>n[5]||59<n[5]?5:0>n[6]||999<n[6]?6:-1,y(e)._overflowDayOfYear&&(0>t||2<t)&&(t=2),y(e)._overflowWeeks&&-1===t&&(t=7),y(e)._overflowWeekday&&-1===t&&(t=8),y(e).overflow=t),e}function xe(e,t,n){return null==e?null==t?n:t:e}function ke(e){var t,n,i,r,o,a=[];if(!e._d){for(i=function(e){var t=new Date(l.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,i,r,o,a,s,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,a=4,n=xe(t.GG,e._a[0],le(Me(),1,4).year),i=xe(t.W,1),(1>(r=xe(t.E,1))||7<r)&&(l=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var u=le(Me(),o,a);n=xe(t.gg,e._a[0],u.year),i=xe(t.w,u.week),null==t.d?null==t.e?r=o:(r=t.e+o,(0>t.e||6<t.e)&&(l=!0)):(0>(r=t.d)||6<r)&&(l=!0)}1>i||i>ue(n,o,a)?y(e)._overflowWeeks=!0:null==l?(s=se(n,i,r,o,a),e._a[0]=s.year,e._dayOfYear=s.dayOfYear):y(e)._overflowWeekday=!0}(e),null!=e._dayOfYear&&(o=xe(e._a[0],i[0]),(e._dayOfYear>G(o)||0===e._dayOfYear)&&(y(e)._overflowDayOfYear=!0),n=oe(o,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=a[t]=i[t];for(;7>t;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?oe:re).apply(null,a),r=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==r&&(y(e).weekdayMismatch=!0)}}function Oe(e){var t,n,i,r,o,a,s=e._i,l=en.exec(s)||tn.exec(s);if(l){for(y(e).iso=!0,t=0,n=rn.length;t<n;t++)if(rn[t][1].exec(l[1])){r=rn[t][0],i=!1!==rn[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=on.length;t<n;t++)if(on[t][1].exec(l[3])){o=(l[2]||\" \")+on[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(l[4]){if(!nn.exec(l[4]))return void(e._isValid=!1);a=\"Z\"}e._f=r+(o||\"\")+(a||\"\"),De(e)}else e._isValid=!1}function Ee(e){var t=parseInt(e,10);return 49>=t?2e3+t:999>=t?1900+t:t}function Se(e){var t=sn.exec(function(e){return e.replace(/\\([^)]*\\)|[\\n\\t]/g,\" \").replace(/(\\s\\s+)/g,\" \").replace(/^\\s\\s*/,\"\").replace(/\\s\\s*$/,\"\")}(e._i));if(t){var n=function(e,t,n,i,r,o){var a=[Ee(e),Vt.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return o&&a.push(parseInt(o,10)),a}(t[4],t[3],t[2],t[5],t[6],t[7]);if(!function(e,t,n){return!e||Gt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(y(n).weekdayMismatch=!0,n._isValid=!1,!1)}(t[1],n,e))return;e._a=n,e._tzm=function(e,t,n){if(e)return ln[e];if(t)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}(t[8],t[9],t[10]),e._d=oe.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),y(e).rfc2822=!0}else e._isValid=!1}function De(e){if(e._f!==l.ISO_8601)if(e._f!==l.RFC_2822){e._a=[],y(e).empty=!0;var t,n,i,r,o,a=\"\"+e._i,s=a.length,u=0;for(i=$(e._f,e._locale).match(xt)||[],t=0;t<i.length;t++)r=i[t],(n=(a.match(U(r,e))||[])[0])&&(0<(o=a.substr(0,a.indexOf(n))).length&&y(e).unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),u+=n.length),Et[r]?(n?y(e).empty=!1:y(e).unusedTokens.push(r),V(r,n,e)):e._strict&&!n&&y(e).unusedTokens.push(r);y(e).charsLeftOver=s-u,0<a.length&&y(e).unusedInput.push(a),12>=e._a[3]&&!0===y(e).bigHour&&0<e._a[3]&&(y(e).bigHour=void 0),y(e).parsedDateParts=e._a.slice(0),y(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var i;return null==n?t:null==e.meridiemHour?(null==e.isPM||((i=e.isPM(n))&&12>t&&(t+=12),i||12!==t||(t=0)),t):e.meridiemHour(t,n)}(e._locale,e._a[3],e._meridiem),ke(e),we(e)}else Se(e);else Oe(e)}function je(e){var t=e._i,n=e._f;return e._locale=e._locale||_e(e._l),null===t||void 0===n&&\"\"===t?_({nullInput:!0}):(\"string\"==typeof t&&(e._i=t=e._locale.preparse(t)),k(t)?new x(we(t)):(f(t)?e._d=t:u(n)?function(e){var t,n,i,r,o;if(0===e._f.length)return y(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)o=0,t=w({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],De(t),b(t)&&(o+=y(t).charsLeftOver,o+=10*y(t).unusedTokens.length,y(t).score=o,(null==i||o<i)&&(i=o,n=t));m(e,n||t)}(e):n?De(e):function(e){var t=e._i;d(t)?e._d=new Date(l.now()):f(t)?e._d=new Date(t.valueOf()):\"string\"==typeof t?function(e){var t=an.exec(e._i);null===t?(Oe(e),!1===e._isValid&&(delete e._isValid,Se(e),!1===e._isValid&&(delete e._isValid,l.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):u(t)?(e._a=p(t.slice(0),(function(e){return parseInt(e,10)})),ke(e)):c(t)?function(e){if(!e._d){var t=N(e._i);e._a=p([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),ke(e)}}(e):h(t)?e._d=new Date(t):l.createFromInputFallback(e)}(e),b(e)||(e._d=null),e))}function Ce(e,t,n,i,r){var o={};return(!0===n||!1===n)&&(i=n,n=void 0),(c(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||u(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=e,o._f=t,o._strict=i,function(e){var t=new x(we(je(e)));return t._nextDay&&(t.add(1,\"d\"),t._nextDay=void 0),t}(o)}function Me(e,t,n,i){return Ce(e,t,n,i,!1)}function Te(e,t){var n,i;if(1===t.length&&u(t[0])&&(t=t[0]),!t.length)return Me();for(n=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][e](n))&&(n=t[i]);return n}function Ae(e){var t=N(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Yt.call(dn,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,i=0;i<dn.length;++i)if(e[dn[i]]){if(n)return!1;parseFloat(e[dn[i]])!==E(e[dn[i]])&&(n=!0)}return!0}(t),this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=_e(),this._bubble()}function Fe(e){return e instanceof Ae}function Pe(e){return 0>e?-1*t(-1*e):t(e)}function Ne(e,t){I(e,0,0,(function(){var e=this.utcOffset(),n=\"+\";return 0>e&&(e=-e,n=\"-\"),n+R(~~(e/60),2)+t+R(~~e%60,2)}))}function ze(e,t){var n=(t||\"\").match(e);if(null===n)return null;var i=((n[n.length-1]||[])+\"\").match(hn)||[\"-\",0,0],r=60*i[1]+E(i[2]);return 0===r?0:\"+\"===i[0]?r:-r}function Re(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(k(e)||f(e)?e.valueOf():Me(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),l.updateOffset(n,!1),n):Me(e).local()}function Ie(e){return 15*-t(e._d.getTimezoneOffset()/15)}function Be(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Le(e,t){var n,i,r,o=e,a=null;return Fe(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:h(e)?(o={},t?o[t]=e:o.milliseconds=e):(a=fn.exec(e))?(n=\"-\"===a[1]?-1:1,o={y:0,d:E(a[2])*n,h:E(a[3])*n,m:E(a[4])*n,s:E(a[5])*n,ms:E(Pe(1e3*a[6]))*n}):(a=pn.exec(e))?(n=\"-\"===a[1]?-1:1,o={y:$e(a[2],n),M:$e(a[3],n),w:$e(a[4],n),d:$e(a[5],n),h:$e(a[6],n),m:$e(a[7],n),s:$e(a[8],n)}):null==o?o={}:\"object\"==typeof o&&(\"from\"in o||\"to\"in o)&&(r=function(e,t){var n;return e.isValid()&&t.isValid()?(t=Re(t,e),e.isBefore(t)?n=We(e,t):((n=We(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(Me(o.from),Me(o.to)),(o={}).ms=r.milliseconds,o.M=r.months),i=new Ae(o),Fe(e)&&g(e,\"_locale\")&&(i._locale=e._locale),i}function $e(e,t){var n=e&&parseFloat(e.replace(\",\",\".\"));return(isNaN(n)?0:n)*t}function We(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,\"M\").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,\"M\"),n}function Ue(e,t){return function(n,i){var r;return null===i||isNaN(+i)||(C(t,\"moment().\"+t+\"(period, number) is deprecated. Please use moment().\"+t+\"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.\"),r=n,n=i,i=r),Ye(this,Le(n=\"string\"==typeof n?+n:n,i),e),this}}function Ye(e,t,n,i){var r=t._milliseconds,o=Pe(t._days),a=Pe(t._months);e.isValid()&&(i=null==i||i,a&&te(e,Q(e,\"Month\")+a*n),o&&J(e,\"Date\",Q(e,\"Date\")+o*n),r&&e._d.setTime(e._d.valueOf()+r*n),i&&l.updateOffset(e,o||a))}function He(e,t){var n,i=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(i,\"months\");return 0>t-r?n=(t-r)/(r-e.clone().add(i-1,\"months\")):n=(t-r)/(e.clone().add(i+1,\"months\")-r),-(i+n)||0}function qe(e){var t;return void 0===e?this._locale._abbr:(null!=(t=_e(e))&&(this._locale=t),this)}function Ve(){return this._locale}function Ge(e,t){return(e%t+t)%t}function Xe(e,t,n){return 100>e&&0<=e?new Date(e+400,t,n)-126227808e5:new Date(e,t,n).valueOf()}function Ze(e,t,n){return 100>e&&0<=e?Date.UTC(e+400,t,n)-126227808e5:Date.UTC(e,t,n)}function Qe(e,t){I(0,[e,e.length],0,t)}function Je(e,t,n,i,r){var o;return null==e?le(this,i,r).year:(t>(o=ue(e,i,r))&&(t=o),Ke.call(this,e,t,n,i,r))}function Ke(e,t,n,i,r){var o=se(e,t,n,i,r),a=oe(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function et(e,t){t[6]=E(1e3*(\"0.\"+e))}function tt(e){return e}function nt(e,t,n,i){var r=_e(),o=v().set(i,t);return r[n](o,e)}function it(e,t,n){if(h(e)&&(t=e,e=void 0),e=e||\"\",null!=t)return nt(e,t,n,\"month\");var i,r=[];for(i=0;12>i;i++)r[i]=nt(e,i,n,\"month\");return r}function rt(e,t,n,i){\"boolean\"==typeof e?(h(t)&&(n=t,t=void 0),t=t||\"\"):(n=t=e,e=!1,h(t)&&(n=t,t=void 0),t=t||\"\");var r=_e(),o=e?r._week.dow:0;if(null!=n)return nt(t,(n+o)%7,i,\"day\");var a,s=[];for(a=0;7>a;a++)s[a]=nt(t,(a+o)%7,i,\"day\");return s}function ot(e,t,n,i){var r=Le(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function at(e){return 0>e?a(e):s(e)}function st(e){return 4800*e/146097}function lt(e){return 146097*e/4800}function ut(e){return function(){return this.as(e)}}function ct(e){return function(){return this.isValid()?this._data[e]:NaN}}function dt(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function ht(e){return(0<e)-(0>e)||+e}function ft(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Yn(this._milliseconds)/1e3,i=Yn(this._days),r=Yn(this._months);e=O(n/60),t=O(e/60),n%=60,e%=60;var o=O(r/12),a=r%=12,s=i,l=t,u=e,c=n?n.toFixed(3).replace(/\\.?0+$/,\"\"):\"\",d=this.asSeconds();if(!d)return\"P0D\";var h=0>d?\"-\":\"\",f=ht(this._months)===ht(d)?\"\":\"-\",p=ht(this._days)===ht(d)?\"\":\"-\",g=ht(this._milliseconds)===ht(d)?\"\":\"-\";return h+\"P\"+(o?f+o+\"Y\":\"\")+(a?f+a+\"M\":\"\")+(s?p+s+\"D\":\"\")+(l||u||c?\"T\":\"\")+(l?g+l+\"H\":\"\")+(u?g+u+\"M\":\"\")+(c?g+c+\"S\":\"\")}var pt,gt;gt=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var mt=l.momentProperties=[],vt=!1,yt={};l.suppressDeprecationWarnings=!1,l.deprecationHandler=null;var bt=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)g(e,t)&&n.push(t);return n},_t={},wt={},xt=/(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,kt=/(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ot={},Et={},St=/\\d/,Dt=/\\d\\d/,jt=/\\d{3}/,Ct=/\\d{4}/,Mt=/[+-]?\\d{6}/,Tt=/\\d\\d?/,At=/\\d\\d\\d\\d?/,Ft=/\\d\\d\\d\\d\\d\\d?/,Pt=/\\d{1,3}/,Nt=/\\d{1,4}/,zt=/[+-]?\\d{1,6}/,Rt=/\\d+/,It=/[+-]?\\d+/,Bt=/Z|[+-]\\d\\d:?\\d\\d/gi,Lt=/Z|[+-]\\d\\d(?::?\\d\\d)?/gi,$t=/[0-9]{0,256}['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFF07\\uFF10-\\uFFEF]{1,256}|[\\u0600-\\u06FF\\/]{1,256}(\\s*?[\\u0600-\\u06FF]{1,256}){1,2}/i,Wt={},Ut={};I(\"Y\",0,0,(function(){var e=this.year();return 9999>=e?\"\"+e:\"+\"+e})),I(0,[\"YY\",2],0,(function(){return this.year()%100})),I(0,[\"YYYY\",4],0,\"year\"),I(0,[\"YYYYY\",5],0,\"year\"),I(0,[\"YYYYYY\",6,!0],0,\"year\"),F(\"year\",\"y\"),z(\"year\",1),W(\"Y\",It),W(\"YY\",Tt,Dt),W(\"YYYY\",Nt,Ct),W(\"YYYYY\",zt,Mt),W(\"YYYYYY\",zt,Mt),H([\"YYYYY\",\"YYYYYY\"],0),H(\"YYYY\",(function(e,t){t[0]=2===e.length?l.parseTwoDigitYear(e):E(e)})),H(\"YY\",(function(e,t){t[0]=l.parseTwoDigitYear(e)})),H(\"Y\",(function(e,t){t[0]=parseInt(e,10)})),l.parseTwoDigitYear=function(e){return E(e)+(68<E(e)?1900:2e3)};var Yt,Ht=Z(\"FullYear\",!0);Yt=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},I(\"M\",[\"MM\",2],\"Mo\",(function(){return this.month()+1})),I(\"MMM\",0,0,(function(e){return this.localeData().monthsShort(this,e)})),I(\"MMMM\",0,0,(function(e){return this.localeData().months(this,e)})),F(\"month\",\"M\"),z(\"month\",8),W(\"M\",Tt),W(\"MM\",Tt,Dt),W(\"MMM\",(function(e,t){return t.monthsShortRegex(e)})),W(\"MMMM\",(function(e,t){return t.monthsRegex(e)})),H([\"M\",\"MM\"],(function(e,t){t[1]=E(e)-1})),H([\"MMM\",\"MMMM\"],(function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null==r?y(n).invalidMonth=e:t[1]=r}));var qt=/D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/,Vt=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];I(\"w\",[\"ww\",2],\"wo\",\"week\"),I(\"W\",[\"WW\",2],\"Wo\",\"isoWeek\"),F(\"week\",\"w\"),F(\"isoWeek\",\"W\"),z(\"week\",5),z(\"isoWeek\",5),W(\"w\",Tt),W(\"ww\",Tt,Dt),W(\"W\",Tt),W(\"WW\",Tt,Dt),q([\"w\",\"ww\",\"W\",\"WW\"],(function(e,t,n,i){t[i.substr(0,1)]=E(e)})),I(\"d\",0,\"do\",\"day\"),I(\"dd\",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),I(\"ddd\",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),I(\"dddd\",0,0,(function(e){return this.localeData().weekdays(this,e)})),I(\"e\",0,0,\"weekday\"),I(\"E\",0,0,\"isoWeekday\"),F(\"day\",\"d\"),F(\"weekday\",\"e\"),F(\"isoWeekday\",\"E\"),z(\"day\",11),z(\"weekday\",11),z(\"isoWeekday\",11),W(\"d\",Tt),W(\"e\",Tt),W(\"E\",Tt),W(\"dd\",(function(e,t){return t.weekdaysMinRegex(e)})),W(\"ddd\",(function(e,t){return t.weekdaysShortRegex(e)})),W(\"dddd\",(function(e,t){return t.weekdaysRegex(e)})),q([\"dd\",\"ddd\",\"dddd\"],(function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null==r?y(n).invalidWeekday=e:t.d=r})),q([\"d\",\"e\",\"E\"],(function(e,t,n,i){t[i]=E(e)}));var Gt=[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"];I(\"H\",[\"HH\",2],0,\"hour\"),I(\"h\",[\"hh\",2],0,fe),I(\"k\",[\"kk\",2],0,(function(){return this.hours()||24})),I(\"hmm\",0,0,(function(){return\"\"+fe.apply(this)+R(this.minutes(),2)})),I(\"hmmss\",0,0,(function(){return\"\"+fe.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)})),I(\"Hmm\",0,0,(function(){return\"\"+this.hours()+R(this.minutes(),2)})),I(\"Hmmss\",0,0,(function(){return\"\"+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)})),pe(\"a\",!0),pe(\"A\",!1),F(\"hour\",\"h\"),z(\"hour\",13),W(\"a\",ge),W(\"A\",ge),W(\"H\",Tt),W(\"h\",Tt),W(\"k\",Tt),W(\"HH\",Tt,Dt),W(\"hh\",Tt,Dt),W(\"kk\",Tt,Dt),W(\"hmm\",At),W(\"hmmss\",Ft),W(\"Hmm\",At),W(\"Hmmss\",Ft),H([\"H\",\"HH\"],3),H([\"k\",\"kk\"],(function(e,t){var n=E(e);t[3]=24===n?0:n})),H([\"a\",\"A\"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),H([\"h\",\"hh\"],(function(e,t,n){t[3]=E(e),y(n).bigHour=!0})),H(\"hmm\",(function(e,t,n){var i=e.length-2;t[3]=E(e.substr(0,i)),t[4]=E(e.substr(i)),y(n).bigHour=!0})),H(\"hmmss\",(function(e,t,n){var i=e.length-4,r=e.length-2;t[3]=E(e.substr(0,i)),t[4]=E(e.substr(i,2)),t[5]=E(e.substr(r)),y(n).bigHour=!0})),H(\"Hmm\",(function(e,t){var n=e.length-2;t[3]=E(e.substr(0,n)),t[4]=E(e.substr(n))})),H(\"Hmmss\",(function(e,t){var n=e.length-4,i=e.length-2;t[3]=E(e.substr(0,n)),t[4]=E(e.substr(n,2)),t[5]=E(e.substr(i))}));var Xt,Zt=Z(\"Hours\",!0),Qt={calendar:{sameDay:\"[Today at] LT\",nextDay:\"[Tomorrow at] LT\",nextWeek:\"dddd [at] LT\",lastDay:\"[Yesterday at] LT\",lastWeek:\"[Last] dddd [at] LT\",sameElse:\"L\"},longDateFormat:{LTS:\"h:mm:ss A\",LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D, YYYY\",LLL:\"MMMM D, YYYY h:mm A\",LLLL:\"dddd, MMMM D, YYYY h:mm A\"},invalidDate:\"Invalid date\",ordinal:\"%d\",dayOfMonthOrdinalParse:/\\d{1,2}/,relativeTime:{future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",ss:\"%d seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"},months:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],monthsShort:Vt,week:{dow:0,doy:6},weekdays:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],weekdaysMin:[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"],weekdaysShort:Gt,meridiemParse:/[ap]\\.?m?\\.?/i},Jt={},Kt={},en=/^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,tn=/^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,nn=/Z|[+-]\\d\\d(?::?\\d\\d)?/,rn=[[\"YYYYYY-MM-DD\",/[+-]\\d{6}-\\d\\d-\\d\\d/],[\"YYYY-MM-DD\",/\\d{4}-\\d\\d-\\d\\d/],[\"GGGG-[W]WW-E\",/\\d{4}-W\\d\\d-\\d/],[\"GGGG-[W]WW\",/\\d{4}-W\\d\\d/,!1],[\"YYYY-DDD\",/\\d{4}-\\d{3}/],[\"YYYY-MM\",/\\d{4}-\\d\\d/,!1],[\"YYYYYYMMDD\",/[+-]\\d{10}/],[\"YYYYMMDD\",/\\d{8}/],[\"GGGG[W]WWE\",/\\d{4}W\\d{3}/],[\"GGGG[W]WW\",/\\d{4}W\\d{2}/,!1],[\"YYYYDDD\",/\\d{7}/]],on=[[\"HH:mm:ss.SSSS\",/\\d\\d:\\d\\d:\\d\\d\\.\\d+/],[\"HH:mm:ss,SSSS\",/\\d\\d:\\d\\d:\\d\\d,\\d+/],[\"HH:mm:ss\",/\\d\\d:\\d\\d:\\d\\d/],[\"HH:mm\",/\\d\\d:\\d\\d/],[\"HHmmss.SSSS\",/\\d\\d\\d\\d\\d\\d\\.\\d+/],[\"HHmmss,SSSS\",/\\d\\d\\d\\d\\d\\d,\\d+/],[\"HHmmss\",/\\d\\d\\d\\d\\d\\d/],[\"HHmm\",/\\d\\d\\d\\d/],[\"HH\",/\\d\\d/]],an=/^\\/?Date\\((\\-?\\d+)/i,sn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\\d{4}))$/,ln={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};l.createFromInputFallback=j(\"value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.\",(function(e){e._d=new Date(e._i+(e._useUTC?\" UTC\":\"\"))})),l.ISO_8601=function(){},l.RFC_2822=function(){};var un=j(\"moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/\",(function(){var e=Me.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:_()})),cn=j(\"moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/\",(function(){var e=Me.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:_()})),dn=[\"year\",\"quarter\",\"month\",\"week\",\"day\",\"hour\",\"minute\",\"second\",\"millisecond\"];Ne(\"Z\",\":\"),Ne(\"ZZ\",\"\"),W(\"Z\",Lt),W(\"ZZ\",Lt),H([\"Z\",\"ZZ\"],(function(e,t,n){n._useUTC=!0,n._tzm=ze(Lt,e)}));var hn=/([\\+\\-]|\\d\\d)/gi;l.updateOffset=function(){};var fn=/^(\\-|\\+)?(?:(\\d*)[. ])?(\\d+)\\:(\\d+)(?:\\:(\\d+)(\\.\\d*)?)?$/,pn=/^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Le.fn=Ae.prototype,Le.invalid=function(){return Le(NaN)};var gn=Ue(1,\"add\"),mn=Ue(-1,\"subtract\");l.defaultFormat=\"YYYY-MM-DDTHH:mm:ssZ\",l.defaultFormatUtc=\"YYYY-MM-DDTHH:mm:ss[Z]\";var vn=j(\"moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.\",(function(e){return void 0===e?this.localeData():this.locale(e)}));I(0,[\"gg\",2],0,(function(){return this.weekYear()%100})),I(0,[\"GG\",2],0,(function(){return this.isoWeekYear()%100})),Qe(\"gggg\",\"weekYear\"),Qe(\"ggggg\",\"weekYear\"),Qe(\"GGGG\",\"isoWeekYear\"),Qe(\"GGGGG\",\"isoWeekYear\"),F(\"weekYear\",\"gg\"),F(\"isoWeekYear\",\"GG\"),z(\"weekYear\",1),z(\"isoWeekYear\",1),W(\"G\",It),W(\"g\",It),W(\"GG\",Tt,Dt),W(\"gg\",Tt,Dt),W(\"GGGG\",Nt,Ct),W(\"gggg\",Nt,Ct),W(\"GGGGG\",zt,Mt),W(\"ggggg\",zt,Mt),q([\"gggg\",\"ggggg\",\"GGGG\",\"GGGGG\"],(function(e,t,n,i){t[i.substr(0,2)]=E(e)})),q([\"gg\",\"GG\"],(function(e,t,n,i){t[i]=l.parseTwoDigitYear(e)})),I(\"Q\",0,\"Qo\",\"quarter\"),F(\"quarter\",\"Q\"),z(\"quarter\",7),W(\"Q\",St),H(\"Q\",(function(e,t){t[1]=3*(E(e)-1)})),I(\"D\",[\"DD\",2],\"Do\",\"date\"),F(\"date\",\"D\"),z(\"date\",9),W(\"D\",Tt),W(\"DD\",Tt,Dt),W(\"Do\",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),H([\"D\",\"DD\"],2),H(\"Do\",(function(e,t){t[2]=E(e.match(Tt)[0])}));var yn=Z(\"Date\",!0);I(\"DDD\",[\"DDDD\",3],\"DDDo\",\"dayOfYear\"),F(\"dayOfYear\",\"DDD\"),z(\"dayOfYear\",4),W(\"DDD\",Pt),W(\"DDDD\",jt),H([\"DDD\",\"DDDD\"],(function(e,t,n){n._dayOfYear=E(e)})),I(\"m\",[\"mm\",2],0,\"minute\"),F(\"minute\",\"m\"),z(\"minute\",14),W(\"m\",Tt),W(\"mm\",Tt,Dt),H([\"m\",\"mm\"],4);var bn=Z(\"Minutes\",!1);I(\"s\",[\"ss\",2],0,\"second\"),F(\"second\",\"s\"),z(\"second\",15),W(\"s\",Tt),W(\"ss\",Tt,Dt),H([\"s\",\"ss\"],5);var _n,wn=Z(\"Seconds\",!1);for(I(\"S\",0,0,(function(){return~~(this.millisecond()/100)})),I(0,[\"SS\",2],0,(function(){return~~(this.millisecond()/10)})),I(0,[\"SSS\",3],0,\"millisecond\"),I(0,[\"SSSS\",4],0,(function(){return 10*this.millisecond()})),I(0,[\"SSSSS\",5],0,(function(){return 100*this.millisecond()})),I(0,[\"SSSSSS\",6],0,(function(){return 1e3*this.millisecond()})),I(0,[\"SSSSSSS\",7],0,(function(){return 1e4*this.millisecond()})),I(0,[\"SSSSSSSS\",8],0,(function(){return 1e5*this.millisecond()})),I(0,[\"SSSSSSSSS\",9],0,(function(){return 1e6*this.millisecond()})),F(\"millisecond\",\"ms\"),z(\"millisecond\",16),W(\"S\",Pt,St),W(\"SS\",Pt,Dt),W(\"SSS\",Pt,jt),_n=\"SSSS\";9>=_n.length;_n+=\"S\")W(_n,Rt);for(_n=\"S\";9>=_n.length;_n+=\"S\")H(_n,et);var xn=Z(\"Milliseconds\",!1);I(\"z\",0,0,\"zoneAbbr\"),I(\"zz\",0,0,\"zoneName\");var kn=x.prototype;kn.add=gn,kn.calendar=function(e,t){var n=e||Me(),i=Re(n,this).startOf(\"day\"),r=l.calendarFormat(this,i)||\"sameElse\",o=t&&(M(t[r])?t[r].call(this,n):t[r]);return this.format(o||this.localeData().calendar(r,this,Me(n)))},kn.clone=function(){return new x(this)},kn.diff=function(e,t,n){var i,r,o;return this.isValid()?(i=Re(e,this)).isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),o=\"year\"===(t=P(t))?He(this,i)/12:\"month\"===t?He(this,i):\"quarter\"===t?He(this,i)/3:\"second\"===t?(this-i)/1e3:\"minute\"===t?(this-i)/6e4:\"hour\"===t?(this-i)/36e5:\"day\"===t?(this-i-r)/864e5:\"week\"===t?(this-i-r)/6048e5:this-i,n?o:O(o)):NaN:NaN},kn.endOf=function(e){var t;if(void 0===(e=P(e))||\"millisecond\"===e||!this.isValid())return this;var n=this._isUTC?Ze:Xe;return\"year\"===e?t=n(this.year()+1,0,1)-1:\"quarter\"===e?t=n(this.year(),this.month()-this.month()%3+3,1)-1:\"month\"===e?t=n(this.year(),this.month()+1,1)-1:\"week\"===e?t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1:\"isoWeek\"===e?t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1:\"day\"===e||\"date\"===e?t=n(this.year(),this.month(),this.date()+1)-1:\"hour\"===e?(t=this._d.valueOf(),t+=36e5-Ge(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1):\"minute\"===e?(t=this._d.valueOf(),t+=6e4-Ge(t,6e4)-1):\"second\"===e&&(t=this._d.valueOf(),t+=1e3-Ge(t,1e3)-1),this._d.setTime(t),l.updateOffset(this,!0),this},kn.format=function(e){e||(e=this.isUtc()?l.defaultFormatUtc:l.defaultFormat);var t=L(this,e);return this.localeData().postformat(t)},kn.from=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||Me(e).isValid())?Le({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},kn.fromNow=function(e){return this.from(Me(),e)},kn.to=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||Me(e).isValid())?Le({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},kn.toNow=function(e){return this.to(Me(),e)},kn.get=function(e){return M(this[e=P(e)])?this[e]():this},kn.invalidAt=function(){return y(this).overflow},kn.isAfter=function(e,t){var n=k(e)?e:Me(e);return!(!this.isValid()||!n.isValid())&&(\"millisecond\"===(t=P(t)||\"millisecond\")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},kn.isBefore=function(e,t){var n=k(e)?e:Me(e);return!(!this.isValid()||!n.isValid())&&(\"millisecond\"===(t=P(t)||\"millisecond\")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},kn.isBetween=function(e,t,n,i){var r=k(e)?e:Me(e),o=k(t)?t:Me(t);return!!(this.isValid()&&r.isValid()&&o.isValid())&&((\"(\"===(i=i||\"()\")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(\")\"===i[1]?this.isBefore(o,n):!this.isAfter(o,n)))},kn.isSame=function(e,t){var n,i=k(e)?e:Me(e);return!(!this.isValid()||!i.isValid())&&(\"millisecond\"===(t=P(t)||\"millisecond\")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},kn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},kn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},kn.isValid=function(){return b(this)},kn.lang=vn,kn.locale=qe,kn.localeData=Ve,kn.max=cn,kn.min=un,kn.parsingFlags=function(){return m({},y(this))},kn.set=function(e,t){if(\"object\"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:wt[n]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=N(e)),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit]);else if(M(this[e=P(e)]))return this[e](t);return this},kn.startOf=function(e){var t;if(void 0===(e=P(e))||\"millisecond\"===e||!this.isValid())return this;var n=this._isUTC?Ze:Xe;return\"year\"===e?t=n(this.year(),0,1):\"quarter\"===e?t=n(this.year(),this.month()-this.month()%3,1):\"month\"===e?t=n(this.year(),this.month(),1):\"week\"===e?t=n(this.year(),this.month(),this.date()-this.weekday()):\"isoWeek\"===e?t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)):\"day\"===e||\"date\"===e?t=n(this.year(),this.month(),this.date()):\"hour\"===e?(t=this._d.valueOf(),t-=Ge(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)):\"minute\"===e?(t=this._d.valueOf(),t-=Ge(t,6e4)):\"second\"===e&&(t=this._d.valueOf(),t-=Ge(t,1e3)),this._d.setTime(t),l.updateOffset(this,!0),this},kn.subtract=mn,kn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},kn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},kn.toDate=function(){return new Date(this.valueOf())},kn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return 0>n.year()||9999<n.year()?L(n,t?\"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]\":\"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ\"):M(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace(\"Z\",L(n,\"Z\")):L(n,t?\"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]\":\"YYYY-MM-DD[T]HH:mm:ss.SSSZ\")},kn.inspect=function(){if(!this.isValid())return\"moment.invalid(/* \"+this._i+\" */)\";var e=\"moment\",t=\"\";this.isLocal()||(e=0===this.utcOffset()?\"moment.utc\":\"moment.parseZone\",t=\"Z\");var n=\"[\"+e+'(\"]',i=0<=this.year()&&9999>=this.year()?\"YYYY\":\"YYYYYY\",r=t+'[\")]';return this.format(n+i+\"-MM-DD[T]HH:mm:ss.SSS\"+r)},kn.toJSON=function(){return this.isValid()?this.toISOString():null},kn.toString=function(){return this.clone().locale(\"en\").format(\"ddd MMM DD YYYY HH:mm:ss [GMT]ZZ\")},kn.unix=function(){return a(this.valueOf()/1e3)},kn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},kn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},kn.year=Ht,kn.isLeapYear=function(){return X(this.year())},kn.weekYear=function(e){return Je.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},kn.isoWeekYear=function(e){return Je.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},kn.quarter=kn.quarters=function(e){return null==e?s((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},kn.month=ne,kn.daysInMonth=function(){return K(this.year(),this.month())},kn.week=kn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),\"d\")},kn.isoWeek=kn.isoWeeks=function(e){var t=le(this,1,4).week;return null==e?t:this.add(7*(e-t),\"d\")},kn.weeksInYear=function(){var e=this.localeData()._week;return ue(this.year(),e.dow,e.doy)},kn.isoWeeksInYear=function(){return ue(this.year(),1,4)},kn.date=yn,kn.day=kn.days=function(e){if(!this.isValid())return null==e?NaN:this;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==e?t:(e=function(e,t){return\"string\"==typeof e?isNaN(e)?\"number\"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10):e}(e,this.localeData()),this.add(e-t,\"d\"))},kn.weekday=function(e){if(!this.isValid())return null==e?NaN:this;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,\"d\")},kn.isoWeekday=function(e){if(!this.isValid())return null==e?NaN:this;if(null!=e){var t=function(e,t){return\"string\"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},kn.dayOfYear=function(e){var n=t((this.clone().startOf(\"day\")-this.clone().startOf(\"year\"))/864e5)+1;return null==e?n:this.add(e-n,\"d\")},kn.hour=kn.hours=Zt,kn.minute=kn.minutes=bn,kn.second=kn.seconds=wn,kn.millisecond=kn.milliseconds=xn,kn.utcOffset=function(e,t,n){var i,o=this._offset||0;if(!this.isValid())return null==e?NaN:this;if(null!=e){if(\"string\"!=typeof e)16>r(e)&&!n&&(e*=60);else if(null===(e=ze(Lt,e)))return this;return!this._isUTC&&t&&(i=Ie(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,\"m\"),o!==e&&(!t||this._changeInProgress?Ye(this,Le(e-o,\"m\"),1,!1):!this._changeInProgress&&(this._changeInProgress=!0,l.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Ie(this)},kn.utc=function(e){return this.utcOffset(0,e)},kn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ie(this),\"m\")),this},kn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if(\"string\"==typeof this._i){var e=ze(Bt,this._i);null==e?this.utcOffset(0,!0):this.utcOffset(e)}return this},kn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Me(e).utcOffset():0,0==(this.utcOffset()-e)%60)},kn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},kn.isLocal=function(){return!!this.isValid()&&!this._isUTC},kn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},kn.isUtc=Be,kn.isUTC=Be,kn.zoneAbbr=function(){return this._isUTC?\"UTC\":\"\"},kn.zoneName=function(){return this._isUTC?\"Coordinated Universal Time\":\"\"},kn.dates=j(\"dates accessor is deprecated. Use date instead.\",yn),kn.months=j(\"months accessor is deprecated. Use month instead\",ne),kn.years=j(\"years accessor is deprecated. Use year instead\",Ht),kn.zone=j(\"moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/\",(function(e,t){return null==e?-this.utcOffset():(\"string\"!=typeof e&&(e=-e),this.utcOffset(e,t),this)})),kn.isDSTShifted=j(\"isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information\",(function(){if(!d(this._isDSTShifted))return this._isDSTShifted;var e={};if(w(e,this),(e=je(e))._a){var t=e._isUTC?v(e._a):Me(e._a);this._isDSTShifted=this.isValid()&&0<S(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted}));var On=A.prototype;On.calendar=function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return M(i)?i.call(t,n):i},On.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},On.invalidDate=function(){return this._invalidDate},On.ordinal=function(e){return this._ordinal.replace(\"%d\",e)},On.preparse=tt,On.postformat=tt,On.relativeTime=function(e,t,n,i){var r=this._relativeTime[n];return M(r)?r(e,t,n,i):r.replace(/%d/i,e)},On.pastFuture=function(e,t){var n=this._relativeTime[0<e?\"future\":\"past\"];return M(n)?n(t):n.replace(/%s/i,t)},On.set=function(e){var t,n;for(n in e)M(t=e[n])?this[n]=t:this[\"_\"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+\"|\"+/\\d{1,2}/.source)},On.months=function(e,t){return e?u(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||qt).test(t)?\"format\":\"standalone\"][e.month()]:u(this._months)?this._months:this._months.standalone},On.monthsShort=function(e,t){return e?u(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[qt.test(t)?\"format\":\"standalone\"][e.month()]:u(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},On.monthsParse=function(e,t,n){var i,r,o;if(this._monthsParseExact)return ee.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=v([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp(\"^\"+this.months(r,\"\").replace(\".\",\"\")+\"$\",\"i\"),this._shortMonthsParse[i]=new RegExp(\"^\"+this.monthsShort(r,\"\").replace(\".\",\"\")+\"$\",\"i\")),n||this._monthsParse[i]||(o=\"^\"+this.months(r,\"\")+\"|^\"+this.monthsShort(r,\"\"),this._monthsParse[i]=new RegExp(o.replace(\".\",\"\"),\"i\")),n&&\"MMMM\"===t&&this._longMonthsParse[i].test(e))return i;if(n&&\"MMM\"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},On.monthsRegex=function(e){return this._monthsParseExact?(g(this,\"_monthsRegex\")||ie.call(this),e?this._monthsStrictRegex:this._monthsRegex):(g(this,\"_monthsRegex\")||(this._monthsRegex=$t),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},On.monthsShortRegex=function(e){return this._monthsParseExact?(g(this,\"_monthsRegex\")||ie.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(g(this,\"_monthsShortRegex\")||(this._monthsShortRegex=$t),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},On.week=function(e){return le(e,this._week.dow,this._week.doy).week},On.firstDayOfYear=function(){return this._week.doy},On.firstDayOfWeek=function(){return this._week.dow},On.weekdays=function(e,t){var n=u(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?\"format\":\"standalone\"];return!0===e?ce(n,this._week.dow):e?n[e.day()]:n},On.weekdaysMin=function(e){return!0===e?ce(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},On.weekdaysShort=function(e){return!0===e?ce(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},On.weekdaysParse=function(e,t,n){var i,r,o;if(this._weekdaysParseExact)return de.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(r=v([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp(\"^\"+this.weekdays(r,\"\").replace(\".\",\"\\\\.?\")+\"$\",\"i\"),this._shortWeekdaysParse[i]=new RegExp(\"^\"+this.weekdaysShort(r,\"\").replace(\".\",\"\\\\.?\")+\"$\",\"i\"),this._minWeekdaysParse[i]=new RegExp(\"^\"+this.weekdaysMin(r,\"\").replace(\".\",\"\\\\.?\")+\"$\",\"i\")),this._weekdaysParse[i]||(o=\"^\"+this.weekdays(r,\"\")+\"|^\"+this.weekdaysShort(r,\"\")+\"|^\"+this.weekdaysMin(r,\"\"),this._weekdaysParse[i]=new RegExp(o.replace(\".\",\"\"),\"i\")),n&&\"dddd\"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&\"ddd\"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&\"dd\"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},On.weekdaysRegex=function(e){return this._weekdaysParseExact?(g(this,\"_weekdaysRegex\")||he.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(g(this,\"_weekdaysRegex\")||(this._weekdaysRegex=$t),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},On.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(g(this,\"_weekdaysRegex\")||he.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(g(this,\"_weekdaysShortRegex\")||(this._weekdaysShortRegex=$t),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},On.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(g(this,\"_weekdaysRegex\")||he.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(g(this,\"_weekdaysMinRegex\")||(this._weekdaysMinRegex=$t),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},On.isPM=function(e){return\"p\"===(e+\"\").toLowerCase().charAt(0)},On.meridiem=function(e,t,n){return 11<e?n?\"pm\":\"PM\":n?\"am\":\"AM\"},ye(\"en\",{dayOfMonthOrdinalParse:/\\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===E(e%100/10)?\"th\":1==t?\"st\":2==t?\"nd\":3==t?\"rd\":\"th\")}}),l.lang=j(\"moment.lang is deprecated. Use moment.locale instead.\",ye),l.langData=j(\"moment.langData is deprecated. Use moment.localeData instead.\",_e);var En=r,Sn=ut(\"ms\"),Dn=ut(\"s\"),jn=ut(\"m\"),Cn=ut(\"h\"),Mn=ut(\"d\"),Tn=ut(\"w\"),An=ut(\"M\"),Fn=ut(\"Q\"),Pn=ut(\"y\"),Nn=ct(\"milliseconds\"),zn=ct(\"seconds\"),Rn=ct(\"minutes\"),In=ct(\"hours\"),Bn=ct(\"days\"),Ln=ct(\"months\"),$n=ct(\"years\"),Wn=t,Un={ss:44,s:45,m:45,h:22,d:26,M:11},Yn=r,Hn=Ae.prototype;return Hn.isValid=function(){return this._isValid},Hn.abs=function(){var e=this._data;return this._milliseconds=En(this._milliseconds),this._days=En(this._days),this._months=En(this._months),e.milliseconds=En(e.milliseconds),e.seconds=En(e.seconds),e.minutes=En(e.minutes),e.hours=En(e.hours),e.months=En(e.months),e.years=En(e.years),this},Hn.add=function(e,t){return ot(this,e,t,1)},Hn.subtract=function(e,t){return ot(this,e,t,-1)},Hn.as=function(e){if(!this.isValid())return NaN;var n,i,r=this._milliseconds;if(\"month\"===(e=P(e))||\"quarter\"===e||\"year\"===e)switch(n=this._days+r/864e5,i=this._months+st(n),e){case\"month\":return i;case\"quarter\":return i/3;case\"year\":return i/12}else switch(n=this._days+t(lt(this._months)),e){case\"week\":return n/7+r/6048e5;case\"day\":return n+r/864e5;case\"hour\":return 24*n+r/36e5;case\"minute\":return 1440*n+r/6e4;case\"second\":return 86400*n+r/1e3;case\"millisecond\":return a(864e5*n)+r;default:throw new Error(\"Unknown unit \"+e)}},Hn.asMilliseconds=Sn,Hn.asSeconds=Dn,Hn.asMinutes=jn,Hn.asHours=Cn,Hn.asDays=Mn,Hn.asWeeks=Tn,Hn.asMonths=An,Hn.asQuarters=Fn,Hn.asYears=Pn,Hn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*E(this._months/12):NaN},Hn._bubble=function(){var e,t,n,i,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return 0<=o&&0<=a&&0<=s||0>=o&&0>=a&&0>=s||(o+=864e5*at(lt(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=O(o/1e3),l.seconds=e%60,t=O(e/60),l.minutes=t%60,n=O(t/60),l.hours=n%24,a+=O(n/24),s+=r=O(st(a)),a-=at(lt(r)),i=O(s/12),s%=12,l.days=a,l.months=s,l.years=i,this},Hn.clone=function(){return Le(this)},Hn.get=function(e){return e=P(e),this.isValid()?this[e+\"s\"]():NaN},Hn.milliseconds=Nn,Hn.seconds=zn,Hn.minutes=Rn,Hn.hours=In,Hn.days=Bn,Hn.weeks=function(){return O(this.days()/7)},Hn.months=Ln,Hn.years=$n,Hn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var i=Le(e).abs(),r=Wn(i.as(\"s\")),o=Wn(i.as(\"m\")),a=Wn(i.as(\"h\")),s=Wn(i.as(\"d\")),l=Wn(i.as(\"M\")),u=Wn(i.as(\"y\")),c=r<=Un.ss&&[\"s\",r]||r<Un.s&&[\"ss\",r]||1>=o&&[\"m\"]||o<Un.m&&[\"mm\",o]||1>=a&&[\"h\"]||a<Un.h&&[\"hh\",a]||1>=s&&[\"d\"]||s<Un.d&&[\"dd\",s]||1>=l&&[\"M\"]||l<Un.M&&[\"MM\",l]||1>=u&&[\"y\"]||[\"yy\",u];return c[2]=t,c[3]=0<+e,c[4]=n,dt.apply(null,c)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},Hn.toISOString=ft,Hn.toString=ft,Hn.toJSON=ft,Hn.locale=qe,Hn.localeData=Ve,Hn.toIsoString=j(\"toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)\",ft),Hn.lang=vn,I(\"X\",0,0,\"unix\"),I(\"x\",0,0,\"valueOf\"),W(\"x\",It),W(\"X\",/[+-]?\\d+(\\.\\d{1,3})?/),H(\"X\",(function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))})),H(\"x\",(function(e,t,n){n._d=new Date(E(e))})),l.version=\"2.24.0\",function(e){pt=e}(Me),l.fn=kn,l.min=function(){var e=[].slice.call(arguments,0);return Te(\"isBefore\",e)},l.max=function(){var e=[].slice.call(arguments,0);return Te(\"isAfter\",e)},l.now=function(){return Date.now?Date.now():+new Date},l.utc=v,l.unix=function(e){return Me(1e3*e)},l.months=function(e,t){return it(e,t,\"months\")},l.isDate=f,l.locale=ye,l.invalid=_,l.duration=Le,l.isMoment=k,l.weekdays=function(e,t,n){return rt(e,t,n,\"weekdays\")},l.parseZone=function(){return Me.apply(null,arguments).parseZone()},l.localeData=_e,l.isDuration=Fe,l.monthsShort=function(e,t){return it(e,t,\"monthsShort\")},l.weekdaysMin=function(e,t,n){return rt(e,t,n,\"weekdaysMin\")},l.defineLocale=be,l.updateLocale=function(e,t){if(null!=t){var n,i,r=Qt;null!=(i=ve(e))&&(r=i._config),(n=new A(t=T(r,t))).parentLocale=Jt[e],Jt[e]=n,ye(e)}else null!=Jt[e]&&(null==Jt[e].parentLocale?null!=Jt[e]&&delete Jt[e]:Jt[e]=Jt[e].parentLocale);return Jt[e]},l.locales=function(){return bt(Jt)},l.weekdaysShort=function(e,t,n){return rt(e,t,n,\"weekdaysShort\")},l.normalizeUnits=P,l.relativeTimeRounding=function(e){return void 0===e?Wn:\"function\"==typeof e&&(Wn=e,!0)},l.relativeTimeThreshold=function(e,t){return void 0!==Un[e]&&(void 0===t?Un[e]:(Un[e]=t,\"s\"===e&&(Un.ss=t-1),!0))},l.calendarFormat=function(e,t){var n=e.diff(t,\"days\",!0);return-6>n?\"sameElse\":-1>n?\"lastWeek\":0>n?\"lastDay\":1>n?\"sameDay\":2>n?\"nextDay\":7>n?\"nextWeek\":\"sameElse\"},l.prototype=kn,l.HTML5_FMT={DATETIME_LOCAL:\"YYYY-MM-DDTHH:mm\",DATETIME_LOCAL_SECONDS:\"YYYY-MM-DDTHH:mm:ss\",DATETIME_LOCAL_MS:\"YYYY-MM-DDTHH:mm:ss.SSS\",DATE:\"YYYY-MM-DD\",TIME:\"HH:mm\",TIME_SECONDS:\"HH:mm:ss\",TIME_MS:\"HH:mm:ss.SSS\",WEEK:\"GGGG-[W]WW\",MONTH:\"YYYY-MM\"},l}))})),zn=[],Rn=0;256>Rn;Rn++)zn[Rn]=(Rn+256).toString(16).substr(1);function In(e,t){var n=t||0,i=zn;return i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+\"-\"+i[e[n++]]+i[e[n++]]+\"-\"+i[e[n++]]+i[e[n++]]+\"-\"+i[e[n++]]+i[e[n++]]+\"-\"+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]}for(var Bn=function(){if(\"undefined\"!=typeof crypto&&crypto.getRandomValues){var e=new Uint8Array(16);return function(){return crypto.getRandomValues(e),e}}var t=Array(16);return function(){for(var e,n=0;16>n;n++)0==(3&n)&&(e=4294967296*Math.random()),t[n]=255&e>>>((3&n)<<3);return t}}(),Ln=[],$n=0;256>$n;$n++)Ln[$n]=($n+256).toString(16).substr(1);var Wn=Bn();Wn[0],Wn[1],Wn[2],Wn[3],Wn[4],Wn[5],Wn[6],Wn[7];function Un(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,n=2<arguments.length?arguments[2]:void 0,i=t&&n||0;\"string\"==typeof e&&(t=\"binary\"===e?Array(16):void 0,e={});var r=e.random||(e.rng||Bn)();if(r[6]=64|15&r[6],r[8]=128|63&r[8],t)for(var o=0;16>o;o++)t[i+o]=r[o];return t||In(r)}var Yn=/^\\/?Date\\((-?\\d+)/i,Hn=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i,qn=/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i,Vn=/^rgb\\( *(1?\\d{1,2}|2[0-4]\\d|25[0-5]) *, *(1?\\d{1,2}|2[0-4]\\d|25[0-5]) *, *(1?\\d{1,2}|2[0-4]\\d|25[0-5]) *\\)$/i,Gn=/^rgba\\( *(1?\\d{1,2}|2[0-4]\\d|25[0-5]) *, *(1?\\d{1,2}|2[0-4]\\d|25[0-5]) *, *(1?\\d{1,2}|2[0-4]\\d|25[0-5]) *, *([01]|0?\\.\\d+) *\\)$/i;function Xn(e){return e instanceof Number||\"number\"==typeof e}function Zn(e){if(e)for(;!0===e.hasChildNodes();){var t=e.firstChild;t&&(Zn(t),e.removeChild(t))}}function Qn(e){return e instanceof String||\"string\"==typeof e}function Jn(e){return\"object\"===tt(e)&&null!==e}function Kn(e){if(e instanceof Date)return!0;if(Qn(e)){if(Yn.exec(e))return!0;if(!isNaN(Date.parse(e)))return!0}return!1}function ei(e){return Nn.isMoment(e)}function ti(e,t,n,i){var r=!1;!0===i&&(r=null===t[n]&&void 0!==e[n]),r?delete e[n]:e[n]=t[n]}function ni(e,t){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];for(var i in e)if(void 0!==t[i])if(null===t[i]||\"object\"!==tt(t[i]))ti(e,t,i,n);else{var r=e[i],o=t[i];Jn(r)&&Jn(o)&&ni(r,o,n)}}var ii=Object.assign;function ri(e,t){if(!Array.isArray(e))throw new Error(\"Array with property names expected as first argument\");for(var n=arguments.length,i=Array(2<n?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];for(var o,a=0,s=i;a<s.length;a++){o=s[a];for(var l,u=0;u<e.length;u++)l=e[u],o&&Object.prototype.hasOwnProperty.call(o,l)&&(t[l]=o[l])}return t}function oi(e,t,n){var i=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];if(Array.isArray(n))throw new TypeError(\"Arrays are not supported by deepExtend\");for(var r,o=0;o<e.length;o++)if(r=e[o],Object.prototype.hasOwnProperty.call(n,r))if(n[r]&&n[r].constructor===Object)void 0===t[r]&&(t[r]={}),t[r].constructor===Object?si(t[r],n[r],!1,i):ti(t,n,r,i);else{if(Array.isArray(n[r]))throw new TypeError(\"Arrays are not supported by deepExtend\");ti(t,n,r,i)}return t}function ai(e,t,n){var i=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];if(Array.isArray(n))throw new TypeError(\"Arrays are not supported by deepExtend\");for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&-1===e.indexOf(r))if(n[r]&&n[r].constructor===Object)void 0===t[r]&&(t[r]={}),t[r].constructor===Object?si(t[r],n[r]):ti(t,n,r,i);else if(Array.isArray(n[r])){t[r]=[];for(var o=0;o<n[r].length;o++)t[r].push(n[r][o])}else ti(t,n,r,i);return t}function si(e,t){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],i=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];for(var r in t)(Object.prototype.hasOwnProperty.call(t,r)||!0===n)&&(t[r]&&Object.getPrototypeOf(t[r])===Object.prototype?void 0===e[r]?e[r]=si({},t[r],n):e[r]&&Object.getPrototypeOf(e[r])===Object.prototype?si(e[r],t[r],n):ti(e,t,r,i):Array.isArray(t[r])?e[r]=t[r].slice():ti(e,t,r,i));return e}function li(e,t){if(e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!=t[n])return!1;return!0}function ui(e,t){var n;if(void 0!==e){if(null===e)return null;if(!t)return e;if(\"string\"!=typeof t&&!(t instanceof String))throw new Error(\"Type must be a string\");switch(t){case\"boolean\":case\"Boolean\":return!!e;case\"number\":case\"Number\":return Qn(e)&&!isNaN(Date.parse(e))?Nn(e).valueOf():+e.valueOf();case\"string\":case\"String\":return e+\"\";case\"Date\":if(Xn(e))return new Date(e);if(e instanceof Date)return new Date(e.valueOf());if(ei(e))return new Date(e.valueOf());if(Qn(e))return(n=Yn.exec(e))?new Date(+n[1]):Nn(new Date(e)).toDate();throw new Error(\"Cannot convert object of type \"+ci(e)+\" to type Date\");case\"Moment\":if(Xn(e))return Nn(e);if(e instanceof Date)return Nn(e.valueOf());if(ei(e))return Nn(e);if(Qn(e))return n=Yn.exec(e),Nn(n?+n[1]:e);throw new Error(\"Cannot convert object of type \"+ci(e)+\" to type Date\");case\"ISODate\":if(Xn(e))return new Date(e);if(e instanceof Date)return e.toISOString();if(ei(e))return e.toDate().toISOString();if(Qn(e))return(n=Yn.exec(e))?new Date(+n[1]).toISOString():Nn(e).format();throw new Error(\"Cannot convert object of type \"+ci(e)+\" to type ISODate\");case\"ASPDate\":if(Xn(e))return\"/Date(\"+e+\")/\";if(e instanceof Date||ei(e))return\"/Date(\"+e.valueOf()+\")/\";if(Qn(e))return\"/Date(\"+((n=Yn.exec(e))?new Date(+n[1]).valueOf():new Date(e).valueOf())+\")/\";throw new Error(\"Cannot convert object of type \"+ci(e)+\" to type ASPDate\");default:throw new Error(\"Unknown type \".concat(t))}}}function ci(e){var t=tt(e);return\"object\"===t?null===e?\"null\":e instanceof Boolean?\"Boolean\":e instanceof Number?\"Number\":e instanceof String?\"String\":Array.isArray(e)?\"Array\":e instanceof Date?\"Date\":\"Object\":\"number\"===t?\"Number\":\"boolean\"===t?\"Boolean\":\"string\"===t?\"String\":void 0===t?\"undefined\":t}function di(e,t){return[].concat(rt(e),[t])}function hi(e){return e.slice()}function fi(e){return e.getBoundingClientRect().left}function pi(e){return e.getBoundingClientRect().right}function gi(e){return e.getBoundingClientRect().top}function mi(e,t){var n=e.className.split(\" \"),i=t.split(\" \");n=n.concat(i.filter((function(e){return 0>n.indexOf(e)}))),e.className=n.join(\" \")}function vi(e,t){var n=e.className.split(\" \"),i=t.split(\" \");n=n.filter((function(e){return 0>i.indexOf(e)})),e.className=n.join(\" \")}function yi(e,t){if(Array.isArray(e))for(var n=e.length,i=0;i<n;i++)t(e[i],i,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(e[r],r,e)}var bi=Object.values;function _i(e,t,n){return e[t]!==n&&(e[t]=n,!0)}function wi(e){var t=!1;return function(){t||(t=!0,requestAnimationFrame((function(){t=!1,e()})))}}function xi(e,t,n,i){e.addEventListener?(void 0===i&&(i=!1),\"mousewheel\"===t&&0<=navigator.userAgent.indexOf(\"Firefox\")&&(t=\"DOMMouseScroll\"),e.addEventListener(t,n,i)):e.attachEvent(\"on\"+t,n)}function ki(e,t,n,i){e.removeEventListener?(void 0===i&&(i=!1),\"mousewheel\"===t&&0<=navigator.userAgent.indexOf(\"Firefox\")&&(t=\"DOMMouseScroll\"),e.removeEventListener(t,n,i)):e.detachEvent(\"on\"+t,n)}function Oi(e){e||(e=window.event),e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}function Ei(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.event,t=null;return e&&(e.target?t=e.target:e.srcElement&&(t=e.srcElement)),t instanceof Element&&(null==t.nodeType||3!=t.nodeType||(t=t.parentNode)instanceof Element)?t:null}function Si(e,t){for(var n=e;n;){if(n===t)return!0;if(!n.parentNode)return!1;n=n.parentNode}return!1}var Di={asBoolean:function(e,t){return\"function\"==typeof e&&(e=e()),null==e?t||null:0!=e},asNumber:function(e,t){return\"function\"==typeof e&&(e=e()),null==e?t||null:+e||t||null},asString:function(e,t){return\"function\"==typeof e&&(e=e()),null==e?t||null:e+\"\"},asSize:function(e,t){return\"function\"==typeof e&&(e=e()),Qn(e)?e:Xn(e)?e+\"px\":t||null},asElement:function(e,t){return\"function\"==typeof e&&(e=e()),e||t||null}};function ji(e){var t;switch(e.length){case 3:case 4:return(t=qn.exec(e))?{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16)}:null;case 6:case 7:return(t=Hn.exec(e))?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null;default:return null}}function Ci(e,t){if(-1!==e.indexOf(\"rgba\"))return e;if(-1!==e.indexOf(\"rgb\")){var n=e.substr(e.indexOf(\"(\")+1).replace(\")\",\"\").split(\",\");return\"rgba(\"+n[0]+\",\"+n[1]+\",\"+n[2]+\",\"+t+\")\"}var i=ji(e);return null==i?e:\"rgba(\"+i.r+\",\"+i.g+\",\"+i.b+\",\"+t+\")\"}function Mi(e,t,n){return\"#\"+(16777216+(e<<16)+(t<<8)+n).toString(16).slice(1)}function Ti(e,t){var n=Math.min;if(Qn(e)){var i=e;if($i(i)){var r=i.substr(4).substr(0,i.length-5).split(\",\").map((function(e){return parseInt(e)}));i=Mi(r[0],r[1],r[2])}if(!0===Li(i)){var o=Bi(i),a={h:o.h,s:.8*o.s,v:n(1,1.02*o.v)},s={h:o.h,s:n(1,1.25*o.s),v:.8*o.v},l=Ii(s.h,s.s,s.v),u=Ii(a.h,a.s,a.v);return{background:i,border:l,highlight:{background:u,border:l},hover:{background:u,border:l}}}return{background:i,border:i,highlight:{background:i,border:i},hover:{background:i,border:i}}}return t?{background:e.background||t.background,border:e.border||t.border,highlight:Qn(e.highlight)?{border:e.highlight,background:e.highlight}:{background:e.highlight&&e.highlight.background||t.highlight.background,border:e.highlight&&e.highlight.border||t.highlight.border},hover:Qn(e.hover)?{border:e.hover,background:e.hover}:{border:e.hover&&e.hover.border||t.hover.border,background:e.hover&&e.hover.background||t.hover.background}}:{background:e.background||void 0,border:e.border||void 0,highlight:Qn(e.highlight)?{border:e.highlight,background:e.highlight}:{background:e.highlight&&e.highlight.background||void 0,border:e.highlight&&e.highlight.border||void 0},hover:Qn(e.hover)?{border:e.hover,background:e.hover}:{border:e.hover&&e.hover.border||void 0,background:e.hover&&e.hover.background||void 0}}}function Ai(e,t,n){var i=Math.max,r=Math.min,o=r(e/=255,r(t/=255,n/=255)),a=i(e,i(t,n));return o===a?{h:0,s:0,v:o}:{h:60*((e===o?3:n===o?1:5)-(e===o?t-n:n===o?e-t:n-e)/(a-o))/360,s:(a-o)/a,v:a}}var Fi=function(e){var t={};return e.split(\";\").forEach((function(e){if(\"\"!=e.trim()){var n=e.split(\":\"),i=n[0].trim(),r=n[1].trim();t[i]=r}})),t},Pi=function(e){return Object.keys(e).map((function(t){return t+\": \"+e[t]})).join(\"; \")};function Ni(e,t){var n=function(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?it(t,!0).forEach((function(n){nt(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):it(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}({},Fi(e.style.cssText),{},Fi(t));e.style.cssText=Pi(n)}function zi(e,t){var n=Fi(e.style.cssText),i=Fi(t);for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&delete n[r];e.style.cssText=Pi(n)}function Ri(e,t,n){var i,r,o,a=Math.floor,s=a(6*e),l=6*e-s,u=n*(1-t),c=n*(1-l*t),d=n*(1-(1-l)*t);switch(s%6){case 0:i=n,r=d,o=u;break;case 1:i=c,r=n,o=u;break;case 2:i=u,r=n,o=d;break;case 3:i=u,r=c,o=n;break;case 4:i=d,r=u,o=n;break;case 5:i=n,r=u,o=c}return{r:a(255*i),g:a(255*r),b:a(255*o)}}function Ii(e,t,n){var i=Ri(e,t,n);return Mi(i.r,i.g,i.b)}function Bi(e){var t=ji(e);if(!t)throw new TypeError(\"'\".concat(e,\"' is not a valid color.\"));return Ai(t.r,t.g,t.b)}function Li(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)}function $i(e){return Vn.test(e)}function Wi(e){return Gn.test(e)}function Ui(e,t){if(null!==t&&\"object\"===tt(t)){for(var n=Object.create(t),i=0;i<e.length;i++)Object.prototype.hasOwnProperty.call(t,e[i])&&\"object\"==tt(t[e[i]])&&(n[e[i]]=Yi(t[e[i]]));return n}return null}function Yi(e){if(null===e||\"object\"!==tt(e))return null;if(e instanceof Element)return e;var t=Object.create(e);for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&\"object\"==tt(e[n])&&(t[n]=Yi(e[n]));return t}function Hi(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=void 0;for(r=n;0<r&&0>t(i,e[r-1]);r--)e[r]=e[r-1];e[r]=i}return e}function qi(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},r=function(e){return null!=e},o=function(e){return null!==e&&\"object\"===tt(e)};if(!o(e))throw new Error(\"Parameter mergeTarget must be an object\");if(!o(t))throw new Error(\"Parameter options must be an object\");if(!r(n))throw new Error(\"Parameter option must have a value\");if(!o(i))throw new Error(\"Parameter globalOptions must be an object\");var a=function(e,t,n){o(e[n])||(e[n]={});var i=t[n],r=e[n];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},s=t[n],l=o(i)&&!function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(i),u=l?i[n]:void 0,c=u?u.enabled:void 0;if(void 0!==s){if(\"boolean\"==typeof s)return o(e[n])||(e[n]={}),void(e[n].enabled=s);if(null===s&&!o(e[n])){if(!r(u))return;e[n]=Object.create(u)}if(o(s)){var d=!0;void 0===s.enabled?void 0!==c&&(d=u.enabled):d=s.enabled,a(e,t,n),e[n].enabled=d}}}function Vi(e,t,n,i){for(var r=0,o=0,a=e.length-1;o<=a&&r<1e4;){var s=Math.floor((o+a)/2),l=e[s],u=t(void 0===i?l[n]:l[n][i]);if(0==u)return s;-1==u?o=s+1:a=s-1,r++}return-1}function Gi(e,t,n,i,r){var o,a,s,l,u=Math.max,c=Math.min,d=Math.floor,h=0,f=0,p=e.length-1;for(r=null==r?function(e,t){return e==t?0:e<t?-1:1}:r;f<=p&&1e4>h;){if(o=e[u(0,(l=d(.5*(p+f)))-1)][n],a=e[l][n],s=e[c(e.length-1,l+1)][n],0==r(a,t))return l;if(0>r(o,t)&&0<r(a,t))return\"before\"==i?u(0,l-1):l;if(0>r(a,t)&&0<r(s,t))return\"before\"==i?l:c(e.length-1,l+1);0>r(a,t)?f=l+1:p=l-1,h++}return-1}var Xi={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return.5>e?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return.5>e?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return.5>e?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return.5>e?16*e*e*e*e*e:1+16*--e*e*e*e*e}};function Zi(){var e=document.createElement(\"p\");e.style.width=\"100%\",e.style.height=\"200px\";var t=document.createElement(\"div\");t.style.position=\"absolute\",t.style.top=\"0px\",t.style.left=\"0px\",t.style.visibility=\"hidden\",t.style.width=\"200px\",t.style.height=\"150px\",t.style.overflow=\"hidden\",t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow=\"scroll\";var i=e.offsetWidth;return n==i&&(i=t.clientWidth),document.body.removeChild(t),n-i}function Qi(e,t){var n;Array.isArray(t)||(t=[t]);var i=!0,r=!1,o=void 0;try{for(var a,s,l=e[Symbol.iterator]();!(i=(a=l.next()).done);i=!0)if(s=a.value){n=s[t[0]];for(var u=1;u<t.length;u++)n&&(n=n[t[u]]);if(void 0!==n)break}}catch(e){r=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw o}}return n}var Ji=Object.freeze({isNumber:Xn,recursiveDOMDelete:Zn,isString:Qn,isObject:Jn,isDate:Kn,isMoment:ei,fillIfDefined:ni,extend:ii,selectiveExtend:ri,selectiveDeepExtend:oi,selectiveNotDeepExtend:ai,deepExtend:si,equalArray:li,convert:ui,getType:ci,copyAndExtendArray:di,copyArray:hi,getAbsoluteLeft:fi,getAbsoluteRight:pi,getAbsoluteTop:gi,addClassName:mi,removeClassName:vi,forEach:yi,toArray:bi,updateProperty:_i,throttle:wi,addEventListener:xi,removeEventListener:ki,preventDefault:Oi,getTarget:Ei,hasParent:Si,option:Di,hexToRGB:ji,overrideOpacity:Ci,RGBToHex:Mi,parseColor:Ti,RGBToHSV:Ai,addCssText:Ni,removeCssText:zi,HSVToRGB:Ri,HSVToHex:Ii,hexToHSV:Bi,isValidHex:Li,isValidRGB:$i,isValidRGBA:Wi,selectiveBridgeObject:Ui,bridgeObject:Yi,insertSort:Hi,mergeOptions:qi,binarySearchCustom:Vi,binarySearchValue:Gi,easingFunctions:Xi,getScrollBarWidth:Zi,topMost:Qi,randomUUID:Un}),Ki=Object.freeze({default:Ji,HSVToHex:Ii,HSVToRGB:Ri,RGBToHSV:Ai,RGBToHex:Mi,addClassName:mi,addCssText:Ni,addEventListener:xi,binarySearchCustom:Vi,binarySearchValue:Gi,bridgeObject:Yi,convert:ui,copyAndExtendArray:di,copyArray:hi,deepExtend:si,easingFunctions:Xi,equalArray:li,extend:ii,fillIfDefined:ni,forEach:yi,getAbsoluteLeft:fi,getAbsoluteRight:pi,getAbsoluteTop:gi,getScrollBarWidth:Zi,getTarget:Ei,getType:ci,hasParent:Si,hexToHSV:Bi,hexToRGB:ji,insertSort:Hi,isDate:Kn,isMoment:ei,isNumber:Xn,isObject:Jn,isString:Qn,isValidHex:Li,isValidRGB:$i,isValidRGBA:Wi,mergeOptions:qi,option:Di,overrideOpacity:Ci,parseColor:Ti,preventDefault:Oi,randomUUID:Un,recursiveDOMDelete:Zn,removeClassName:vi,removeCssText:zi,removeEventListener:ki,selectiveBridgeObject:Ui,selectiveDeepExtend:oi,selectiveExtend:ri,selectiveNotDeepExtend:ai,throttle:wi,toArray:bi,topMost:Qi,updateProperty:_i});var er=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e};function tr(e,t){return e(t={exports:{}},t.exports),t.exports}var nr=tr((function(e){function t(e){return(t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function n(i){return e.exports=n=\"function\"==typeof Symbol&&\"symbol\"===t(Symbol.iterator)?function(e){return t(e)}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":t(e)},n(i)}e.exports=n}));var ir=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")};function rr(e,t){for(var n,i=0;i<t.length;i++)(n=t[i]).enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}var or=function(e,t,n){return t&&rr(e.prototype,t),n&&rr(e,n),e};var ar=function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e};var sr=function(e,t){return!t||\"object\"!==nr(t)&&\"function\"!=typeof t?ar(e):t},lr=tr((function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t(n)}e.exports=t})),ur=tr((function(e){function t(n,i){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(n,i)}e.exports=t}));for(var cr=function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ur(e,t)},dr=[],hr=0;256>hr;hr++)dr[hr]=(hr+256).toString(16).substr(1);function fr(e,t){var n=t||0,i=dr;return i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+\"-\"+i[e[n++]]+i[e[n++]]+\"-\"+i[e[n++]]+i[e[n++]]+\"-\"+i[e[n++]]+i[e[n++]]+\"-\"+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]}for(var pr=function(){if(\"undefined\"!=typeof crypto&&crypto.getRandomValues){var e=new Uint8Array(16);return function(){return crypto.getRandomValues(e),e}}var t=Array(16);return function(){for(var e,n=0;16>n;n++)0==(3&n)&&(e=4294967296*Math.random()),t[n]=255&e>>>((3&n)<<3);return t}}(),gr=[],mr=0;256>mr;mr++)gr[mr]=(mr+256).toString(16).substr(1);var vr=pr();vr[0],vr[1],vr[2],vr[3],vr[4],vr[5],vr[6],vr[7];function yr(e){return(yr=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}\"undefined\"==typeof globalThis?\"undefined\"==typeof window?void 0===e&&(\"undefined\"==typeof self||self):window:globalThis;for(var br=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t=Math.round,n=Math.pow,i=Math.max,r=Math.abs,o=Math.min,a=Math.floor,s=Math.ceil;!function(t,n){e.exports=n()}(0,(function(){function l(){return pt.apply(null,arguments)}function u(e){return e instanceof Array||\"[object Array]\"===Object.prototype.toString.call(e)}function c(e){return null!=e&&\"[object Object]\"===Object.prototype.toString.call(e)}function d(e){return void 0===e}function h(e){return\"number\"==typeof e||\"[object Number]\"===Object.prototype.toString.call(e)}function f(e){return e instanceof Date||\"[object Date]\"===Object.prototype.toString.call(e)}function p(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function g(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function m(e,t){for(var n in t)g(t,n)&&(e[n]=t[n]);return g(t,\"toString\")&&(e.toString=t.toString),g(t,\"valueOf\")&&(e.valueOf=t.valueOf),e}function v(e,t,n,i){return Ce(e,t,n,i,!0).utc()}function y(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function b(e){if(null==e._isValid){var t=y(e),n=gt.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&0>t.overflow&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function _(e){var t=v(NaN);return null==e?y(t).userInvalidated=!0:m(y(t),e),t}function w(e,t){var n,i,r;if(d(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),d(t._i)||(e._i=t._i),d(t._f)||(e._f=t._f),d(t._l)||(e._l=t._l),d(t._strict)||(e._strict=t._strict),d(t._tzm)||(e._tzm=t._tzm),d(t._isUTC)||(e._isUTC=t._isUTC),d(t._offset)||(e._offset=t._offset),d(t._pf)||(e._pf=y(t)),d(t._locale)||(e._locale=t._locale),0<mt.length)for(n=0;n<mt.length;n++)d(r=t[i=mt[n]])||(e[i]=r);return e}function x(e){w(this,e),this._d=new Date(null==e._d?NaN:e._d.getTime()),this.isValid()||(this._d=new Date(NaN)),!1===vt&&(vt=!0,l.updateOffset(this),vt=!1)}function k(e){return e instanceof x||null!=e&&null!=e._isAMomentObject}function O(e){return 0>e?s(e)||0:a(e)}function E(e){var t=+e,n=0;return 0!=t&&isFinite(t)&&(n=O(t)),n}function S(e,t,n){var i,a=o(e.length,t.length),s=r(e.length-t.length),l=0;for(i=0;i<a;i++)(n&&e[i]!==t[i]||!n&&E(e[i])!==E(t[i]))&&l++;return l+s}function D(e){!1===l.suppressDeprecationWarnings&&\"undefined\"!=typeof console&&console.warn&&console.warn(\"Deprecation warning: \"+e)}function j(e,t){var n=!0;return m((function(){if(null!=l.deprecationHandler&&l.deprecationHandler(null,e),n){for(var i,r=[],o=0;o<arguments.length;o++){if(i=\"\",\"object\"==typeof arguments[o]){for(var a in i+=\"\\n[\"+o+\"] \",arguments[0])i+=a+\": \"+arguments[0][a]+\", \";i=i.slice(0,-2)}else i=arguments[o];r.push(i)}D(e+\"\\nArguments: \"+Array.prototype.slice.call(r).join(\"\")+\"\\n\"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}function C(e,t){null!=l.deprecationHandler&&l.deprecationHandler(e,t),yt[e]||(D(t),yt[e]=!0)}function M(e){return e instanceof Function||\"[object Function]\"===Object.prototype.toString.call(e)}function T(e,t){var n,i=m({},e);for(n in t)g(t,n)&&(c(e[n])&&c(t[n])?(i[n]={},m(i[n],e[n]),m(i[n],t[n])):null==t[n]?delete i[n]:i[n]=t[n]);for(n in e)g(e,n)&&!g(t,n)&&c(e[n])&&(i[n]=m({},i[n]));return i}function A(e){null!=e&&this.set(e)}function F(e,t){var n=e.toLowerCase();_t[n]=_t[n+\"s\"]=_t[t]=e}function P(e){return\"string\"==typeof e?_t[e]||_t[e.toLowerCase()]:void 0}function N(e){var t,n,i={};for(n in e)g(e,n)&&((t=P(n))&&(i[t]=e[n]));return i}function z(e,t){wt[e]=t}function R(e,t,o){var a=\"\"+r(e);return(0<=e?o?\"+\":\"\":\"-\")+n(10,i(0,t-a.length)).toString().substr(1)+a}function I(e,t,n,i){var r=i;\"string\"==typeof i&&(r=function(){return this[i]()}),e&&(Et[e]=r),t&&(Et[t[0]]=function(){return R(r.apply(this,arguments),t[1],t[2])}),n&&(Et[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function B(e){return e.match(/\\[[\\s\\S]/)?e.replace(/^\\[|\\]$/g,\"\"):e.replace(/\\\\/g,\"\")}function L(e,t){return e.isValid()?(t=$(t,e.localeData()),Ot[t]=Ot[t]||function(e){var t,n,i=e.match(xt);for(t=0,n=i.length;t<n;t++)i[t]=Et[i[t]]?Et[i[t]]:B(i[t]);return function(t){var r,o=\"\";for(r=0;r<n;r++)o+=M(i[r])?i[r].call(t,e):i[r];return o}}(t),Ot[t](e)):e.localeData().invalidDate()}function $(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(kt.lastIndex=0;0<=i&&kt.test(e);)e=e.replace(kt,n),kt.lastIndex=0,i-=1;return e}function W(e,t,n){Wt[e]=M(t)?t:function(e){return e&&n?n:t}}function U(e,t){return g(Wt,e)?Wt[e](t._strict,t._locale):new RegExp(function(e){return Y(e.replace(\"\\\\\",\"\").replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g,(function(e,t,n,i,r){return t||n||i||r})))}(e))}function Y(e){return e.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,\"\\\\$&\")}function H(e,t){var n,i=t;for(\"string\"==typeof e&&(e=[e]),h(t)&&(i=function(e,n){n[t]=E(e)}),n=0;n<e.length;n++)Ut[e[n]]=i}function q(e,t){H(e,(function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)}))}function V(e,t,n){null!=t&&g(Ut,e)&&Ut[e](t,n._a,n,e)}function G(e){return X(e)?366:365}function X(e){return 0==e%4&&0!=e%100||0==e%400}function Z(e,t){return function(n){return null==n?Q(this,e):(J(this,e,n),l.updateOffset(this,t),this)}}function Q(e,t){return e.isValid()?e._d[\"get\"+(e._isUTC?\"UTC\":\"\")+t]():NaN}function J(e,t,n){e.isValid()&&!isNaN(n)&&(\"FullYear\"===t&&X(e.year())&&1===e.month()&&29===e.date()?e._d[\"set\"+(e._isUTC?\"UTC\":\"\")+t](n,e.month(),K(n,e.month())):e._d[\"set\"+(e._isUTC?\"UTC\":\"\")+t](n))}function K(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=function(e,t){return(e%t+t)%t}(t,12);return e+=(t-n)/12,1===n?X(e)?29:28:31-n%7%2}function ee(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;12>i;++i)o=v([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,\"\").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,\"\").toLocaleLowerCase();return n?\"MMM\"===t?-1===(r=Yt.call(this._shortMonthsParse,a))?null:r:-1===(r=Yt.call(this._longMonthsParse,a))?null:r:\"MMM\"===t?-1!==(r=Yt.call(this._shortMonthsParse,a))?r:-1===(r=Yt.call(this._longMonthsParse,a))?null:r:-1!==(r=Yt.call(this._longMonthsParse,a))?r:-1===(r=Yt.call(this._shortMonthsParse,a))?null:r}function te(e,t){var n;if(!e.isValid())return e;if(\"string\"==typeof t)if(/^\\d+$/.test(t))t=E(t);else if(!h(t=e.localeData().monthsParse(t)))return e;return n=o(e.date(),K(e.year(),t)),e._d[\"set\"+(e._isUTC?\"UTC\":\"\")+\"Month\"](t,n),e}function ne(e){return null==e?Q(this,\"Month\"):(te(this,e),l.updateOffset(this,!0),this)}function ie(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],o=[];for(t=0;12>t;t++)n=v([2e3,t]),i.push(this.monthsShort(n,\"\")),r.push(this.months(n,\"\")),o.push(this.months(n,\"\")),o.push(this.monthsShort(n,\"\"));for(i.sort(e),r.sort(e),o.sort(e),t=0;12>t;t++)i[t]=Y(i[t]),r[t]=Y(r[t]);for(t=0;24>t;t++)o[t]=Y(o[t]);this._monthsRegex=new RegExp(\"^(\"+o.join(\"|\")+\")\",\"i\"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp(\"^(\"+r.join(\"|\")+\")\",\"i\"),this._monthsShortStrictRegex=new RegExp(\"^(\"+i.join(\"|\")+\")\",\"i\")}function re(e,t,n,i,r,o,a){var s;return 100>e&&0<=e?(s=new Date(e+400,t,n,i,r,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,i,r,o,a),s}function oe(e){var t;if(100>e&&0<=e){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function ae(e,t,n){var i=7+t-n;return-((7+oe(e,0,i).getUTCDay()-t)%7)+i-1}function se(e,t,n,i,r){var o,a,s=1+7*(t-1)+(7+n-i)%7+ae(e,i,r);return 0>=s?a=G(o=e-1)+s:s>G(e)?(o=e+1,a=s-G(e)):(o=e,a=s),{year:o,dayOfYear:a}}function le(e,t,n){var i,r,o=ae(e.year(),t,n),s=a((e.dayOfYear()-o-1)/7)+1;return 1>s?i=s+ue(r=e.year()-1,t,n):s>ue(e.year(),t,n)?(i=s-ue(e.year(),t,n),r=e.year()+1):(r=e.year(),i=s),{week:i,year:r}}function ue(e,t,n){var i=ae(e,t,n),r=ae(e+1,t,n);return(G(e)-i+r)/7}function ce(e,t){return e.slice(t,7).concat(e.slice(0,t))}function de(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;7>i;++i)o=v([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,\"\").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,\"\").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,\"\").toLocaleLowerCase();return n?\"dddd\"===t?-1===(r=Yt.call(this._weekdaysParse,a))?null:r:\"ddd\"===t?-1===(r=Yt.call(this._shortWeekdaysParse,a))?null:r:-1===(r=Yt.call(this._minWeekdaysParse,a))?null:r:\"dddd\"===t?-1!==(r=Yt.call(this._weekdaysParse,a))?r:-1!==(r=Yt.call(this._shortWeekdaysParse,a))?r:-1===(r=Yt.call(this._minWeekdaysParse,a))?null:r:\"ddd\"===t?-1!==(r=Yt.call(this._shortWeekdaysParse,a))?r:-1!==(r=Yt.call(this._weekdaysParse,a))?r:-1===(r=Yt.call(this._minWeekdaysParse,a))?null:r:-1!==(r=Yt.call(this._minWeekdaysParse,a))?r:-1!==(r=Yt.call(this._weekdaysParse,a))?r:-1===(r=Yt.call(this._shortWeekdaysParse,a))?null:r}function he(){function e(e,t){return t.length-e.length}var t,n,i,r,o,a=[],s=[],l=[],u=[];for(t=0;7>t;t++)n=v([2e3,1]).day(t),i=this.weekdaysMin(n,\"\"),r=this.weekdaysShort(n,\"\"),o=this.weekdays(n,\"\"),a.push(i),s.push(r),l.push(o),u.push(i),u.push(r),u.push(o);for(a.sort(e),s.sort(e),l.sort(e),u.sort(e),t=0;7>t;t++)s[t]=Y(s[t]),l[t]=Y(l[t]),u[t]=Y(u[t]);this._weekdaysRegex=new RegExp(\"^(\"+u.join(\"|\")+\")\",\"i\"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp(\"^(\"+l.join(\"|\")+\")\",\"i\"),this._weekdaysShortStrictRegex=new RegExp(\"^(\"+s.join(\"|\")+\")\",\"i\"),this._weekdaysMinStrictRegex=new RegExp(\"^(\"+a.join(\"|\")+\")\",\"i\")}function fe(){return this.hours()%12||12}function pe(e,t){I(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function ge(e,t){return t._meridiemParse}function me(e){return e?e.toLowerCase().replace(\"_\",\"-\"):e}function ve(t){var n=null;if(!Jt[t]&&e&&e.exports)try{n=Xt._abbr,function(){throw new Error(\"Dynamic requires are not currently supported by rollup-plugin-commonjs\")}(),ye(n)}catch(t){}return Jt[t]}function ye(e,t){var n;return e&&((n=d(t)?_e(e):be(e,t))?Xt=n:\"undefined\"!=typeof console&&console.warn&&console.warn(\"Locale \"+e+\" not found. Did you forget to load it?\")),Xt._abbr}function be(e,t){if(null!==t){var n,i=Qt;if(t.abbr=e,null!=Jt[e])C(\"defineLocaleOverride\",\"use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info.\"),i=Jt[e]._config;else if(null!=t.parentLocale)if(null!=Jt[t.parentLocale])i=Jt[t.parentLocale]._config;else{if(null==(n=ve(t.parentLocale)))return Kt[t.parentLocale]||(Kt[t.parentLocale]=[]),Kt[t.parentLocale].push({name:e,config:t}),null;i=n._config}return Jt[e]=new A(T(i,t)),Kt[e]&&Kt[e].forEach((function(e){be(e.name,e.config)})),ye(e),Jt[e]}return delete Jt[e],null}function _e(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Xt;if(!u(e)){if(t=ve(e))return t;e=[e]}return function(e){for(var t,n,i,r,o=0;o<e.length;){for(t=(r=me(e[o]).split(\"-\")).length,n=(n=me(e[o+1]))?n.split(\"-\"):null;0<t;){if(i=ve(r.slice(0,t).join(\"-\")))return i;if(n&&n.length>=t&&S(r,n,!0)>=t-1)break;t--}o++}return Xt}(e)}function we(e){var t,n=e._a;return n&&-2===y(e).overflow&&(t=0>n[1]||11<n[1]?1:1>n[2]||n[2]>K(n[0],n[1])?2:0>n[3]||24<n[3]||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:0>n[4]||59<n[4]?4:0>n[5]||59<n[5]?5:0>n[6]||999<n[6]?6:-1,y(e)._overflowDayOfYear&&(0>t||2<t)&&(t=2),y(e)._overflowWeeks&&-1===t&&(t=7),y(e)._overflowWeekday&&-1===t&&(t=8),y(e).overflow=t),e}function xe(e,t,n){return null==e?null==t?n:t:e}function ke(e){var t,n,i,r,o,a=[];if(!e._d){for(i=function(e){var t=new Date(l.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,i,r,o,a,s,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,a=4,n=xe(t.GG,e._a[0],le(Me(),1,4).year),i=xe(t.W,1),(1>(r=xe(t.E,1))||7<r)&&(l=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var u=le(Me(),o,a);n=xe(t.gg,e._a[0],u.year),i=xe(t.w,u.week),null==t.d?null==t.e?r=o:(r=t.e+o,(0>t.e||6<t.e)&&(l=!0)):(0>(r=t.d)||6<r)&&(l=!0)}1>i||i>ue(n,o,a)?y(e)._overflowWeeks=!0:null==l?(s=se(n,i,r,o,a),e._a[0]=s.year,e._dayOfYear=s.dayOfYear):y(e)._overflowWeekday=!0}(e),null!=e._dayOfYear&&(o=xe(e._a[0],i[0]),(e._dayOfYear>G(o)||0===e._dayOfYear)&&(y(e)._overflowDayOfYear=!0),n=oe(o,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=a[t]=i[t];for(;7>t;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?oe:re).apply(null,a),r=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==r&&(y(e).weekdayMismatch=!0)}}function Oe(e){var t,n,i,r,o,a,s=e._i,l=en.exec(s)||tn.exec(s);if(l){for(y(e).iso=!0,t=0,n=rn.length;t<n;t++)if(rn[t][1].exec(l[1])){r=rn[t][0],i=!1!==rn[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=on.length;t<n;t++)if(on[t][1].exec(l[3])){o=(l[2]||\" \")+on[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(l[4]){if(!nn.exec(l[4]))return void(e._isValid=!1);a=\"Z\"}e._f=r+(o||\"\")+(a||\"\"),De(e)}else e._isValid=!1}function Ee(e){var t=parseInt(e,10);return 49>=t?2e3+t:999>=t?1900+t:t}function Se(e){var t=sn.exec(function(e){return e.replace(/\\([^)]*\\)|[\\n\\t]/g,\" \").replace(/(\\s\\s+)/g,\" \").replace(/^\\s\\s*/,\"\").replace(/\\s\\s*$/,\"\")}(e._i));if(t){var n=function(e,t,n,i,r,o){var a=[Ee(e),Vt.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return o&&a.push(parseInt(o,10)),a}(t[4],t[3],t[2],t[5],t[6],t[7]);if(!function(e,t,n){return!e||Gt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(y(n).weekdayMismatch=!0,n._isValid=!1,!1)}(t[1],n,e))return;e._a=n,e._tzm=function(e,t,n){if(e)return ln[e];if(t)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}(t[8],t[9],t[10]),e._d=oe.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),y(e).rfc2822=!0}else e._isValid=!1}function De(e){if(e._f!==l.ISO_8601)if(e._f!==l.RFC_2822){e._a=[],y(e).empty=!0;var t,n,i,r,o,a=\"\"+e._i,s=a.length,u=0;for(i=$(e._f,e._locale).match(xt)||[],t=0;t<i.length;t++)r=i[t],(n=(a.match(U(r,e))||[])[0])&&(0<(o=a.substr(0,a.indexOf(n))).length&&y(e).unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),u+=n.length),Et[r]?(n?y(e).empty=!1:y(e).unusedTokens.push(r),V(r,n,e)):e._strict&&!n&&y(e).unusedTokens.push(r);y(e).charsLeftOver=s-u,0<a.length&&y(e).unusedInput.push(a),12>=e._a[3]&&!0===y(e).bigHour&&0<e._a[3]&&(y(e).bigHour=void 0),y(e).parsedDateParts=e._a.slice(0),y(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var i;return null==n?t:null==e.meridiemHour?(null==e.isPM||((i=e.isPM(n))&&12>t&&(t+=12),i||12!==t||(t=0)),t):e.meridiemHour(t,n)}(e._locale,e._a[3],e._meridiem),ke(e),we(e)}else Se(e);else Oe(e)}function je(e){var t=e._i,n=e._f;return e._locale=e._locale||_e(e._l),null===t||void 0===n&&\"\"===t?_({nullInput:!0}):(\"string\"==typeof t&&(e._i=t=e._locale.preparse(t)),k(t)?new x(we(t)):(f(t)?e._d=t:u(n)?function(e){var t,n,i,r,o;if(0===e._f.length)return y(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)o=0,t=w({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],De(t),b(t)&&(o+=y(t).charsLeftOver,o+=10*y(t).unusedTokens.length,y(t).score=o,(null==i||o<i)&&(i=o,n=t));m(e,n||t)}(e):n?De(e):function(e){var t=e._i;d(t)?e._d=new Date(l.now()):f(t)?e._d=new Date(t.valueOf()):\"string\"==typeof t?function(e){var t=an.exec(e._i);null===t?(Oe(e),!1===e._isValid&&(delete e._isValid,Se(e),!1===e._isValid&&(delete e._isValid,l.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):u(t)?(e._a=p(t.slice(0),(function(e){return parseInt(e,10)})),ke(e)):c(t)?function(e){if(!e._d){var t=N(e._i);e._a=p([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),ke(e)}}(e):h(t)?e._d=new Date(t):l.createFromInputFallback(e)}(e),b(e)||(e._d=null),e))}function Ce(e,t,n,i,r){var o={};return(!0===n||!1===n)&&(i=n,n=void 0),(c(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||u(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=e,o._f=t,o._strict=i,function(e){var t=new x(we(je(e)));return t._nextDay&&(t.add(1,\"d\"),t._nextDay=void 0),t}(o)}function Me(e,t,n,i){return Ce(e,t,n,i,!1)}function Te(e,t){var n,i;if(1===t.length&&u(t[0])&&(t=t[0]),!t.length)return Me();for(n=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][e](n))&&(n=t[i]);return n}function Ae(e){var t=N(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Yt.call(dn,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,i=0;i<dn.length;++i)if(e[dn[i]]){if(n)return!1;parseFloat(e[dn[i]])!==E(e[dn[i]])&&(n=!0)}return!0}(t),this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=_e(),this._bubble()}function Fe(e){return e instanceof Ae}function Pe(e){return 0>e?-1*t(-1*e):t(e)}function Ne(e,t){I(e,0,0,(function(){var e=this.utcOffset(),n=\"+\";return 0>e&&(e=-e,n=\"-\"),n+R(~~(e/60),2)+t+R(~~e%60,2)}))}function ze(e,t){var n=(t||\"\").match(e);if(null===n)return null;var i=((n[n.length-1]||[])+\"\").match(hn)||[\"-\",0,0],r=60*i[1]+E(i[2]);return 0===r?0:\"+\"===i[0]?r:-r}function Re(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(k(e)||f(e)?e.valueOf():Me(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),l.updateOffset(n,!1),n):Me(e).local()}function Ie(e){return 15*-t(e._d.getTimezoneOffset()/15)}function Be(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Le(e,t){var n,i,r,o=e,a=null;return Fe(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:h(e)?(o={},t?o[t]=e:o.milliseconds=e):(a=fn.exec(e))?(n=\"-\"===a[1]?-1:1,o={y:0,d:E(a[2])*n,h:E(a[3])*n,m:E(a[4])*n,s:E(a[5])*n,ms:E(Pe(1e3*a[6]))*n}):(a=pn.exec(e))?(n=\"-\"===a[1]?-1:1,o={y:$e(a[2],n),M:$e(a[3],n),w:$e(a[4],n),d:$e(a[5],n),h:$e(a[6],n),m:$e(a[7],n),s:$e(a[8],n)}):null==o?o={}:\"object\"==typeof o&&(\"from\"in o||\"to\"in o)&&(r=function(e,t){var n;return e.isValid()&&t.isValid()?(t=Re(t,e),e.isBefore(t)?n=We(e,t):((n=We(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(Me(o.from),Me(o.to)),(o={}).ms=r.milliseconds,o.M=r.months),i=new Ae(o),Fe(e)&&g(e,\"_locale\")&&(i._locale=e._locale),i}function $e(e,t){var n=e&&parseFloat(e.replace(\",\",\".\"));return(isNaN(n)?0:n)*t}function We(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,\"M\").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,\"M\"),n}function Ue(e,t){return function(n,i){var r;return null===i||isNaN(+i)||(C(t,\"moment().\"+t+\"(period, number) is deprecated. Please use moment().\"+t+\"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.\"),r=n,n=i,i=r),Ye(this,Le(n=\"string\"==typeof n?+n:n,i),e),this}}function Ye(e,t,n,i){var r=t._milliseconds,o=Pe(t._days),a=Pe(t._months);e.isValid()&&(i=null==i||i,a&&te(e,Q(e,\"Month\")+a*n),o&&J(e,\"Date\",Q(e,\"Date\")+o*n),r&&e._d.setTime(e._d.valueOf()+r*n),i&&l.updateOffset(e,o||a))}function He(e,t){var n,i=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(i,\"months\");return 0>t-r?n=(t-r)/(r-e.clone().add(i-1,\"months\")):n=(t-r)/(e.clone().add(i+1,\"months\")-r),-(i+n)||0}function qe(e){var t;return void 0===e?this._locale._abbr:(null!=(t=_e(e))&&(this._locale=t),this)}function Ve(){return this._locale}function Ge(e,t){return(e%t+t)%t}function Xe(e,t,n){return 100>e&&0<=e?new Date(e+400,t,n)-126227808e5:new Date(e,t,n).valueOf()}function Ze(e,t,n){return 100>e&&0<=e?Date.UTC(e+400,t,n)-126227808e5:Date.UTC(e,t,n)}function Qe(e,t){I(0,[e,e.length],0,t)}function Je(e,t,n,i,r){var o;return null==e?le(this,i,r).year:(t>(o=ue(e,i,r))&&(t=o),Ke.call(this,e,t,n,i,r))}function Ke(e,t,n,i,r){var o=se(e,t,n,i,r),a=oe(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function et(e,t){t[6]=E(1e3*(\"0.\"+e))}function tt(e){return e}function nt(e,t,n,i){var r=_e(),o=v().set(i,t);return r[n](o,e)}function it(e,t,n){if(h(e)&&(t=e,e=void 0),e=e||\"\",null!=t)return nt(e,t,n,\"month\");var i,r=[];for(i=0;12>i;i++)r[i]=nt(e,i,n,\"month\");return r}function rt(e,t,n,i){\"boolean\"==typeof e?(h(t)&&(n=t,t=void 0),t=t||\"\"):(n=t=e,e=!1,h(t)&&(n=t,t=void 0),t=t||\"\");var r=_e(),o=e?r._week.dow:0;if(null!=n)return nt(t,(n+o)%7,i,\"day\");var a,s=[];for(a=0;7>a;a++)s[a]=nt(t,(a+o)%7,i,\"day\");return s}function ot(e,t,n,i){var r=Le(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function at(e){return 0>e?a(e):s(e)}function st(e){return 4800*e/146097}function lt(e){return 146097*e/4800}function ut(e){return function(){return this.as(e)}}function ct(e){return function(){return this.isValid()?this._data[e]:NaN}}function dt(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function ht(e){return(0<e)-(0>e)||+e}function ft(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Yn(this._milliseconds)/1e3,i=Yn(this._days),r=Yn(this._months);e=O(n/60),t=O(e/60),n%=60,e%=60;var o=O(r/12),a=r%=12,s=i,l=t,u=e,c=n?n.toFixed(3).replace(/\\.?0+$/,\"\"):\"\",d=this.asSeconds();if(!d)return\"P0D\";var h=0>d?\"-\":\"\",f=ht(this._months)===ht(d)?\"\":\"-\",p=ht(this._days)===ht(d)?\"\":\"-\",g=ht(this._milliseconds)===ht(d)?\"\":\"-\";return h+\"P\"+(o?f+o+\"Y\":\"\")+(a?f+a+\"M\":\"\")+(s?p+s+\"D\":\"\")+(l||u||c?\"T\":\"\")+(l?g+l+\"H\":\"\")+(u?g+u+\"M\":\"\")+(c?g+c+\"S\":\"\")}var pt,gt;gt=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var mt=l.momentProperties=[],vt=!1,yt={};l.suppressDeprecationWarnings=!1,l.deprecationHandler=null;var bt=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)g(e,t)&&n.push(t);return n},_t={},wt={},xt=/(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,kt=/(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ot={},Et={},St=/\\d/,Dt=/\\d\\d/,jt=/\\d{3}/,Ct=/\\d{4}/,Mt=/[+-]?\\d{6}/,Tt=/\\d\\d?/,At=/\\d\\d\\d\\d?/,Ft=/\\d\\d\\d\\d\\d\\d?/,Pt=/\\d{1,3}/,Nt=/\\d{1,4}/,zt=/[+-]?\\d{1,6}/,Rt=/\\d+/,It=/[+-]?\\d+/,Bt=/Z|[+-]\\d\\d:?\\d\\d/gi,Lt=/Z|[+-]\\d\\d(?::?\\d\\d)?/gi,$t=/[0-9]{0,256}['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFF07\\uFF10-\\uFFEF]{1,256}|[\\u0600-\\u06FF\\/]{1,256}(\\s*?[\\u0600-\\u06FF]{1,256}){1,2}/i,Wt={},Ut={};I(\"Y\",0,0,(function(){var e=this.year();return 9999>=e?\"\"+e:\"+\"+e})),I(0,[\"YY\",2],0,(function(){return this.year()%100})),I(0,[\"YYYY\",4],0,\"year\"),I(0,[\"YYYYY\",5],0,\"year\"),I(0,[\"YYYYYY\",6,!0],0,\"year\"),F(\"year\",\"y\"),z(\"year\",1),W(\"Y\",It),W(\"YY\",Tt,Dt),W(\"YYYY\",Nt,Ct),W(\"YYYYY\",zt,Mt),W(\"YYYYYY\",zt,Mt),H([\"YYYYY\",\"YYYYYY\"],0),H(\"YYYY\",(function(e,t){t[0]=2===e.length?l.parseTwoDigitYear(e):E(e)})),H(\"YY\",(function(e,t){t[0]=l.parseTwoDigitYear(e)})),H(\"Y\",(function(e,t){t[0]=parseInt(e,10)})),l.parseTwoDigitYear=function(e){return E(e)+(68<E(e)?1900:2e3)};var Yt,Ht=Z(\"FullYear\",!0);Yt=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},I(\"M\",[\"MM\",2],\"Mo\",(function(){return this.month()+1})),I(\"MMM\",0,0,(function(e){return this.localeData().monthsShort(this,e)})),I(\"MMMM\",0,0,(function(e){return this.localeData().months(this,e)})),F(\"month\",\"M\"),z(\"month\",8),W(\"M\",Tt),W(\"MM\",Tt,Dt),W(\"MMM\",(function(e,t){return t.monthsShortRegex(e)})),W(\"MMMM\",(function(e,t){return t.monthsRegex(e)})),H([\"M\",\"MM\"],(function(e,t){t[1]=E(e)-1})),H([\"MMM\",\"MMMM\"],(function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null==r?y(n).invalidMonth=e:t[1]=r}));var qt=/D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/,Vt=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];I(\"w\",[\"ww\",2],\"wo\",\"week\"),I(\"W\",[\"WW\",2],\"Wo\",\"isoWeek\"),F(\"week\",\"w\"),F(\"isoWeek\",\"W\"),z(\"week\",5),z(\"isoWeek\",5),W(\"w\",Tt),W(\"ww\",Tt,Dt),W(\"W\",Tt),W(\"WW\",Tt,Dt),q([\"w\",\"ww\",\"W\",\"WW\"],(function(e,t,n,i){t[i.substr(0,1)]=E(e)})),I(\"d\",0,\"do\",\"day\"),I(\"dd\",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),I(\"ddd\",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),I(\"dddd\",0,0,(function(e){return this.localeData().weekdays(this,e)})),I(\"e\",0,0,\"weekday\"),I(\"E\",0,0,\"isoWeekday\"),F(\"day\",\"d\"),F(\"weekday\",\"e\"),F(\"isoWeekday\",\"E\"),z(\"day\",11),z(\"weekday\",11),z(\"isoWeekday\",11),W(\"d\",Tt),W(\"e\",Tt),W(\"E\",Tt),W(\"dd\",(function(e,t){return t.weekdaysMinRegex(e)})),W(\"ddd\",(function(e,t){return t.weekdaysShortRegex(e)})),W(\"dddd\",(function(e,t){return t.weekdaysRegex(e)})),q([\"dd\",\"ddd\",\"dddd\"],(function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null==r?y(n).invalidWeekday=e:t.d=r})),q([\"d\",\"e\",\"E\"],(function(e,t,n,i){t[i]=E(e)}));var Gt=[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"];I(\"H\",[\"HH\",2],0,\"hour\"),I(\"h\",[\"hh\",2],0,fe),I(\"k\",[\"kk\",2],0,(function(){return this.hours()||24})),I(\"hmm\",0,0,(function(){return\"\"+fe.apply(this)+R(this.minutes(),2)})),I(\"hmmss\",0,0,(function(){return\"\"+fe.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)})),I(\"Hmm\",0,0,(function(){return\"\"+this.hours()+R(this.minutes(),2)})),I(\"Hmmss\",0,0,(function(){return\"\"+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)})),pe(\"a\",!0),pe(\"A\",!1),F(\"hour\",\"h\"),z(\"hour\",13),W(\"a\",ge),W(\"A\",ge),W(\"H\",Tt),W(\"h\",Tt),W(\"k\",Tt),W(\"HH\",Tt,Dt),W(\"hh\",Tt,Dt),W(\"kk\",Tt,Dt),W(\"hmm\",At),W(\"hmmss\",Ft),W(\"Hmm\",At),W(\"Hmmss\",Ft),H([\"H\",\"HH\"],3),H([\"k\",\"kk\"],(function(e,t){var n=E(e);t[3]=24===n?0:n})),H([\"a\",\"A\"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),H([\"h\",\"hh\"],(function(e,t,n){t[3]=E(e),y(n).bigHour=!0})),H(\"hmm\",(function(e,t,n){var i=e.length-2;t[3]=E(e.substr(0,i)),t[4]=E(e.substr(i)),y(n).bigHour=!0})),H(\"hmmss\",(function(e,t,n){var i=e.length-4,r=e.length-2;t[3]=E(e.substr(0,i)),t[4]=E(e.substr(i,2)),t[5]=E(e.substr(r)),y(n).bigHour=!0})),H(\"Hmm\",(function(e,t){var n=e.length-2;t[3]=E(e.substr(0,n)),t[4]=E(e.substr(n))})),H(\"Hmmss\",(function(e,t){var n=e.length-4,i=e.length-2;t[3]=E(e.substr(0,n)),t[4]=E(e.substr(n,2)),t[5]=E(e.substr(i))}));var Xt,Zt=Z(\"Hours\",!0),Qt={calendar:{sameDay:\"[Today at] LT\",nextDay:\"[Tomorrow at] LT\",nextWeek:\"dddd [at] LT\",lastDay:\"[Yesterday at] LT\",lastWeek:\"[Last] dddd [at] LT\",sameElse:\"L\"},longDateFormat:{LTS:\"h:mm:ss A\",LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D, YYYY\",LLL:\"MMMM D, YYYY h:mm A\",LLLL:\"dddd, MMMM D, YYYY h:mm A\"},invalidDate:\"Invalid date\",ordinal:\"%d\",dayOfMonthOrdinalParse:/\\d{1,2}/,relativeTime:{future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",ss:\"%d seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"},months:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],monthsShort:Vt,week:{dow:0,doy:6},weekdays:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],weekdaysMin:[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"],weekdaysShort:Gt,meridiemParse:/[ap]\\.?m?\\.?/i},Jt={},Kt={},en=/^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,tn=/^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,nn=/Z|[+-]\\d\\d(?::?\\d\\d)?/,rn=[[\"YYYYYY-MM-DD\",/[+-]\\d{6}-\\d\\d-\\d\\d/],[\"YYYY-MM-DD\",/\\d{4}-\\d\\d-\\d\\d/],[\"GGGG-[W]WW-E\",/\\d{4}-W\\d\\d-\\d/],[\"GGGG-[W]WW\",/\\d{4}-W\\d\\d/,!1],[\"YYYY-DDD\",/\\d{4}-\\d{3}/],[\"YYYY-MM\",/\\d{4}-\\d\\d/,!1],[\"YYYYYYMMDD\",/[+-]\\d{10}/],[\"YYYYMMDD\",/\\d{8}/],[\"GGGG[W]WWE\",/\\d{4}W\\d{3}/],[\"GGGG[W]WW\",/\\d{4}W\\d{2}/,!1],[\"YYYYDDD\",/\\d{7}/]],on=[[\"HH:mm:ss.SSSS\",/\\d\\d:\\d\\d:\\d\\d\\.\\d+/],[\"HH:mm:ss,SSSS\",/\\d\\d:\\d\\d:\\d\\d,\\d+/],[\"HH:mm:ss\",/\\d\\d:\\d\\d:\\d\\d/],[\"HH:mm\",/\\d\\d:\\d\\d/],[\"HHmmss.SSSS\",/\\d\\d\\d\\d\\d\\d\\.\\d+/],[\"HHmmss,SSSS\",/\\d\\d\\d\\d\\d\\d,\\d+/],[\"HHmmss\",/\\d\\d\\d\\d\\d\\d/],[\"HHmm\",/\\d\\d\\d\\d/],[\"HH\",/\\d\\d/]],an=/^\\/?Date\\((\\-?\\d+)/i,sn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\\d{4}))$/,ln={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};l.createFromInputFallback=j(\"value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.\",(function(e){e._d=new Date(e._i+(e._useUTC?\" UTC\":\"\"))})),l.ISO_8601=function(){},l.RFC_2822=function(){};var un=j(\"moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/\",(function(){var e=Me.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:_()})),cn=j(\"moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/\",(function(){var e=Me.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:_()})),dn=[\"year\",\"quarter\",\"month\",\"week\",\"day\",\"hour\",\"minute\",\"second\",\"millisecond\"];Ne(\"Z\",\":\"),Ne(\"ZZ\",\"\"),W(\"Z\",Lt),W(\"ZZ\",Lt),H([\"Z\",\"ZZ\"],(function(e,t,n){n._useUTC=!0,n._tzm=ze(Lt,e)}));var hn=/([\\+\\-]|\\d\\d)/gi;l.updateOffset=function(){};var fn=/^(\\-|\\+)?(?:(\\d*)[. ])?(\\d+)\\:(\\d+)(?:\\:(\\d+)(\\.\\d*)?)?$/,pn=/^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Le.fn=Ae.prototype,Le.invalid=function(){return Le(NaN)};var gn=Ue(1,\"add\"),mn=Ue(-1,\"subtract\");l.defaultFormat=\"YYYY-MM-DDTHH:mm:ssZ\",l.defaultFormatUtc=\"YYYY-MM-DDTHH:mm:ss[Z]\";var vn=j(\"moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.\",(function(e){return void 0===e?this.localeData():this.locale(e)}));I(0,[\"gg\",2],0,(function(){return this.weekYear()%100})),I(0,[\"GG\",2],0,(function(){return this.isoWeekYear()%100})),Qe(\"gggg\",\"weekYear\"),Qe(\"ggggg\",\"weekYear\"),Qe(\"GGGG\",\"isoWeekYear\"),Qe(\"GGGGG\",\"isoWeekYear\"),F(\"weekYear\",\"gg\"),F(\"isoWeekYear\",\"GG\"),z(\"weekYear\",1),z(\"isoWeekYear\",1),W(\"G\",It),W(\"g\",It),W(\"GG\",Tt,Dt),W(\"gg\",Tt,Dt),W(\"GGGG\",Nt,Ct),W(\"gggg\",Nt,Ct),W(\"GGGGG\",zt,Mt),W(\"ggggg\",zt,Mt),q([\"gggg\",\"ggggg\",\"GGGG\",\"GGGGG\"],(function(e,t,n,i){t[i.substr(0,2)]=E(e)})),q([\"gg\",\"GG\"],(function(e,t,n,i){t[i]=l.parseTwoDigitYear(e)})),I(\"Q\",0,\"Qo\",\"quarter\"),F(\"quarter\",\"Q\"),z(\"quarter\",7),W(\"Q\",St),H(\"Q\",(function(e,t){t[1]=3*(E(e)-1)})),I(\"D\",[\"DD\",2],\"Do\",\"date\"),F(\"date\",\"D\"),z(\"date\",9),W(\"D\",Tt),W(\"DD\",Tt,Dt),W(\"Do\",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),H([\"D\",\"DD\"],2),H(\"Do\",(function(e,t){t[2]=E(e.match(Tt)[0])}));var yn=Z(\"Date\",!0);I(\"DDD\",[\"DDDD\",3],\"DDDo\",\"dayOfYear\"),F(\"dayOfYear\",\"DDD\"),z(\"dayOfYear\",4),W(\"DDD\",Pt),W(\"DDDD\",jt),H([\"DDD\",\"DDDD\"],(function(e,t,n){n._dayOfYear=E(e)})),I(\"m\",[\"mm\",2],0,\"minute\"),F(\"minute\",\"m\"),z(\"minute\",14),W(\"m\",Tt),W(\"mm\",Tt,Dt),H([\"m\",\"mm\"],4);var bn=Z(\"Minutes\",!1);I(\"s\",[\"ss\",2],0,\"second\"),F(\"second\",\"s\"),z(\"second\",15),W(\"s\",Tt),W(\"ss\",Tt,Dt),H([\"s\",\"ss\"],5);var _n,wn=Z(\"Seconds\",!1);for(I(\"S\",0,0,(function(){return~~(this.millisecond()/100)})),I(0,[\"SS\",2],0,(function(){return~~(this.millisecond()/10)})),I(0,[\"SSS\",3],0,\"millisecond\"),I(0,[\"SSSS\",4],0,(function(){return 10*this.millisecond()})),I(0,[\"SSSSS\",5],0,(function(){return 100*this.millisecond()})),I(0,[\"SSSSSS\",6],0,(function(){return 1e3*this.millisecond()})),I(0,[\"SSSSSSS\",7],0,(function(){return 1e4*this.millisecond()})),I(0,[\"SSSSSSSS\",8],0,(function(){return 1e5*this.millisecond()})),I(0,[\"SSSSSSSSS\",9],0,(function(){return 1e6*this.millisecond()})),F(\"millisecond\",\"ms\"),z(\"millisecond\",16),W(\"S\",Pt,St),W(\"SS\",Pt,Dt),W(\"SSS\",Pt,jt),_n=\"SSSS\";9>=_n.length;_n+=\"S\")W(_n,Rt);for(_n=\"S\";9>=_n.length;_n+=\"S\")H(_n,et);var xn=Z(\"Milliseconds\",!1);I(\"z\",0,0,\"zoneAbbr\"),I(\"zz\",0,0,\"zoneName\");var kn=x.prototype;kn.add=gn,kn.calendar=function(e,t){var n=e||Me(),i=Re(n,this).startOf(\"day\"),r=l.calendarFormat(this,i)||\"sameElse\",o=t&&(M(t[r])?t[r].call(this,n):t[r]);return this.format(o||this.localeData().calendar(r,this,Me(n)))},kn.clone=function(){return new x(this)},kn.diff=function(e,t,n){var i,r,o;return this.isValid()?(i=Re(e,this)).isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),o=\"year\"===(t=P(t))?He(this,i)/12:\"month\"===t?He(this,i):\"quarter\"===t?He(this,i)/3:\"second\"===t?(this-i)/1e3:\"minute\"===t?(this-i)/6e4:\"hour\"===t?(this-i)/36e5:\"day\"===t?(this-i-r)/864e5:\"week\"===t?(this-i-r)/6048e5:this-i,n?o:O(o)):NaN:NaN},kn.endOf=function(e){var t;if(void 0===(e=P(e))||\"millisecond\"===e||!this.isValid())return this;var n=this._isUTC?Ze:Xe;return\"year\"===e?t=n(this.year()+1,0,1)-1:\"quarter\"===e?t=n(this.year(),this.month()-this.month()%3+3,1)-1:\"month\"===e?t=n(this.year(),this.month()+1,1)-1:\"week\"===e?t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1:\"isoWeek\"===e?t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1:\"day\"===e||\"date\"===e?t=n(this.year(),this.month(),this.date()+1)-1:\"hour\"===e?(t=this._d.valueOf(),t+=36e5-Ge(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1):\"minute\"===e?(t=this._d.valueOf(),t+=6e4-Ge(t,6e4)-1):\"second\"===e&&(t=this._d.valueOf(),t+=1e3-Ge(t,1e3)-1),this._d.setTime(t),l.updateOffset(this,!0),this},kn.format=function(e){e||(e=this.isUtc()?l.defaultFormatUtc:l.defaultFormat);var t=L(this,e);return this.localeData().postformat(t)},kn.from=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||Me(e).isValid())?Le({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},kn.fromNow=function(e){return this.from(Me(),e)},kn.to=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||Me(e).isValid())?Le({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},kn.toNow=function(e){return this.to(Me(),e)},kn.get=function(e){return M(this[e=P(e)])?this[e]():this},kn.invalidAt=function(){return y(this).overflow},kn.isAfter=function(e,t){var n=k(e)?e:Me(e);return!(!this.isValid()||!n.isValid())&&(\"millisecond\"===(t=P(t)||\"millisecond\")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},kn.isBefore=function(e,t){var n=k(e)?e:Me(e);return!(!this.isValid()||!n.isValid())&&(\"millisecond\"===(t=P(t)||\"millisecond\")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},kn.isBetween=function(e,t,n,i){var r=k(e)?e:Me(e),o=k(t)?t:Me(t);return!!(this.isValid()&&r.isValid()&&o.isValid())&&((\"(\"===(i=i||\"()\")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(\")\"===i[1]?this.isBefore(o,n):!this.isAfter(o,n)))},kn.isSame=function(e,t){var n,i=k(e)?e:Me(e);return!(!this.isValid()||!i.isValid())&&(\"millisecond\"===(t=P(t)||\"millisecond\")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},kn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},kn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},kn.isValid=function(){return b(this)},kn.lang=vn,kn.locale=qe,kn.localeData=Ve,kn.max=cn,kn.min=un,kn.parsingFlags=function(){return m({},y(this))},kn.set=function(e,t){if(\"object\"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:wt[n]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=N(e)),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit]);else if(M(this[e=P(e)]))return this[e](t);return this},kn.startOf=function(e){var t;if(void 0===(e=P(e))||\"millisecond\"===e||!this.isValid())return this;var n=this._isUTC?Ze:Xe;return\"year\"===e?t=n(this.year(),0,1):\"quarter\"===e?t=n(this.year(),this.month()-this.month()%3,1):\"month\"===e?t=n(this.year(),this.month(),1):\"week\"===e?t=n(this.year(),this.month(),this.date()-this.weekday()):\"isoWeek\"===e?t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)):\"day\"===e||\"date\"===e?t=n(this.year(),this.month(),this.date()):\"hour\"===e?(t=this._d.valueOf(),t-=Ge(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)):\"minute\"===e?(t=this._d.valueOf(),t-=Ge(t,6e4)):\"second\"===e&&(t=this._d.valueOf(),t-=Ge(t,1e3)),this._d.setTime(t),l.updateOffset(this,!0),this},kn.subtract=mn,kn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},kn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},kn.toDate=function(){return new Date(this.valueOf())},kn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return 0>n.year()||9999<n.year()?L(n,t?\"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]\":\"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ\"):M(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace(\"Z\",L(n,\"Z\")):L(n,t?\"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]\":\"YYYY-MM-DD[T]HH:mm:ss.SSSZ\")},kn.inspect=function(){if(!this.isValid())return\"moment.invalid(/* \"+this._i+\" */)\";var e=\"moment\",t=\"\";this.isLocal()||(e=0===this.utcOffset()?\"moment.utc\":\"moment.parseZone\",t=\"Z\");var n=\"[\"+e+'(\"]',i=0<=this.year()&&9999>=this.year()?\"YYYY\":\"YYYYYY\",r=t+'[\")]';return this.format(n+i+\"-MM-DD[T]HH:mm:ss.SSS\"+r)},kn.toJSON=function(){return this.isValid()?this.toISOString():null},kn.toString=function(){return this.clone().locale(\"en\").format(\"ddd MMM DD YYYY HH:mm:ss [GMT]ZZ\")},kn.unix=function(){return a(this.valueOf()/1e3)},kn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},kn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},kn.year=Ht,kn.isLeapYear=function(){return X(this.year())},kn.weekYear=function(e){return Je.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},kn.isoWeekYear=function(e){return Je.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},kn.quarter=kn.quarters=function(e){return null==e?s((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},kn.month=ne,kn.daysInMonth=function(){return K(this.year(),this.month())},kn.week=kn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),\"d\")},kn.isoWeek=kn.isoWeeks=function(e){var t=le(this,1,4).week;return null==e?t:this.add(7*(e-t),\"d\")},kn.weeksInYear=function(){var e=this.localeData()._week;return ue(this.year(),e.dow,e.doy)},kn.isoWeeksInYear=function(){return ue(this.year(),1,4)},kn.date=yn,kn.day=kn.days=function(e){if(!this.isValid())return null==e?NaN:this;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==e?t:(e=function(e,t){return\"string\"==typeof e?isNaN(e)?\"number\"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10):e}(e,this.localeData()),this.add(e-t,\"d\"))},kn.weekday=function(e){if(!this.isValid())return null==e?NaN:this;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,\"d\")},kn.isoWeekday=function(e){if(!this.isValid())return null==e?NaN:this;if(null!=e){var t=function(e,t){return\"string\"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},kn.dayOfYear=function(e){var n=t((this.clone().startOf(\"day\")-this.clone().startOf(\"year\"))/864e5)+1;return null==e?n:this.add(e-n,\"d\")},kn.hour=kn.hours=Zt,kn.minute=kn.minutes=bn,kn.second=kn.seconds=wn,kn.millisecond=kn.milliseconds=xn,kn.utcOffset=function(e,t,n){var i,o=this._offset||0;if(!this.isValid())return null==e?NaN:this;if(null!=e){if(\"string\"!=typeof e)16>r(e)&&!n&&(e*=60);else if(null===(e=ze(Lt,e)))return this;return!this._isUTC&&t&&(i=Ie(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,\"m\"),o!==e&&(!t||this._changeInProgress?Ye(this,Le(e-o,\"m\"),1,!1):!this._changeInProgress&&(this._changeInProgress=!0,l.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Ie(this)},kn.utc=function(e){return this.utcOffset(0,e)},kn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ie(this),\"m\")),this},kn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if(\"string\"==typeof this._i){var e=ze(Bt,this._i);null==e?this.utcOffset(0,!0):this.utcOffset(e)}return this},kn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Me(e).utcOffset():0,0==(this.utcOffset()-e)%60)},kn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},kn.isLocal=function(){return!!this.isValid()&&!this._isUTC},kn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},kn.isUtc=Be,kn.isUTC=Be,kn.zoneAbbr=function(){return this._isUTC?\"UTC\":\"\"},kn.zoneName=function(){return this._isUTC?\"Coordinated Universal Time\":\"\"},kn.dates=j(\"dates accessor is deprecated. Use date instead.\",yn),kn.months=j(\"months accessor is deprecated. Use month instead\",ne),kn.years=j(\"years accessor is deprecated. Use year instead\",Ht),kn.zone=j(\"moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/\",(function(e,t){return null==e?-this.utcOffset():(\"string\"!=typeof e&&(e=-e),this.utcOffset(e,t),this)})),kn.isDSTShifted=j(\"isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information\",(function(){if(!d(this._isDSTShifted))return this._isDSTShifted;var e={};if(w(e,this),(e=je(e))._a){var t=e._isUTC?v(e._a):Me(e._a);this._isDSTShifted=this.isValid()&&0<S(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted}));var On=A.prototype;On.calendar=function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return M(i)?i.call(t,n):i},On.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},On.invalidDate=function(){return this._invalidDate},On.ordinal=function(e){return this._ordinal.replace(\"%d\",e)},On.preparse=tt,On.postformat=tt,On.relativeTime=function(e,t,n,i){var r=this._relativeTime[n];return M(r)?r(e,t,n,i):r.replace(/%d/i,e)},On.pastFuture=function(e,t){var n=this._relativeTime[0<e?\"future\":\"past\"];return M(n)?n(t):n.replace(/%s/i,t)},On.set=function(e){var t,n;for(n in e)M(t=e[n])?this[n]=t:this[\"_\"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+\"|\"+/\\d{1,2}/.source)},On.months=function(e,t){return e?u(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||qt).test(t)?\"format\":\"standalone\"][e.month()]:u(this._months)?this._months:this._months.standalone},On.monthsShort=function(e,t){return e?u(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[qt.test(t)?\"format\":\"standalone\"][e.month()]:u(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},On.monthsParse=function(e,t,n){var i,r,o;if(this._monthsParseExact)return ee.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=v([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp(\"^\"+this.months(r,\"\").replace(\".\",\"\")+\"$\",\"i\"),this._shortMonthsParse[i]=new RegExp(\"^\"+this.monthsShort(r,\"\").replace(\".\",\"\")+\"$\",\"i\")),n||this._monthsParse[i]||(o=\"^\"+this.months(r,\"\")+\"|^\"+this.monthsShort(r,\"\"),this._monthsParse[i]=new RegExp(o.replace(\".\",\"\"),\"i\")),n&&\"MMMM\"===t&&this._longMonthsParse[i].test(e))return i;if(n&&\"MMM\"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},On.monthsRegex=function(e){return this._monthsParseExact?(g(this,\"_monthsRegex\")||ie.call(this),e?this._monthsStrictRegex:this._monthsRegex):(g(this,\"_monthsRegex\")||(this._monthsRegex=$t),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},On.monthsShortRegex=function(e){return this._monthsParseExact?(g(this,\"_monthsRegex\")||ie.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(g(this,\"_monthsShortRegex\")||(this._monthsShortRegex=$t),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},On.week=function(e){return le(e,this._week.dow,this._week.doy).week},On.firstDayOfYear=function(){return this._week.doy},On.firstDayOfWeek=function(){return this._week.dow},On.weekdays=function(e,t){var n=u(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?\"format\":\"standalone\"];return!0===e?ce(n,this._week.dow):e?n[e.day()]:n},On.weekdaysMin=function(e){return!0===e?ce(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},On.weekdaysShort=function(e){return!0===e?ce(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},On.weekdaysParse=function(e,t,n){var i,r,o;if(this._weekdaysParseExact)return de.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(r=v([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp(\"^\"+this.weekdays(r,\"\").replace(\".\",\"\\\\.?\")+\"$\",\"i\"),this._shortWeekdaysParse[i]=new RegExp(\"^\"+this.weekdaysShort(r,\"\").replace(\".\",\"\\\\.?\")+\"$\",\"i\"),this._minWeekdaysParse[i]=new RegExp(\"^\"+this.weekdaysMin(r,\"\").replace(\".\",\"\\\\.?\")+\"$\",\"i\")),this._weekdaysParse[i]||(o=\"^\"+this.weekdays(r,\"\")+\"|^\"+this.weekdaysShort(r,\"\")+\"|^\"+this.weekdaysMin(r,\"\"),this._weekdaysParse[i]=new RegExp(o.replace(\".\",\"\"),\"i\")),n&&\"dddd\"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&\"ddd\"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&\"dd\"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},On.weekdaysRegex=function(e){return this._weekdaysParseExact?(g(this,\"_weekdaysRegex\")||he.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(g(this,\"_weekdaysRegex\")||(this._weekdaysRegex=$t),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},On.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(g(this,\"_weekdaysRegex\")||he.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(g(this,\"_weekdaysShortRegex\")||(this._weekdaysShortRegex=$t),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},On.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(g(this,\"_weekdaysRegex\")||he.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(g(this,\"_weekdaysMinRegex\")||(this._weekdaysMinRegex=$t),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},On.isPM=function(e){return\"p\"===(e+\"\").toLowerCase().charAt(0)},On.meridiem=function(e,t,n){return 11<e?n?\"pm\":\"PM\":n?\"am\":\"AM\"},ye(\"en\",{dayOfMonthOrdinalParse:/\\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===E(e%100/10)?\"th\":1==t?\"st\":2==t?\"nd\":3==t?\"rd\":\"th\")}}),l.lang=j(\"moment.lang is deprecated. Use moment.locale instead.\",ye),l.langData=j(\"moment.langData is deprecated. Use moment.localeData instead.\",_e);var En=r,Sn=ut(\"ms\"),Dn=ut(\"s\"),jn=ut(\"m\"),Cn=ut(\"h\"),Mn=ut(\"d\"),Tn=ut(\"w\"),An=ut(\"M\"),Fn=ut(\"Q\"),Pn=ut(\"y\"),Nn=ct(\"milliseconds\"),zn=ct(\"seconds\"),Rn=ct(\"minutes\"),In=ct(\"hours\"),Bn=ct(\"days\"),Ln=ct(\"months\"),$n=ct(\"years\"),Wn=t,Un={ss:44,s:45,m:45,h:22,d:26,M:11},Yn=r,Hn=Ae.prototype;return Hn.isValid=function(){return this._isValid},Hn.abs=function(){var e=this._data;return this._milliseconds=En(this._milliseconds),this._days=En(this._days),this._months=En(this._months),e.milliseconds=En(e.milliseconds),e.seconds=En(e.seconds),e.minutes=En(e.minutes),e.hours=En(e.hours),e.months=En(e.months),e.years=En(e.years),this},Hn.add=function(e,t){return ot(this,e,t,1)},Hn.subtract=function(e,t){return ot(this,e,t,-1)},Hn.as=function(e){if(!this.isValid())return NaN;var n,i,r=this._milliseconds;if(\"month\"===(e=P(e))||\"quarter\"===e||\"year\"===e)switch(n=this._days+r/864e5,i=this._months+st(n),e){case\"month\":return i;case\"quarter\":return i/3;case\"year\":return i/12}else switch(n=this._days+t(lt(this._months)),e){case\"week\":return n/7+r/6048e5;case\"day\":return n+r/864e5;case\"hour\":return 24*n+r/36e5;case\"minute\":return 1440*n+r/6e4;case\"second\":return 86400*n+r/1e3;case\"millisecond\":return a(864e5*n)+r;default:throw new Error(\"Unknown unit \"+e)}},Hn.asMilliseconds=Sn,Hn.asSeconds=Dn,Hn.asMinutes=jn,Hn.asHours=Cn,Hn.asDays=Mn,Hn.asWeeks=Tn,Hn.asMonths=An,Hn.asQuarters=Fn,Hn.asYears=Pn,Hn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*E(this._months/12):NaN},Hn._bubble=function(){var e,t,n,i,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return 0<=o&&0<=a&&0<=s||0>=o&&0>=a&&0>=s||(o+=864e5*at(lt(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=O(o/1e3),l.seconds=e%60,t=O(e/60),l.minutes=t%60,n=O(t/60),l.hours=n%24,a+=O(n/24),s+=r=O(st(a)),a-=at(lt(r)),i=O(s/12),s%=12,l.days=a,l.months=s,l.years=i,this},Hn.clone=function(){return Le(this)},Hn.get=function(e){return e=P(e),this.isValid()?this[e+\"s\"]():NaN},Hn.milliseconds=Nn,Hn.seconds=zn,Hn.minutes=Rn,Hn.hours=In,Hn.days=Bn,Hn.weeks=function(){return O(this.days()/7)},Hn.months=Ln,Hn.years=$n,Hn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var i=Le(e).abs(),r=Wn(i.as(\"s\")),o=Wn(i.as(\"m\")),a=Wn(i.as(\"h\")),s=Wn(i.as(\"d\")),l=Wn(i.as(\"M\")),u=Wn(i.as(\"y\")),c=r<=Un.ss&&[\"s\",r]||r<Un.s&&[\"ss\",r]||1>=o&&[\"m\"]||o<Un.m&&[\"mm\",o]||1>=a&&[\"h\"]||a<Un.h&&[\"hh\",a]||1>=s&&[\"d\"]||s<Un.d&&[\"dd\",s]||1>=l&&[\"M\"]||l<Un.M&&[\"MM\",l]||1>=u&&[\"y\"]||[\"yy\",u];return c[2]=t,c[3]=0<+e,c[4]=n,dt.apply(null,c)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},Hn.toISOString=ft,Hn.toString=ft,Hn.toJSON=ft,Hn.locale=qe,Hn.localeData=Ve,Hn.toIsoString=j(\"toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)\",ft),Hn.lang=vn,I(\"X\",0,0,\"unix\"),I(\"x\",0,0,\"valueOf\"),W(\"x\",It),W(\"X\",/[+-]?\\d+(\\.\\d{1,3})?/),H(\"X\",(function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))})),H(\"x\",(function(e,t,n){n._d=new Date(E(e))})),l.version=\"2.24.0\",function(e){pt=e}(Me),l.fn=kn,l.min=function(){var e=[].slice.call(arguments,0);return Te(\"isBefore\",e)},l.max=function(){var e=[].slice.call(arguments,0);return Te(\"isAfter\",e)},l.now=function(){return Date.now?Date.now():+new Date},l.utc=v,l.unix=function(e){return Me(1e3*e)},l.months=function(e,t){return it(e,t,\"months\")},l.isDate=f,l.locale=ye,l.invalid=_,l.duration=Le,l.isMoment=k,l.weekdays=function(e,t,n){return rt(e,t,n,\"weekdays\")},l.parseZone=function(){return Me.apply(null,arguments).parseZone()},l.localeData=_e,l.isDuration=Fe,l.monthsShort=function(e,t){return it(e,t,\"monthsShort\")},l.weekdaysMin=function(e,t,n){return rt(e,t,n,\"weekdaysMin\")},l.defineLocale=be,l.updateLocale=function(e,t){if(null!=t){var n,i,r=Qt;null!=(i=ve(e))&&(r=i._config),(n=new A(t=T(r,t))).parentLocale=Jt[e],Jt[e]=n,ye(e)}else null!=Jt[e]&&(null==Jt[e].parentLocale?null!=Jt[e]&&delete Jt[e]:Jt[e]=Jt[e].parentLocale);return Jt[e]},l.locales=function(){return bt(Jt)},l.weekdaysShort=function(e,t,n){return rt(e,t,n,\"weekdaysShort\")},l.normalizeUnits=P,l.relativeTimeRounding=function(e){return void 0===e?Wn:\"function\"==typeof e&&(Wn=e,!0)},l.relativeTimeThreshold=function(e,t){return void 0!==Un[e]&&(void 0===t?Un[e]:(Un[e]=t,\"s\"===e&&(Un.ss=t-1),!0))},l.calendarFormat=function(e,t){var n=e.diff(t,\"days\",!0);return-6>n?\"sameElse\":-1>n?\"lastWeek\":0>n?\"lastDay\":1>n?\"sameDay\":2>n?\"nextDay\":7>n?\"nextWeek\":\"sameElse\"},l.prototype=kn,l.HTML5_FMT={DATETIME_LOCAL:\"YYYY-MM-DDTHH:mm\",DATETIME_LOCAL_SECONDS:\"YYYY-MM-DDTHH:mm:ss\",DATETIME_LOCAL_MS:\"YYYY-MM-DDTHH:mm:ss.SSS\",DATE:\"YYYY-MM-DD\",TIME:\"HH:mm\",TIME_SECONDS:\"HH:mm:ss\",TIME_MS:\"HH:mm:ss.SSS\",WEEK:\"GGGG-[W]WW\",MONTH:\"YYYY-MM\"},l}))})),_r=[],wr=0;256>wr;wr++)_r[wr]=(wr+256).toString(16).substr(1);for(var xr=function(){if(\"undefined\"!=typeof crypto&&crypto.getRandomValues){var e=new Uint8Array(16);return function(){return crypto.getRandomValues(e),e}}var t=Array(16);return function(){for(var e,n=0;16>n;n++)0==(3&n)&&(e=4294967296*Math.random()),t[n]=255&e>>>((3&n)<<3);return t}}(),kr=[],Or=0;256>Or;Or++)kr[Or]=(Or+256).toString(16).substr(1);var Er=xr(),Sr=(Er[0],Er[1],Er[2],Er[3],Er[4],Er[5],Er[6],Er[7],/^\\/?Date\\((-?\\d+)/i);function Dr(e){return e instanceof Number||\"number\"==typeof e}function jr(e){return e instanceof String||\"string\"==typeof e}function Cr(e){return br.isMoment(e)}function Mr(e,t){var n;if(void 0!==e){if(null===e)return null;if(!t)return e;if(\"string\"!=typeof t&&!(t instanceof String))throw new Error(\"Type must be a string\");switch(t){case\"boolean\":case\"Boolean\":return!!e;case\"number\":case\"Number\":return jr(e)&&!isNaN(Date.parse(e))?br(e).valueOf():+e.valueOf();case\"string\":case\"String\":return e+\"\";case\"Date\":if(Dr(e))return new Date(e);if(e instanceof Date)return new Date(e.valueOf());if(Cr(e))return new Date(e.valueOf());if(jr(e))return(n=Sr.exec(e))?new Date(+n[1]):br(new Date(e)).toDate();throw new Error(\"Cannot convert object of type \"+Tr(e)+\" to type Date\");case\"Moment\":if(Dr(e))return br(e);if(e instanceof Date)return br(e.valueOf());if(Cr(e))return br(e);if(jr(e))return n=Sr.exec(e),br(n?+n[1]:e);throw new Error(\"Cannot convert object of type \"+Tr(e)+\" to type Date\");case\"ISODate\":if(Dr(e))return new Date(e);if(e instanceof Date)return e.toISOString();if(Cr(e))return e.toDate().toISOString();if(jr(e))return(n=Sr.exec(e))?new Date(+n[1]).toISOString():br(e).format();throw new Error(\"Cannot convert object of type \"+Tr(e)+\" to type ISODate\");case\"ASPDate\":if(Dr(e))return\"/Date(\"+e+\")/\";if(e instanceof Date)return\"/Date(\"+e.valueOf()+\")/\";if(jr(e))return\"/Date(\"+((n=Sr.exec(e))?new Date(+n[1]).valueOf():new Date(e).valueOf())+\")/\";throw new Error(\"Cannot convert object of type \"+Tr(e)+\" to type ASPDate\");default:throw new Error(\"Unknown type \".concat(t))}}}function Tr(e){var t=yr(e);return\"object\"===t?null===e?\"null\":e instanceof Boolean?\"Boolean\":e instanceof Number?\"Number\":e instanceof String?\"String\":Array.isArray(e)?\"Array\":e instanceof Date?\"Date\":\"Object\":\"number\"===t?\"Number\":\"boolean\"===t?\"Boolean\":\"string\"===t?\"String\":void 0===t?\"undefined\":t}function Ar(e){return\"string\"==typeof e||\"number\"==typeof e}var Fr=function(){function e(t){ir(this,e),this._queue=[],this._timeout=null,this._extended=null,this.delay=null,this.max=1/0,this.setOptions(t)}return or(e,[{key:\"setOptions\",value:function(e){e&&void 0!==e.delay&&(this.delay=e.delay),e&&void 0!==e.max&&(this.max=e.max),this._flushIfNeeded()}},{key:\"destroy\",value:function(){if(this.flush(),this._extended){for(var e,t=this._extended.object,n=this._extended.methods,i=0;i<n.length;i++)(e=n[i]).original?t[e.name]=e.original:delete t[e.name];this._extended=null}}},{key:\"replace\",value:function(e,t){var n=this,i=e[t];if(!i)throw new Error(\"Method \"+t+\" undefined\");e[t]=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n.queue({args:t,fn:i,context:this})}}},{key:\"queue\",value:function(e){\"function\"==typeof e?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}},{key:\"_flushIfNeeded\",value:function(){var e=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),0<this.queue.length&&\"number\"==typeof this.delay&&(this._timeout=setTimeout((function(){e.flush()}),this.delay))}},{key:\"flush\",value:function(){this._queue.splice(0).forEach((function(e){e.fn.apply(e.context||e.fn,e.args||[])}))}}],[{key:\"extend\",value:function(t,n){var i=new e(n);if(void 0!==t.flush)throw new Error(\"Target object already has a property flush\");t.flush=function(){i.flush()};var r=[{name:\"flush\",original:void 0}];if(n&&n.replace)for(var o,a=0;a<n.replace.length;a++)o=n.replace[a],r.push({name:o,original:t[o]}),i.replace(t,o);return i._extended={object:t,methods:r},i}}]),e}();var Pr=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}};var Nr=function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)};var zr=function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")};var Rr=function(e){return Pr(e)||Nr(e)||zr()},Ir=function(){function e(){ir(this,e),this._subscribers={\"*\":[],add:[],remove:[],update:[]},this.subscribe=e.prototype.on,this.unsubscribe=e.prototype.off}return or(e,[{key:\"_trigger\",value:function(e,t,n){if(\"*\"===e)throw new Error(\"Cannot trigger event *\");for(var i,r=[].concat(Rr(this._subscribers[e]),Rr(this._subscribers[\"*\"])),o=0,a=r.length;o<a;o++)(i=r[o]).callback&&i.callback(e,t,null==n?null:n)}},{key:\"on\",value:function(e,t){this._subscribers[e].push({callback:t})}},{key:\"off\",value:function(e,t){this._subscribers[e]=this._subscribers[e].filter((function(e){return e.callback!==t}))}}]),e}();function Br(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}var Lr=function(e){function t(e,n){var i;if(ir(this,t),i=sr(this,lr(t).call(this)),e&&!Array.isArray(e)&&(n=e,e=[]),i._options=n||{},i._data=Object.create({}),i.length=0,i._idProp=i._options.fieldId||\"id\",i._type={},i._options.type)for(var r=Object.keys(i._options.type),o=0,a=r.length;o<a;o++){var s=r[o],l=i._options.type[s];i._type[s]=\"Date\"==l||\"ISODate\"==l||\"ASPDate\"==l?\"Date\":l}return e&&e.length&&i.add(e),i.setOptions(n),i}return cr(t,e),or(t,[{key:\"setOptions\",value:function(e){e&&void 0!==e.queue&&(!1===e.queue?this._queue&&(this._queue.destroy(),delete this._queue):(!this._queue&&(this._queue=Fr.extend(this,{replace:[\"add\",\"update\",\"remove\"]})),e.queue&&\"object\"===nr(e.queue)&&this._queue.setOptions(e.queue)))}},{key:\"add\",value:function(e,t){var n,i=[];if(Array.isArray(e))for(var r=0,o=e.length;r<o;r++)n=this._addItem(e[r]),i.push(n);else{if(!e||\"object\"!==nr(e))throw new Error(\"Unknown dataType\");n=this._addItem(e),i.push(n)}return i.length&&this._trigger(\"add\",{items:i},t),i}},{key:\"update\",value:function(e,t){var n=this,i=[],r=[],o=[],a=[],s=this._idProp,l=function(e){var t=e[s];if(null!=t&&n._data[t]){var l=e,u=Object.assign({},n._data[t]),c=n._updateItem(l);r.push(c),a.push(l),o.push(u)}else{var d=n._addItem(e);i.push(d)}};if(Array.isArray(e))for(var u=0,c=e.length;u<c;u++)e[u]&&\"object\"===nr(e[u])?l(e[u]):console.warn(\"Ignoring input item, which is not an object at index \"+u);else{if(!e||\"object\"!==nr(e))throw new Error(\"Unknown dataType\");l(e)}return i.length&&this._trigger(\"add\",{items:i},t),r.length&&this._trigger(\"update\",{items:r,oldData:o,data:a},t),i.concat(r)}},{key:\"get\",value:function(e,t){var n=void 0,i=void 0,r=void 0;Ar(e)?(n=e,r=t):Array.isArray(e)?(i=e,r=t):r=e;var o=r&&\"Object\"===r.returnType?\"Object\":\"Array\",a=r&&r.type||this._options.type,s=r&&r.filter,l=[],u=null,c=null,d=null;if(null!=n)(u=this._getItem(n,a))&&s&&!s(u)&&(u=null);else if(null!=i)for(var h=0,f=i.length;h<f;h++)null!=(u=this._getItem(i[h],a))&&(!s||s(u))&&l.push(u);else for(var p=0,g=(c=Object.keys(this._data)).length;p<g;p++)d=c[p],null!=(u=this._getItem(d,a))&&(!s||s(u))&&l.push(u);if(r&&r.order&&null==n&&this._sort(l,r.order),r&&r.fields){var m=r.fields;if(null!=n&&null!=u)u=this._filterFields(u,m);else for(var v=0,y=l.length;v<y;v++)l[v]=this._filterFields(l[v],m)}if(\"Object\"==o){for(var b={},_=0,w=l.length;_<w;_++){var x=l[_];b[x[this._idProp]]=x}return b}return null==n?l:u}},{key:\"getIds\",value:function(e){var t,n,i=this._data,r=e&&e.filter,o=e&&e.order,a=e&&e.type||this._options.type,s=Object.keys(i),l=[];if(r)if(o){n=[];for(var u,c=0,d=s.length;c<d;c++)u=s[c],r(t=this._getItem(u,a))&&n.push(t);this._sort(n,o);for(var h=0,f=n.length;h<f;h++)l.push(n[h][this._idProp])}else for(var p,g=0,m=s.length;g<m;g++)p=s[g],r(t=this._getItem(p,a))&&l.push(t[this._idProp]);else if(o){n=[];for(var v,y=0,b=s.length;y<b;y++)v=s[y],n.push(i[v]);this._sort(n,o);for(var _=0,w=n.length;_<w;_++)l.push(n[_][this._idProp])}else for(var x=0,k=s.length;x<k;x++)t=i[s[x]],l.push(t[this._idProp]);return l}},{key:\"getDataSet\",value:function(){return this}},{key:\"forEach\",value:function(e,t){var n=t&&t.filter,i=t&&t.type||this._options.type,r=this._data,o=Object.keys(r);if(t&&t.order)for(var a=this.get(t),s=0,l=a.length;s<l;s++){var u=a[s];e(u,u[this._idProp])}else for(var c=0,d=o.length;c<d;c++){var h=o[c],f=this._getItem(h,i);(!n||n(f))&&e(f,h)}}},{key:\"map\",value:function(e,t){for(var n=t&&t.filter,i=t&&t.type||this._options.type,r=[],o=this._data,a=Object.keys(o),s=0,l=a.length;s<l;s++){var u=a[s],c=this._getItem(u,i);(!n||n(c))&&r.push(e(c,u))}return t&&t.order&&this._sort(r,t.order),r}},{key:\"_filterFields\",value:function(e,t){return e?(Array.isArray(t)?t:Object.keys(t)).reduce((function(t,n){return t[n]=e[n],t}),{}):e}},{key:\"_sort\",value:function(e,t){if(\"string\"==typeof t){var n=t;e.sort((function(e,t){var i=e[n],r=t[n];return i>r?1:i<r?-1:0}))}else{if(\"function\"!=typeof t)throw new TypeError(\"Order must be a function or a string\");e.sort(t)}}},{key:\"remove\",value:function(e,t){for(var n,i=[],r=[],o=Array.isArray(e)?e:[e],a=0,s=o.length;a<s;a++)if(n=this._remove(o[a])){var l=n[this._idProp];null!=l&&(i.push(l),r.push(n))}return i.length&&this._trigger(\"remove\",{items:i,oldData:r},t),i}},{key:\"_remove\",value:function(e){var t;if(Ar(e)?t=e:e&&\"object\"===nr(e)&&(t=e[this._idProp]),null!=t&&this._data[t]){var n=this._data[t];return delete this._data[t],--this.length,n}return null}},{key:\"clear\",value:function(e){for(var t=Object.keys(this._data),n=[],i=0,r=t.length;i<r;i++)n.push(this._data[t[i]]);return this._data={},this.length=0,this._trigger(\"remove\",{items:t,oldData:n},e),t}},{key:\"max\",value:function(e){for(var t=this._data,n=Object.keys(t),i=null,r=null,o=0,a=n.length;o<a;o++){var s=t[n[o]],l=s[e];null!=l&&(null==r||l>r)&&(i=s,r=l)}return i}},{key:\"min\",value:function(e){for(var t=this._data,n=Object.keys(t),i=null,r=null,o=0,a=n.length;o<a;o++){var s=t[n[o]],l=s[e];null!=l&&(null==r||l<r)&&(i=s,r=l)}return i}},{key:\"distinct\",value:function(e){for(var t=this._data,n=Object.keys(t),i=[],r=this._options.type&&this._options.type[e]||null,o=0,a=0,s=n.length;a<s;a++){for(var l=t[n[a]][e],u=!1,c=0;c<o;c++)if(i[c]==l){u=!0;break}u||void 0===l||(i[o]=l,o++)}if(r)for(var d=0,h=i.length;d<h;d++)i[d]=Mr(i[d],r);return i}},{key:\"_addItem\",value:function(e){var t=e[this._idProp];if(null==t)t=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0,n=2<arguments.length?arguments[2]:void 0,i=t&&n||0;\"string\"==typeof e&&(t=\"binary\"===e?Array(16):void 0,e={});var r=e.random||(e.rng||pr)();if(r[6]=64|15&r[6],r[8]=128|63&r[8],t)for(var o=0;16>o;o++)t[i+o]=r[o];return t||fr(r)}(),e[this._idProp]=t;else if(this._data[t])throw new Error(\"Cannot add item: item with id \"+t+\" already exists\");for(var n={},i=Object.keys(e),r=0,o=i.length;r<o;r++){var a=i[r],s=this._type[a];n[a]=Mr(e[a],s)}return this._data[t]=n,this.length++,t}},{key:\"_getItem\",value:function(e,t){var n=this._data[e];if(!n)return null;var i,r=Object.keys(n);if(t){i={};for(var o=0,a=r.length;o<a;o++){var s=r[o],l=n[s];i[s]=Mr(l,t[s])}}else i=function(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?Br(t,!0).forEach((function(n){er(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Br(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}({},n);return null==i[this._idProp]&&(i[this._idProp]=n.id),i}},{key:\"_updateItem\",value:function(e){var t=e[this._idProp];if(null==t)throw new Error(\"Cannot update item: item has no id (item: \"+JSON.stringify(e)+\")\");var n=this._data[t];if(!n)throw new Error(\"Cannot update item: no item with id \"+t+\" found\");for(var i=Object.keys(e),r=0,o=i.length;r<o;r++){var a=i[r],s=this._type[a];n[a]=Mr(e[a],s)}return t}}]),t}(Ir),$r=function(e){function t(e,n){var i;return ir(this,t),(i=sr(this,lr(t).call(this))).length=0,i._ids={},i._options=n||{},i.listener=i._onEvent.bind(ar(i)),i.setData(e),i}return cr(t,e),or(t,[{key:\"setData\",value:function(e){if(this._data){this._data.off&&this._data.off(\"*\",this.listener);var t=this._data.getIds({filter:this._options.filter}),n=this._data.get(t);this._ids={},this.length=0,this._trigger(\"remove\",{items:t,oldData:n})}if(null!=e){this._data=e;for(var i,r=this._data.getIds({filter:this._options.filter}),o=0,a=r.length;o<a;o++)i=r[o],this._ids[i]=!0;this.length=r.length,this._trigger(\"add\",{items:r})}else this._data=new Lr;this._data.on&&this._data.on(\"*\",this.listener)}},{key:\"refresh\",value:function(){for(var e,t=this._data.getIds({filter:this._options.filter}),n=Object.keys(this._ids),i={},r=[],o=[],a=[],s=0,l=t.length;s<l;s++)i[e=t[s]]=!0,this._ids[e]||(r.push(e),this._ids[e]=!0);for(var u=0,c=n.length;u<c;u++){var d=n[u],h=this._data.get(d);null==h?console.error(\"If you see this, report it please.\"):!i[d]&&(o.push(d),a.push(h),delete this._ids[d])}this.length+=r.length-o.length,r.length&&this._trigger(\"add\",{items:r}),o.length&&this._trigger(\"remove\",{items:o,oldData:a})}},{key:\"get\",value:function(e,t){if(null==this._data)return null;var n,i=null;Ar(e)||Array.isArray(e)?(i=e,n=t):n=e;var r=Object.assign({},this._options,n),o=this._options.filter,a=n&&n.filter;return o&&a&&(r.filter=function(e){return o(e)&&a(e)}),null==i?this._data.get(r):this._data.get(i,r)}},{key:\"getIds\",value:function(e){if(this._data.length){var t,n=this._options.filter,i=null==e?null:e.filter;return t=i?n?function(e){return n(e)&&i(e)}:i:n,this._data.getIds({filter:t,order:e&&e.order})}return[]}},{key:\"forEach\",value:function(e,t){if(this._data){var n,i=this._options.filter,r=t&&t.filter;n=r?i?function(e){return i(e)&&r(e)}:r:i,this._data.forEach(e,{filter:n,order:t&&t.order})}}},{key:\"map\",value:function(e,t){if(this._data){var n,i=this._options.filter,r=t&&t.filter;return n=r?i?function(e){return i(e)&&r(e)}:r:i,this._data.map(e,{filter:n,order:t&&t.order})}return[]}},{key:\"getDataSet\",value:function(){return this._data.getDataSet()}},{key:\"_onEvent\",value:function(e,t,n){if(t&&t.items&&this._data){var i=t.items,r=[],o=[],a=[],s=[],l=[],u=[];switch(e){case\"add\":for(var c=0,d=i.length;c<d;c++){var h=i[c];this.get(h)&&(this._ids[h]=!0,r.push(h))}break;case\"update\":for(var f=0,p=i.length;f<p;f++){var g=i[f];this.get(g)?this._ids[g]?(o.push(g),l.push(t.data[f]),s.push(t.oldData[f])):(this._ids[g]=!0,r.push(g)):this._ids[g]&&(delete this._ids[g],a.push(g),u.push(t.oldData[f]))}break;case\"remove\":for(var m,v=0,y=i.length;v<y;v++)m=i[v],this._ids[m]&&(delete this._ids[m],a.push(m),u.push(t.oldData[v]))}this.length+=r.length-a.length,r.length&&this._trigger(\"add\",{items:r},n),o.length&&this._trigger(\"update\",{items:o,oldData:s,data:l},n),a.length&&this._trigger(\"remove\",{items:a,oldData:u},n)}}}]),t}(Ir),Wr={DataSet:Lr,DataView:$r,Queue:Fr},Ur=Object.freeze({default:Wr,DataSet:Lr,DataView:$r,Queue:Fr});\"undefined\"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(e,t,n){this.beginPath(),this.arc(e,t,n,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(e,t,n){this.beginPath(),this.rect(e-n,t-n,2*n,2*n),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(e,t,n){var i=Math.sqrt;this.beginPath(),t+=.275*(n*=1.15);var r=2*n,o=r/2,a=i(3)/6*r,s=i(r*r-o*o);this.moveTo(e,t-(s-a)),this.lineTo(e+o,t+a),this.lineTo(e-o,t+a),this.lineTo(e,t-(s-a)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(e,t,n){var i=Math.sqrt;this.beginPath(),t-=.275*(n*=1.15);var r=2*n,o=r/2,a=i(3)/6*r,s=i(r*r-o*o);this.moveTo(e,t+(s-a)),this.lineTo(e+o,t-a),this.lineTo(e-o,t-a),this.lineTo(e,t+(s-a)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(e,t,n){var i=Math.cos,r=Math.sin,o=Math.PI;this.beginPath(),t+=.1*(n*=.82);for(var a,s=0;10>s;s++)a=0==s%2?1.3*n:.5*n,this.lineTo(e+a*r(2*s*o/10),t-a*i(2*s*o/10));this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(e,t,n){this.beginPath(),this.lineTo(e,t+n),this.lineTo(e+n,t),this.lineTo(e,t-n),this.lineTo(e-n,t),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(e,t,n,i,r){var o=Math.PI/180;0>n-2*r&&(r=n/2),0>i-2*r&&(r=i/2),this.beginPath(),this.moveTo(e+r,t),this.lineTo(e+n-r,t),this.arc(e+n-r,t+r,r,270*o,360*o,!1),this.lineTo(e+n,t+i-r),this.arc(e+n-r,t+i-r,r,0,90*o,!1),this.lineTo(e+r,t+i),this.arc(e+r,t+i-r,r,90*o,180*o,!1),this.lineTo(e,t+r),this.arc(e+r,t+r,r,180*o,270*o,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse_vis=function(e,t,n,i){var r=.5522848,o=n/2*r,a=i/2*r,s=e+n,l=t+i,u=e+n/2,c=t+i/2;this.beginPath(),this.moveTo(e,c),this.bezierCurveTo(e,c-a,u-o,t,u,t),this.bezierCurveTo(u+o,t,s,c-a,s,c),this.bezierCurveTo(s,c+a,u+o,l,u,l),this.bezierCurveTo(u-o,l,e,c+a,e,c),this.closePath()},CanvasRenderingContext2D.prototype.database=function(e,t,n,i){var r=i*(1/3),o=.5522848,a=n/2*o,s=r/2*o,l=e+n,u=t+r,c=e+n/2,d=t+r/2,h=t+(i-r/2),f=t+i;this.beginPath(),this.moveTo(l,d),this.bezierCurveTo(l,d+s,c+a,u,c,u),this.bezierCurveTo(c-a,u,e,d+s,e,d),this.bezierCurveTo(e,d-s,c-a,t,c,t),this.bezierCurveTo(c+a,t,l,d-s,l,d),this.lineTo(l,h),this.bezierCurveTo(l,h+s,c+a,f,c,f),this.bezierCurveTo(c-a,f,e,h+s,e,h),this.lineTo(e,d)},CanvasRenderingContext2D.prototype.dashedLine=function(e,t,n,i,r){var o=Math.sqrt;this.beginPath(),this.moveTo(e,t);for(var a=r.length,s=n-e,l=i-t,u=l/s,c=o(s*s+l*l),d=0,h=!0,f=0,p=+r[0];.1<=c;)(p=+r[d++%a])>c&&(p=c),f=o(p*p/(1+u*u)),e+=f=0>s?-f:f,t+=u*f,!0===h?this.lineTo(e,t):this.moveTo(e,t),c-=p,h=!h},CanvasRenderingContext2D.prototype.hexagon=function(e,t,n){this.beginPath();var i=2*Math.PI/6;this.moveTo(e+n,t);for(var r=1;r<6;r++)this.lineTo(e+n*Math.cos(i*r),t+n*Math.sin(i*r));this.closePath()});\"undefined\"==typeof globalThis?\"undefined\"==typeof window?void 0===e&&(\"undefined\"==typeof self||self):window:globalThis;function Yr(e,t){return e(t={exports:{}},t.exports),t.exports}var Hr=Yr((function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[\"$\"+e]=this._callbacks[\"$\"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[\"$\"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[\"$\"+e],this;for(var i,r=0;r<n.length;r++)if((i=n[r])===t||i.fn===t){n.splice(r,1);break}return 0===n.length&&delete this._callbacks[\"$\"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=Array(arguments.length-1),n=this._callbacks[\"$\"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(n){i=0;for(var r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[\"$\"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}}));function qr(e){return eo=e,function(){var e={};if(to=0,no=eo.charAt(0),go(),\"strict\"===io&&(e.strict=!0,go()),(\"graph\"===io||\"digraph\"===io)&&(e.type=io,go()),ro===Qr&&(e.id=io,go()),\"{\"!=io)throw wo(\"Angle bracket { expected\");if(go(),mo(e),\"}\"!=io)throw wo(\"Angle bracket } expected\");if(go(),\"\"!==io)throw wo(\"End of file expected\");return go(),delete e.node,delete e.edge,delete e.graph,e}()}var Vr={fontsize:\"font.size\",fontcolor:\"font.color\",labelfontcolor:\"font.color\",fontname:\"font.face\",color:[\"color.border\",\"color.background\"],fillcolor:\"color.background\",tooltip:\"title\",labeltooltip:\"title\"},Gr=Object.create(Vr);Gr.color=\"color.color\",Gr.style=\"dashes\";var Xr=0,Zr=1,Qr=2,Jr=3,Kr={\"{\":!0,\"}\":!0,\"[\":!0,\"]\":!0,\";\":!0,\"=\":!0,\",\":!0,\"->\":!0,\"--\":!0},eo=\"\",to=0,no=\"\",io=\"\",ro=Xr;function oo(){to++,no=eo.charAt(to)}function ao(){return eo.charAt(to+1)}var so=/[a-zA-Z_0-9.:#]/;function lo(e){return so.test(e)}function uo(e,t){if(e||(e={}),t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function co(e,t,n){for(var i=t.split(\".\"),r=e;i.length;){var o=i.shift();i.length?(!r[o]&&(r[o]={}),r=r[o]):r[o]=n}}function ho(e,t){for(var n,i,r=null,o=[e],a=e;a.parent;)o.push(a.parent),a=a.parent;if(a.nodes)for(n=0,i=a.nodes.length;n<i;n++)if(t.id===a.nodes[n].id){r=a.nodes[n];break}for(r||(r={id:t.id},e.node&&(r.attr=uo(r.attr,e.node))),n=o.length-1;0<=n;n--){var s=o[n];s.nodes||(s.nodes=[]),-1===s.nodes.indexOf(r)&&s.nodes.push(r)}t.attr&&(r.attr=uo(r.attr,t.attr))}function fo(e,t){if(e.edges||(e.edges=[]),e.edges.push(t),e.edge){var n=uo({},e.edge);t.attr=uo(n,t.attr)}}function po(e,t,n,i,r){var o={from:t,to:n,type:i};return e.edge&&(o.attr=uo({},e.edge)),o.attr=uo(o.attr||{},r),null!=r&&r.hasOwnProperty(\"arrows\")&&null!=r.arrows&&(o.arrows={to:{enabled:!0,type:r.arrows.type}},r.arrows=null),o}function go(){for(ro=Xr,io=\"\";\" \"===no||\"\\t\"===no||\"\\n\"===no||\"\\r\"===no;)oo();do{var e=!1;if(\"#\"===no){for(var t=to-1;\" \"===eo.charAt(t)||\"\\t\"===eo.charAt(t);)t--;if(\"\\n\"===eo.charAt(t)||\"\"===eo.charAt(t)){for(;\"\"!=no&&\"\\n\"!=no;)oo();e=!0}}if(\"/\"===no&&\"/\"===ao()){for(;\"\"!=no&&\"\\n\"!=no;)oo();e=!0}if(\"/\"===no&&\"*\"===ao()){for(;\"\"!=no;){if(\"*\"===no&&\"/\"===ao()){oo(),oo();break}oo()}e=!0}for(;\" \"===no||\"\\t\"===no||\"\\n\"===no||\"\\r\"===no;)oo()}while(e);if(\"\"!==no){var n=no+ao();if(Kr[n])return ro=Zr,io=n,oo(),void oo();if(Kr[no])return ro=Zr,io=no,void oo();if(lo(no)||\"-\"===no){for(io+=no,oo();lo(no);)io+=no,oo();return\"false\"===io?io=!1:\"true\"===io?io=!0:!isNaN(+io)&&(io=+io),void(ro=Qr)}if('\"'===no){for(oo();\"\"!=no&&('\"'!=no||'\"'===no&&'\"'===ao());)'\"'===no?(io+=no,oo()):\"\\\\\"===no&&\"n\"===ao()?(io+=\"\\n\",oo()):io+=no,oo();if('\"'!=no)throw wo('End of string \" expected');return oo(),void(ro=Qr)}for(ro=Jr;\"\"!=no;)io+=no,oo();throw new SyntaxError('Syntax error in part \"'+xo(io,30)+'\"')}ro=Zr}function mo(e){for(;\"\"!==io&&\"}\"!=io;)vo(e),\";\"===io&&go()}function vo(e){var t=yo(e);if(t)bo(e,t);else if(!function(e){return\"node\"===io?(go(),e.node=_o(),\"node\"):\"edge\"===io?(go(),e.edge=_o(),\"edge\"):\"graph\"===io?(go(),e.graph=_o(),\"graph\"):null}(e)){if(ro!=Qr)throw wo(\"Identifier expected\");var n=io;if(go(),\"=\"===io){if(go(),ro!=Qr)throw wo(\"Identifier expected\");e[n]=io,go()}else!function(e,t){var n={id:t},i=_o();i&&(n.attr=i),ho(e,n),bo(e,t)}(e,n)}}function yo(e){var t=null;if(\"subgraph\"===io&&((t={}).type=\"subgraph\",go(),ro===Qr&&(t.id=io,go())),\"{\"===io){if(go(),t||(t={}),t.parent=e,t.node=e.node,t.edge=e.edge,t.graph=e.graph,mo(t),\"}\"!=io)throw wo(\"Angle bracket } expected\");go(),delete t.node,delete t.edge,delete t.graph,delete t.parent,e.subgraphs||(e.subgraphs=[]),e.subgraphs.push(t)}return t}function bo(e,t){for(;\"->\"===io||\"--\"===io;){var n,i=io;go();var r=yo(e);if(r)n=r;else{if(ro!=Qr)throw wo(\"Identifier or subgraph expected\");ho(e,{id:n=io}),go()}fo(e,po(e,t,n,i,_o())),t=n}}function _o(){for(var e,t=null,n={dashed:!0,solid:!1,dotted:[1,5]},i={dot:\"circle\",box:\"box\",crow:\"crow\",curve:\"curve\",icurve:\"inv_curve\",normal:\"triangle\",inv:\"inv_triangle\",diamond:\"diamond\",tee:\"bar\",vee:\"vee\"},r=[],o=[];\"[\"===io;){for(go(),t={};\"\"!==io&&\"]\"!=io;){if(ro!=Qr)throw wo(\"Attribute name expected\");var a=io;if(go(),\"=\"!=io)throw wo(\"Equal sign = expected\");if(go(),ro!=Qr)throw wo(\"Attribute value expected\");var s=io;\"style\"===a&&(s=n[s]),\"arrowhead\"===a&&(a=\"arrows\",s={to:{enabled:!0,type:i[s]}}),\"arrowtail\"===a&&(a=\"arrows\",s={from:{enabled:!0,type:i[s]}}),r.push({attr:t,name:a,value:s}),o.push(a),go(),\",\"==io&&go()}if(\"]\"!=io)throw wo(\"Bracket ] expected\");go()}if(o.includes(\"dir\")){var l={arrows:{}};for(e=0;e<r.length;e++)if(\"arrows\"!==r[e].name)\"dir\"===r[e].name&&(l.dir=e);else if(null!=r[e].value.to)l.arrows.to=e;else{if(null==r[e].value.from)throw wo(\"Invalid value of arrows\");l.arrows.from=e}var u,c,d=r[l.dir].value;if(!o.includes(\"arrows\"))if(\"both\"===d)r.push({attr:r[l.dir].attr,name:\"arrows\",value:{to:{enabled:!0}}}),l.arrows.to=r.length-1,r.push({attr:r[l.dir].attr,name:\"arrows\",value:{from:{enabled:!0}}}),l.arrows.from=r.length-1;else if(\"forward\"===d)r.push({attr:r[l.dir].attr,name:\"arrows\",value:{to:{enabled:!0}}}),l.arrows.to=r.length-1;else if(\"back\"===d)r.push({attr:r[l.dir].attr,name:\"arrows\",value:{from:{enabled:!0}}}),l.arrows.from=r.length-1;else{if(\"none\"!==d)throw wo('Invalid dir type \"'+d+'\"');r.push({attr:r[l.dir].attr,name:\"arrows\",value:\"\"}),l.arrows.to=r.length-1}if(\"both\"===d)l.arrows.to&&l.arrows.from?(c=r[l.arrows.to].value.to.type,u=r[l.arrows.from].value.from.type,r[l.arrows.to]={attr:r[l.arrows.to].attr,name:r[l.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:u}}},r.splice(l.arrows.from,1)):l.arrows.to?(c=r[l.arrows.to].value.to.type,u=\"arrow\",r[l.arrows.to]={attr:r[l.arrows.to].attr,name:r[l.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:u}}}):l.arrows.from&&(c=\"arrow\",u=r[l.arrows.from].value.from.type,r[l.arrows.from]={attr:r[l.arrows.from].attr,name:r[l.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:u}}});else if(\"back\"===d)l.arrows.to&&l.arrows.from?(c=\"\",u=r[l.arrows.from].value.from.type,r[l.arrows.from]={attr:r[l.arrows.from].attr,name:r[l.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:u}}}):l.arrows.to?(c=\"\",u=\"arrow\",l.arrows.from=l.arrows.to,r[l.arrows.from]={attr:r[l.arrows.from].attr,name:r[l.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:u}}}):l.arrows.from&&(c=\"\",u=r[l.arrows.from].value.from.type,r[l.arrows.to]={attr:r[l.arrows.from].attr,name:r[l.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:u}}}),r[l.arrows.from]={attr:r[l.arrows.from].attr,name:r[l.arrows.from].name,value:{from:{enabled:!0,type:r[l.arrows.from].value.from.type}}};else if(\"none\"===d){var h;r[h=l.arrows.to?l.arrows.to:l.arrows.from]={attr:r[h].attr,name:r[h].name,value:\"\"}}else{if(\"forward\"!==d)throw wo('Invalid dir type \"'+d+'\"');l.arrows.to&&l.arrows.from||l.arrows.to?(c=r[l.arrows.to].value.to.type,u=\"\",r[l.arrows.to]={attr:r[l.arrows.to].attr,name:r[l.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:u}}}):l.arrows.from&&(c=\"arrow\",u=\"\",l.arrows.to=l.arrows.from,r[l.arrows.to]={attr:r[l.arrows.to].attr,name:r[l.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:u}}}),r[l.arrows.to]={attr:r[l.arrows.to].attr,name:r[l.arrows.to].name,value:{to:{enabled:!0,type:r[l.arrows.to].value.to.type}}}}r.splice(l.dir,1)}var f;if(o.includes(\"penwidth\")){var p=[];for(f=r.length,e=0;e<f;e++)\"width\"!==r[e].name&&(\"penwidth\"===r[e].name&&(r[e].name=\"width\"),p.push(r[e]));r=p}for(f=r.length,e=0;e<f;e++)co(r[e].attr,r[e].name,r[e].value);return t}function wo(e){return new SyntaxError(e+', got \"'+xo(io,30)+'\" (char '+to+\")\")}function xo(e,t){return e.length<=t?e:e.substr(0,27)+\"...\"}function ko(e,t,n){for(var i,r=t.split(\".\"),o=r.pop(),a=e,s=0;s<r.length;s++)(i=r[s])in a||(a[i]={}),a=a[i];return a[o]=n,e}function Oo(e,t){var n={};for(var i in e)if(e.hasOwnProperty(i)){var r=t[i];Array.isArray(r)?r.forEach((function(t){ko(n,t,e[i])})):ko(n,\"string\"==typeof r?r:i,e[i])}return n}var Eo=qr,So=function(e){var t=qr(e),n={nodes:[],edges:[],options:{}};if(t.nodes&&t.nodes.forEach((function(e){var t={id:e.id,label:(e.label||e.id)+\"\"};uo(t,Oo(e.attr,Vr)),t.image&&(t.shape=\"image\"),n.nodes.push(t)})),t.edges){var i=function(e){var t={from:e.from,to:e.to};return uo(t,Oo(e.attr,Gr)),null==t.arrows&&\"->\"===e.type&&(t.arrows=\"to\"),t};t.edges.forEach((function(e){var t,r;t=e.from instanceof Object?e.from.nodes:{id:e.from},r=e.to instanceof Object?e.to.nodes:{id:e.to},e.from instanceof Object&&e.from.edges&&e.from.edges.forEach((function(e){var t=i(e);n.edges.push(t)})),function(e,t,n){Array.isArray(e)?e.forEach((function(e){Array.isArray(t)?t.forEach((function(t){n(e,t)})):n(e,t)})):Array.isArray(t)?t.forEach((function(t){n(e,t)})):n(e,t)}(t,r,(function(t,r){var o=po(n,t.id,r.id,e.type,e.attr),a=i(o);n.edges.push(a)})),e.to instanceof Object&&e.to.edges&&e.to.edges.forEach((function(e){var t=i(e);n.edges.push(t)}))}))}return t.attr&&(n.options=t.attr),n},Do={parseDOT:Eo,DOTToGraph:So},jo=Object.freeze({default:Do,__moduleExports:Do,parseDOT:Eo,DOTToGraph:So});function Co(e,t){var n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};null!=t&&(null!=t.fixed&&(n.nodes.fixed=t.fixed),null!=t.parseColor&&(n.nodes.parseColor=t.parseColor),null!=t.inheritColor&&(n.edges.inheritColor=t.inheritColor));var i=e.edges.map((function(e){var t={from:e.source,id:e.id,to:e.target};return null!=e.attributes&&(t.attributes=e.attributes),null!=e.label&&(t.label=e.label),null!=e.attributes&&null!=e.attributes.title&&(t.title=e.attributes.title),\"Directed\"===e.type&&(t.arrows=\"to\"),e.color&&!1===n.edges.inheritColor&&(t.color=e.color),t}));return{nodes:e.nodes.map((function(e){var t={id:e.id,fixed:n.nodes.fixed&&null!=e.x&&null!=e.y};return null!=e.attributes&&(t.attributes=e.attributes),null!=e.label&&(t.label=e.label),null!=e.size&&(t.size=e.size),null!=e.attributes&&null!=e.attributes.title&&(t.title=e.attributes.title),null!=e.title&&(t.title=e.title),null!=e.x&&(t.x=e.x),null!=e.y&&(t.y=e.y),null!=e.color&&(!0===n.nodes.parseColor?t.color=e.color:t.color={background:e.color,border:e.color,highlight:{background:e.color,border:e.color},hover:{background:e.color,border:e.color}}),t})),edges:i}}var Mo=Object.freeze({parseGephi:Co}),To=Object.freeze({}),Ao=Yr((function(e){e.exports=function(e){var t,n=String.fromCharCode,i=e&&e.preventDefault||!1,r=e&&e.container||window,o={},a={keydown:{},keyup:{}},s={};for(t=97;122>=t;t++)s[n(t)]={code:t-97+65,shift:!1};for(t=65;90>=t;t++)s[n(t)]={code:t,shift:!0};for(t=0;9>=t;t++)s[\"\"+t]={code:48+t,shift:!1};for(t=1;12>=t;t++)s[\"F\"+t]={code:111+t,shift:!1};for(t=0;9>=t;t++)s[\"num\"+t]={code:96+t,shift:!1};s[\"num*\"]={code:106,shift:!1},s[\"num+\"]={code:107,shift:!1},s[\"num-\"]={code:109,shift:!1},s[\"num/\"]={code:111,shift:!1},s[\"num.\"]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s[\"=\"]={code:187,shift:!1},s[\"-\"]={code:189,shift:!1},s[\"]\"]={code:221,shift:!1},s[\"[\"]={code:219,shift:!1};var l=function(e){c(e,\"keydown\")},u=function(e){c(e,\"keyup\")},c=function(e,t){if(void 0!==a[t][e.keyCode]){for(var n=a[t][e.keyCode],r=0;r<n.length;r++)(void 0===n[r].shift||1==n[r].shift&&1==e.shiftKey||0==n[r].shift&&0==e.shiftKey)&&n[r].fn(e);1==i&&e.preventDefault()}};return o.bind=function(e,t,n){if(void 0===n&&(n=\"keydown\"),void 0===s[e])throw new Error(\"unsupported key: \"+e);void 0===a[n][s[e].code]&&(a[n][s[e].code]=[]),a[n][s[e].code].push({fn:t,shift:s[e].shift})},o.bindAll=function(e,t){for(var n in void 0===t&&(t=\"keydown\"),s)s.hasOwnProperty(n)&&o.bind(n,e,t)},o.getKey=function(e){for(var t in s)if(s.hasOwnProperty(t)){if(1==e.shiftKey&&1==s[t].shift&&e.keyCode==s[t].code)return t;if(0==e.shiftKey&&0==s[t].shift&&e.keyCode==s[t].code)return t;if(e.keyCode==s[t].code&&\"shift\"==t)return t}return\"unknown key, currently not supported\"},o.unbind=function(e,t,n){if(void 0===n&&(n=\"keydown\"),void 0===s[e])throw new Error(\"unsupported key: \"+e);if(void 0!==t){var i=[],r=a[n][s[e].code];if(void 0!==r)for(var o=0;o<r.length;o++)(r[o].fn!=t||r[o].shift!=s[e].shift)&&i.push(a[n][s[e].code][o]);a[n][s[e].code]=i}else a[n][s[e].code]=[]},o.reset=function(){a={keydown:{},keyup:{}}},o.destroy=function(){a={keydown:{},keyup:{}},r.removeEventListener(\"keydown\",l,!0),r.removeEventListener(\"keyup\",u,!0)},r.addEventListener(\"keydown\",l,!0),r.addEventListener(\"keyup\",u,!0),o}})),Fo=Object.freeze({default:Ao,__moduleExports:Ao});function Po(){return(Po=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)}function No(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function zo(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}var Ro=\"function\"==typeof Object.assign?Object.assign:function(e){if(null==e)throw new TypeError(\"Cannot convert undefined or null to object\");for(var t,n=Object(e),i=1;i<arguments.length;i++)if(null!=(t=arguments[i]))for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n},Io=[\"\",\"webkit\",\"Moz\",\"MS\",\"ms\",\"o\"],Bo=\"undefined\"==typeof document?{style:{}}:document.createElement(\"div\"),Lo=Math.round,$o=Math.abs,Wo=Date.now;function Uo(e,t){for(var n,i,r=t[0].toUpperCase()+t.slice(1),o=0;o<Io.length;){if((i=(n=Io[o])?n+r:t)in e)return i;o++}}var Yo=\"undefined\"==typeof window?{}:window,Ho=Uo(Bo.style,\"touchAction\"),qo=void 0!==Ho;var Vo=function(){if(!qo)return!1;var e={},t=Yo.CSS&&Yo.CSS.supports;return[\"auto\",\"manipulation\",\"pan-y\",\"pan-x\",\"pan-x pan-y\",\"none\"].forEach((function(n){return e[n]=!t||Yo.CSS.supports(\"touch-action\",n)})),e}(),Go=\"ontouchstart\"in Yo,Xo=void 0!==Uo(Yo,\"PointerEvent\"),Zo=Go&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Qo=[\"x\",\"y\"],Jo=[\"clientX\",\"clientY\"];function Ko(e,t,n){if(e)if(e.forEach)e.forEach(t,n);else if(void 0!==e.length)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(var i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function ea(e,t){return\"function\"==typeof e?e.apply(t&&t[0]||void 0,t):e}function ta(e,t){return-1<e.indexOf(t)}var na=function(){function e(e,t){this.manager=e,this.set(t)}var t=e.prototype;return t.set=function(e){\"compute\"===e&&(e=this.compute()),qo&&this.manager.element.style&&Vo[e]&&(this.manager.element.style[Ho]=e),this.actions=e.toLowerCase().trim()},t.update=function(){this.set(this.manager.options.touchAction)},t.compute=function(){var e=[];return Ko(this.manager.recognizers,(function(t){ea(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(ta(e,\"none\"))return\"none\";var t=ta(e,\"pan-x\"),n=ta(e,\"pan-y\");return t&&n?\"none\":t||n?t?\"pan-x\":\"pan-y\":ta(e,\"manipulation\")?\"manipulation\":\"auto\"}(e.join(\" \"))},t.preventDefaults=function(e){var t=e.srcEvent,n=e.offsetDirection;if(!this.manager.session.prevented){var i=this.actions,r=ta(i,\"none\")&&!Vo.none,o=ta(i,\"pan-y\")&&!Vo[\"pan-y\"],a=ta(i,\"pan-x\")&&!Vo[\"pan-x\"];if(r){var s=1===e.pointers.length,l=2>e.distance,u=250>e.deltaTime;if(s&&l&&u)return}return a&&o?void 0:r||o&&6&n||a&&24&n?this.preventSrc(t):void 0}t.preventDefault()},t.preventSrc=function(e){this.manager.session.prevented=!0,e.preventDefault()},e}();function ia(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function ra(e){var t=e.length;if(1===t)return{x:Lo(e[0].clientX),y:Lo(e[0].clientY)};for(var n=0,i=0,r=0;r<t;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:Lo(n/t),y:Lo(i/t)}}function oa(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:Lo(e.pointers[n].clientX),clientY:Lo(e.pointers[n].clientY)},n++;return{timeStamp:Wo(),pointers:t,center:ra(t),deltaX:e.deltaX,deltaY:e.deltaY}}function aa(e,t,n){n||(n=Qo);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(i*i+r*r)}function sa(e,t,n){n||(n=Qo);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return 180*Math.atan2(r,i)/Math.PI}function la(e,t){return e===t?1:$o(e)>=$o(t)?0>e?2:4:0>t?8:16}function ua(e,t,n){return{x:t/e||0,y:n/e||0}}function ca(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=oa(t)),1<r&&!n.firstMultiple?n.firstMultiple=oa(t):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,l=t.center=ra(i);t.timeStamp=Wo(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=sa(s,l),t.distance=aa(s,l),function(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},o=e.prevInput||{};(1===t.eventType||4===o.eventType)&&(r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}(n,t),t.offsetDirection=la(t.deltaX,t.deltaY);var u=ua(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=$o(u.x)>$o(u.y)?u.x:u.y,t.scale=a?function(e,t){return aa(t[0],t[1],Jo)/aa(e[0],e[1],Jo)}(a.pointers,i):1,t.rotation=a?function(e,t){return sa(t[1],t[0],Jo)+sa(e[1],e[0],Jo)}(a.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,i,r,o,a=e.lastInterval||t,s=t.timeStamp-a.timeStamp;if(8!==t.eventType&&(s>25||void 0===a.velocity)){var l=t.deltaX-a.deltaX,u=t.deltaY-a.deltaY,c=ua(s,l,u);i=c.x,r=c.y,n=$o(c.x)>$o(c.y)?c.x:c.y,o=la(l,u),e.lastInterval=t}else n=a.velocity,i=a.velocityX,r=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=i,t.velocityY=r,t.direction=o}(n,t);var c=e.element;ia(t.srcEvent.target,c)&&(c=t.srcEvent.target),t.target=c}function da(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,o=1&t&&0==i-r;n.isFirst=!!o,n.isFinal=!!(12&t&&0==i-r),o&&(e.session={}),n.eventType=t,ca(e,n),e.emit(\"hammer.input\",n),e.recognize(n),e.session.prevInput=n}function ha(e){return e.trim().split(/\\s+/g)}function fa(e,t,n){Ko(ha(t),(function(t){e.addEventListener(t,n,!1)}))}function pa(e,t,n){Ko(ha(t),(function(t){e.removeEventListener(t,n,!1)}))}function ga(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||window}var ma=function(){function e(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){ea(e.options.enable,[e])&&n.handler(t)},this.init()}var t=e.prototype;return t.handler=function(){},t.init=function(){this.evEl&&fa(this.element,this.evEl,this.domHandler),this.evTarget&&fa(this.target,this.evTarget,this.domHandler),this.evWin&&fa(ga(this.element),this.evWin,this.domHandler)},t.destroy=function(){this.evEl&&pa(this.element,this.evEl,this.domHandler),this.evTarget&&pa(this.target,this.evTarget,this.domHandler),this.evWin&&pa(ga(this.element),this.evWin,this.domHandler)},e}();function va(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}var ya={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},ba={2:\"touch\",3:\"pen\",4:\"mouse\",5:\"kinect\"},_a=\"pointerdown\",wa=\"pointermove pointerup pointercancel\";Yo.MSPointerEvent&&!Yo.PointerEvent&&(_a=\"MSPointerDown\",wa=\"MSPointerMove MSPointerUp MSPointerCancel\");var xa=function(e){function t(){var n,i=t.prototype;return i.evEl=_a,i.evWin=wa,(n=e.apply(this,arguments)||this).store=n.manager.session.pointerEvents=[],n}return No(t,e),t.prototype.handler=function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace(\"ms\",\"\"),r=ya[i],o=ba[e.pointerType]||e.pointerType,a=va(t,e.pointerId,\"pointerId\");1&r&&(0===e.button||\"touch\"===o)?0>a&&(t.push(e),a=t.length-1):12&r&&(n=!0),0>a||(t[a]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(a,1))},t}(ma);function ka(e){return Array.prototype.slice.call(e,0)}function Oa(e,t,n){for(var i,r=[],o=[],a=0;a<e.length;)0>va(o,i=t?e[a][t]:e[a])&&r.push(e[a]),o[a]=i,a++;return n&&(r=t?r.sort((function(e,n){return e[t]>n[t]})):r.sort()),r}var Ea={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Sa=function(e){function t(){var n;return t.prototype.evTarget=\"touchstart touchmove touchend touchcancel\",(n=e.apply(this,arguments)||this).targetIds={},n}return No(t,e),t.prototype.handler=function(e){var t=Ea[e.type],n=Da.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:\"touch\",srcEvent:e})},t}(ma);function Da(e,t){var n=ka(e.touches),i=this.targetIds;if(3&t&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=ka(e.changedTouches),s=[],l=this.target;if(o=n.filter((function(e){return ia(e.target,l)})),1===t)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&s.push(a[r]),12&t&&delete i[a[r].identifier],r++;return s.length?[Oa(o.concat(s),\"identifier\",!0),s]:void 0}var ja={mousedown:1,mousemove:2,mouseup:4},Ca=function(e){function t(){var n,i=t.prototype;return i.evEl=\"mousedown\",i.evWin=\"mousemove mouseup\",(n=e.apply(this,arguments)||this).pressed=!1,n}return No(t,e),t.prototype.handler=function(e){var t=ja[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:\"mouse\",srcEvent:e}))},t}(ma);function Ma(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY},i=this.lastTouches;this.lastTouches.push(n);setTimeout((function(){var e=i.indexOf(n);-1<e&&i.splice(e,1)}),2500)}}function Ta(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,Ma.call(this,t)):12&e&&Ma.call(this,t)}function Aa(e){for(var t=Math.abs,n=e.srcEvent.clientX,i=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var o=this.lastTouches[r],a=t(n-o.x),s=t(i-o.y);if(a<=25&&s<=25)return!0}return!1}var Fa=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).handler=function(e,t,n){var r=\"touch\"===n.pointerType,o=\"mouse\"===n.pointerType;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)Ta.call(zo(zo(i)),t,n);else if(o&&Aa.call(zo(zo(i)),n))return;i.callback(e,t,n)}},i.touch=new Sa(i.manager,i.handler),i.mouse=new Ca(i.manager,i.handler),i.primaryTouch=null,i.lastTouches=[],i}return No(t,e),t.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(ma);function Pa(e,t,n){return!!Array.isArray(e)&&(Ko(e,n[t],n),!0)}var Na=1;function za(e,t){var n=t.manager;return n?n.get(e):e}function Ra(e){return 16&e?\"cancel\":8&e?\"end\":4&e?\"move\":2&e?\"start\":\"\"}var Ia=function(){function e(e){void 0===e&&(e={}),this.options=Po({enable:!0},e),this.id=Na++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var t=e.prototype;return t.set=function(e){return Ro(this.options,e),this.manager&&this.manager.touchAction.update(),this},t.recognizeWith=function(e){if(Pa(e,\"recognizeWith\",this))return this;var t=this.simultaneous;return t[(e=za(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},t.dropRecognizeWith=function(e){return Pa(e,\"dropRecognizeWith\",this)||(e=za(e,this),delete this.simultaneous[e.id]),this},t.requireFailure=function(e){if(Pa(e,\"requireFailure\",this))return this;var t=this.requireFail;return-1===va(t,e=za(e,this))&&(t.push(e),e.requireFailure(this)),this},t.dropRequireFailure=function(e){if(Pa(e,\"dropRequireFailure\",this))return this;e=za(e,this);var t=va(this.requireFail,e);return-1<t&&this.requireFail.splice(t,1),this},t.hasRequireFailures=function(){return 0<this.requireFail.length},t.canRecognizeWith=function(e){return!!this.simultaneous[e.id]},t.emit=function(e){function t(t){n.manager.emit(t,e)}var n=this,i=this.state;i<8&&t(n.options.event+Ra(i)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),i>=8&&t(n.options.event+Ra(i))},t.tryEmit=function(e){return this.canEmit()?this.emit(e):void(this.state=32)},t.canEmit=function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},t.recognize=function(e){var t=Ro({},e);return ea(this.options.enable,[this,t])?(56&this.state&&(this.state=1),this.state=this.process(t),void(30&this.state&&this.tryEmit(t))):(this.reset(),void(this.state=32))},t.process=function(){},t.getTouchAction=function(){},t.reset=function(){},e}(),Ba={domEvents:!1,touchAction:\"compute\",enable:!0,inputTarget:null,inputClass:null,preset:[],cssProps:{userSelect:\"none\",touchSelect:\"none\",touchCallout:\"none\",contentZooming:\"none\",userDrag:\"none\",tapHighlightColor:\"rgba(0,0,0,0)\"}};function La(e,t){var n,i=e.element;i.style&&(Ko(e.options.cssProps,(function(r,o){n=Uo(i.style,o),t?(e.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=e.oldCssProps[n]||\"\"})),t||(e.oldCssProps={}))}var $a=function(){function e(e,t){var n=this;this.options=Ro({},Ba,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=function(e){var t=e.options.inputClass;return new(t||(Xo?xa:Zo?Sa:Go?Fa:Ca))(e,da)}(this),this.touchAction=new na(this,this.options.touchAction),La(this,!0),Ko(this.options.recognizers,(function(e){var t=n.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}var t=e.prototype;return t.set=function(e){return Ro(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},t.stop=function(e){this.session.stopped=e?2:1},t.recognize=function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,i=this.recognizers,r=t.curRecognizer;(!r||r&&8&r.state)&&(t.curRecognizer=null,r=null);for(var o=0;o<i.length;)n=i[o],2===t.stopped||r&&n!==r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&14&n.state&&(t.curRecognizer=n,r=n),o++}},t.get=function(e){if(e instanceof Ia)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event===e)return t[n];return null},t.add=function(e){if(Pa(e,\"add\",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},t.remove=function(e){if(Pa(e,\"remove\",this))return this;var t=this.get(e);if(e){var n=this.recognizers,i=va(n,t);-1!==i&&(n.splice(i,1),this.touchAction.update())}return this},t.on=function(e,t){if(void 0===e||void 0===t)return this;var n=this.handlers;return Ko(ha(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this},t.off=function(e,t){if(void 0===e)return this;var n=this.handlers;return Ko(ha(e),(function(e){t?n[e]&&n[e].splice(va(n[e],t),1):delete n[e]})),this},t.emit=function(e,t){this.options.domEvents&&function(e,t){var n=document.createEvent(\"Event\");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},t.destroy=function(){this.element&&La(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},e}(),Wa={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Ua=function(e){function t(){var n,i=t.prototype;return i.evTarget=\"touchstart\",i.evWin=\"touchstart touchmove touchend touchcancel\",(n=e.apply(this,arguments)||this).started=!1,n}return No(t,e),t.prototype.handler=function(e){var t=Wa[e.type];if(1===t&&(this.started=!0),this.started){var n=Ya.call(this,e,t);12&t&&0==n[0].length-n[1].length&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:\"touch\",srcEvent:e})}},t}(ma);function Ya(e,t){var n=ka(e.touches),i=ka(e.changedTouches);return 12&t&&(n=Oa(n.concat(i),\"identifier\",!0)),[n,i]}var Ha=function(e){function t(t){return void 0===t&&(t={}),e.call(this,Po({pointers:1},t))||this}No(t,e);var n=t.prototype;return n.attrTest=function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},n.process=function(e){var t=this.state,n=e.eventType,i=6&t,r=this.attrTest(e);return i&&(8&n||!r)?16|t:i||r?4&n?8|t:2&t?4|t:2:32},t}(Ia),qa=function(e){function t(t){var n;return void 0===t&&(t={}),(n=e.call(this,Po({event:\"tap\",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},t))||this).pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}No(t,e);var n=t.prototype;return n.getTouchAction=function(){return[\"manipulation\"]},n.process=function(e){var t=this,n=this.options,i=e.pointers.length===n.pointers,r=e.distance<n.threshold,o=e.deltaTime<n.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(r&&o&&i){if(4!==e.eventType)return this.failTimeout();var a=!this.pTime||e.timeStamp-this.pTime<n.interval,s=!this.pCenter||aa(this.pCenter,e.center)<n.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,s&&a?this.count+=1:this.count=1,this._input=e,0==this.count%n.taps)return this.hasRequireFailures()?(this._timer=setTimeout((function(){t.state=8,t.tryEmit()}),n.interval),2):8}return 32},n.failTimeout=function(){var e=this;return this._timer=setTimeout((function(){e.state=32}),this.options.interval),32},n.reset=function(){clearTimeout(this._timer)},n.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},t}(Ia);function Va(e){return 16===e?\"down\":8===e?\"up\":2===e?\"left\":4===e?\"right\":\"\"}var Ga=function(e){var t=Math.abs;function n(t){var n;return void 0===t&&(t={}),(n=e.call(this,Po({event:\"pan\",threshold:10,pointers:1,direction:30},t))||this).pX=null,n.pY=null,n}No(n,e);var i=n.prototype;return i.getTouchAction=function(){var e=this.options.direction,t=[];return 6&e&&t.push(\"pan-y\"),24&e&&t.push(\"pan-x\"),t},i.directionTest=function(e){var n=this.options,i=!0,r=e.distance,o=e.direction,a=e.deltaX,s=e.deltaY;return o&n.direction||(6&n.direction?(o=0===a?1:0>a?2:4,i=a!==this.pX,r=t(e.deltaX)):(o=0===s?1:0>s?8:16,i=s!==this.pY,r=t(e.deltaY))),e.direction=o,i&&r>n.threshold&&o&n.direction},i.attrTest=function(e){return Ha.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},i.emit=function(t){this.pX=t.deltaX,this.pY=t.deltaY;var n=Va(t.direction);n&&(t.additionalEvent=this.options.event+n),e.prototype.emit.call(this,t)},n}(Ha),Xa=function(e){function t(t){return void 0===t&&(t={}),e.call(this,Po({event:\"swipe\",threshold:10,velocity:.3,direction:30,pointers:1},t))||this}No(t,e);var n=t.prototype;return n.getTouchAction=function(){return Ga.prototype.getTouchAction.call(this)},n.attrTest=function(t){var n,i=this.options.direction;return 30&i?n=t.overallVelocity:6&i?n=t.overallVelocityX:24&i&&(n=t.overallVelocityY),e.prototype.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers===this.options.pointers&&$o(n)>this.options.velocity&&4&t.eventType},n.emit=function(e){var t=Va(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)},t}(Ha),Za=function(e){var t=Math.abs;function n(t){return void 0===t&&(t={}),e.call(this,Po({event:\"pinch\",threshold:0,pointers:2},t))||this}No(n,e);var i=n.prototype;return i.getTouchAction=function(){return[\"none\"]},i.attrTest=function(n){return e.prototype.attrTest.call(this,n)&&(t(n.scale-1)>this.options.threshold||2&this.state)},i.emit=function(t){if(1!==t.scale){var n=1>t.scale?\"in\":\"out\";t.additionalEvent=this.options.event+n}e.prototype.emit.call(this,t)},n}(Ha),Qa=function(e){var t=Math.abs;function n(t){return void 0===t&&(t={}),e.call(this,Po({event:\"rotate\",threshold:0,pointers:2},t))||this}No(n,e);var i=n.prototype;return i.getTouchAction=function(){return[\"none\"]},i.attrTest=function(n){return e.prototype.attrTest.call(this,n)&&(t(n.rotation)>this.options.threshold||2&this.state)},n}(Ha),Ja=function(e){function t(t){var n;return void 0===t&&(t={}),(n=e.call(this,Po({event:\"press\",pointers:1,time:251,threshold:9},t))||this)._timer=null,n._input=null,n}No(t,e);var n=t.prototype;return n.getTouchAction=function(){return[\"auto\"]},n.process=function(e){var t=this,n=this.options,i=e.pointers.length===n.pointers,r=e.distance<n.threshold,o=e.deltaTime>n.time;if(this._input=e,!r||!i||12&e.eventType&&!o)this.reset();else if(1&e.eventType)this.reset(),this._timer=setTimeout((function(){t.state=8,t.tryEmit()}),n.time);else if(4&e.eventType)return 8;return 32},n.reset=function(){clearTimeout(this._timer)},n.emit=function(e){8!==this.state||(e&&4&e.eventType?this.manager.emit(this.options.event+\"up\",e):(this._input.timeStamp=Wo(),this.manager.emit(this.options.event,this._input)))},t}(Ia);function Ka(e,t,n){return function(){var i=new Error(\"get-stack-trace\"),r=i&&i.stack?i.stack.replace(/^[^\\(]+?[\\n$]/gm,\"\").replace(/^\\s+at\\s+/gm,\"\").replace(/^Object.<anonymous>\\s*\\(/gm,\"{anonymous}()@\"):\"Unknown Stack Trace\",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,\"DEPRECATED METHOD: \"+t+\"\\n\"+n+\" AT \\n\",r),e.apply(this,arguments)}}var es=Ka((function(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;)(!n||n&&void 0===e[i[r]])&&(e[i[r]]=t[i[r]]),r++;return e}),\"extend\",\"Use `assign`.\"),ts=Ka((function(e,t){return es(e,t,!0)}),\"merge\",\"Use `assign`.\");function ns(e,t,n){var i,r=t.prototype;(i=e.prototype=Object.create(r)).constructor=e,i._super=r,n&&Ro(i,n)}function is(e,t){return function(){return e.apply(t,arguments)}}var rs=function(){var e=function(e,t){return void 0===t&&(t={}),new $a(e,Po({recognizers:[[Qa,{enable:!1}],[Za,{enable:!1},[\"rotate\"]],[Xa,{direction:6}],[Ga,{direction:6},[\"swipe\"]],[qa],[qa,{event:\"doubletap\",taps:2},[\"tap\"]],[Ja]]},t))};return e.VERSION=\"2.0.15\",e.DIRECTION_ALL=30,e.DIRECTION_DOWN=16,e.DIRECTION_LEFT=2,e.DIRECTION_RIGHT=4,e.DIRECTION_UP=8,e.DIRECTION_HORIZONTAL=6,e.DIRECTION_VERTICAL=24,e.DIRECTION_NONE=1,e.DIRECTION_DOWN=16,e.INPUT_START=1,e.INPUT_MOVE=2,e.INPUT_END=4,e.INPUT_CANCEL=8,e.STATE_POSSIBLE=1,e.STATE_BEGAN=2,e.STATE_CHANGED=4,e.STATE_ENDED=8,e.STATE_RECOGNIZED=8,e.STATE_CANCELLED=16,e.STATE_FAILED=32,e.Manager=$a,e.Input=ma,e.TouchAction=na,e.TouchInput=Sa,e.MouseInput=Ca,e.PointerEventInput=xa,e.TouchMouseInput=Fa,e.SingleTouchInput=Ua,e.Recognizer=Ia,e.AttrRecognizer=Ha,e.Tap=qa,e.Pan=Ga,e.Swipe=Xa,e.Pinch=Za,e.Rotate=Qa,e.Press=Ja,e.on=fa,e.off=pa,e.each=Ko,e.merge=ts,e.extend=es,e.bindFn=is,e.assign=Ro,e.inherit=ns,e.bindFn=is,e.prefixed=Uo,e.toArray=ka,e.inArray=va,e.uniqueArray=Oa,e.splitStr=ha,e.boolOrFn=ea,e.hasParent=ia,e.addEventListeners=fa,e.removeEventListeners=pa,e.defaults=Ba,e}(),os=Yr((function(e){if(\"undefined\"!=typeof window){var t=window.Hammer||rs;e.exports=t}else e.exports=function(){return function(){var e=function(){};return{on:e,off:e,destroy:e,emit:e,get:function(){return{set:e}}}}()}})),as=Object.freeze({default:os,__moduleExports:os});function ss(e){this.active=!1,this.dom={container:e},this.dom.overlay=document.createElement(\"div\"),this.dom.overlay.className=\"vis-overlay\",this.dom.container.appendChild(this.dom.overlay),this.hammer=os(this.dom.overlay),this.hammer.on(\"tap\",this._onTapOverlay.bind(this));var t=this;[\"tap\",\"doubletap\",\"press\",\"pinch\",\"pan\",\"panstart\",\"panmove\",\"panend\"].forEach((function(e){t.hammer.on(e,(function(e){e.stopPropagation()}))})),document&&document.body&&(this.onClick=function(n){(function(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1})(n.target,e)||t.deactivate()},document.body.addEventListener(\"click\",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=Ao(),this.escListener=this.deactivate.bind(this)}!function(e){e&&e.default}(To),Hr(ss.prototype),ss.current=null,ss.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener(\"click\",this.onClick),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=null,this.hammer.destroy(),this.hammer=null},ss.prototype.activate=function(){ss.current&&ss.current.deactivate(),ss.current=this,this.active=!0,this.dom.overlay.style.display=\"none\",Ji.addClassName(this.dom.container,\"vis-active\"),this.emit(\"change\"),this.emit(\"activate\"),this.keycharm.bind(\"esc\",this.escListener)},ss.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display=\"\",Ji.removeClassName(this.dom.container,\"vis-active\"),this.keycharm.unbind(\"esc\",this.escListener),this.emit(\"change\"),this.emit(\"deactivate\")},ss.prototype._onTapOverlay=function(e){this.activate(),e.stopPropagation()};var ls=ss,us=Yr((function(e,t){t.en={edit:\"Edit\",del:\"Delete selected\",back:\"Back\",addNode:\"Add Node\",addEdge:\"Add Edge\",editNode:\"Edit Node\",editEdge:\"Edit Edge\",addDescription:\"Click in an empty space to place a new node.\",edgeDescription:\"Click on a node and drag the edge to another node to connect them.\",editEdgeDescription:\"Click on the control points and drag them to a node to connect to it.\",createEdgeError:\"Cannot link edges to a cluster.\",deleteClusterError:\"Clusters cannot be deleted.\",editClusterError:\"Clusters cannot be edited.\"},t.en_EN=t.en,t.en_US=t.en,t.de={edit:\"Editieren\",del:\"Lösche Auswahl\",back:\"Zurück\",addNode:\"Knoten hinzufügen\",addEdge:\"Kante hinzufügen\",editNode:\"Knoten editieren\",editEdge:\"Kante editieren\",addDescription:\"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.\",edgeDescription:\"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.\",editEdgeDescription:\"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.\",createEdgeError:\"Es ist nicht möglich, Kanten mit Clustern zu verbinden.\",deleteClusterError:\"Cluster können nicht gelöscht werden.\",editClusterError:\"Cluster können nicht editiert werden.\"},t.de_DE=t.de,t.es={edit:\"Editar\",del:\"Eliminar selección\",back:\"Atrás\",addNode:\"Añadir nodo\",addEdge:\"Añadir arista\",editNode:\"Editar nodo\",editEdge:\"Editar arista\",addDescription:\"Haga clic en un lugar vacío para colocar un nuevo nodo.\",edgeDescription:\"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.\",editEdgeDescription:\"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.\",createEdgeError:\"No se puede conectar una arista a un grupo.\",deleteClusterError:\"No es posible eliminar grupos.\",editClusterError:\"No es posible editar grupos.\"},t.es_ES=t.es,t.it={edit:\"Modifica\",del:\"Cancella la selezione\",back:\"Indietro\",addNode:\"Aggiungi un nodo\",addEdge:\"Aggiungi un vertice\",editNode:\"Modifica il nodo\",editEdge:\"Modifica il vertice\",addDescription:\"Clicca per aggiungere un nuovo nodo\",edgeDescription:\"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.\",editEdgeDescription:\"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.\",createEdgeError:\"Non si possono collegare vertici ad un cluster\",deleteClusterError:\"I cluster non possono essere cancellati\",editClusterError:\"I clusters non possono essere modificati.\"},t.it_IT=t.it,t.nl={edit:\"Wijzigen\",del:\"Selectie verwijderen\",back:\"Terug\",addNode:\"Node toevoegen\",addEdge:\"Link toevoegen\",editNode:\"Node wijzigen\",editEdge:\"Link wijzigen\",addDescription:\"Klik op een leeg gebied om een nieuwe node te maken.\",edgeDescription:\"Klik op een node en sleep de link naar een andere node om ze te verbinden.\",editEdgeDescription:\"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.\",createEdgeError:\"Kan geen link maken naar een cluster.\",deleteClusterError:\"Clusters kunnen niet worden verwijderd.\",editClusterError:\"Clusters kunnen niet worden aangepast.\"},t.nl_NL=t.nl,t.nl_BE=t.nl,t[\"pt-br\"]={edit:\"Editar\",del:\"Remover selecionado\",back:\"Voltar\",addNode:\"Adicionar nó\",addEdge:\"Adicionar aresta\",editNode:\"Editar nó\",editEdge:\"Editar aresta\",addDescription:\"Clique em um espaço em branco para adicionar um novo nó\",edgeDescription:\"Clique em um nó e arraste a aresta até outro nó para conectá-los\",editEdgeDescription:\"Clique nos pontos de controle e os arraste para um nó para conectá-los\",createEdgeError:\"Não foi possível linkar arestas a um cluster.\",deleteClusterError:\"Clusters não puderam ser removidos.\",editClusterError:\"Clusters não puderam ser editados.\"},t[\"pt-BR\"]=t[\"pt-br\"],t.pt_BR=t[\"pt-br\"],t.pt_br=t[\"pt-br\"],t.ru={edit:\"Редактировать\",del:\"Удалить выбранное\",back:\"Назад\",addNode:\"Добавить узел\",addEdge:\"Добавить ребро\",editNode:\"Редактировать узел\",editEdge:\"Редактировать ребро\",addDescription:\"Кликните в свободное место, чтобы добавить новый узел.\",edgeDescription:\"Кликните на узел и протяните ребро к другому узлу, чтобы соединить их.\",editEdgeDescription:\"Кликните на контрольные точки и перетащите их в узел, чтобы подключиться к нему.\",createEdgeError:\"Невозможно соединить ребра в кластер.\",deleteClusterError:\"Кластеры не могут быть удалены\",editClusterError:\"Кластеры недоступны для редактирования.\"},t.ru_RU=t.ru,t.cn={edit:\"编辑\",del:\"删除选定\",back:\"返回\",addNode:\"添加节点\",addEdge:\"添加连接线\",editNode:\"编辑节点\",editEdge:\"编辑连接线\",addDescription:\"单击空白处放置新节点。\",edgeDescription:\"单击某个节点并将该连接线拖动到另一个节点以连接它们。\",editEdgeDescription:\"单击控制节点并将它们拖到节点上连接。\",createEdgeError:\"无法将连接线连接到群集。\",deleteClusterError:\"无法删除群集。\",editClusterError:\"无法编辑群集。\"},t.zh_CN=t.cn,t.uk={edit:\"Редагувати\",del:\"Видалити обране\",back:\"Назад\",addNode:\"Додати вузол\",addEdge:\"Додати край\",editNode:\"Редагувати вузол\",editEdge:\"Редагувати край\",addDescription:\"Kлікніть на вільне місце, щоб додати новий вузол.\",edgeDescription:\"Клікніть на вузол і перетягніть край до іншого вузла, щоб їх з'єднати.\",editEdgeDescription:\"Клікніть на контрольні точки і перетягніть їх у вузол, щоб підключитися до нього.\",createEdgeError:\"Не можливо об'єднати краї в групу.\",deleteClusterError:\"Групи не можуть бути видалені.\",editClusterError:\"Групи недоступні для редагування.\"},t.uk_UA=t.uk,t.fr={edit:\"Editer\",del:\"Effacer la selection\",back:\"Retour\",addNode:\"Ajouter un noeud\",addEdge:\"Ajouter un lien\",editNode:\"Editer le noeud\",editEdge:\"Editer le lien\",addDescription:\"Cliquez dans un endroit vide pour placer un noeud.\",edgeDescription:\"Cliquez sur un noeud et glissez le lien vers un autre noeud pour les connecter.\",editEdgeDescription:\"Cliquez sur les points de contrôle et glissez-les pour connecter un noeud.\",createEdgeError:\"Impossible de créer un lien vers un cluster.\",deleteClusterError:\"Les clusters ne peuvent pas être éffacés.\",editClusterError:\"Les clusters ne peuvent pas être édites.\"},t.fr_FR=t.fr,t.cs={edit:\"Upravit\",del:\"Smazat výběr\",back:\"Zpět\",addNode:\"Přidat vrchol\",addEdge:\"Přidat hranu\",editNode:\"Upravit vrchol\",editEdge:\"Upravit hranu\",addDescription:\"Kluknutím do prázdného prostoru můžete přidat nový vrchol.\",edgeDescription:\"Přetažením z jednoho vrcholu do druhého můžete spojit tyto vrcholy novou hranou.\",editEdgeDescription:\"Přetažením kontrolního vrcholu hrany ji můžete připojit k jinému vrcholu.\",createEdgeError:\"Nelze připojit hranu ke shluku.\",deleteClusterError:\"Nelze mazat shluky.\",editClusterError:\"Nelze upravovat shluky.\"},t.cs_CZ=t.cs}));var cs=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")};function ds(e,t){for(var n,i=0;i<t.length;i++)(n=t[i]).enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}var hs=function(e,t,n){return t&&ds(e.prototype,t),n&&ds(e,n),e},fs=function(){var e=Math.floor;function t(){cs(this,t),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement(\"canvas\")}return hs(t,[{key:\"init\",value:function(){if(!this.initialized()){this.src=this.image.src;var t=this.image.width,n=this.image.height;this.width=t,this.height=n;var i=e(n/2),r=e(n/4),o=e(n/8),a=e(n/16),s=e(t/2),l=e(t/4),u=e(t/8),c=e(t/16);this.canvas.width=3*l,this.canvas.height=i,this.coordinates=[[0,0,s,i],[s,0,l,r],[s,r,u,o],[5*u,r,c,a]],this._fillMipMap()}}},{key:\"initialized\",value:function(){return void 0!==this.coordinates}},{key:\"_fillMipMap\",value:function(){var e=this.canvas.getContext(\"2d\"),t=this.coordinates[0];e.drawImage(this.image,t[0],t[1],t[2],t[3]);for(var n=1;n<this.NUM_ITERATIONS;n++){var i=this.coordinates[n-1],r=this.coordinates[n];e.drawImage(this.canvas,i[0],i[1],i[2],i[3],r[0],r[1],r[2],r[3])}}},{key:\"drawImageAtPosition\",value:function(e,t,n,i,r,o){if(this.initialized())if(2<t){t*=.5;for(var a=0;2<t&&a<this.NUM_ITERATIONS;)t*=.5,a+=1;a>=this.NUM_ITERATIONS&&(a=this.NUM_ITERATIONS-1);var s=this.coordinates[a];e.drawImage(this.canvas,s[0],s[1],s[2],s[3],n,i,r,o)}else e.drawImage(this.image,n,i,r,o)}}]),t}(),ps=function(){function e(t){cs(this,e),this.images={},this.imageBroken={},this.callback=t}return hs(e,[{key:\"_tryloadBrokenUrl\",value:function(e,t,n){return void 0===e||void 0===n?void 0:void 0===t?void console.warn(\"No broken url image defined\"):(n.image.onerror=function(){console.error(\"Could not load brokenImage:\",t)},void(n.image.src=t))}},{key:\"_redrawWithImage\",value:function(e){this.callback&&this.callback(e)}},{key:\"load\",value:function(e,t){var n=this,i=this.images[e];if(i)return i;var r=new fs;return this.images[e]=r,r.image.onload=function(){n._fixImageCoordinates(r.image),r.init(),n._redrawWithImage(r)},r.image.onerror=function(){console.error(\"Could not load image:\",e),n._tryloadBrokenUrl(e,t,r)},r.image.src=e,r}},{key:\"_fixImageCoordinates\",value:function(e){0===e.width&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}]),e}(),gs=function(){function e(){cs(this,e),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:\"#2B7CE9\",background:\"#97C2FC\",highlight:{border:\"#2B7CE9\",background:\"#D2E5FF\"},hover:{border:\"#2B7CE9\",background:\"#D2E5FF\"}},{border:\"#FFA500\",background:\"#FFFF00\",highlight:{border:\"#FFA500\",background:\"#FFFFA3\"},hover:{border:\"#FFA500\",background:\"#FFFFA3\"}},{border:\"#FA0A10\",background:\"#FB7E81\",highlight:{border:\"#FA0A10\",background:\"#FFAFB1\"},hover:{border:\"#FA0A10\",background:\"#FFAFB1\"}},{border:\"#41A906\",background:\"#7BE141\",highlight:{border:\"#41A906\",background:\"#A1EC76\"},hover:{border:\"#41A906\",background:\"#A1EC76\"}},{border:\"#E129F0\",background:\"#EB7DF4\",highlight:{border:\"#E129F0\",background:\"#F0B3F5\"},hover:{border:\"#E129F0\",background:\"#F0B3F5\"}},{border:\"#7C29F0\",background:\"#AD85E4\",highlight:{border:\"#7C29F0\",background:\"#D3BDF0\"},hover:{border:\"#7C29F0\",background:\"#D3BDF0\"}},{border:\"#C37F00\",background:\"#FFA807\",highlight:{border:\"#C37F00\",background:\"#FFCA66\"},hover:{border:\"#C37F00\",background:\"#FFCA66\"}},{border:\"#4220FB\",background:\"#6E6EFD\",highlight:{border:\"#4220FB\",background:\"#9B9BFD\"},hover:{border:\"#4220FB\",background:\"#9B9BFD\"}},{border:\"#FD5A77\",background:\"#FFC0CB\",highlight:{border:\"#FD5A77\",background:\"#FFD1D9\"},hover:{border:\"#FD5A77\",background:\"#FFD1D9\"}},{border:\"#4AD63A\",background:\"#C2FABC\",highlight:{border:\"#4AD63A\",background:\"#E6FFE3\"},hover:{border:\"#4AD63A\",background:\"#E6FFE3\"}},{border:\"#990000\",background:\"#EE0000\",highlight:{border:\"#BB0000\",background:\"#FF3333\"},hover:{border:\"#BB0000\",background:\"#FF3333\"}},{border:\"#FF6000\",background:\"#FF6000\",highlight:{border:\"#FF6000\",background:\"#FF6000\"},hover:{border:\"#FF6000\",background:\"#FF6000\"}},{border:\"#97C2FC\",background:\"#2B7CE9\",highlight:{border:\"#D2E5FF\",background:\"#2B7CE9\"},hover:{border:\"#D2E5FF\",background:\"#2B7CE9\"}},{border:\"#399605\",background:\"#255C03\",highlight:{border:\"#399605\",background:\"#255C03\"},hover:{border:\"#399605\",background:\"#255C03\"}},{border:\"#B70054\",background:\"#FF007E\",highlight:{border:\"#B70054\",background:\"#FF007E\"},hover:{border:\"#B70054\",background:\"#FF007E\"}},{border:\"#AD85E4\",background:\"#7C29F0\",highlight:{border:\"#D3BDF0\",background:\"#7C29F0\"},hover:{border:\"#D3BDF0\",background:\"#7C29F0\"}},{border:\"#4557FA\",background:\"#000EA1\",highlight:{border:\"#6E6EFD\",background:\"#000EA1\"},hover:{border:\"#6E6EFD\",background:\"#000EA1\"}},{border:\"#FFC0CB\",background:\"#FD5A77\",highlight:{border:\"#FFD1D9\",background:\"#FD5A77\"},hover:{border:\"#FFD1D9\",background:\"#FD5A77\"}},{border:\"#C2FABC\",background:\"#74D66A\",highlight:{border:\"#E6FFE3\",background:\"#74D66A\"},hover:{border:\"#E6FFE3\",background:\"#74D66A\"}},{border:\"#EE0000\",background:\"#990000\",highlight:{border:\"#FF3333\",background:\"#BB0000\"},hover:{border:\"#FF3333\",background:\"#BB0000\"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},Ji.extend(this.options,this.defaultOptions)}return hs(e,[{key:\"setOptions\",value:function(e){var t=[\"useDefaultGroups\"];if(void 0!==e)for(var n in e)if(e.hasOwnProperty(n)&&-1===t.indexOf(n)){var i=e[n];this.add(n,i)}}},{key:\"clear\",value:function(){this.groups={},this.groupsArray=[]}},{key:\"get\",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this.groups[e];if(void 0===n&&t)if(!1===this.options.useDefaultGroups&&0<this.groupsArray.length){var i=this.groupIndex%this.groupsArray.length;this.groupIndex++,(n={}).color=this.groups[this.groupsArray[i]],this.groups[e]=n}else{var r=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,(n={}).color=this.defaultGroups[r],this.groups[e]=n}return n}},{key:\"add\",value:function(e,t){return this.groups[e]=t,this.groupsArray.push(e),t}}]),e}();var ms=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e};var vs=function(e){if(Array.isArray(e))return e};var ys=function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n};var bs=function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")};var _s=function(e,t){return vs(e)||ys(e,t)||bs()},ws=Yr((function(e){function t(e){return(t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function n(i){return e.exports=n=\"function\"==typeof Symbol&&\"symbol\"===t(Symbol.iterator)?function(e){return t(e)}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":t(e)},n(i)}e.exports=n})),xs=function(){var e=Math.cos,t=Math.sin;function n(){cs(this,n)}return hs(n,null,[{key:\"choosify\",value:function(e,t){var n=[\"node\",\"edge\",\"label\"],i=!0,r=Ji.topMost(t,\"chosen\");if(\"boolean\"==typeof r)i=r;else if(\"object\"===ws(r)){if(-1===n.indexOf(e))throw new Error(\"choosify: subOption '\"+e+\"' should be one of '\"+n.join(\"', '\")+\"'\");var o=Ji.topMost(t,[\"chosen\",e]);(\"boolean\"==typeof o||\"function\"==typeof o)&&(i=o)}return i}},{key:\"pointInRect\",value:function(n,i,r){if(0>=n.width||0>=n.height)return!1;if(void 0!==r){var o={x:i.x-r.x,y:i.y-r.y};if(0!==r.angle){var a=-r.angle;i={x:e(a)*o.x-t(a)*o.y,y:t(a)*o.x+e(a)*o.y}}else i=o}var s=n.x+n.width,l=n.y+n.width;return n.left<i.x&&s>i.x&&n.top<i.y&&l>i.y}},{key:\"isValidLabel\",value:function(e){return\"string\"==typeof e&&\"\"!==e}}]),n}(),ks=function(){function e(t){cs(this,e),this.measureText=t,this.current=0,this.width=0,this.height=0,this.lines=[]}return hs(e,[{key:\"_add\",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:\"normal\";void 0===this.lines[e]&&(this.lines[e]={width:0,height:0,blocks:[]});var i=t;(void 0===t||\"\"===t)&&(i=\" \");var r=this.measureText(i,n),o=Object.assign({},r.values);o.text=t,o.width=r.width,o.mod=n,(void 0===t||\"\"===t)&&(o.width=0),this.lines[e].blocks.push(o),this.lines[e].width+=o.width}},{key:\"curWidth\",value:function(){var e=this.lines[this.current];return void 0===e?0:e.width}},{key:\"append\",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:\"normal\";this._add(this.current,e,t)}},{key:\"newLine\",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:\"normal\";this._add(this.current,e,t),this.current++}},{key:\"determineLineHeights\",value:function(){for(var e=0;e<this.lines.length;e++){var t=this.lines[e],n=0;if(void 0!==t.blocks)for(var i,r=0;r<t.blocks.length;r++)n<(i=t.blocks[r]).height&&(n=i.height);t.height=n}}},{key:\"determineLabelSize\",value:function(){for(var e,t=0,n=0,i=0;i<this.lines.length;i++)(e=this.lines[i]).width>t&&(t=e.width),n+=e.height;this.width=t,this.height=n}},{key:\"removeEmptyBlocks\",value:function(){for(var e,t=[],n=0;n<this.lines.length;n++)if(0!==(e=this.lines[n]).blocks.length){if(n==this.lines.length-1&&0===e.width)continue;var i={};Object.assign(i,e),i.blocks=[];for(var r,o=void 0,a=[],s=0;s<e.blocks.length;s++)0===(r=e.blocks[s]).width?void 0===o&&(o=r):a.push(r);0===a.length&&void 0!==o&&a.push(o),i.blocks=a,t.push(i)}return t}},{key:\"finalize\",value:function(){this.determineLineHeights(),this.determineLabelSize();var e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}]),e}(),Os={\"<b>\":/<b>/,\"<i>\":/<i>/,\"<code>\":/<code>/,\"</b>\":/<\\/b>/,\"</i>\":/<\\/i>/,\"</code>\":/<\\/code>/,\"*\":/\\*/,_:/\\_/,\"`\":/`/,afterBold:/[^\\*]/,afterItal:/[^_]/,afterMono:/[^`]/},Es=function(){function e(t){cs(this,e),this.text=t,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer=\"\",this.modStack=[],this.blocks=[]}return hs(e,[{key:\"mod\",value:function(){return 0===this.modStack.length?\"normal\":this.modStack[0]}},{key:\"modName\",value:function(){return 0===this.modStack.length?\"normal\":\"mono\"===this.modStack[0]?\"mono\":this.bold&&this.ital?\"boldital\":this.bold?\"bold\":this.ital?\"ital\":void 0}},{key:\"emitBlock\",value:function(){this.spacing&&(this.add(\" \"),this.spacing=!1),0<this.buffer.length&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer=\"\")}},{key:\"add\",value:function(e){\" \"===e&&(this.spacing=!0),this.spacing&&(this.buffer+=\" \",this.spacing=!1),\" \"!=e&&(this.buffer+=e)}},{key:\"parseWS\",value:function(e){return!!/[ \\t]/.test(e)&&(this.mono?this.add(e):this.spacing=!0,!0)}},{key:\"setTag\",value:function(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}},{key:\"unsetTag\",value:function(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}},{key:\"parseStartTag\",value:function(e,t){return!(this.mono||this[e]||!this.match(t)||(this.setTag(e),0))}},{key:\"match\",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this.prepareRegExp(e),i=_s(n,2),r=i[0],o=i[1],a=r.test(this.text.substr(this.position,o));return a&&t&&(this.position+=o-1),a}},{key:\"parseEndTag\",value:function(e,t,n){var i=this.mod()===e;return!(!(i=\"mono\"===e?i&&this.mono:i&&!this.mono)||!this.match(t)||((void 0===n||this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e),0))}},{key:\"replace\",value:function(e,t){return!!this.match(e)&&(this.add(t),this.position+=length-1,!0)}},{key:\"prepareRegExp\",value:function(e){var t,n;if(e instanceof RegExp)n=e,t=1;else{var i=Os[e];n=void 0===i?new RegExp(e):i,t=e.length}return[n,t]}}]),e}(),Ss=function(){function e(t,n,i,r){var o=this;cs(this,e),this.ctx=t,this.parent=n,this.selected=i,this.hover=r,this.lines=new ks((function(e,n){if(void 0===e)return 0;var a=o.parent.getFormattingValues(t,i,r,n),s=0;\"\"!==e&&(s=o.ctx.measureText(e).width);return{width:s,values:a}}))}return hs(e,[{key:\"process\",value:function(e){if(!xs.isValidLabel(e))return this.lines.finalize();var t=this.parent.fontOptions,n=((e=(e=e.replace(/\\r\\n/g,\"\\n\")).replace(/\\r/g,\"\\n\"))+\"\").split(\"\\n\"),i=n.length;if(t.multi){for(var r,o=0;o<i;o++)if(void 0!==(r=this.splitBlocks(n[o],t.multi))){if(0===r.length){this.lines.newLine(\"\");continue}if(0<t.maxWdt)for(var a=0;a<r.length;a++){var s=r[a].mod,l=r[a].text;this.splitStringIntoLines(l,s,!0)}else for(var u=0;u<r.length;u++){var c=r[u].mod,d=r[u].text;this.lines.append(d,c)}this.lines.newLine()}}else if(0<t.maxWdt)for(var h=0;h<i;h++)this.splitStringIntoLines(n[h]);else for(var f=0;f<i;f++)this.lines.newLine(n[f]);return this.lines.finalize()}},{key:\"decodeMarkupSystem\",value:function(e){var t=\"none\";return\"markdown\"===e||\"md\"===e?t=\"markdown\":(!0===e||\"html\"===e)&&(t=\"html\"),t}},{key:\"splitHtmlBlocks\",value:function(e){for(var t=new Es(e),n=function(e){return!!/&/.test(e)&&(t.replace(t.text,\"&lt;\",\"<\")||t.replace(t.text,\"&amp;\",\"&\")||t.add(\"&\"),!0)};t.position<t.text.length;){var i=t.text.charAt(t.position);t.parseWS(i)||/</.test(i)&&(t.parseStartTag(\"bold\",\"<b>\")||t.parseStartTag(\"ital\",\"<i>\")||t.parseStartTag(\"mono\",\"<code>\")||t.parseEndTag(\"bold\",\"</b>\")||t.parseEndTag(\"ital\",\"</i>\")||t.parseEndTag(\"mono\",\"</code>\"))||n(i)||t.add(i),t.position++}return t.emitBlock(),t.blocks}},{key:\"splitMarkdownBlocks\",value:function(e){for(var t=this,n=new Es(e),i=!0,r=function(e){return!!/\\\\/.test(e)&&(n.position<t.text.length+1&&(n.position++,e=t.text.charAt(n.position),/ \\t/.test(e)?n.spacing=!0:(n.add(e),i=!1)),!0)};n.position<n.text.length;){var o=n.text.charAt(n.position);n.parseWS(o)||r(o)||(i||n.spacing)&&(n.parseStartTag(\"bold\",\"*\")||n.parseStartTag(\"ital\",\"_\")||n.parseStartTag(\"mono\",\"`\"))||n.parseEndTag(\"bold\",\"*\",\"afterBold\")||n.parseEndTag(\"ital\",\"_\",\"afterItal\")||n.parseEndTag(\"mono\",\"`\",\"afterMono\")||(n.add(o),i=!1),n.position++}return n.emitBlock(),n.blocks}},{key:\"splitBlocks\",value:function(e,t){var n=this.decodeMarkupSystem(t);return\"none\"===n?[{text:e,mod:\"normal\"}]:\"markdown\"===n?this.splitMarkdownBlocks(e):\"html\"===n?this.splitHtmlBlocks(e):void 0}},{key:\"overMaxWidth\",value:function(e){var t=this.ctx.measureText(e).width;return this.lines.curWidth()+t>this.parent.fontOptions.maxWdt}},{key:\"getLongestFit\",value:function(e){for(var t=\"\",n=0;n<e.length;){var i=t+(\"\"===t?\"\":\" \")+e[n];if(this.overMaxWidth(i))break;t=i,n++}return n}},{key:\"getLongestFitWord\",value:function(e){for(var t=0;t<e.length&&!this.overMaxWidth(e.slice(0,t));)t++;return t}},{key:\"splitStringIntoLines\",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:\"normal\",n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,t);for(var i,r=(e=(e=e.replace(/^( +)/g,\"$1\\r\")).replace(/([^\\r][^ ]*)( +)/g,\"$1\\r$2\\r\")).split(\"\\r\");0<r.length;)if(0===(i=this.getLongestFit(r))){var o=r[0],a=this.getLongestFitWord(o);this.lines.newLine(o.slice(0,a),t),r[0]=o.slice(a)}else{var s=i;\" \"===r[i-1]?i--:\" \"===r[s]&&s++;var l=r.slice(0,i).join(\"\");i==r.length&&n?this.lines.append(l,t):this.lines.newLine(l,t),r=r.slice(s)}}}]),e}(),Ds=[\"bold\",\"ital\",\"boldital\",\"mono\"],js=function(){var e=Math.max,t=Math.min;function n(e,t){var i=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];cs(this,n),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(t),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=i}return hs(n,[{key:\"setOptions\",value:function(e){if(this.elementOptions=e,this.initFontOptions(e.font),xs.isValidLabel(e.label)?this.labelDirty=!0:e.label=void 0,void 0!==e.font&&null!==e.font)if(\"string\"==typeof e.font)this.baseSize=this.fontOptions.size;else if(\"object\"===ws(e.font)){var t=e.font.size;void 0!==t&&(this.baseSize=t)}}},{key:\"initFontOptions\",value:function(e){var t=this;return Ji.forEach(Ds,(function(e){t.fontOptions[e]={}})),n.parseFontString(this.fontOptions,e)?void(this.fontOptions.vadjust=0):void Ji.forEach(e,(function(e,n){null!=e&&\"object\"!==ws(e)&&(t.fontOptions[n]=e)}))}},{key:\"constrain\",value:function(e){var t={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:\"middle\"},n=Ji.topMost(e,\"widthConstraint\");if(\"number\"==typeof n)t.maxWdt=+n,t.minWdt=+n;else if(\"object\"===ws(n)){var i=Ji.topMost(e,[\"widthConstraint\",\"maximum\"]);\"number\"==typeof i&&(t.maxWdt=+i);var r=Ji.topMost(e,[\"widthConstraint\",\"minimum\"]);\"number\"==typeof r&&(t.minWdt=+r)}var o=Ji.topMost(e,\"heightConstraint\");if(\"number\"==typeof o)t.minHgt=+o;else if(\"object\"===ws(o)){var a=Ji.topMost(e,[\"heightConstraint\",\"minimum\"]);\"number\"==typeof a&&(t.minHgt=+a);var s=Ji.topMost(e,[\"heightConstraint\",\"valign\"]);\"string\"==typeof s&&(\"top\"===s||\"bottom\"===s)&&(t.valign=s)}return t}},{key:\"update\",value:function(e,t){this.setOptions(e,!0),this.propagateFonts(t),Ji.deepExtend(this.fontOptions,this.constrain(t)),this.fontOptions.chooser=xs.choosify(\"label\",t)}},{key:\"adjustSizes\",value:function(e){var t=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=t,this.fontOptions.minWdt-=t);var n=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}},{key:\"addFontOptionsToPile\",value:function(e,t){for(var n=0;n<t.length;++n)this.addFontToPile(e,t[n])}},{key:\"addFontToPile\",value:function(e,t){if(void 0!==t&&void 0!==t.font&&null!==t.font){var n=t.font;e.push(n)}}},{key:\"getBasicOptions\",value:function(e){for(var t={},i=0;i<e.length;++i){var r=e[i],o={};n.parseFontString(o,r)&&(r=o),Ji.forEach(r,(function(e,n){void 0===e||t.hasOwnProperty(n)||(-1===Ds.indexOf(n)?t[n]=e:t[n]={})}))}return t}},{key:\"getFontOption\",value:function(e,t,i){for(var r,o,a=0;a<e.length;++a)if((o=e[a]).hasOwnProperty(t)){if(null==(r=o[t]))continue;var s={};if(n.parseFontString(s,r)&&(r=s),r.hasOwnProperty(i))return r[i]}if(this.fontOptions.hasOwnProperty(i))return this.fontOptions[i];throw new Error(\"Did not find value for multi-font for property: '\"+i+\"'\")}},{key:\"getFontOptions\",value:function(e,t){for(var n,i={},r=[\"color\",\"size\",\"face\",\"mod\",\"vadjust\"],o=0;o<r.length;++o)i[n=r[o]]=this.getFontOption(e,t,n);return i}},{key:\"propagateFonts\",value:function(e){var t=this,n=[];this.addFontOptionsToPile(n,e),this.fontOptions=this.getBasicOptions(n);for(var i=function(e){var i=Ds[e],r=t.fontOptions[i],o=t.getFontOptions(n,i);Ji.forEach(o,(function(e,t){r[t]=e})),r.size=+r.size,r.vadjust=+r.vadjust},r=0;r<Ds.length;++r)i(r)}},{key:\"draw\",value:function(e,t,n,i,r){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:\"middle\";if(void 0!==this.elementOptions.label){var a=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&a<this.elementOptions.scaling.label.drawThreshold-1||(a>=this.elementOptions.scaling.label.maxVisible&&(a=+this.elementOptions.scaling.label.maxVisible/this.body.view.scale),this.calculateLabelSize(e,i,r,t,n,o),this._drawBackground(e),this._drawText(e,t,this.size.yLine,o,a))}}},{key:\"_drawBackground\",value:function(e){if(void 0!==this.fontOptions.background&&\"none\"!==this.fontOptions.background){e.fillStyle=this.fontOptions.background;var t=this.getSize();e.fillRect(t.left,t.top,t.width,t.height)}}},{key:\"_drawText\",value:function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:\"middle\",r=4<arguments.length?arguments[4]:void 0,o=this._setAlignment(e,t,n,i),a=_s(o,2);t=a[0],n=a[1],e.textAlign=\"left\",t-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(\"top\"===this.fontOptions.valign&&(n-=(this.size.height-this.size.labelHeight)/2),\"bottom\"===this.fontOptions.valign&&(n+=(this.size.height-this.size.labelHeight)/2));for(var s,l=0;l<this.lineCount;l++)if((s=this.lines[l])&&s.blocks){var u=0;this.isEdgeLabel||\"center\"===this.fontOptions.align?u+=(this.size.width-s.width)/2:\"right\"===this.fontOptions.align&&(u+=this.size.width-s.width);for(var c,d=0;d<s.blocks.length;d++){c=s.blocks[d],e.font=c.font;var h=this._getColor(c.color,r,c.strokeColor),f=_s(h,2),p=f[0],g=f[1];0<c.strokeWidth&&(e.lineWidth=c.strokeWidth,e.strokeStyle=g,e.lineJoin=\"round\"),e.fillStyle=p,0<c.strokeWidth&&e.strokeText(c.text,t+u,n+c.vadjust),e.fillText(c.text,t+u,n+c.vadjust),u+=c.width}n+=s.height}}},{key:\"_setAlignment\",value:function(e,t,n,i){return this.isEdgeLabel&&\"horizontal\"!==this.fontOptions.align&&!1===this.pointToSelf?(t=0,n=0,\"top\"===this.fontOptions.align?(e.textBaseline=\"alphabetic\",n-=4):\"bottom\"===this.fontOptions.align?(e.textBaseline=\"hanging\",n+=4):e.textBaseline=\"middle\"):e.textBaseline=i,[t,n]}},{key:\"_getColor\",value:function(n,i,r){var o=n||\"#000000\",a=r||\"#ffffff\";if(i<=this.elementOptions.scaling.label.drawThreshold){var s=e(0,t(1,1-(this.elementOptions.scaling.label.drawThreshold-i)));o=Ji.overrideOpacity(o,s),a=Ji.overrideOpacity(a,s)}return[o,a]}},{key:\"getTextSize\",value:function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return this._processLabel(e,t,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:\"getSize\",value:function(){var e=this.size.left,t=this.size.top-1;if(this.isEdgeLabel){var n=.5*-this.size.width;switch(this.fontOptions.align){case\"middle\":e=n,t=.5*-this.size.height;break;case\"top\":e=n,t=-(this.size.height+2);break;case\"bottom\":e=n,t=2}}return{left:e,top:t,width:this.size.width,height:this.size.height}}},{key:\"calculateLabelSize\",value:function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:\"middle\";this._processLabel(e,t,n),this.size.left=i-.5*this.size.width,this.size.top=r-.5*this.size.height,this.size.yLine=r+.5*(1-this.lineCount)*this.fontOptions.size,\"hanging\"===o&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:\"getFormattingValues\",value:function(e,t,n,i){var r=function(e,t,n){return\"normal\"===t?\"mod\"===n?\"\":e[n]:void 0===e[t][n]?e[n]:e[t][n]},o={color:r(this.fontOptions,i,\"color\"),size:r(this.fontOptions,i,\"size\"),face:r(this.fontOptions,i,\"face\"),mod:r(this.fontOptions,i,\"mod\"),vadjust:r(this.fontOptions,i,\"vadjust\"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(t||n)&&(\"normal\"===i&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?o.mod=\"bold\":\"function\"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(o,this.elementOptions.id,t,n));var a=\"\";return void 0!==o.mod&&\"\"!==o.mod&&(a+=o.mod+\" \"),a+=o.size+\"px \"+o.face,e.font=a.replace(/\"/g,\"\"),o.font=e.font,o.height=o.size,o}},{key:\"differentState\",value:function(e,t){return e!==this.selectedState||t!==this.hoverState}},{key:\"_processLabelText\",value:function(e,t,n,i){return new Ss(e,this,t,n).process(i)}},{key:\"_processLabel\",value:function(e,t,n){if(!1!==this.labelDirty||this.differentState(t,n)){var i=this._processLabelText(e,t,n,this.elementOptions.label);0<this.fontOptions.minWdt&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,0<this.fontOptions.minHgt&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=t,this.hoverState=n,this.labelDirty=!1}}},{key:\"visible\",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:\"parseFontString\",value:function(e,t){if(!t||\"string\"!=typeof t)return!1;var n=t.split(\" \");return e.size=+n[0].replace(\"px\",\"\"),e.face=n[1],e.color=n[2],!0}}]),n}();var Cs=function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e};var Ms=function(e,t){return!t||\"object\"!==ws(t)&&\"function\"!=typeof t?Cs(e):t},Ts=Yr((function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t(n)}e.exports=t})),As=Yr((function(e){function t(n,i){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(n,i)}e.exports=t}));var Fs,Ps=function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&As(e,t)},Ns=function(){var e=Math.cos,t=Math.sin,n=Math.abs,i=Math.min;function r(e,t,n){cs(this,r),this.body=t,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return hs(r,[{key:\"setOptions\",value:function(e){this.options=e}},{key:\"_setMargins\",value:function(e){this.margin={},this.options.margin&&(\"object\"==ws(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}},{key:\"_distanceToBorder\",value:function(r,o){var a=this.options.borderWidth;return this.resize(r),i(n(this.width/2/e(o)),n(this.height/2/t(o)))+a}},{key:\"enableShadow\",value:function(e,t){t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}},{key:\"disableShadow\",value:function(e,t){t.shadow&&(e.shadowColor=\"rgba(0,0,0,0)\",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:\"enableBorderDashes\",value:function(e,t){if(!1!==t.borderDashes)if(void 0!==e.setLineDash){var n=t.borderDashes;!0===n&&(n=[5,15]),e.setLineDash(n)}else console.warn(\"setLineDash is not supported in this browser. The dashed borders cannot be used.\"),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1}},{key:\"disableBorderDashes\",value:function(e,t){!1!==t.borderDashes&&(void 0===e.setLineDash?(console.warn(\"setLineDash is not supported in this browser. The dashed borders cannot be used.\"),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1):e.setLineDash([0]))}},{key:\"needsRefresh\",value:function(e,t){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(e,t)}},{key:\"initContextForDraw\",value:function(e,t){var n=t.borderWidth/this.body.view.scale;e.lineWidth=i(this.width,n),e.strokeStyle=t.borderColor,e.fillStyle=t.color}},{key:\"performStroke\",value:function(e,t){var n=t.borderWidth/this.body.view.scale;e.save(),0<n&&(this.enableBorderDashes(e,t),e.stroke(),this.disableBorderDashes(e,t)),e.restore()}},{key:\"performFill\",value:function(e,t){this.enableShadow(e,t),e.fill(),this.disableShadow(e,t),this.performStroke(e,t)}},{key:\"_addBoundingBoxMargin\",value:function(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}},{key:\"_updateBoundingBox\",value:function(e,t,n,i,r){void 0!==n&&this.resize(n,i,r),this.left=e-this.width/2,this.top=t-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:\"updateBoundingBox\",value:function(e,t,n,i,r){this._updateBoundingBox(e,t,n,i,r)}},{key:\"getDimensionsFromLabel\",value:function(e,t,n){this.textSize=this.labelModule.getTextSize(e,t,n);var i=this.textSize.width,r=this.textSize.height;return 0===i&&(i=14,r=14),{width:i,height:r}}}]),r}(),zs=function(e){var t=Math.cos,n=Math.sin,i=Math.abs,r=Math.min;function o(e,t,n){var i;return cs(this,o),(i=Ms(this,Ts(o).call(this,e,t,n)))._setMargins(n),i}return Ps(o,e),hs(o,[{key:\"resize\",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(t,n)){var i=this.getDimensionsFromLabel(e,t,n);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:\"draw\",value:function(e,t,n,i,r,o){this.resize(e,i,r),this.left=t-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,o),e.roundRect(this.left,this.top,this.width,this.height,o.borderRadius),this.performFill(e,o),this.updateBoundingBox(t,n,e,i,r),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,r)}},{key:\"updateBoundingBox\",value:function(e,t,n,i,r){this._updateBoundingBox(e,t,n,i,r);var o=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(o)}},{key:\"distanceToBorder\",value:function(e,o){this.resize(e);var a=this.options.borderWidth;return r(i(this.width/2/t(o)),i(this.height/2/n(o)))+a}}]),o}(Ns),Rs=function(e){function t(e,n,i){var r;return cs(this,t),(r=Ms(this,Ts(t).call(this,e,n,i))).labelOffset=0,r.selected=!1,r}return Ps(t,e),hs(t,[{key:\"setOptions\",value:function(e,t,n){this.options=e,void 0===t&&void 0===n||this.setImages(t,n)}},{key:\"setImages\",value:function(e,t){t&&this.selected?(this.imageObj=t,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=t)}},{key:\"switchImages\",value:function(e){var t=e&&!this.selected||!e&&this.selected;if(this.selected=e,void 0!==this.imageObjAlt&&t){var n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}},{key:\"_getImagePadding\",value:function(){var e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var t=this.options.imagePadding;\"object\"==ws(t)?(e.top=t.top,e.right=t.right,e.bottom=t.bottom,e.left=t.left):(e.top=t,e.right=t,e.bottom=t,e.left=t)}return e}},{key:\"_resizeImage\",value:function(){var e,t;if(!1===this.options.shapeProperties.useImageSize){var n=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),e=2*this.options.size*n,t=2*this.options.size*i}else{var r=this._getImagePadding();e=this.imageObj.width+r.left+r.right,t=this.imageObj.height+r.top+r.bottom}this.width=e,this.height=t,this.radius=.5*this.width}},{key:\"_drawRawCircle\",value:function(e,t,n,i){this.initContextForDraw(e,i),e.circle(t,n,i.size),this.performFill(e,i)}},{key:\"_drawImageAtPosition\",value:function(e,t){if(0!=this.imageObj.width){e.globalAlpha=1,this.enableShadow(e,t);var n=1;!0===this.options.shapeProperties.interpolation&&(n=this.imageObj.width/this.width/this.body.view.scale);var i=this._getImagePadding(),r=this.left+i.left,o=this.top+i.top,a=this.width-i.left-i.right,s=this.height-i.top-i.bottom;this.imageObj.drawImageAtPosition(e,n,r,o,a,s),this.disableShadow(e,t)}}},{key:\"_drawImageLabel\",value:function(e,t,n,i,r){var o,a=0;if(void 0!==this.height){a=.5*this.height;var s=this.labelModule.getTextSize(e,i,r);1<=s.lineCount&&(a+=s.height/2)}o=n+a,this.options.label&&(this.labelOffset=a),this.labelModule.draw(e,t,o,i,r,\"hanging\")}}]),t}(Ns),Is=function(e){var t=Math.max;function n(e,t,i){var r;return cs(this,n),(r=Ms(this,Ts(n).call(this,e,t,i)))._setMargins(i),r}return Ps(n,e),hs(n,[{key:\"resize\",value:function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(n,i)){var r=this.getDimensionsFromLabel(e,n,i),o=t(r.width+this.margin.right+this.margin.left,r.height+this.margin.top+this.margin.bottom);this.options.size=o/2,this.width=o,this.height=o,this.radius=this.width/2}}},{key:\"draw\",value:function(e,t,n,i,r,o){this.resize(e,i,r),this.left=t-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,t,n,o),this.updateBoundingBox(t,n),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,n,i,r)}},{key:\"updateBoundingBox\",value:function(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size}},{key:\"distanceToBorder\",value:function(e){return this.resize(e),.5*this.width}}]),n}(Rs),Bs=function(e){var t=Math.max,n=Math.min;function i(e,t,n,r,o){var a;return cs(this,i),(a=Ms(this,Ts(i).call(this,e,t,n))).setImages(r,o),a}return Ps(i,e),hs(i,[{key:\"resize\",value:function(){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover,n=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(n){var i=2*this.options.size;return this.width=i,this.height=i,void(this.radius=.5*this.width)}this.needsRefresh(e,t)&&this._resizeImage()}},{key:\"draw\",value:function(e,t,n,i,r,o){this.switchImages(i),this.resize(),this.left=t-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,t,n,o),e.save(),e.clip(),this._drawImageAtPosition(e,o),e.restore(),this._drawImageLabel(e,t,n,i,r),this.updateBoundingBox(t,n)}},{key:\"updateBoundingBox\",value:function(e,i){this.boundingBox.top=i-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=i+this.options.size,this.boundingBox.left=n(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=t(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=t(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:\"distanceToBorder\",value:function(e){return this.resize(e),.5*this.width}}]),i}(Rs),Ls=function(e){function t(e,n,i){var r;return cs(this,t),(r=Ms(this,Ts(t).call(this,e,n,i)))._setMargins(i),r}return Ps(t,e),hs(t,[{key:\"resize\",value:function(e,t,n){if(this.needsRefresh(t,n)){var i=this.getDimensionsFromLabel(e,t,n).width+this.margin.right+this.margin.left;this.width=i,this.height=i,this.radius=this.width/2}}},{key:\"draw\",value:function(e,t,n,i,r,o){this.resize(e,i,r),this.left=t-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,o),e.database(t-this.width/2,n-this.height/2,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(t,n,e,i,r),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,r)}},{key:\"distanceToBorder\",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}(Ns),$s=function(e){var t=Math.max,n=Math.min;function i(e,t,n){return cs(this,i),Ms(this,Ts(i).call(this,e,t,n))}return Ps(i,e),hs(i,[{key:\"resize\",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(t,n)){this.labelModule.getTextSize(e,t,n);var r=2*i.size;this.width=r,this.height=r,this.radius=.5*this.width}}},{key:\"_drawShape\",value:function(e,t,n,i,r,o,a,s){if(this.resize(e,o,a,s),this.left=i-this.width/2,this.top=r-this.height/2,this.initContextForDraw(e,s),e[t](i,r,s.size),this.performFill(e,s),void 0!==this.options.icon&&void 0!==this.options.icon.code&&(e.font=(o?\"bold \":\"\")+this.height/2+\"px \"+(this.options.icon.face||\"FontAwesome\"),e.fillStyle=this.options.icon.color||\"black\",e.textAlign=\"center\",e.textBaseline=\"middle\",e.fillText(this.options.icon.code,i,r)),void 0!==this.options.label){this.labelModule.calculateLabelSize(e,o,a,i,r,\"hanging\");var l=r+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,i,l,o,a,\"hanging\")}this.updateBoundingBox(i,r)}},{key:\"updateBoundingBox\",value:function(e,i){this.boundingBox.top=i-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=i+this.options.size,void 0!==this.options.label&&0<this.labelModule.size.width&&(this.boundingBox.left=n(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=t(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=t(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),i}(Ns),Ws=function(e){function t(e,n,i){return cs(this,t),Ms(this,Ts(t).call(this,e,n,i))}return Ps(t,e),hs(t,[{key:\"draw\",value:function(e,t,n,i,r,o){this._drawShape(e,\"diamond\",4,t,n,i,r,o)}},{key:\"distanceToBorder\",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}($s),Us=function(e){function t(e,n,i){return cs(this,t),Ms(this,Ts(t).call(this,e,n,i))}return Ps(t,e),hs(t,[{key:\"draw\",value:function(e,t,n,i,r,o){this._drawShape(e,\"circle\",2,t,n,i,r,o)}},{key:\"distanceToBorder\",value:function(e){return this.resize(e),this.options.size}}]),t}($s),Ys=function(e){var t=Math.cos,n=Math.sin,i=Math.sqrt;function r(e,t,n){return cs(this,r),Ms(this,Ts(r).call(this,e,t,n))}return Ps(r,e),hs(r,[{key:\"resize\",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(t,n)){var i=this.getDimensionsFromLabel(e,t,n);this.height=2*i.height,this.width=i.width+i.height,this.radius=.5*this.width}}},{key:\"draw\",value:function(e,t,n,i,r,o){this.resize(e,i,r),this.left=t-.5*this.width,this.top=n-.5*this.height,this.initContextForDraw(e,o),e.ellipse_vis(this.left,this.top,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(t,n,e,i,r),this.labelModule.draw(e,t,n,i,r)}},{key:\"distanceToBorder\",value:function(e,r){this.resize(e);var o=.5*this.width,a=.5*this.height,s=n(r)*o,l=t(r)*a;return o*a/i(s*s+l*l)}}]),r}(Ns),Hs=function(e){var t=Math.max,n=Math.min;function i(e,t,n){var r;return cs(this,i),(r=Ms(this,Ts(i).call(this,e,t,n)))._setMargins(n),r}return Ps(i,e),hs(i,[{key:\"resize\",value:function(e,t,n){this.needsRefresh(t,n)&&(this.iconSize={width:+this.options.icon.size,height:+this.options.icon.size},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:\"draw\",value:function(e,t,n,i,r,o){this.resize(e,i,r),this.options.icon.size=this.options.icon.size||50,this.left=t-this.width/2,this.top=n-this.height/2,this._icon(e,t,n,i,r,o),void 0!==this.options.label&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,n+this.height/2+5,i),this.updateBoundingBox(t,n)}},{key:\"updateBoundingBox\",value:function(e,i){this.boundingBox.top=i-.5*this.options.icon.size,this.boundingBox.left=e-.5*this.options.icon.size,this.boundingBox.right=e+.5*this.options.icon.size,this.boundingBox.bottom=i+.5*this.options.icon.size,void 0!==this.options.label&&0<this.labelModule.size.width&&(this.boundingBox.left=n(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=t(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=t(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}},{key:\"_icon\",value:function(e,t,n,i,r,o){var a=+this.options.icon.size;void 0===this.options.icon.code?console.error(\"When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.\"):(e.font=(i?\"bold \":\"\")+a+\"px \"+this.options.icon.face,e.fillStyle=this.options.icon.color||\"black\",e.textAlign=\"center\",e.textBaseline=\"middle\",this.enableShadow(e,o),e.fillText(this.options.icon.code,t,n),this.disableShadow(e,o))}},{key:\"distanceToBorder\",value:function(e,t){return this._distanceToBorder(e,t)}}]),i}(Ns),qs=function(e){var t=Math.max,n=Math.min;function i(e,t,n,r,o){var a;return cs(this,i),(a=Ms(this,Ts(i).call(this,e,t,n))).setImages(r,o),a}return Ps(i,e),hs(i,[{key:\"resize\",value:function(){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected,t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.hover,n=void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height;if(n){var i=2*this.options.size;return this.width=i,void(this.height=i)}this.needsRefresh(e,t)&&this._resizeImage()}},{key:\"draw\",value:function(e,t,i,r,o,a){if(this.switchImages(r),this.resize(),this.left=t-this.width/2,this.top=i-this.height/2,!0===this.options.shapeProperties.useBorderWithImage){var s=this.options.borderWidth,l=this.options.borderWidthSelected||2*this.options.borderWidth,u=(r?l:s)/this.body.view.scale;e.lineWidth=n(this.width,u),e.beginPath(),e.strokeStyle=r?this.options.color.highlight.border:o?this.options.color.hover.border:this.options.color.border,e.fillStyle=r?this.options.color.highlight.background:o?this.options.color.hover.background:this.options.color.background,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),e.fill(),this.performStroke(e,a),e.closePath()}this._drawImageAtPosition(e,a),this._drawImageLabel(e,t,i,r,o),this.updateBoundingBox(t,i)}},{key:\"updateBoundingBox\",value:function(e,i){this.resize(),this._updateBoundingBox(e,i),void 0!==this.options.label&&0<this.labelModule.size.width&&(this.boundingBox.left=n(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=t(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=t(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:\"distanceToBorder\",value:function(e,t){return this._distanceToBorder(e,t)}}]),i}(Rs),Vs=function(e){function t(e,n,i){return cs(this,t),Ms(this,Ts(t).call(this,e,n,i))}return Ps(t,e),hs(t,[{key:\"draw\",value:function(e,t,n,i,r,o){this._drawShape(e,\"square\",2,t,n,i,r,o)}},{key:\"distanceToBorder\",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}($s),Gs=function(e){function t(e,n,i){return cs(this,t),Ms(this,Ts(t).call(this,e,n,i))}return Ps(t,e),hs(t,[{key:\"draw\",value:function(e,t,n,i,r,o){this._drawShape(e,\"hexagon\",4,t,n,i,r,o)}},{key:\"distanceToBorder\",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}($s),Xs=function(e){function t(e,n,i){return cs(this,t),Ms(this,Ts(t).call(this,e,n,i))}return Ps(t,e),hs(t,[{key:\"draw\",value:function(e,t,n,i,r,o){this._drawShape(e,\"star\",4,t,n,i,r,o)}},{key:\"distanceToBorder\",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}($s),Zs=function(e){function t(e,n,i){var r;return cs(this,t),(r=Ms(this,Ts(t).call(this,e,n,i)))._setMargins(i),r}return Ps(t,e),hs(t,[{key:\"resize\",value:function(e,t,n){this.needsRefresh(t,n)&&(this.textSize=this.labelModule.getTextSize(e,t,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:\"draw\",value:function(e,t,n,i,r,o){this.resize(e,i,r),this.left=t-this.width/2,this.top=n-this.height/2,this.enableShadow(e,o),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,r),this.disableShadow(e,o),this.updateBoundingBox(t,n,e,i,r)}},{key:\"distanceToBorder\",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}(Ns),Qs=function(e){function t(e,n,i){return cs(this,t),Ms(this,Ts(t).call(this,e,n,i))}return Ps(t,e),hs(t,[{key:\"draw\",value:function(e,t,n,i,r,o){this._drawShape(e,\"triangle\",3,t,n,i,r,o)}},{key:\"distanceToBorder\",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}($s),Js=function(e){function t(e,n,i){return cs(this,t),Ms(this,Ts(t).call(this,e,n,i))}return Ps(t,e),hs(t,[{key:\"draw\",value:function(e,t,n,i,r,o){this._drawShape(e,\"triangleDown\",3,t,n,i,r,o)}},{key:\"distanceToBorder\",value:function(e,t){return this._distanceToBorder(e,t)}}]),t}($s),Ks=!1,el=\"background: #FFeeee; color: #dd0000\",tl=function(){var e=Math.min;function t(){cs(this,t)}return hs(t,null,[{key:\"validate\",value:function(e,n,i){Ks=!1,Fs=n;var r=n;return void 0!==i&&(r=n[i]),t.parse(e,r,[]),Ks}},{key:\"parse\",value:function(e,n,i){for(var r in e)e.hasOwnProperty(r)&&t.check(r,e,n,i)}},{key:\"check\",value:function(e,n,i,r){if(void 0!==i[e]||void 0!==i.__any__){var o=e,a=!0;void 0===i[e]&&void 0!==i.__any__&&(o=\"__any__\",a=\"object\"===t.getType(n[e]));var s=i[o];a&&void 0!==s.__type__&&(s=s.__type__),t.checkFields(e,n,i,o,s,r)}else t.getSuggestion(e,i,r)}},{key:\"checkFields\",value:function(e,n,i,r,o,a){var s=function(n){console.log(\"%c\"+n+t.printLocation(a,e),el)},l=t.getType(n[e]),u=o[l];void 0===u?void 0===o.any&&(s('Invalid type received for \"'+e+'\". Expected: '+t.print(Object.keys(o))+\". Received [\"+l+'] \"'+n[e]+'\"'),Ks=!0):\"array\"===t.getType(u)&&-1===u.indexOf(n[e])?(s('Invalid option detected in \"'+e+'\". Allowed values are:'+t.print(u)+' not \"'+n[e]+'\". '),Ks=!0):\"object\"===l&&\"__any__\"!==r&&(a=Ji.copyAndExtendArray(a,e),t.parse(n[e],i[r],a))}},{key:\"getType\",value:function(e){var t=ws(e);return\"object\"===t?null===e?\"null\":e instanceof Boolean?\"boolean\":e instanceof Number?\"number\":e instanceof String?\"string\":Array.isArray(e)?\"array\":e instanceof Date?\"date\":void 0===e.nodeType?!0===e._isAMomentObject?\"moment\":\"object\":\"dom\":\"number\"===t?\"number\":\"boolean\"===t?\"boolean\":\"string\"===t?\"string\":void 0===t?\"undefined\":t}},{key:\"getSuggestion\",value:function(e,n,i){var r,o=t.findInOptions(e,n,i,!1),a=t.findInOptions(e,Fs,[],!0);r=void 0===o.indexMatch?a.distance<=4&&o.distance>a.distance?\" in \"+t.printLocation(o.path,e,\"\")+\"Perhaps it was misplaced? Matching option found at: \"+t.printLocation(a.path,a.closestMatch,\"\"):o.distance<=8?'. Did you mean \"'+o.closestMatch+'\"?'+t.printLocation(o.path,e):\". Did you mean one of these: \"+t.print(Object.keys(n))+t.printLocation(i,e):\" in \"+t.printLocation(o.path,e,\"\")+'Perhaps it was incomplete? Did you mean: \"'+o.indexMatch+'\"?\\n\\n',console.log('%cUnknown option detected: \"'+e+'\"'+r,el),Ks=!0}},{key:\"findInOptions\",value:function(e,n,i){var r=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],o=1e9,a=\"\",s=[],l=e.toLowerCase(),u=void 0;for(var c in n){var d=void 0;if(void 0!==n[c].__type__&&!0===r){var h=t.findInOptions(e,n[c],Ji.copyAndExtendArray(i,c));o>h.distance&&(a=h.closestMatch,s=h.path,o=h.distance,u=h.indexMatch)}else-1!==c.toLowerCase().indexOf(l)&&(u=c),o>(d=t.levenshteinDistance(e,c))&&(a=c,s=Ji.copyArray(i),o=d)}return{closestMatch:a,path:s,distance:o,indexMatch:u}}},{key:\"printLocation\",value:function(e,t){for(var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:\"Problem value found at: \\n\",i=\"\\n\\n\"+n+\"options = {\\n\",r=0;r<e.length;r++){for(var o=0;o<r+1;o++)i+=\"  \";i+=e[r]+\": {\\n\"}for(var a=0;a<e.length+1;a++)i+=\"  \";i+=t+\"\\n\";for(var s=0;s<e.length+1;s++){for(var l=0;l<e.length-s;l++)i+=\"  \";i+=\"}\\n\"}return i+\"\\n\\n\"}},{key:\"print\",value:function(e){return JSON.stringify(e).replace(/(\\\")|(\\[)|(\\])|(,\"__type__\")/g,\"\").replace(/(\\,)/g,\", \")}},{key:\"levenshteinDistance\",value:function(t,n){if(0===t.length)return n.length;if(0===n.length)return t.length;var i,r,o=[];for(i=0;i<=n.length;i++)o[i]=[i];for(r=0;r<=t.length;r++)o[0][r]=r;for(i=1;i<=n.length;i++)for(r=1;r<=t.length;r++)o[i][r]=n.charAt(i-1)==t.charAt(r-1)?o[i-1][r-1]:e(o[i-1][r-1]+1,e(o[i][r-1]+1,o[i-1][r]+1));return o[n.length][t.length]}}]),t}();function nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var il=function(){function e(t,n,i,r,o,a){cs(this,e),this.options=Ji.bridgeObject(o),this.globalOptions=o,this.defaultOptions=a,this.body=n,this.edges=[],this.id=void 0,this.imagelist=i,this.grouplist=r,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new js(this.body,this.options,!1),this.setOptions(t)}return hs(e,[{key:\"attachEdge\",value:function(e){-1===this.edges.indexOf(e)&&this.edges.push(e)}},{key:\"detachEdge\",value:function(e){var t=this.edges.indexOf(e);-1!=t&&this.edges.splice(t,1)}},{key:\"setOptions\",value:function(t){var n=this.options.shape;if(t){if(void 0!==t.color&&(this._localColor=t.color),void 0!==t.id&&(this.id=t.id),void 0===this.id)throw new Error(\"Node must have an id\");e.checkMass(t,this.id),void 0!==t.x&&(null===t.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(t.x),this.predefinedPosition=!0)),void 0!==t.y&&(null===t.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(t.y),this.predefinedPosition=!0)),void 0!==t.size&&(this.baseSize=t.size),void 0!==t.value&&(t.value=parseFloat(t.value)),e.parseOptions(this.options,t,!0,this.globalOptions,this.grouplist);var i=[t,this.options,this.defaultOptions];return this.chooser=xs.choosify(\"node\",i),this._load_images(),this.updateLabelModule(t),this.updateShape(n),void 0!==t.hidden||void 0!==t.physics}}},{key:\"_load_images\",value:function(){if((\"circularImage\"===this.options.shape||\"image\"===this.options.shape)&&void 0===this.options.image)throw new Error(\"Option image must be defined for node type '\"+this.options.shape+\"'\");if(void 0!==this.options.image){if(void 0===this.imagelist)throw new Error(\"Internal Error: No images provided\");if(\"string\"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error(\"No unselected image provided\");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.imageObjAlt=void 0===this.options.image.selected?void 0:this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id)}}}},{key:\"getFormattingValues\",value:function(){var e={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};return this.selected||this.hover?!0===this.chooser?this.selected?(e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):\"function\"==typeof this.chooser&&(this.chooser(e,this.options.id,this.selected,this.hover),!1===e.shadow&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,e}},{key:\"updateLabelModule\",value:function(t){(void 0===this.options.label||null===this.options.label)&&(this.options.label=\"\"),e.updateGroupOptions(this.options,function(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?nl(t,!0).forEach((function(n){ms(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nl(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}({},t,{color:t&&t.color||this._localColor||void 0}),this.grouplist);var n=this.grouplist.get(this.options.group,!1),i=[t,this.options,n,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,i),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:\"updateShape\",value:function(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case\"box\":this.shape=new zs(this.options,this.body,this.labelModule);break;case\"circle\":this.shape=new Is(this.options,this.body,this.labelModule);break;case\"circularImage\":this.shape=new Bs(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case\"database\":this.shape=new Ls(this.options,this.body,this.labelModule);break;case\"diamond\":this.shape=new Ws(this.options,this.body,this.labelModule);break;case\"dot\":this.shape=new Us(this.options,this.body,this.labelModule);break;case\"ellipse\":this.shape=new Ys(this.options,this.body,this.labelModule);break;case\"icon\":this.shape=new Hs(this.options,this.body,this.labelModule);break;case\"image\":this.shape=new qs(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case\"square\":this.shape=new Vs(this.options,this.body,this.labelModule);break;case\"hexagon\":this.shape=new Gs(this.options,this.body,this.labelModule);break;case\"star\":this.shape=new Xs(this.options,this.body,this.labelModule);break;case\"text\":this.shape=new Zs(this.options,this.body,this.labelModule);break;case\"triangle\":this.shape=new Qs(this.options,this.body,this.labelModule);break;case\"triangleDown\":this.shape=new Js(this.options,this.body,this.labelModule);break;default:this.shape=new Ys(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:\"select\",value:function(){this.selected=!0,this.needsRefresh()}},{key:\"unselect\",value:function(){this.selected=!1,this.needsRefresh()}},{key:\"needsRefresh\",value:function(){this.shape.refreshNeeded=!0}},{key:\"getTitle\",value:function(){return this.options.title}},{key:\"distanceToBorder\",value:function(e,t){return this.shape.distanceToBorder(e,t)}},{key:\"isFixed\",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:\"isSelected\",value:function(){return this.selected}},{key:\"getValue\",value:function(){return this.options.value}},{key:\"getLabelSize\",value:function(){return this.labelModule.size()}},{key:\"setValueRange\",value:function(e,t,n){if(void 0!==this.options.value){var i=this.options.scaling.customScalingFunction(e,t,n,this.options.value),r=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*o}this.options.size=this.options.scaling.min+i*r}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:\"draw\",value:function(e){var t=this.getFormattingValues();this.shape.draw(e,this.x,this.y,this.selected,this.hover,t)}},{key:\"updateBoundingBox\",value:function(e){this.shape.updateBoundingBox(this.x,this.y,e)}},{key:\"resize\",value:function(e){var t=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,t)}},{key:\"getItemsOnPoint\",value:function(e){var t=[];return this.labelModule.visible()&&xs.pointInRect(this.labelModule.getSize(),e)&&t.push({nodeId:this.id,labelId:0}),xs.pointInRect(this.shape.boundingBox,e)&&t.push({nodeId:this.id}),t}},{key:\"isOverlappingWith\",value:function(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}},{key:\"isBoundingBoxOverlappingWith\",value:function(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}}],[{key:\"updateGroupOptions\",value:function(e,t,n){if(void 0!==n){var i=e.group;if(void 0!==t&&void 0!==t.group&&i!==t.group)throw new Error(\"updateGroupOptions: group values in options don't match.\");if(\"number\"==typeof i||\"string\"==typeof i&&\"\"!=i){var r=n.get(i),o=[\"font\"];void 0!==t&&void 0!==t.color&&null!=t.color&&o.push(\"color\"),Ji.selectiveNotDeepExtend(o,e,r),e.color=Ji.parseColor(e.color)}}}},{key:\"parseOptions\",value:function(t,n){var i=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},o=4<arguments.length?arguments[4]:void 0;if(Ji.selectiveNotDeepExtend([\"color\",\"fixed\",\"shadow\"],t,n,i),e.checkMass(n),Ji.mergeOptions(t,n,\"shadow\",r),void 0!==n.color&&null!==n.color){var a=Ji.parseColor(n.color);Ji.fillIfDefined(t.color,a)}else!0===i&&null===n.color&&(t.color=Ji.bridgeObject(r.color));void 0!==n.fixed&&null!==n.fixed&&(\"boolean\"==typeof n.fixed?(t.fixed.x=n.fixed,t.fixed.y=n.fixed):(void 0!==n.fixed.x&&\"boolean\"==typeof n.fixed.x&&(t.fixed.x=n.fixed.x),void 0!==n.fixed.y&&\"boolean\"==typeof n.fixed.y&&(t.fixed.y=n.fixed.y))),!0===i&&null===n.font&&(t.font=Ji.bridgeObject(r.font)),e.updateGroupOptions(t,n,o),void 0!==n.scaling&&Ji.mergeOptions(t.scaling,n.scaling,\"label\",r.scaling)}},{key:\"checkMass\",value:function(e,t){if(void 0!==e.mass&&0>=e.mass){var n=\"\";void 0!==t&&(n=\" in node id: \"+t),console.log(\"%cNegative or zero mass disallowed\"+n+\", setting mass to 1.\",el),e.mass=1}}}]),e}(),rl=function(){var e=Math.round,t=Math.max;function n(e,i,r,o){var a=this;if(cs(this,n),this.body=e,this.images=i,this.groups=r,this.layoutEngine=o,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(e,t){a.add(t.items)},update:function(e,t){a.update(t.items,t.data,t.oldData)},remove:function(e,t){a.remove(t.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:\"#2B7CE9\",background:\"#97C2FC\",highlight:{border:\"#2B7CE9\",background:\"#D2E5FF\"},hover:{border:\"#2B7CE9\",background:\"#D2E5FF\"}},fixed:{x:!1,y:!1},font:{color:\"#343434\",size:14,face:\"arial\",background:\"none\",strokeWidth:0,strokeColor:\"#ffffff\",align:\"center\",vadjust:0,multi:!1,bold:{mod:\"bold\"},boldital:{mod:\"bold italic\"},ital:{mod:\"italic\"},mono:{mod:\"\",size:15,face:\"monospace\",vadjust:2}},group:void 0,hidden:!1,icon:{face:\"FontAwesome\",code:void 0,size:50,color:\"#2B7CE9\"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(e,n,i,r){return n===e?.5:t(0,1/(n-e)*(r-e))}},shadow:{enabled:!1,color:\"rgba(0,0,0,0.5)\",size:10,x:5,y:5},shape:\"ellipse\",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},0>=this.defaultOptions.mass)throw\"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative\";this.options=Ji.bridgeObject(this.defaultOptions),this.bindEventListeners()}return hs(n,[{key:\"bindEventListeners\",value:function(){var e=this;this.body.emitter.on(\"refreshNodes\",this.refresh.bind(this)),this.body.emitter.on(\"refresh\",this.refresh.bind(this)),this.body.emitter.on(\"destroy\",(function(){Ji.forEach(e.nodesListeners,(function(t,n){e.body.data.nodes&&e.body.data.nodes.off(n,t)})),delete e.body.functions.createNode,delete e.nodesListeners.add,delete e.nodesListeners.update,delete e.nodesListeners.remove,delete e.nodesListeners}))}},{key:\"setOptions\",value:function(e){if(void 0!==e){if(il.parseOptions(this.options,e),void 0!==e.shape)for(var t in this.body.nodes)this.body.nodes.hasOwnProperty(t)&&this.body.nodes[t].updateShape();if(void 0!==e.font)for(var n in this.body.nodes)this.body.nodes.hasOwnProperty(n)&&(this.body.nodes[n].updateLabelModule(),this.body.nodes[n].needsRefresh());if(void 0!==e.size)for(var i in this.body.nodes)this.body.nodes.hasOwnProperty(i)&&this.body.nodes[i].needsRefresh();(void 0!==e.hidden||void 0!==e.physics)&&this.body.emitter.emit(\"_dataChanged\")}}},{key:\"setData\",value:function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],n=this.body.data.nodes;if(e instanceof Lr||e instanceof $r)this.body.data.nodes=e;else if(Array.isArray(e))this.body.data.nodes=new Lr,this.body.data.nodes.add(e);else{if(e)throw new TypeError(\"Array or DataSet expected\");this.body.data.nodes=new Lr}if(n&&Ji.forEach(this.nodesListeners,(function(e,t){n.off(t,e)})),this.body.nodes={},this.body.data.nodes){var i=this;Ji.forEach(this.nodesListeners,(function(e,t){i.body.data.nodes.on(t,e)}));var r=this.body.data.nodes.getIds();this.add(r,!0)}!1===t&&this.body.emitter.emit(\"_dataChanged\")}},{key:\"add\",value:function(e){for(var t,n=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],i=[],r=0;r<e.length;r++){t=e[r];var o=this.body.data.nodes.get(t),a=this.create(o);i.push(a),this.body.nodes[t]=a}this.layoutEngine.positionInitially(i),!1===n&&this.body.emitter.emit(\"_dataChanged\")}},{key:\"update\",value:function(e,t,n){for(var i=this.body.nodes,r=!1,o=0;o<e.length;o++){var a=e[o],s=i[a],l=t[o];void 0===s?(r=!0,s=this.create(l),i[a]=s):s.setOptions(l)&&(r=!0)}r||void 0===n||(r=t.some((function(e,t){var i=n[t];return i&&i.level!==e.level}))),!0===r?this.body.emitter.emit(\"_dataChanged\"):this.body.emitter.emit(\"_dataUpdated\")}},{key:\"remove\",value:function(e){for(var t=this.body.nodes,n=0;n<e.length;n++)delete t[e[n]];this.body.emitter.emit(\"_dataChanged\")}},{key:\"create\",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:il;return new t(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:\"refresh\",value:function(){var e=this,t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];Ji.forEach(this.body.nodes,(function(n,i){var r=e.body.data.nodes.get(i);void 0!==r&&(!0===t&&n.setOptions({x:null,y:null}),n.setOptions({fixed:!1}),n.setOptions(r))}))}},{key:\"getPositions\",value:function(t){var n={};if(void 0===t)for(var i,r=0;r<this.body.nodeIndices.length;r++)i=this.body.nodes[this.body.nodeIndices[r]],n[this.body.nodeIndices[r]]={x:e(i.x),y:e(i.y)};else if(!0===Array.isArray(t)){for(var o=0;o<t.length;o++)if(void 0!==this.body.nodes[t[o]]){var a=this.body.nodes[t[o]];n[t[o]]={x:e(a.x),y:e(a.y)}}}else if(void 0!==this.body.nodes[t]){var s=this.body.nodes[t];n[t]={x:e(s.x),y:e(s.y)}}return n}},{key:\"storePositions\",value:function(){var t=[],n=this.body.data.nodes.getDataSet();for(var i in n._data)if(n._data.hasOwnProperty(i)){var r=this.body.nodes[i];(n._data[i].x!=e(r.x)||n._data[i].y!=e(r.y))&&t.push({id:r.id,x:e(r.x),y:e(r.y)})}n.update(t)}},{key:\"getBoundingBox\",value:function(e){if(void 0!==this.body.nodes[e])return this.body.nodes[e].shape.boundingBox}},{key:\"getConnectedNodes\",value:function(e,t){var n=[];if(void 0!==this.body.nodes[e])for(var i,r=this.body.nodes[e],o={},a=0;a<r.edges.length;a++)i=r.edges[a],\"to\"!==t&&i.toId==r.id?void 0===o[i.fromId]&&(n.push(i.fromId),o[i.fromId]=!0):\"from\"!==t&&i.fromId==r.id&&void 0===o[i.toId]&&(n.push(i.toId),o[i.toId]=!0);return n}},{key:\"getConnectedEdges\",value:function(e){var t=[];if(void 0!==this.body.nodes[e])for(var n=this.body.nodes[e],i=0;i<n.edges.length;i++)t.push(n.edges[i].id);else console.log(\"NodeId provided for getConnectedEdges does not exist. Provided: \",e);return t}},{key:\"moveNode\",value:function(e,t,n){var i=this;void 0===this.body.nodes[e]?console.log(\"Node id supplied to moveNode does not exist. Provided: \",e):(this.body.nodes[e].x=+t,this.body.nodes[e].y=+n,setTimeout((function(){i.body.emitter.emit(\"startSimulation\")}),0))}}]),n}();var ol=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ts(e)););return e},al=Yr((function(e){function t(n,i,r){return e.exports=t=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=ol(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}},t(n,i,r||n)}e.exports=t})),sl=function(){var e=Math.cos,t=Math.sin;function n(){cs(this,n)}return hs(n,null,[{key:\"transform\",value:function(n,i){Array.isArray(n)||(n=[n]);for(var r=i.point.x,o=i.point.y,a=i.angle,s=i.length,l=0;l<n.length;++l){var u=n[l],c=u.x*e(a)-u.y*t(a),d=u.x*t(a)+u.y*e(a);u.x=r+s*c,u.y=o+s*d}}},{key:\"drawPath\",value:function(e,t){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var n=1;n<t.length;++n)e.lineTo(t[n].x,t[n].y);e.closePath()}}]),n}(),ll=function(e){function t(){return cs(this,t),Ms(this,Ts(t).apply(this,arguments))}return Ps(t,e),hs(t,null,[{key:\"draw\",value:function(e,t){var n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];sl.transform(n,t),sl.drawPath(e,n)}}]),t}(sl),ul=function(){function e(){cs(this,e)}return hs(e,null,[{key:\"draw\",value:function(e,t){var n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];sl.transform(n,t),sl.drawPath(e,n)}}]),e}(),cl=function(){var e=Math.PI;function t(){cs(this,t)}return hs(t,null,[{key:\"draw\",value:function(t,n){var i={x:-.4,y:0};sl.transform(i,n),t.strokeStyle=t.fillStyle,t.fillStyle=\"rgba(0, 0, 0, 0)\";var r=e,o=n.angle-r/2,a=n.angle+r/2;t.beginPath(),t.arc(i.x,i.y,.4*n.length,o,a,!1),t.stroke()}}]),t}(),dl=function(){var e=Math.PI;function t(){cs(this,t)}return hs(t,null,[{key:\"draw\",value:function(t,n){var i={x:-.3,y:0};sl.transform(i,n),t.strokeStyle=t.fillStyle,t.fillStyle=\"rgba(0, 0, 0, 0)\";var r=e,o=n.angle+r/2,a=n.angle+3*r/2;t.beginPath(),t.arc(i.x,i.y,.4*n.length,o,a,!1),t.stroke()}}]),t}(),hl=function(){function e(){cs(this,e)}return hs(e,null,[{key:\"draw\",value:function(e,t){var n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];sl.transform(n,t),sl.drawPath(e,n)}}]),e}(),fl=function(){function e(){cs(this,e)}return hs(e,null,[{key:\"draw\",value:function(e,t){var n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];sl.transform(n,t),sl.drawPath(e,n)}}]),e}(),pl=function(){function e(){cs(this,e)}return hs(e,null,[{key:\"draw\",value:function(e,t){var n={x:-.4,y:0};sl.transform(n,t),e.circle(n.x,n.y,.4*t.length)}}]),e}(),gl=function(){function e(){cs(this,e)}return hs(e,null,[{key:\"draw\",value:function(e,t){var n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];sl.transform(n,t),sl.drawPath(e,n)}}]),e}(),ml=function(){function e(){cs(this,e)}return hs(e,null,[{key:\"draw\",value:function(e,t){var n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];sl.transform(n,t),sl.drawPath(e,n)}}]),e}(),vl=function(){function e(){cs(this,e)}return hs(e,null,[{key:\"draw\",value:function(e,t){var n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];sl.transform(n,t),sl.drawPath(e,n)}}]),e}(),yl=function(){function e(){cs(this,e)}return hs(e,null,[{key:\"draw\",value:function(e,t){var n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];sl.transform(n,t),sl.drawPath(e,n)}}]),e}(),bl=function(){function e(){cs(this,e)}return hs(e,null,[{key:\"draw\",value:function(e,t){var n;switch(t.type&&(n=t.type.toLowerCase()),n){case\"circle\":pl.draw(e,t);break;case\"box\":ml.draw(e,t);break;case\"crow\":ul.draw(e,t);break;case\"curve\":cl.draw(e,t);break;case\"diamond\":vl.draw(e,t);break;case\"inv_curve\":dl.draw(e,t);break;case\"triangle\":hl.draw(e,t);break;case\"inv_triangle\":fl.draw(e,t);break;case\"bar\":gl.draw(e,t);break;case\"vee\":yl.draw(e,t);break;case\"arrow\":default:ll.draw(e,t)}}}]),e}();function _l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var wl=function(){var e=Math.atan2,t=Math.cos,n=Math.sin,i=Math.sqrt,r=Math.PI,o=Math.pow,a=Math.max,s=Math.abs;function l(e,t,n){cs(this,l),this._body=t,this._labelModule=n,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}return hs(l,[{key:\"connect\",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:\"cleanup\",value:function(){return!1}},{key:\"setOptions\",value:function(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:\"drawLine\",value:function(e,t){var n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,t),e.lineWidth=t.width,!1===t.dashes?this._drawLine(e,t,n):this._drawDashedLine(e,t,n)}},{key:\"_drawLine\",value:function(e,t,n,i,r){if(this.from!=this.to)this._line(e,t,n,i,r);else{var o=this._getCircleData(e),a=_s(o,3),s=a[0],l=a[1],u=a[2];this._circle(e,t,s,l,u)}}},{key:\"_drawDashedLine\",value:function(e,t,n){e.lineCap=\"round\";var i=Array.isArray(t.dashes)?t.dashes:[5,5];if(void 0!==e.setLineDash){if(e.save(),e.setLineDash(i),e.lineDashOffset=0,this.from!=this.to)this._line(e,t,n);else{var r=this._getCircleData(e),o=_s(r,3),a=o[0],s=o[1],l=o[2];this._circle(e,t,a,s,l)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)e.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,i);else{var u=this._getCircleData(e),c=_s(u,3),d=c[0],h=c[1],f=c[2];this._circle(e,t,d,h,f)}this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}}},{key:\"findBorderPosition\",value:function(e,t,n){return this.from==this.to?this._findBorderPositionCircle(e,t,n):this._findBorderPosition(e,t,n)}},{key:\"findBorderPositions\",value:function(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};var t=this._getCircleData(e).slice(0,2),n=_s(t,2),i=n[0],r=n[1];return{from:this._findBorderPositionCircle(this.from,e,{x:i,y:r,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:i,y:r,low:.6,high:.8,direction:1})}}},{key:\"_getCircleData\",value:function(e){var t,n,i=this.from,r=this.options.selfReferenceSize;return void 0!==e&&void 0===i.shape.width&&i.shape.resize(e),i.shape.width>i.shape.height?(t=i.x+.5*i.shape.width,n=i.y-r):(t=i.x+r,n=i.y-.5*i.shape.height),[t,n,r]}},{key:\"_pointOnCircle\",value:function(e,i,o,a){var s=2*a*r;return{x:e+o*t(s),y:i-o*n(s)}}},{key:\"_findBorderPositionCircle\",value:function(t,n,r){var a,l=r.x,u=r.y,c=r.low,d=r.high,h=r.direction,f=this.options.selfReferenceSize,p=.5*(c+d),g=0;do{p=.5*(c+d),a=this._pointOnCircle(l,u,f,p);var m=e(t.y-a.y,t.x-a.x),v=t.distanceToBorder(n,m)-i(o(a.x-t.x,2)+o(a.y-t.y,2));if(s(v)<.05)break;0<v?0<h?c=p:d=p:0<h?d=p:c=p,++g}while(c<=d&&g<10);return function(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?_l(t,!0).forEach((function(n){ms(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_l(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}({},a,{t:p})}},{key:\"getLineWidth\",value:function(e,t){return a(!0===e?this.selectionWidth:!0===t?this.hoverWidth:this.options.width,.3/this._body.view.scale)}},{key:\"getColor\",value:function(e,t){if(!1!==t.inheritsColor){if(\"both\"===t.inheritsColor&&this.from.id!==this.to.id){var n=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),i=this.from.options.color.highlight.border,r=this.to.options.color.highlight.border;return!1===this.from.selected&&!1===this.to.selected?(i=Ci(this.from.options.color.border,t.opacity),r=Ci(this.to.options.color.border,t.opacity)):!0===this.from.selected&&!1===this.to.selected?r=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(i=this.from.options.color.border),n.addColorStop(0,i),n.addColorStop(1,r),n}return\"to\"===t.inheritsColor?Ci(this.to.options.color.border,t.opacity):Ci(this.from.options.color.border,t.opacity)}return Ci(t.color,t.opacity)}},{key:\"_circle\",value:function(e,t,n,i,o){this.enableShadow(e,t),e.beginPath(),e.arc(n,i,o,0,2*r,!1),e.stroke(),this.disableShadow(e,t)}},{key:\"getDistanceToEdge\",value:function(e,t,n,r,o,a){if(this.from!=this.to)return this._getDistanceToEdge(e,t,n,r,o,a);var l=this._getCircleData(void 0),u=_s(l,3),c=u[0],d=u[1],h=u[2],f=c-o,p=d-a;return s(i(f*f+p*p)-h)}},{key:\"_getDistanceToLine\",value:function(e,t,n,r,o,a){var s=n-e,l=r-t,u=((o-e)*s+(a-t)*l)/(s*s+l*l);1<u?u=1:0>u&&(u=0);var c=e+u*s-o,d=t+u*l-a;return i(c*c+d*d)}},{key:\"getArrowData\",value:function(i,o,a,l,u,c){var d,h,f,p,g,m,v,y=Math.hypot,b=c.width;\"from\"===o?(f=this.from,p=this.to,g=0>c.fromArrowScale,m=s(c.fromArrowScale),v=c.fromArrowType):\"to\"===o?(f=this.to,p=this.from,g=0>c.toArrowScale,m=s(c.toArrowScale),v=c.toArrowType):(f=this.to,p=this.from,g=0>c.middleArrowScale,m=s(c.middleArrowScale),v=c.middleArrowType);var _=15*m+3*b;if(f!=p){var w=_/y(f.x-p.x,f.y-p.y);if(\"middle\"===o){var x=(g?-w:w)/2,k=this.getPoint(.5+x,a),O=this.getPoint(.5-x,a);d=e(k.y-O.y,k.x-O.x),h=this.getPoint(.5,a)}else if(!0===this.options.smooth.enabled){var E=this._findBorderPosition(f,i,{via:a}),S=this.getPoint(E.t+w*(\"from\"===o?1:-1),a);d=e(E.y-S.y,E.x-S.x),h=E}else d=e(f.y-p.y,f.x-p.x),h=this._findBorderPosition(f,i)}else{var D=this._getCircleData(i),j=_s(D,3),C=j[0],M=j[1],T=j[2];if(\"from\"===o){var A=this._findBorderPositionCircle(this.from,i,{x:C,y:M,low:.25,high:.6,direction:-1});d=-2*A.t*r+1.5*r+.1*r,h=A}else if(\"to\"===o){var F=this._findBorderPositionCircle(this.from,i,{x:C,y:M,low:.6,high:1,direction:1});d=-2*F.t*r+1.5*r-1.1*r,h=F}else h=this._pointOnCircle(C,M,T,.175),d=3.9269908169872414}return{point:h,core:{x:h.x-.9*_*t(d),y:h.y-.9*_*n(d)},angle:d,length:_,type:v}}},{key:\"drawArrowHead\",value:function(e,t,n,i,r){e.strokeStyle=this.getColor(e,t),e.fillStyle=e.strokeStyle,e.lineWidth=t.width,bl.draw(e,r),this.enableShadow(e,t),e.fill(),this.disableShadow(e,t)}},{key:\"enableShadow\",value:function(e,t){!0===t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}},{key:\"disableShadow\",value:function(e,t){!0===t.shadow&&(e.shadowColor=\"rgba(0,0,0,0)\",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:\"drawBackground\",value:function(e,t){if(!1!==t.background){var n={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=t.backgroundColor,e.lineWidth=t.backgroundSize,this.setStrokeDashed(e,t.backgroundDashes),e.stroke(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.dashes=n.dashes,this.setStrokeDashed(e,t.dashes)}}},{key:\"setStrokeDashed\",value:function(e,t){if(!1===t)void 0===e.setLineDash?console.warn(\"setLineDash is not supported in this browser. The dashed stroke cannot be used.\"):e.setLineDash([]);else if(void 0!==e.setLineDash){var n=Array.isArray(t)?t:[5,5];e.setLineDash(n)}else console.warn(\"setLineDash is not supported in this browser. The dashed stroke cannot be used.\")}}]),l}();function xl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function kl(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?xl(t,!0).forEach((function(n){ms(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xl(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var Ol=function(e){var t=Math.atan2,n=Math.sqrt,i=Math.pow,r=Math.abs;function o(e,t,n){return cs(this,o),Ms(this,Ts(o).call(this,e,t,n))}return Ps(o,e),hs(o,[{key:\"_findBorderPositionBezier\",value:function(e,o){var a,s,l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),u=!1,c=1,d=0,h=this.to;e.id===this.from.id&&(h=this.from,u=!0);var f=0;do{s=.5*(d+c),a=this.getPoint(s,l);var p=t(h.y-a.y,h.x-a.x),g=h.distanceToBorder(o,p),m=n(i(a.x-h.x,2)+i(a.y-h.y,2)),v=g-m;if(r(v)<.2)break;0>v?!1===u?d=s:c=s:!1===u?c=s:d=s,++f}while(d<=c&&f<10);return kl({},a,{t:s})}},{key:\"_getDistanceToBezierEdge\",value:function(e,t,n,r,o,a,s){var l,u,c,d,h,f=1e9,p=e,g=t;for(u=1;10>u;u++)d=i(1-(c=.1*u),2)*e+2*c*(1-c)*s.x+i(c,2)*n,h=i(1-c,2)*t+2*c*(1-c)*s.y+i(c,2)*r,0<u&&(f=(l=this._getDistanceToLine(p,g,d,h,o,a))<f?l:f),p=d,g=h;return f}},{key:\"_bezierCurve\",value:function(e,t,n,i){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),null!=n&&null!=n.x?null!=i&&null!=i.x?e.bezierCurveTo(n.x,n.y,i.x,i.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,t),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}},{key:\"getViaNode\",value:function(){return this._getViaCoordinates()}}]),o}(wl),El=function(e){var t=Math.cos,n=Math.sin,i=Math.PI,r=Math.pow;function o(e,t,n){var i;return cs(this,o),(i=Ms(this,Ts(o).call(this,e,t,n))).via=i.via,i._boundFunction=function(){i.positionBezierNode()},i._body.emitter.on(\"_repositionBezierNodes\",i._boundFunction),i}return Ps(o,e),hs(o,[{key:\"setOptions\",value:function(e){al(Ts(o.prototype),\"setOptions\",this).call(this,e);var t=!1;this.options.physics!==e.physics&&(t=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),1==t&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:\"connect\",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:\"cleanup\",value:function(){return this._body.emitter.off(\"_repositionBezierNodes\",this._boundFunction),void 0!==this.via&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}},{key:\"setupSupportNode\",value:function(){if(void 0===this.via){var e=\"edgeId:\"+this.id,t=this._body.functions.createNode({id:e,shape:\"circle\",physics:!0,hidden:!0});this._body.nodes[e]=t,this.via=t,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:\"positionBezierNode\",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:\"_line\",value:function(e,t,n){this._bezierCurve(e,t,n)}},{key:\"_getViaCoordinates\",value:function(){return this.via}},{key:\"getViaNode\",value:function(){return this.via}},{key:\"getPoint\",value:function(e){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.via;if(this.from===this.to){var a=this._getCircleData(),s=_s(a,3),l=s[0],u=s[1],c=s[2],d=2*i*(1-e);return{x:l+c*n(d),y:u+c-c*(1-t(d))}}return{x:r(1-e,2)*this.fromPoint.x+2*e*(1-e)*o.x+r(e,2)*this.toPoint.x,y:r(1-e,2)*this.fromPoint.y+2*e*(1-e)*o.y+r(e,2)*this.toPoint.y}}},{key:\"_findBorderPosition\",value:function(e,t){return this._findBorderPositionBezier(e,t,this.via)}},{key:\"_getDistanceToEdge\",value:function(e,t,n,i,r,o){return this._getDistanceToBezierEdge(e,t,n,i,r,o,this.via)}}]),o}(Ol),Sl=function(e){var t=Math.atan2,n=Math.cos,i=Math.sin,r=Math.sqrt,o=Math.PI,a=Math.pow,s=Math.abs;function l(e,t,n){return cs(this,l),Ms(this,Ts(l).call(this,e,t,n))}return Ps(l,e),hs(l,[{key:\"_line\",value:function(e,t,n){this._bezierCurve(e,t,n)}},{key:\"getViaNode\",value:function(){return this._getViaCoordinates()}},{key:\"_getViaCoordinates\",value:function(){var e,a,l=this.options.smooth.roundness,u=this.options.smooth.type,c=s(this.from.x-this.to.x),d=s(this.from.y-this.to.y);if(\"discrete\"===u||\"diagonalCross\"===u){var h,f;h=f=c<=d?l*d:l*c,this.from.x>this.to.x&&(h=-h),this.from.y>=this.to.y&&(f=-f);var p=this.from.x+h,g=this.from.y+f;return\"discrete\"===u&&(c<=d?p=c<l*d?this.from.x:p:g=d<l*c?this.from.y:g),{x:p,y:g}}if(\"straightCross\"===u){var m=(1-l)*c,v=(1-l)*d;return c<=d?(m=0,this.from.y<this.to.y&&(v=-v)):(this.from.x<this.to.x&&(m=-m),v=0),{x:this.to.x+m,y:this.to.y+v}}if(\"horizontal\"===u){var y=(1-l)*c;return this.from.x<this.to.x&&(y=-y),{x:this.to.x+y,y:this.from.y}}if(\"vertical\"===u){var b=(1-l)*d;return this.from.y<this.to.y&&(b=-b),{x:this.from.x,y:this.to.y+b}}if(\"curvedCW\"===u){c=this.to.x-this.from.x,d=this.from.y-this.to.y;var _=r(c*c+d*d),w=o,x=(t(d,c)+(.5*l+.5)*w)%(2*w);return{x:this.from.x+(.5*l+.5)*_*i(x),y:this.from.y+(.5*l+.5)*_*n(x)}}if(\"curvedCCW\"===u){c=this.to.x-this.from.x,d=this.from.y-this.to.y;var k=r(c*c+d*d),O=o,E=(t(d,c)+(.5*-l+.5)*O)%(2*O);return{x:this.from.x+(.5*l+.5)*k*i(E),y:this.from.y+(.5*l+.5)*k*n(E)}}e=a=c<=d?l*d:l*c,this.from.x>this.to.x&&(e=-e),this.from.y>=this.to.y&&(a=-a);var S=this.from.x+e,D=this.from.y+a;return c<=d?S=this.from.x<=this.to.x?this.to.x<S?this.to.x:S:this.to.x>S?this.to.x:S:D=this.from.y>=this.to.y?this.to.y>D?this.to.y:D:this.to.y<D?this.to.y:D,{x:S,y:D}}},{key:\"_findBorderPosition\",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(e,t,n.via)}},{key:\"_getDistanceToEdge\",value:function(e,t,n,i,r,o){var a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,t,n,i,r,o,a)}},{key:\"getPoint\",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),n=e,i=a(1-n,2)*this.fromPoint.x+2*n*(1-n)*t.x+a(n,2)*this.toPoint.x,r=a(1-n,2)*this.fromPoint.y+2*n*(1-n)*t.y+a(n,2)*this.toPoint.y;return{x:i,y:r}}}]),l}(Ol),Dl=function(e){var t=Math.pow,n=Math.abs;function i(e,t,n){return cs(this,i),Ms(this,Ts(i).call(this,e,t,n))}return Ps(i,e),hs(i,[{key:\"_line\",value:function(e,t,n){var i=n[0],r=n[1];this._bezierCurve(e,t,i,r)}},{key:\"_getViaCoordinates\",value:function(){var e,t,i,r,o=this.from.x-this.to.x,a=this.from.y-this.to.y,s=this.options.smooth.roundness;return(n(o)>n(a)||!0===this.options.smooth.forceDirection||\"horizontal\"===this.options.smooth.forceDirection)&&\"vertical\"!==this.options.smooth.forceDirection?(t=this.from.y,r=this.to.y,e=this.from.x-s*o,i=this.to.x+s*o):(t=this.from.y-s*a,r=this.to.y+s*a,e=this.from.x,i=this.to.x),[{x:e,y:t},{x:i,y:r}]}},{key:\"getViaNode\",value:function(){return this._getViaCoordinates()}},{key:\"_findBorderPosition\",value:function(e,t){return this._findBorderPositionBezier(e,t)}},{key:\"_getDistanceToEdge\",value:function(e,t,n,i,r,o){var a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),s=_s(a,2),l=s[0],u=s[1];return this._getDistanceToBezierEdge2(e,t,n,i,r,o,l,u)}},{key:\"getPoint\",value:function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),i=_s(n,2),r=i[0],o=i[1],a=e,s=[t(1-a,3),3*a*t(1-a,2),3*t(a,2)*(1-a),t(a,3)],l=s[0]*this.fromPoint.x+s[1]*r.x+s[2]*o.x+s[3]*this.toPoint.x,u=s[0]*this.fromPoint.y+s[1]*r.y+s[2]*o.y+s[3]*this.toPoint.y;return{x:l,y:u}}}]),i}(function(e){var t=Math.pow;function n(e,t,i){return cs(this,n),Ms(this,Ts(n).call(this,e,t,i))}return Ps(n,e),hs(n,[{key:\"_getDistanceToBezierEdge2\",value:function(e,n,i,r,o,a,s,l){for(var u,c=1e9,d=e,h=n,f=[0,0,0,0],p=1;10>p;p++){u=.1*p,f[0]=t(1-u,3),f[1]=3*u*t(1-u,2),f[2]=3*t(u,2)*(1-u),f[3]=t(u,3);var g=f[0]*e+f[1]*s.x+f[2]*l.x+f[3]*i,m=f[0]*n+f[1]*s.y+f[2]*l.y+f[3]*r;if(0<p){var v=this._getDistanceToLine(d,h,g,m,o,a);c=v<c?v:c}d=g,h=m}return c}}]),n}(Ol)),jl=function(e){var t=Math.atan2,n=Math.sqrt;function i(e,t,n){return cs(this,i),Ms(this,Ts(i).call(this,e,t,n))}return Ps(i,e),hs(i,[{key:\"_line\",value:function(e,t){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}},{key:\"getViaNode\",value:function(){}},{key:\"getPoint\",value:function(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}},{key:\"_findBorderPosition\",value:function(e,i){var r=this.to,o=this.from;e.id===this.from.id&&(r=this.from,o=this.to);var a=t(r.y-o.y,r.x-o.x),s=r.x-o.x,l=r.y-o.y,u=n(s*s+l*l),c=(u-e.distanceToBorder(i,a))/u;return{x:(1-c)*o.x+c*r.x,y:(1-c)*o.y+c*r.y,t:0}}},{key:\"_getDistanceToEdge\",value:function(e,t,n,i,r,o){return this._getDistanceToLine(e,t,n,i,r,o)}}]),i}(wl),Cl=function(){var e=Math.atan2,t=Math.cos,n=Math.sin,i=Math.PI,r=Math.max,o=Math.min;function a(e,t,n,i){if(cs(this,a),void 0===t)throw new Error(\"No body provided\");this.options=Ji.bridgeObject(n),this.globalOptions=n,this.defaultOptions=i,this.body=t,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new js(this.body,this.options,!0),this.setOptions(e)}return hs(a,[{key:\"setOptions\",value:function(e){if(e){var t=this.options.hidden;null==t&&(t=!1),a.parseOptions(this.options,e,!0,this.globalOptions),void 0!==e.id&&(this.id=e.id),void 0!==e.from&&(this.fromId=e.from),void 0!==e.to&&(this.toId=e.to),void 0!==e.title&&(this.title=e.title),void 0!==e.value&&(e.value=parseFloat(e.value));var n=[e,this.options,this.defaultOptions];this.chooser=xs.choosify(\"edge\",n),this.updateLabelModule(e);var i=this.updateEdgeType();this._setInteractionWidths(),this.connect();var r=this.options.hidden;return null==r&&(r=!1),(r!=t||void 0!==e.physics)&&(i=!0),void 0!==e.physics&&(i=!0),i}}},{key:\"getFormattingValues\",value:function(){var e=!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,t=!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,n=!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,i=this.options.color.inherit,o={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,fromArrow:t,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover){if(!0!==this.chooser)\"function\"==typeof this.chooser&&(this.chooser(o,this.options.id,this.selected,this.hover),void 0!==o.color&&(o.inheritsColor=!1),!1===o.shadow&&(o.shadowColor!==this.options.shadow.color||o.shadowSize!==this.options.shadow.size||o.shadowX!==this.options.shadow.x||o.shadowY!==this.options.shadow.y)&&(o.shadow=!0));else if(this.selected){var a=this.options.selectionWidth;\"function\"==typeof a?o.width=a(o.width):\"number\"==typeof a&&(o.width+=a),o.width=r(o.width,.3/this.body.view.scale),o.color=this.options.color.highlight,o.shadow=this.options.shadow.enabled}else if(this.hover){var s=this.options.hoverWidth;\"function\"==typeof s?o.width=s(o.width):\"number\"==typeof s&&(o.width+=s),o.width=r(o.width,.3/this.body.view.scale),o.color=this.options.color.hover,o.shadow=this.options.shadow.enabled}}else o.shadow=this.options.shadow.enabled,o.width=r(o.width,.3/this.body.view.scale);return o}},{key:\"updateLabelModule\",value:function(e){var t=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,t),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:\"updateEdgeType\",value:function(){var e=this.options.smooth,t=!1,n=!0;return void 0!==this.edgeType&&((this.edgeType instanceof El&&!0===e.enabled&&\"dynamic\"===e.type||this.edgeType instanceof Dl&&!0===e.enabled&&\"cubicBezier\"===e.type||this.edgeType instanceof Sl&&!0===e.enabled&&\"dynamic\"!==e.type&&\"cubicBezier\"!==e.type||this.edgeType instanceof jl&&!1===e.type.enabled)&&(n=!1),!0===n&&(t=this.cleanup())),!0===n?!0===e.enabled?\"dynamic\"===e.type?(t=!0,this.edgeType=new El(this.options,this.body,this.labelModule)):\"cubicBezier\"===e.type?this.edgeType=new Dl(this.options,this.body,this.labelModule):this.edgeType=new Sl(this.options,this.body,this.labelModule):this.edgeType=new jl(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}},{key:\"connect\",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:\"disconnect\",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:\"getTitle\",value:function(){return this.title}},{key:\"isSelected\",value:function(){return this.selected}},{key:\"getValue\",value:function(){return this.options.value}},{key:\"setValueRange\",value:function(e,t,n){if(void 0!==this.options.value){var i=this.options.scaling.customScalingFunction(e,t,n,this.options.value),r=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*o}this.options.width=this.options.scaling.min+i*r}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:\"_setInteractionWidths\",value:function(){this.edgeType.hoverWidth=\"function\"==typeof this.options.hoverWidth?this.options.hoverWidth(this.options.width):this.options.hoverWidth+this.options.width,this.edgeType.selectionWidth=\"function\"==typeof this.options.selectionWidth?this.options.selectionWidth(this.options.width):this.options.selectionWidth+this.options.width}},{key:\"draw\",value:function(e){var t=this.getFormattingValues();if(!t.hidden){var n=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,t.fromArrow&&(i.from=this.edgeType.getArrowData(e,\"from\",n,this.selected,this.hover,t),!1===t.arrowStrikethrough&&(this.edgeType.fromPoint=i.from.core)),t.toArrow&&(i.to=this.edgeType.getArrowData(e,\"to\",n,this.selected,this.hover,t),!1===t.arrowStrikethrough&&(this.edgeType.toPoint=i.to.core)),t.middleArrow&&(i.middle=this.edgeType.getArrowData(e,\"middle\",n,this.selected,this.hover,t)),this.edgeType.drawLine(e,t,this.selected,this.hover,n),this.drawArrows(e,i,t),this.drawLabel(e,n)}}},{key:\"drawArrows\",value:function(e,t,n){n.fromArrow&&this.edgeType.drawArrowHead(e,n,this.selected,this.hover,t.from),n.middleArrow&&this.edgeType.drawArrowHead(e,n,this.selected,this.hover,t.middle),n.toArrow&&this.edgeType.drawArrowHead(e,n,this.selected,this.hover,t.to)}},{key:\"drawLabel\",value:function(e,t){if(void 0!==this.options.label){var n=this.from,i=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover),n.id!=i.id){this.labelModule.pointToSelf=!1;var r=this.edgeType.getPoint(.5,t);e.save();var o=this._getRotation(e);0!=o.angle&&(e.translate(o.x,o.y),e.rotate(o.angle)),this.labelModule.draw(e,r.x,r.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;var a,s,l=this.options.selfReferenceSize;n.shape.width>n.shape.height?(a=n.x+.5*n.shape.width,s=n.y-l):(a=n.x+l,s=n.y-.5*n.shape.height),r=this._pointOnCircle(a,s,l,.125),this.labelModule.draw(e,r.x,r.y,this.selected,this.hover)}}}},{key:\"getItemsOnPoint\",value:function(e){var t=[];if(this.labelModule.visible()){var n=this._getRotation();xs.pointInRect(this.labelModule.getSize(),e,n)&&t.push({edgeId:this.id,labelId:0})}var i={left:e.x,top:e.y};return this.isOverlappingWith(i)&&t.push({edgeId:this.id}),t}},{key:\"isOverlappingWith\",value:function(e){if(this.connected){var t=this.from.x,n=this.from.y,i=this.to.x,r=this.to.y,o=e.left,a=e.top;return 10>this.edgeType.getDistanceToEdge(t,n,i,r,o,a)}return!1}},{key:\"_getRotation\",value:function(t){var n=this.edgeType.getViaNode(),r=this.edgeType.getPoint(.5,n);void 0!==t&&this.labelModule.calculateLabelSize(t,this.selected,this.hover,r.x,r.y);var o={x:r.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return o;if(\"horizontal\"===this.options.font.align)return o;var a=this.from.y-this.to.y,s=this.from.x-this.to.x,l=e(a,s);return(-1>l&&0>s||0<l&&0>s)&&(l+=i),o.angle=l,o}},{key:\"_pointOnCircle\",value:function(e,r,o,a){var s=2*a*i;return{x:e+o*t(s),y:r-o*n(s)}}},{key:\"select\",value:function(){this.selected=!0}},{key:\"unselect\",value:function(){this.selected=!1}},{key:\"cleanup\",value:function(){return this.edgeType.cleanup()}},{key:\"remove\",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:\"endPointsValid\",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:\"parseOptions\",value:function(e,t){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},a=!!(4<arguments.length&&void 0!==arguments[4])&&arguments[4];if(Ji.selectiveDeepExtend([\"arrowStrikethrough\",\"id\",\"from\",\"hidden\",\"hoverWidth\",\"labelHighlightBold\",\"length\",\"line\",\"opacity\",\"physics\",\"scaling\",\"selectionWidth\",\"selfReferenceSize\",\"to\",\"title\",\"value\",\"width\",\"font\",\"chosen\",\"widthConstraint\"],e,t,n),xs.isValidLabel(t.label)?e.label=t.label:!xs.isValidLabel(e.label)&&(e.label=void 0),Ji.mergeOptions(e,t,\"smooth\",i),Ji.mergeOptions(e,t,\"shadow\",i),Ji.mergeOptions(e,t,\"background\",i),void 0!==t.dashes&&null!==t.dashes?e.dashes=t.dashes:!0===n&&null===t.dashes&&(e.dashes=Object.create(i.dashes)),void 0!==t.scaling&&null!==t.scaling?(void 0!==t.scaling.min&&(e.scaling.min=t.scaling.min),void 0!==t.scaling.max&&(e.scaling.max=t.scaling.max),Ji.mergeOptions(e.scaling,t.scaling,\"label\",i.scaling)):!0===n&&null===t.scaling&&(e.scaling=Object.create(i.scaling)),void 0===t.arrows||null===t.arrows)!0===n&&null===t.arrows&&(e.arrows=Object.create(i.arrows));else if(\"string\"==typeof t.arrows){var s=t.arrows.toLowerCase();e.arrows.to.enabled=-1!=s.indexOf(\"to\"),e.arrows.middle.enabled=-1!=s.indexOf(\"middle\"),e.arrows.from.enabled=-1!=s.indexOf(\"from\")}else{if(\"object\"!==ws(t.arrows))throw new Error(\"The arrow newOptions can only be an object or a string. Refer to the documentation. You used:\"+JSON.stringify(t.arrows));Ji.mergeOptions(e.arrows,t.arrows,\"to\",i.arrows),Ji.mergeOptions(e.arrows,t.arrows,\"middle\",i.arrows),Ji.mergeOptions(e.arrows,t.arrows,\"from\",i.arrows)}if(void 0!==t.color&&null!==t.color){var l=Ji.isString(t.color)?{color:t.color,highlight:t.color,hover:t.color,inherit:!1,opacity:1}:t.color,u=e.color;if(a)Ji.deepExtend(u,i.color,!1,n);else for(var c in u)u.hasOwnProperty(c)&&delete u[c];if(Ji.isString(u))u.color=u,u.highlight=u,u.hover=u,u.inherit=!1,void 0===l.opacity&&(u.opacity=1);else{var d=!1;void 0!==l.color&&(u.color=l.color,d=!0),void 0!==l.highlight&&(u.highlight=l.highlight,d=!0),void 0!==l.hover&&(u.hover=l.hover,d=!0),void 0!==l.inherit&&(u.inherit=l.inherit),void 0!==l.opacity&&(u.opacity=o(1,r(0,l.opacity))),1==d?u.inherit=!1:void 0===u.inherit&&(u.inherit=\"from\")}}else!0===n&&null===t.color&&(e.color=Ji.bridgeObject(i.color));!0===n&&null===t.font&&(e.font=Ji.bridgeObject(i.font))}}]),a}(),Ml=function(){var e=Math.max;function t(n,i,r){var o=this;cs(this,t),this.body=n,this.images=i,this.groups=r,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(e,t){o.add(t.items)},update:function(e,t){o.update(t.items)},remove:function(e,t){o.remove(t.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:\"arrow\"},middle:{enabled:!1,scaleFactor:1,type:\"arrow\"},from:{enabled:!1,scaleFactor:1,type:\"arrow\"}},arrowStrikethrough:!0,color:{color:\"#848484\",highlight:\"#848484\",hover:\"#848484\",inherit:\"from\",opacity:1},dashes:!1,font:{color:\"#343434\",size:14,face:\"arial\",background:\"none\",strokeWidth:2,strokeColor:\"#ffffff\",align:\"horizontal\",multi:!1,vadjust:0,bold:{mod:\"bold\"},boldital:{mod:\"bold italic\"},ital:{mod:\"italic\"},mono:{mod:\"\",size:15,face:\"courier new\",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,n,i,r){return n===t?.5:e(0,1/(n-t)*(r-t))}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:\"rgba(0,0,0,0.5)\",size:10,x:5,y:5},background:{enabled:!1,color:\"rgba(111,111,111,1)\",size:10,dashes:!1},smooth:{enabled:!0,type:\"dynamic\",forceDirection:\"none\",roundness:.5},title:void 0,width:1,value:void 0},Ji.deepExtend(this.options,this.defaultOptions),this.bindEventListeners()}return hs(t,[{key:\"bindEventListeners\",value:function(){var e=this;this.body.emitter.on(\"_forceDisableDynamicCurves\",(function(t){var n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];\"dynamic\"===t&&(t=\"continuous\");var i=!1;for(var r in e.body.edges)if(e.body.edges.hasOwnProperty(r)){var o=e.body.edges[r],a=e.body.data.edges._data[r];if(void 0!==a){var s=a.smooth;void 0!==s&&!0===s.enabled&&\"dynamic\"===s.type&&(void 0===t?o.setOptions({smooth:!1}):o.setOptions({smooth:{type:t}}),i=!0)}}!0===n&&1==i&&e.body.emitter.emit(\"_dataChanged\")})),this.body.emitter.on(\"_dataUpdated\",(function(){e.reconnectEdges()})),this.body.emitter.on(\"refreshEdges\",this.refresh.bind(this)),this.body.emitter.on(\"refresh\",this.refresh.bind(this)),this.body.emitter.on(\"destroy\",(function(){Ji.forEach(e.edgesListeners,(function(t,n){e.body.data.edges&&e.body.data.edges.off(n,t)})),delete e.body.functions.createEdge,delete e.edgesListeners.add,delete e.edgesListeners.update,delete e.edgesListeners.remove,delete e.edgesListeners}))}},{key:\"setOptions\",value:function(e){if(void 0!==e){Cl.parseOptions(this.options,e,!0,this.defaultOptions,!0);var t=!1;if(void 0!==e.smooth)for(var n in this.body.edges)this.body.edges.hasOwnProperty(n)&&(t=this.body.edges[n].updateEdgeType()||t);if(void 0!==e.font)for(var i in this.body.edges)this.body.edges.hasOwnProperty(i)&&this.body.edges[i].updateLabelModule();(void 0!==e.hidden||void 0!==e.physics||!0===t)&&this.body.emitter.emit(\"_dataChanged\")}}},{key:\"setData\",value:function(e){var t=this,n=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],i=this.body.data.edges;if(e instanceof Lr||e instanceof $r)this.body.data.edges=e;else if(Array.isArray(e))this.body.data.edges=new Lr,this.body.data.edges.add(e);else{if(e)throw new TypeError(\"Array or DataSet expected\");this.body.data.edges=new Lr}if(i&&Ji.forEach(this.edgesListeners,(function(e,t){i.off(t,e)})),this.body.edges={},this.body.data.edges){Ji.forEach(this.edgesListeners,(function(e,n){t.body.data.edges.on(n,e)}));var r=this.body.data.edges.getIds();this.add(r,!0)}this.body.emitter.emit(\"_adjustEdgesForHierarchicalLayout\"),!1===n&&this.body.emitter.emit(\"_dataChanged\")}},{key:\"add\",value:function(e){for(var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],n=this.body.edges,i=this.body.data.edges,r=0;r<e.length;r++){var o=e[r],a=n[o];a&&a.disconnect();var s=i.get(o,{showInternalIds:!0});n[o]=this.create(s)}this.body.emitter.emit(\"_adjustEdgesForHierarchicalLayout\"),!1===t&&this.body.emitter.emit(\"_dataChanged\")}},{key:\"update\",value:function(e){for(var t=this.body.edges,n=this.body.data.edges,i=!1,r=0;r<e.length;r++){var o=e[r],a=n.get(o),s=t[o];void 0===s?(this.body.edges[o]=this.create(a),i=!0):(s.disconnect(),i=s.setOptions(a)||i,s.connect())}!0===i?(this.body.emitter.emit(\"_adjustEdgesForHierarchicalLayout\"),this.body.emitter.emit(\"_dataChanged\")):this.body.emitter.emit(\"_dataUpdated\")}},{key:\"remove\",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(0!==e.length){var n=this.body.edges;Ji.forEach(e,(function(e){var t=n[e];void 0!==t&&t.remove()})),t&&this.body.emitter.emit(\"_dataChanged\")}}},{key:\"refresh\",value:function(){var e=this;Ji.forEach(this.body.edges,(function(t,n){var i=e.body.data.edges._data[n];void 0!==i&&t.setOptions(i)}))}},{key:\"create\",value:function(e){return new Cl(e,this.body,this.options,this.defaultOptions)}},{key:\"reconnectEdges\",value:function(){var e,t=this.body.nodes,n=this.body.edges;for(e in t)t.hasOwnProperty(e)&&(t[e].edges=[]);for(e in n)if(n.hasOwnProperty(e)){var i=n[e];i.from=null,i.to=null,i.connect()}}},{key:\"getConnectedNodes\",value:function(e){var t=[];if(void 0!==this.body.edges[e]){var n=this.body.edges[e];void 0!==n.fromId&&t.push(n.fromId),void 0!==n.toId&&t.push(n.toId)}return t}},{key:\"_updateState\",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:\"_removeInvalidEdges\",value:function(){var e=this,t=[];Ji.forEach(this.body.edges,(function(n,i){var r=e.body.nodes[n.toId],o=e.body.nodes[n.fromId];void 0!==r&&!0===r.isCluster||void 0!==o&&!0===o.isCluster||(void 0===r||void 0===o)&&t.push(i)})),this.remove(t,!1)}},{key:\"_addMissingEdges\",value:function(){var e=this.body.data.edges;if(null!=e){var t=this.body.edges,n=[];e.forEach((function(e,i){void 0===t[i]&&n.push(i)})),this.add(n,!0)}}}]),t}(),Tl=function(){var e=Math.sin,t=Math.sqrt,n=Math.pow,i=Math.max,r=Math.abs,o=Math.min,a=Math.floor;function s(e,t,n){cs(this,s),this.body=e,this.physicsBody=t,this.barnesHutTree,this.setOptions(n),this.randomSeed=5}return hs(s,[{key:\"setOptions\",value:function(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-i(0,o(1,this.options.avoidOverlap))}},{key:\"seededRandom\",value:function(){var t=1e4*e(this.randomSeed++);return t-a(t)}},{key:\"solve\",value:function(){if(0!==this.options.gravitationalConstant&&0<this.physicsBody.physicsNodeIndices.length){var e,t=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=n.length,r=this._formBarnesHutTree(t,n);this.barnesHutTree=r;for(var o=0;o<i;o++)0<(e=t[n[o]]).options.mass&&this._getForceContributions(r.root,e)}}},{key:\"_getForceContributions\",value:function(e,t){this._getForceContribution(e.children.NW,t),this._getForceContribution(e.children.NE,t),this._getForceContribution(e.children.SW,t),this._getForceContribution(e.children.SE,t)}},{key:\"_getForceContribution\",value:function(e,n){var i,r,o;0<e.childrenCount&&(i=e.centerOfMass.x-n.x,r=e.centerOfMass.y-n.y,(o=t(i*i+r*r))*e.calcSize>this.thetaInversed?this._calculateForces(o,i,r,n,e):4===e.childrenCount?this._getForceContributions(e,n):e.children.data.id!=n.id&&this._calculateForces(o,i,r,n,e))}},{key:\"_calculateForces\",value:function(e,t,r,o,a){0===e&&(t=e=.1),1>this.overlapAvoidanceFactor&&o.shape.radius&&(e=i(.1+this.overlapAvoidanceFactor*o.shape.radius,e-o.shape.radius));var s=this.options.gravitationalConstant*a.mass*o.options.mass/n(e,3),l=t*s;this.physicsBody.forces[o.id].x+=l,this.physicsBody.forces[o.id].y+=r*s}},{key:\"_formBarnesHutTree\",value:function(e,t){for(var n,o=t.length,a=e[t[0]].x,s=e[t[0]].y,l=e[t[0]].x,u=e[t[0]].y,c=1;c<o;c++){var d=e[t[c]],h=d.x,f=d.y;0<d.options.mass&&(h<a&&(a=h),h>l&&(l=h),f<s&&(s=f),f>u&&(u=f))}var p=r(l-a)-r(u-s);0<p?(s-=.5*p,u+=.5*p):(a+=.5*p,l-=.5*p);var g=i(1e-5,r(l-a)),m=.5*g,v=.5*(a+l),y=.5*(s+u),b={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:v-m,maxX:v+m,minY:y-m,maxY:y+m},size:g,calcSize:1/g,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(b.root);for(var _=0;_<o;_++)0<(n=e[t[_]]).options.mass&&this._placeInTree(b.root,n);return b}},{key:\"_updateBranchMass\",value:function(e,t){var n=e.centerOfMass,r=e.mass+t.options.mass,o=1/r;n.x=n.x*e.mass+t.x*t.options.mass,n.x*=o,n.y=n.y*e.mass+t.y*t.options.mass,n.y*=o,e.mass=r;var a=i(i(t.height,t.radius),t.width);e.maxWidth=e.maxWidth<a?a:e.maxWidth}},{key:\"_placeInTree\",value:function(e,t,n){(1!=n||void 0===n)&&this._updateBranchMass(e,t);var i,r=e.children.NW.range;i=r.maxX>t.x?r.maxY>t.y?\"NW\":\"SW\":r.maxY>t.y?\"NE\":\"SE\",this._placeInRegion(e,t,i)}},{key:\"_placeInRegion\",value:function(e,t,n){var i=e.children[n];switch(i.childrenCount){case 0:i.children.data=t,i.childrenCount=1,this._updateBranchMass(i,t);break;case 1:i.children.data.x===t.x&&i.children.data.y===t.y?(t.x+=this.seededRandom(),t.y+=this.seededRandom()):(this._splitBranch(i),this._placeInTree(i,t));break;case 4:this._placeInTree(i,t)}}},{key:\"_splitBranch\",value:function(e){var t=null;1===e.childrenCount&&(t=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,\"NW\"),this._insertRegion(e,\"NE\"),this._insertRegion(e,\"SW\"),this._insertRegion(e,\"SE\"),null!=t&&this._placeInTree(e,t)}},{key:\"_insertRegion\",value:function(e,t){var n,i,r,o,a=.5*e.size;\"NW\"===t?(n=e.range.minX,i=e.range.minX+a,r=e.range.minY,o=e.range.minY+a):\"NE\"===t?(n=e.range.minX+a,i=e.range.maxX,r=e.range.minY,o=e.range.minY+a):\"SW\"===t?(n=e.range.minX,i=e.range.minX+a,r=e.range.minY+a,o=e.range.maxY):\"SE\"===t&&(n=e.range.minX+a,i=e.range.maxX,r=e.range.minY+a,o=e.range.maxY),e.children[t]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:i,minY:r,maxY:o},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}},{key:\"_debug\",value:function(e,t){void 0!==this.barnesHutTree&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,t))}},{key:\"_drawBranch\",value:function(e,t,n){void 0===n&&(n=\"#FF0000\"),4===e.childrenCount&&(this._drawBranch(e.children.NW,t),this._drawBranch(e.children.NE,t),this._drawBranch(e.children.SE,t),this._drawBranch(e.children.SW,t)),t.strokeStyle=n,t.beginPath(),t.moveTo(e.range.minX,e.range.minY),t.lineTo(e.range.maxX,e.range.minY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.minY),t.lineTo(e.range.maxX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.maxY),t.lineTo(e.range.minX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.minX,e.range.maxY),t.lineTo(e.range.minX,e.range.minY),t.stroke()}}]),s}(),Al=function(){var e=Math.sqrt;function t(e,n,i){cs(this,t),this.body=e,this.physicsBody=n,this.setOptions(i)}return hs(t,[{key:\"setOptions\",value:function(e){this.options=e}},{key:\"solve\",value:function(){for(var t,n,i,r,o,a,s,l,u=this.body.nodes,c=this.physicsBody.physicsNodeIndices,d=this.physicsBody.forces,h=this.options.nodeDistance,f=0;f<c.length-1;f++){s=u[c[f]];for(var p=f+1;p<c.length;p++)t=(l=u[c[p]]).x-s.x,n=l.y-s.y,0===(i=e(t*t+n*n))&&(t=i=.1*Math.random()),i<2*h&&(a=i<.5*h?1:-2/3/h*i+4/3,r=t*(a/=i),o=n*a,d[s.id].x-=r,d[s.id].y-=o,d[l.id].x+=r,d[l.id].y+=o)}}}]),t}(),Fl=function(){var e=Math.sqrt,t=Math.pow;function n(e,t,i){cs(this,n),this.body=e,this.physicsBody=t,this.setOptions(i)}return hs(n,[{key:\"setOptions\",value:function(e){this.options=e}},{key:\"solve\",value:function(){var n,i,r,o,a,s,l,u,c,d,h=this.body.nodes,f=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces,g=this.options.nodeDistance;for(c=0;c<f.length-1;c++)for(l=h[f[c]],d=c+1;d<f.length;d++)if(u=h[f[d]],l.level===u.level){n=u.x-l.x,i=u.y-l.y;s=(r=e(n*n+i*i))<g?-t(.05*r,2)+t(.05*g,2):0,0===r?r=.01:s/=r,o=n*s,a=i*s,p[l.id].x-=o,p[l.id].y-=a,p[u.id].x+=o,p[u.id].y+=a}}}]),n}(),Pl=function(){var e=Math.sqrt,t=Math.max;function n(e,t,i){cs(this,n),this.body=e,this.physicsBody=t,this.setOptions(i)}return hs(n,[{key:\"setOptions\",value:function(e){this.options=e}},{key:\"solve\",value:function(){for(var e,t,n,i,r,o=this.physicsBody.physicsEdgeIndices,a=this.body.edges,s=0;s<o.length;s++)!0===(t=a[o[s]]).connected&&t.toId!==t.fromId&&void 0!==this.body.nodes[t.toId]&&void 0!==this.body.nodes[t.fromId]&&(void 0===t.edgeType.via?(e=void 0===t.options.length?1.5*this.options.springLength:t.options.length,this._calculateSpringForce(t.from,t.to,e)):(e=void 0===t.options.length?this.options.springLength:t.options.length,n=t.to,i=t.edgeType.via,r=t.from,this._calculateSpringForce(n,i,.5*e),this._calculateSpringForce(i,r,.5*e)))}},{key:\"_calculateSpringForce\",value:function(n,i,r){var o=n.x-i.x,a=n.y-i.y,s=t(e(o*o+a*a),.01),l=this.options.springConstant*(r-s)/s,u=o*l,c=a*l;void 0!==this.physicsBody.forces[n.id]&&(this.physicsBody.forces[n.id].x+=u,this.physicsBody.forces[n.id].y+=c),void 0!==this.physicsBody.forces[i.id]&&(this.physicsBody.forces[i.id].x-=u,this.physicsBody.forces[i.id].y-=c)}}]),n}(),Nl=function(){var e=Math.sqrt,t=Math.max,n=Math.min;function i(e,t,n){cs(this,i),this.body=e,this.physicsBody=t,this.setOptions(n)}return hs(i,[{key:\"setOptions\",value:function(e){this.options=e}},{key:\"solve\",value:function(){for(var i,r,o,a,s,l,u,c,d,h=this.body.edges,f=.5,p=this.physicsBody.physicsEdgeIndices,g=this.physicsBody.physicsNodeIndices,m=this.physicsBody.forces,v=0;v<g.length;v++)m[d=g[v]].springFx=0,m[d].springFy=0;for(var y=0;y<p.length;y++)!0===(r=h[p[y]]).connected&&(i=void 0===r.options.length?this.options.springLength:r.options.length,o=r.from.x-r.to.x,a=r.from.y-r.to.y,c=0===(c=e(o*o+a*a))?.01:c,s=o*(u=this.options.springConstant*(i-c)/c),l=a*u,r.to.level==r.from.level?(void 0!==m[r.toId]&&(m[r.toId].x-=f*s,m[r.toId].y-=f*l),void 0!==m[r.fromId]&&(m[r.fromId].x+=f*s,m[r.fromId].y+=f*l)):(void 0!==m[r.toId]&&(m[r.toId].springFx-=s,m[r.toId].springFy-=l),void 0!==m[r.fromId]&&(m[r.fromId].springFx+=s,m[r.fromId].springFy+=l)));u=1;for(var b,_,w,x=0;x<g.length;x++)w=g[x],b=n(u,t(-u,m[w].springFx)),_=n(u,t(-u,m[w].springFy)),m[w].x+=b,m[w].y+=_;for(var k,O=0,E=0,S=0;S<g.length;S++)O+=m[k=g[S]].x,E+=m[k].y;for(var D,j=O/g.length,C=E/g.length,M=0;M<g.length;M++)m[D=g[M]].x-=j,m[D].y-=C}}]),i}(),zl=function(){var e=Math.sqrt;function t(e,n,i){cs(this,t),this.body=e,this.physicsBody=n,this.setOptions(i)}return hs(t,[{key:\"setOptions\",value:function(e){this.options=e}},{key:\"solve\",value:function(){for(var t,n,i,r,o=this.body.nodes,a=this.physicsBody.physicsNodeIndices,s=this.physicsBody.forces,l=0;l<a.length;l++)t=-(r=o[a[l]]).x,n=-r.y,i=e(t*t+n*n),this._calculateForces(i,t,n,s,r)}},{key:\"_calculateForces\",value:function(e,t,n,i,r){var o=0===e?0:this.options.centralGravity/e;i[r.id].x=t*o,i[r.id].y=n*o}}]),t}(),Rl=function(e){var t=Math.pow,n=Math.max;function i(e,t,n){return cs(this,i),Ms(this,Ts(i).call(this,e,t,n))}return Ps(i,e),hs(i,[{key:\"_calculateForces\",value:function(e,i,r,o,a){0===e&&(i=e=.1*Math.random()),1>this.overlapAvoidanceFactor&&o.shape.radius&&(e=n(.1+this.overlapAvoidanceFactor*o.shape.radius,e-o.shape.radius));var s=o.edges.length+1,l=this.options.gravitationalConstant*a.mass*o.options.mass*s/t(e,2),u=i*l;this.physicsBody.forces[o.id].x+=u,this.physicsBody.forces[o.id].y+=r*l}}]),i}(Tl),Il=function(e){function t(e,n,i){return cs(this,t),Ms(this,Ts(t).call(this,e,n,i))}return Ps(t,e),hs(t,[{key:\"_calculateForces\",value:function(e,t,n,i,r){if(0<e){var o=r.edges.length+1,a=this.options.centralGravity*o*r.options.mass;i[r.id].x=t*a,i[r.id].y=n*a}}}]),t}(zl),Bl=function(){var e=Math.atan2,t=Math.sqrt,n=Math.pow,i=Math.max,r=Math.abs,o=Math.min;function a(e){cs(this,a),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:\"barnesHut\",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},Ji.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return hs(a,[{key:\"bindEventListeners\",value:function(){var e=this;this.body.emitter.on(\"initPhysics\",(function(){e.initPhysics()})),this.body.emitter.on(\"_layoutFailed\",(function(){e.layoutFailed=!0})),this.body.emitter.on(\"resetPhysics\",(function(){e.stopSimulation(),e.ready=!1})),this.body.emitter.on(\"disablePhysics\",(function(){e.physicsEnabled=!1,e.stopSimulation()})),this.body.emitter.on(\"restorePhysics\",(function(){e.setOptions(e.options),!0===e.ready&&e.startSimulation()})),this.body.emitter.on(\"startSimulation\",(function(){!0===e.ready&&e.startSimulation()})),this.body.emitter.on(\"stopSimulation\",(function(){e.stopSimulation()})),this.body.emitter.on(\"destroy\",(function(){e.stopSimulation(!1),e.body.emitter.off()})),this.body.emitter.on(\"_dataChanged\",(function(){e.updatePhysicsData()}))}},{key:\"setOptions\",value:function(e){void 0!==e&&(!1===e?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):!0===e?(this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation()):(this.physicsEnabled=!0,Ji.selectiveNotDeepExtend([\"stabilization\"],this.options,e),Ji.mergeOptions(this.options,e,\"stabilization\"),void 0===e.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:\"init\",value:function(){var e;\"forceAtlas2Based\"===this.options.solver?(e=this.options.forceAtlas2Based,this.nodesSolver=new Rl(this.body,this.physicsBody,e),this.edgesSolver=new Pl(this.body,this.physicsBody,e),this.gravitySolver=new Il(this.body,this.physicsBody,e)):\"repulsion\"===this.options.solver?(e=this.options.repulsion,this.nodesSolver=new Al(this.body,this.physicsBody,e),this.edgesSolver=new Pl(this.body,this.physicsBody,e),this.gravitySolver=new zl(this.body,this.physicsBody,e)):\"hierarchicalRepulsion\"===this.options.solver?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new Fl(this.body,this.physicsBody,e),this.edgesSolver=new Nl(this.body,this.physicsBody,e),this.gravitySolver=new zl(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new Tl(this.body,this.physicsBody,e),this.edgesSolver=new Pl(this.body,this.physicsBody,e),this.gravitySolver=new zl(this.body,this.physicsBody,e)),this.modelOptions=e}},{key:\"initPhysics\",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit(\"fit\",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit(\"fit\"))}},{key:\"startSimulation\",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit(\"_resizeNodes\"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on(\"initRedraw\",this.viewFunction),this.body.emitter.emit(\"_startRendering\"))):this.body.emitter.emit(\"_redraw\")}},{key:\"stopSimulation\",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===e&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off(\"initRedraw\",this.viewFunction),this.viewFunction=void 0,!0===e&&this.body.emitter.emit(\"_stopRendering\"))}},{key:\"simulationStep\",value:function(){var e=Date.now();this.physicsTick(),(Date.now()-e<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:\"_emitStabilized\",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(1<this.stabilizationIterations||!0===this.startedStabilization)&&setTimeout((function(){e.body.emitter.emit(\"stabilized\",{iterations:t}),e.startedStabilization=!1,e.stabilizationIterations=0}),0)}},{key:\"physicsStep\",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:\"adjustTimeStep\",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=i(this.options.timestep,this.timestep/1.2))}},{key:\"physicsTick\",value:function(){if(this._startStabilizing(),!0!==this.stabilized){if(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled)0==this.adaptiveCounter%this.adaptiveInterval?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1;else this.timestep=this.options.timestep,this.physicsStep();!0===this.stabilized&&this.revert(),this.stabilizationIterations++}}},{key:\"updatePhysicsData\",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var e=this.body.nodes,t=this.body.edges;for(var n in e)e.hasOwnProperty(n)&&!0===e[n].options.physics&&this.physicsBody.physicsNodeIndices.push(e[n].id);for(var i in t)t.hasOwnProperty(i)&&!0===t[i].options.physics&&this.physicsBody.physicsEdgeIndices.push(t[i].id);for(var r,o=0;o<this.physicsBody.physicsNodeIndices.length;o++)r=this.physicsBody.physicsNodeIndices[o],this.physicsBody.forces[r]={x:0,y:0},void 0===this.physicsBody.velocities[r]&&(this.physicsBody.velocities[r]={x:0,y:0});for(var a in this.physicsBody.velocities)void 0===e[a]&&delete this.physicsBody.velocities[a]}},{key:\"revert\",value:function(){var e=Object.keys(this.previousStates),t=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(var i,r=0;r<e.length;r++)void 0===t[i=e[r]]?delete this.previousStates[i]:!0===t[i].options.physics&&(this.referenceState[i]={positions:{x:t[i].x,y:t[i].y}},n[i].x=this.previousStates[i].vx,n[i].y=this.previousStates[i].vy,t[i].x=this.previousStates[i].x,t[i].y=this.previousStates[i].y)}},{key:\"_evaluateStepQuality\",value:function(){var e,i,r=this.body.nodes,o=this.referenceState;for(var a in this.referenceState)if(this.referenceState.hasOwnProperty(a)&&void 0!==r[a]&&(e=r[a].x-o[a].positions.x,i=r[a].y-o[a].positions.y,t(n(e,2)+n(i,2))>.3))return!1;return!0}},{key:\"moveNodes\",value:function(){for(var e=this.physicsBody.physicsNodeIndices,t=0,n=0,r=0;r<e.length;r++){var o=e[r],a=this._performStep(o);t=i(t,a),n+=a}this.adaptiveTimestepEnabled=n/e.length<5,this.stabilized=t<this.options.minVelocity}},{key:\"calculateComponentVelocity\",value:function(e,t,n){e+=(t-this.modelOptions.damping*e)/n*this.timestep;var i=this.options.maxVelocity||1e9;return r(e)>i&&(e=0<e?i:-i),e}},{key:\"_performStep\",value:function(e){var i=this.body.nodes[e],r=this.physicsBody.forces[e],o=this.physicsBody.velocities[e];return this.previousStates[e]={x:i.x,y:i.y,vx:o.x,vy:o.y},!1===i.options.fixed.x?(o.x=this.calculateComponentVelocity(o.x,r.x,i.options.mass),i.x+=o.x*this.timestep):(r.x=0,o.x=0),!1===i.options.fixed.y?(o.y=this.calculateComponentVelocity(o.y,r.y,i.options.mass),i.y+=o.y*this.timestep):(r.y=0,o.y=0),t(n(o.x,2)+n(o.y,2))}},{key:\"_freezeNodes\",value:function(){var e=this.body.nodes;for(var t in e)if(e.hasOwnProperty(t)&&e[t].x&&e[t].y){var n=e[t].options.fixed;this.freezeCache[t]={x:n.x,y:n.y},n.x=!0,n.y=!0}}},{key:\"_restoreFrozenNodes\",value:function(){var e=this.body.nodes;for(var t in e)e.hasOwnProperty(t)&&void 0!==this.freezeCache[t]&&(e[t].options.fixed.x=this.freezeCache[t].x,e[t].options.fixed.y=this.freezeCache[t].y);this.freezeCache={}}},{key:\"stabilize\",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;return\"number\"!=typeof t&&(t=this.options.stabilization.iterations,console.log(\"The stabilize method needs a numeric amount of iterations. Switching to default: \",t)),0===this.physicsBody.physicsNodeIndices.length?void(this.ready=!0):(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit(\"_resizeNodes\"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit(\"_blockRedraw\"),this.targetIterations=t,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,void setTimeout((function(){return e._stabilizationBatch()}),0))}},{key:\"_startStabilizing\",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit(\"startStabilizing\"),this.startedStabilization=!0,!0)}},{key:\"_stabilizationBatch\",value:function(){var e=this,t=function(){return!1===e.stabilized&&e.stabilizationIterations<e.targetIterations},n=function(){e.body.emitter.emit(\"stabilizationProgress\",{iterations:e.stabilizationIterations,total:e.targetIterations})};this._startStabilizing()&&n();for(var i=0;t()&&i<this.options.stabilization.updateInterval;)this.physicsTick(),i++;n(),t()?setTimeout(this._stabilizationBatch.bind(this),0):this._finalizeStabilization()}},{key:\"_finalizeStabilization\",value:function(){this.body.emitter.emit(\"_allowRedraw\"),!0===this.options.stabilization.fit&&this.body.emitter.emit(\"fit\"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit(\"stabilizationIterationsDone\"),this.body.emitter.emit(\"_requestRedraw\"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:\"_drawForces\",value:function(r){for(var a=0;a<this.physicsBody.physicsNodeIndices.length;a++){var s=this.physicsBody.physicsNodeIndices[a],l=this.body.nodes[s],u=this.physicsBody.forces[s],c=t(n(u.x,2)+n(u.x,2)),d=o(i(5,c),15),h=Ji.HSVToHex((180-180*o(1,i(0,.03*c)))/360,1,1),f={x:l.x+20*u.x,y:l.y+20*u.y};r.lineWidth=d,r.strokeStyle=h,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(f.x,f.y),r.stroke();var p=e(u.y,u.x);r.fillStyle=h,bl.draw(r,{type:\"arrow\",point:f,angle:p,length:3*d}),r.fill()}}}]),a}(),Ll=function(){function e(){cs(this,e)}return hs(e,null,[{key:\"getRange\",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],i=1e9,r=-1e9,o=1e9,a=-1e9;if(0<n.length)for(var s=0;s<n.length;s++)o>(t=e[n[s]]).shape.boundingBox.left&&(o=t.shape.boundingBox.left),a<t.shape.boundingBox.right&&(a=t.shape.boundingBox.right),i>t.shape.boundingBox.top&&(i=t.shape.boundingBox.top),r<t.shape.boundingBox.bottom&&(r=t.shape.boundingBox.bottom);return 1e9===o&&-1e9===a&&1e9===i&&-1e9===r&&(i=0,r=0,o=0,a=0),{minX:o,maxX:a,minY:i,maxY:r}}},{key:\"getRangeCore\",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],i=1e9,r=-1e9,o=1e9,a=-1e9;if(0<n.length)for(var s=0;s<n.length;s++)o>(t=e[n[s]]).x&&(o=t.x),a<t.x&&(a=t.x),i>t.y&&(i=t.y),r<t.y&&(r=t.y);return 1e9===o&&-1e9===a&&1e9===i&&-1e9===r&&(i=0,r=0,o=0,a=0),{minX:o,maxX:a,minY:i,maxY:r}}},{key:\"findCenter\",value:function(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}},{key:\"cloneOptions\",value:function(e,t){var n={};return void 0===t||\"node\"===t?(Ji.deepExtend(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):Ji.deepExtend(n,e.options,!0),n}}]),e}(),$l=function(e){function t(e,n,i,r,o,a){var s;return cs(this,t),(s=Ms(this,Ts(t).call(this,e,n,i,r,o,a))).isCluster=!0,s.containedNodes={},s.containedEdges={},s}return Ps(t,e),hs(t,[{key:\"_openChildCluster\",value:function(e){var t=this,n=this.body.nodes[e];if(void 0===this.containedNodes[e])throw new Error(\"node with id: \"+e+\" not in current cluster\");if(!n.isCluster)throw new Error(\"node with id: \"+e+\" is not a cluster\");delete this.containedNodes[e],Ji.forEach(n.edges,(function(e){delete t.containedEdges[e.id]})),Ji.forEach(n.containedNodes,(function(e,n){t.containedNodes[n]=e})),n.containedNodes={},Ji.forEach(n.containedEdges,(function(e,n){t.containedEdges[n]=e})),n.containedEdges={},Ji.forEach(n.edges,(function(e){Ji.forEach(t.edges,(function(n){var i=n.clusteringEdgeReplacingIds.indexOf(e.id);-1===i||(Ji.forEach(e.clusteringEdgeReplacingIds,(function(e){n.clusteringEdgeReplacingIds.push(e),t.body.edges[e].edgeReplacedById=n.id})),n.clusteringEdgeReplacingIds.splice(i,1))}))})),n.edges=[]}}]),t}(il),Wl=function(){var e=Math.sqrt,t=Math.pow,n=Math.floor;function i(e){var t=this;cs(this,i),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},Ji.extend(this.options,this.defaultOptions),this.body.emitter.on(\"_resetData\",(function(){t.clusteredNodes={},t.clusteredEdges={}}))}return hs(i,[{key:\"clusterByHubsize\",value:function(e,t){void 0===e?e=this._getHubSize():\"object\"===ws(e)&&(t=this._checkOptions(e),e=this._getHubSize());for(var n,i=[],r=0;r<this.body.nodeIndices.length;r++)(n=this.body.nodes[this.body.nodeIndices[r]]).edges.length>=e&&i.push(n.id);for(var o=0;o<i.length;o++)this.clusterByConnection(i[o],t,!0);this.body.emitter.emit(\"_dataChanged\")}},{key:\"cluster\",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(void 0===t.joinCondition)throw new Error(\"Cannot call clusterByNodeData without a joinCondition function in the options.\");t=this._checkOptions(t);var i={},r={};Ji.forEach(this.body.nodes,(function(n,o){n.options&&!0===t.joinCondition(n.options)&&(i[o]=n,Ji.forEach(n.edges,(function(t){void 0===e.clusteredEdges[t.id]&&(r[t.id]=t)})))})),this._cluster(i,r,t,n)}},{key:\"clusterByEdgeCount\",value:function(e,t){var n=this,i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];t=this._checkOptions(t);for(var r,o,a,s=[],l={},u=function(i){var u={},c={},f=n.body.nodeIndices[i],p=n.body.nodes[f];if(void 0===l[f]){a=0,o=[];for(var g=0;g<p.edges.length;g++)r=p.edges[g],void 0===n.clusteredEdges[r.id]&&(r.toId!==r.fromId&&a++,o.push(r));if(a===e){d=function(e){if(void 0===t.joinCondition||null===t.joinCondition)return!0;var n=Ll.cloneOptions(e);return t.joinCondition(n)};for(var m=!0,v=0;v<o.length;v++){r=o[v];var y=n._getConnectedId(r,f);if(!d(p)){m=!1;break}c[r.id]=r,u[f]=p,u[y]=n.body.nodes[y],l[f]=!0}if(0<Object.keys(u).length&&0<Object.keys(c).length&&!0===m)if(void 0!==(h=function(){for(var e=0;e<s.length;++e)for(var t in u)if(void 0!==s[e].nodes[t])return s[e]}())){for(var b in u)void 0===h.nodes[b]&&(h.nodes[b]=u[b]);for(var _ in c)void 0===h.edges[_]&&(h.edges[_]=c[_])}else s.push({nodes:u,edges:c})}}},c=0;c<this.body.nodeIndices.length;c++){var d,h;u(c)}for(c=0;c<s.length;c++)this._cluster(s[c].nodes,s[c].edges,t,!1);!0===i&&this.body.emitter.emit(\"_dataChanged\")}},{key:\"clusterOutliers\",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,e,t)}},{key:\"clusterBridges\",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,e,t)}},{key:\"clusterByConnection\",value:function(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(void 0===e)throw new Error(\"No nodeId supplied to clusterByConnection!\");if(void 0===this.body.nodes[e])throw new Error(\"The nodeId given to clusterByConnection does not exist!\");var i=this.body.nodes[e];void 0===(t=this._checkOptions(t,i)).clusterNodeProperties.x&&(t.clusterNodeProperties.x=i.x),void 0===t.clusterNodeProperties.y&&(t.clusterNodeProperties.y=i.y),void 0===t.clusterNodeProperties.fixed&&(t.clusterNodeProperties.fixed={},t.clusterNodeProperties.fixed.x=i.options.fixed.x,t.clusterNodeProperties.fixed.y=i.options.fixed.y);var r={},o={},a=i.id,s=Ll.cloneOptions(i);r[a]=i;for(var l,u=0;u<i.edges.length;u++)if(l=i.edges[u],void 0===this.clusteredEdges[l.id]){var c=this._getConnectedId(l,a);if(void 0===this.clusteredNodes[c])if(c===a)o[l.id]=l;else if(void 0===t.joinCondition)o[l.id]=l,r[c]=this.body.nodes[c];else{var d=Ll.cloneOptions(this.body.nodes[c]);!0===t.joinCondition(s,d)&&(o[l.id]=l,r[c]=this.body.nodes[c])}}var h=Object.keys(r).map((function(e){return r[e].id}));for(p in r)if(r.hasOwnProperty(p))for(var f,p=r[p],g=0;g<p.edges.length;g++)f=p.edges[g],-1<h.indexOf(this._getConnectedId(f,p.id))&&(o[f.id]=f);this._cluster(r,o,t,n)}},{key:\"_createClusterEdges\",value:function(e,t,n,i){for(var r,o,a,s,l,u,c=Object.keys(e),d=[],h=0;h<c.length;h++){a=e[o=c[h]];for(var f=0;f<a.edges.length;f++)r=a.edges[f],void 0===this.clusteredEdges[r.id]&&(r.toId==r.fromId?t[r.id]=r:r.toId==o?(s=n.id,u=l=r.fromId):(s=r.toId,l=n.id,u=s),void 0===e[u]&&d.push({edge:r,fromId:l,toId:s}))}for(var p=[],g=function(e){for(var t=0;t<p.length;t++){var n=p[t],i=e.fromId===n.fromId&&e.toId===n.toId,r=e.fromId===n.toId&&e.toId===n.fromId;if(i||r)return n}return null},m=0;m<d.length;m++){var v=d[m],y=v.edge,b=g(v);null===b?(b=this._createClusteredEdge(v.fromId,v.toId,y,i),p.push(b)):b.clusteringEdgeReplacingIds.push(y.id),this.body.edges[y.id].edgeReplacedById=b.id,this._backupEdgeOptions(y),y.setOptions({physics:!1})}}},{key:\"_checkOptions\",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return void 0===e.clusterEdgeProperties&&(e.clusterEdgeProperties={}),void 0===e.clusterNodeProperties&&(e.clusterNodeProperties={}),e}},{key:\"_cluster\",value:function(e,t,n){var i=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],r=[];for(var o in e)e.hasOwnProperty(o)&&void 0!==this.clusteredNodes[o]&&r.push(o);for(var a=0;a<r.length;++a)delete e[r[a]];if(0!=Object.keys(e).length&&(1!=Object.keys(e).length||1==n.clusterNodeProperties.allowSingleNodeCluster)){var s=Ji.deepExtend({},n.clusterNodeProperties);if(void 0!==n.processProperties){var l=[];for(var u in e)if(e.hasOwnProperty(u)){var c=Ll.cloneOptions(e[u]);l.push(c)}var d=[];for(var h in t)if(t.hasOwnProperty(h)&&\"clusterEdge:\"!==h.substr(0,12)){var f=Ll.cloneOptions(t[h],\"edge\");d.push(f)}if(!(s=n.processProperties(s,l,d)))throw new Error(\"The processProperties function does not return properties!\")}void 0===s.id&&(s.id=\"cluster:\"+Ji.randomUUID());var p,g=s.id;void 0===s.label&&(s.label=\"cluster\"),void 0===s.x&&(p=this._getClusterPosition(e),s.x=p.x),void 0===s.y&&(void 0===p&&(p=this._getClusterPosition(e)),s.y=p.y),s.id=g;var m=this.body.functions.createNode(s,$l);m.containedNodes=e,m.containedEdges=t,m.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[s.id]=m,this._clusterEdges(e,t,s,n.clusterEdgeProperties),s.id=void 0,!0===i&&this.body.emitter.emit(\"_dataChanged\")}}},{key:\"_backupEdgeOptions\",value:function(e){void 0===this.clusteredEdges[e.id]&&(this.clusteredEdges[e.id]={physics:e.options.physics})}},{key:\"_restoreEdge\",value:function(e){var t=this.clusteredEdges[e.id];void 0!==t&&(e.setOptions({physics:t.physics}),delete this.clusteredEdges[e.id])}},{key:\"isCluster\",value:function(e){return void 0===this.body.nodes[e]?(console.log(\"Node does not exist.\"),!1):!0===this.body.nodes[e].isCluster}},{key:\"_getClusterPosition\",value:function(e){for(var t,n=Object.keys(e),i=e[n[0]].x,r=e[n[0]].x,o=e[n[0]].y,a=e[n[0]].y,s=1;s<n.length;s++)i=(t=e[n[s]]).x<i?t.x:i,r=t.x>r?t.x:r,o=t.y<o?t.y:o,a=t.y>a?t.y:a;return{x:.5*(i+r),y:.5*(o+a)}}},{key:\"openCluster\",value:function(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(void 0===e)throw new Error(\"No clusterNodeId supplied to openCluster.\");var i=this.body.nodes[e];if(void 0===i)throw new Error(\"The clusterNodeId supplied to openCluster does not exist.\");if(!0!==i.isCluster||void 0===i.containedNodes||void 0===i.containedEdges)throw new Error(\"The node:\"+e+\" is not a valid cluster.\");var r=this.findNode(e),o=r.indexOf(e)-1;if(0<=o){var a=r[o],s=this.body.nodes[a];return s._openChildCluster(e),delete this.body.nodes[e],void(!0===n&&this.body.emitter.emit(\"_dataChanged\"))}var l=i.containedNodes,u=i.containedEdges;if(void 0!==t&&void 0!==t.releaseFunction&&\"function\"==typeof t.releaseFunction){var c={},d={x:i.x,y:i.y};for(var h in l)if(l.hasOwnProperty(h)){var f=this.body.nodes[h];c[h]={x:f.x,y:f.y}}var p=t.releaseFunction(d,c);for(var g in l)if(l.hasOwnProperty(g)){var m=this.body.nodes[g];void 0!==p[g]&&(m.x=void 0===p[g].x?i.x:p[g].x,m.y=void 0===p[g].y?i.y:p[g].y)}}else Ji.forEach(l,(function(e){!1===e.options.fixed.x&&(e.x=i.x),!1===e.options.fixed.y&&(e.y=i.y)}));for(var v in l)if(l.hasOwnProperty(v)){var y=this.body.nodes[v];y.vx=i.vx,y.vy=i.vy,y.setOptions({physics:!0}),delete this.clusteredNodes[v]}for(var b=[],_=0;_<i.edges.length;_++)b.push(i.edges[_]);for(var w=0;w<b.length;w++){for(var x=b[w],k=this._getConnectedId(x,e),O=this.clusteredNodes[k],E=0;E<x.clusteringEdgeReplacingIds.length;E++){var S=x.clusteringEdgeReplacingIds[E],D=this.body.edges[S];if(void 0!==D)if(void 0!==O){var j=this.body.nodes[O.clusterId];j.containedEdges[D.id]=D,delete u[D.id];var C=D.fromId,M=D.toId;D.toId==k?M=O.clusterId:C=O.clusterId,this._createClusteredEdge(C,M,D,j.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(D)}x.remove()}for(var T in u)u.hasOwnProperty(T)&&this._restoreEdge(u[T]);delete this.body.nodes[e],!0===n&&this.body.emitter.emit(\"_dataChanged\")}},{key:\"getNodesInCluster\",value:function(e){var t=[];if(!0===this.isCluster(e)){var n=this.body.nodes[e].containedNodes;for(var i in n)n.hasOwnProperty(i)&&t.push(this.body.nodes[i].id)}return t}},{key:\"findNode\",value:function(e){for(var t,n=[],i=0;void 0!==this.clusteredNodes[e]&&i<100;){if(void 0===(t=this.body.nodes[e]))return[];n.push(t.id),e=this.clusteredNodes[e].clusterId,i++}return void 0===(t=this.body.nodes[e])?[]:(n.push(t.id),n.reverse(),n)}},{key:\"updateClusteredNode\",value:function(e,t){if(void 0===e)throw new Error(\"No clusteredNodeId supplied to updateClusteredNode.\");if(void 0===t)throw new Error(\"No newOptions supplied to updateClusteredNode.\");if(void 0===this.body.nodes[e])throw new Error(\"The clusteredNodeId supplied to updateClusteredNode does not exist.\");this.body.nodes[e].setOptions(t),this.body.emitter.emit(\"_dataChanged\")}},{key:\"updateEdge\",value:function(e,t){if(void 0===e)throw new Error(\"No startEdgeId supplied to updateEdge.\");if(void 0===t)throw new Error(\"No newOptions supplied to updateEdge.\");if(void 0===this.body.edges[e])throw new Error(\"The startEdgeId supplied to updateEdge does not exist.\");for(var n=this.getClusteredEdges(e),i=0;i<n.length;i++)this.body.edges[n[i]].setOptions(t);this.body.emitter.emit(\"_dataChanged\")}},{key:\"getClusteredEdges\",value:function(e){for(var t=[],n=0;void 0!==e&&void 0!==this.body.edges[e]&&n<100;)t.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,n++;return t.reverse(),t}},{key:\"getBaseEdge\",value:function(e){return this.getBaseEdges(e)[0]}},{key:\"getBaseEdges\",value:function(e){for(var t,n=[e],i=[],r=[],o=0;0<n.length&&o<100;)if(void 0!==(t=n.pop())){var a=this.body.edges[t];if(void 0!==a){o++;var s=a.clusteringEdgeReplacingIds;if(void 0===s)r.push(t);else for(var l,u=0;u<s.length;++u)l=s[u],-1===n.indexOf(s)&&-1===i.indexOf(s)&&n.push(l);i.push(t)}}return r}},{key:\"_getConnectedId\",value:function(e,t){return e.toId==t?(e.fromId,e.fromId):e.toId}},{key:\"_getHubSize\",value:function(){for(var i,r=0,o=0,a=0,s=0,l=0;l<this.body.nodeIndices.length;l++)(i=this.body.nodes[this.body.nodeIndices[l]]).edges.length>s&&(s=i.edges.length),r+=i.edges.length,o+=t(i.edges.length,2),a+=1;var u=(o/=a)-t(r/=a,2),c=e(u),d=n(r+2*c);return d>s&&(d=s),d}},{key:\"_createClusteredEdge\",value:function(e,t,n,i,r){var o=Ll.cloneOptions(n,\"edge\");Ji.deepExtend(o,i),o.from=e,o.to=t,o.id=\"clusterEdge:\"+Ji.randomUUID(),void 0!==r&&Ji.deepExtend(o,r);var a=this.body.functions.createEdge(o);return a.clusteringEdgeReplacingIds=[n.id],a.connect(),this.body.edges[a.id]=a,a}},{key:\"_clusterEdges\",value:function(e,t,n,i){if(t instanceof Cl){var r=t,o={};o[r.id]=r,t=o}if(e instanceof il){var a=e,s={};s[a.id]=a,e=s}if(null==n)throw new Error(\"_clusterEdges: parameter clusterNode required\");for(var l in void 0===i&&(i=n.clusterEdgeProperties),this._createClusterEdges(e,t,n,i),t)if(t.hasOwnProperty(l)&&void 0!==this.body.edges[l]){var u=this.body.edges[l];this._backupEdgeOptions(u),u.setOptions({physics:!1})}for(var c in e)e.hasOwnProperty(c)&&(this.clusteredNodes[c]={clusterId:n.id,node:this.body.nodes[c]},this.body.nodes[c].setOptions({physics:!1}))}},{key:\"_getClusterNodeForNode\",value:function(e){if(void 0!==e){var t=this.clusteredNodes[e];if(void 0!==t){var n=t.clusterId;return void 0===n?void 0:this.body.nodes[n]}}}},{key:\"_filter\",value:function(e,t){var n=[];return Ji.forEach(e,(function(e){t(e)&&n.push(e)})),n}},{key:\"_updateState\",value:function(){var e,t=this,n=[],i={},r=function(e){Ji.forEach(t.body.nodes,(function(t){!0===t.isCluster&&e(t)}))};for(e in this.clusteredNodes)if(this.clusteredNodes.hasOwnProperty(e)){void 0===this.body.nodes[e]&&n.push(e)}r((function(e){for(var t=0;t<n.length;t++)delete e.containedNodes[n[t]]}));for(var o=0;o<n.length;o++)delete this.clusteredNodes[n[o]];Ji.forEach(this.clusteredEdges,(function(e){var n=t.body.edges[e];void 0!==n&&n.endPointsValid()||(i[e]=e)})),r((function(e){Ji.forEach(e.containedEdges,(function(e,t){e.endPointsValid()||i[t]||(i[t]=t)}))})),Ji.forEach(this.body.edges,(function(e,n){var r=!0,o=e.clusteringEdgeReplacingIds;if(void 0!==o){var a=0;Ji.forEach(o,(function(e){var n=t.body.edges[e];void 0!==n&&n.endPointsValid()&&(a+=1)})),r=0<a}e.endPointsValid()&&r||(i[n]=n)})),r((function(e){Ji.forEach(i,(function(n){delete e.containedEdges[n],Ji.forEach(e.edges,(function(r,o){return r.id===n?void(e.edges[o]=null):void(r.clusteringEdgeReplacingIds=t._filter(r.clusteringEdgeReplacingIds,(function(e){return!i[e]})))})),e.edges=t._filter(e.edges,(function(e){return null!==e}))}))})),Ji.forEach(i,(function(e){delete t.clusteredEdges[e]})),Ji.forEach(i,(function(e){delete t.body.edges[e]}));var a=Object.keys(this.body.edges);Ji.forEach(a,(function(e){var n=t.body.edges[e],i=t._isClusteredNode(n.fromId)||t._isClusteredNode(n.toId);if(i!==t._isClusteredEdge(n.id))if(i){var r=t._getClusterNodeForNode(n.fromId);void 0!==r&&t._clusterEdges(t.body.nodes[n.fromId],n,r);var o=t._getClusterNodeForNode(n.toId);void 0!==o&&t._clusterEdges(t.body.nodes[n.toId],n,o)}else delete t._clusterEdges[e],t._restoreEdge(n)}));for(var s=!1,l=!0,u=function(){var e=[];r((function(t){var n=Object.keys(t.containedNodes).length,i=!0===t.options.allowSingleNodeCluster;(i&&1>n||!i&&2>n)&&e.push(t.id)}));for(var n=0;n<e.length;++n)t.openCluster(e[n],{},!1);l=0<e.length,s=s||l};l;)u();s&&this._updateState()}},{key:\"_isClusteredNode\",value:function(e){return void 0!==this.clusteredNodes[e]}},{key:\"_isClusteredEdge\",value:function(e){return void 0!==this.clusteredEdges[e]}}]),i}();var Ul=function(){function e(t,n){cs(this,e),function(){var e;void 0!==window&&(e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===e?function(e){e()}:e}(),this.body=t,this.canvas=n,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},Ji.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return hs(e,[{key:\"bindEventListeners\",value:function(){var e=this;this.body.emitter.on(\"dragStart\",(function(){e.dragging=!0})),this.body.emitter.on(\"dragEnd\",(function(){e.dragging=!1})),this.body.emitter.on(\"zoom\",(function(){e.zooming=!0,window.clearTimeout(e.zoomTimeoutId),e.zoomTimeoutId=window.setTimeout((function(){e.zooming=!1,e._requestRedraw.bind(e)()}),250)})),this.body.emitter.on(\"_resizeNodes\",(function(){e._resizeNodes()})),this.body.emitter.on(\"_redraw\",(function(){!1===e.renderingActive&&e._redraw()})),this.body.emitter.on(\"_blockRedraw\",(function(){e.allowRedraw=!1})),this.body.emitter.on(\"_allowRedraw\",(function(){e.allowRedraw=!0,e.redrawRequested=!1})),this.body.emitter.on(\"_requestRedraw\",this._requestRedraw.bind(this)),this.body.emitter.on(\"_startRendering\",(function(){e.renderRequests+=1,e.renderingActive=!0,e._startRendering()})),this.body.emitter.on(\"_stopRendering\",(function(){e.renderRequests-=1,e.renderingActive=0<e.renderRequests,e.renderTimer=void 0})),this.body.emitter.on(\"destroy\",(function(){e.renderRequests=0,e.allowRedraw=!1,e.renderingActive=!1,!0===e.requiresTimeout?clearTimeout(e.renderTimer):window.cancelAnimationFrame(e.renderTimer),e.body.emitter.off()}))}},{key:\"setOptions\",value:function(e){void 0!==e&&Ji.selectiveDeepExtend([\"hideEdgesOnDrag\",\"hideEdgesOnZoom\",\"hideNodesOnDrag\"],this.options,e)}},{key:\"_requestNextFrame\",value:function(e,t){if(\"undefined\"!=typeof window){var n,i=window;return!0===this.requiresTimeout?n=i.setTimeout(e,t):i.requestAnimationFrame&&(n=i.requestAnimationFrame(e)),n}}},{key:\"_startRendering\",value:function(){!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(this._renderStep.bind(this),this.simulationInterval))}},{key:\"_renderStep\",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:\"redraw\",value:function(){this.body.emitter.emit(\"setSize\"),this._redraw()}},{key:\"_requestRedraw\",value:function(){var e=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame((function(){e._redraw(!1)}),0))}},{key:\"_redraw\",value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit(\"initRedraw\"),this.redrawRequested=!1,(0===this.canvas.frame.canvas.width||0===this.canvas.frame.canvas.height)&&this.canvas.setSize(),this.canvas.setTransform();var t=this.canvas.getContext(),n=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight;if(t.clearRect(0,0,n,i),0===this.canvas.frame.clientWidth)return;t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale),t.beginPath(),this.body.emitter.emit(\"beforeDrawing\",t),t.closePath(),!1===e&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawEdges(t),(!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag)&&this._drawNodes(t,e),t.beginPath(),this.body.emitter.emit(\"afterDrawing\",t),t.closePath(),t.restore(),!0===e&&t.clearRect(0,0,n,i)}}},{key:\"_resizeNodes\",value:function(){this.canvas.setTransform();var e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);var t,n=this.body.nodes;for(var i in n)n.hasOwnProperty(i)&&((t=n[i]).resize(e),t.updateBoundingBox(e,t.selected));e.restore()}},{key:\"_drawNodes\",value:function(e){for(var t,n=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],i=this.body.nodes,r=this.body.nodeIndices,o=[],a=20,s=this.canvas.DOMtoCanvas({x:-a,y:-a}),l=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+a,y:this.canvas.frame.canvas.clientHeight+a}),u={top:s.y,left:s.x,bottom:l.y,right:l.x},c=0;c<r.length;c++)(t=i[r[c]]).isSelected()?o.push(r[c]):!0===n||!0===t.isBoundingBoxOverlappingWith(u)?t.draw(e):t.updateBoundingBox(e,t.selected);for(var d=0;d<o.length;d++)(t=i[o[d]]).draw(e)}},{key:\"_drawEdges\",value:function(e){for(var t,n=this.body.edges,i=this.body.edgeIndices,r=0;r<i.length;r++)!0===(t=n[i[r]]).connected&&t.draw(e)}},{key:\"_determineBrowserMethod\",value:function(){if(\"undefined\"!=typeof window){var e=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,-1==e.indexOf(\"msie 9.0\")?-1!=e.indexOf(\"safari\")&&-1>=e.indexOf(\"chrome\")&&(this.requiresTimeout=!0):this.requiresTimeout=!0}else this.requiresTimeout=!0}}]),e}(),Yl=Yr((function(e,t){t.onTouch=function(e,t){t.inputHandler=function(e){e.isFirst&&t(e)},e.on(\"hammer.input\",t.inputHandler)},t.onRelease=function(e,t){return t.inputHandler=function(e){e.isFinal&&t(e)},e.on(\"hammer.input\",t.inputHandler)},t.offTouch=function(e,t){e.off(\"hammer.input\",t.inputHandler)},t.offRelease=t.offTouch,t.disablePreventDefaultVertically=function(e){return e.getTouchAction=function(){return[\"pan-y\"]},e}})),Hl=(Yl.onTouch,Yl.onRelease,Yl.offTouch,Yl.offRelease,Yl.disablePreventDefaultVertically,function(){var e=Math.round;function t(e){cs(this,t),this.body=e,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this.options={},this.defaultOptions={autoResize:!0,height:\"100%\",width:\"100%\"},Ji.extend(this.options,this.defaultOptions),this.bindEventListeners()}return hs(t,[{key:\"bindEventListeners\",value:function(){var e=this;this.body.emitter.once(\"resize\",(function(t){0!==t.width&&(e.body.view.translation.x=.5*t.width),0!==t.height&&(e.body.view.translation.y=.5*t.height)})),this.body.emitter.on(\"setSize\",this.setSize.bind(this)),this.body.emitter.on(\"destroy\",(function(){e.hammerFrame.destroy(),e.hammer.destroy(),e._cleanUp()}))}},{key:\"setOptions\",value:function(e){var t=this;void 0!==e&&Ji.selectiveDeepExtend([\"width\",\"height\",\"autoResize\"],this.options,e),!0===this.options.autoResize&&(this._cleanUp(),this.resizeTimer=setInterval((function(){!0===t.setSize()&&t.body.emitter.emit(\"_requestRedraw\")}),1e3),this.resizeFunction=this._onResize.bind(this),Ji.addEventListener(window,\"resize\",this.resizeFunction))}},{key:\"_cleanUp\",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),Ji.removeEventListener(window,\"resize\",this.resizeFunction),this.resizeFunction=void 0}},{key:\"_onResize\",value:function(){this.setSize(),this.body.emitter.emit(\"_redraw\")}},{key:\"_getCameraState\",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}},{key:\"_setCameraState\",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&0<this.cameraState.previousWidth){var e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,t=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,n=this.cameraState.scale;1!=e&&1!=t?n=.5*this.cameraState.scale*(e+t):1==e?1!=t&&(n=this.cameraState.scale*t):n=this.cameraState.scale*e,this.body.view.scale=n;var i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),r={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=r.x*this.body.view.scale,this.body.view.translation.y+=r.y*this.body.view.scale}}},{key:\"_prepareValue\",value:function(e){if(\"number\"==typeof e)return e+\"px\";if(\"string\"==typeof e){if(-1!==e.indexOf(\"%\")||-1!==e.indexOf(\"px\"))return e;if(-1===e.indexOf(\"%\"))return e+\"px\"}throw new Error(\"Could not use the value supplied for width or height:\"+e)}},{key:\"_create\",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement(\"div\"),this.frame.className=\"vis-network\",this.frame.style.position=\"relative\",this.frame.style.overflow=\"hidden\",this.frame.tabIndex=900,this.frame.canvas=document.createElement(\"canvas\"),this.frame.canvas.style.position=\"relative\",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var e=document.createElement(\"DIV\");e.style.color=\"red\",e.style.fontWeight=\"bold\",e.style.padding=\"10px\",e.innerHTML=\"Error: your browser does not support HTML canvas\",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:\"_bindHammer\",value:function(){var e=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new os(this.frame.canvas),this.hammer.get(\"pinch\").set({enable:!0}),this.hammer.get(\"pan\").set({threshold:5,direction:os.DIRECTION_ALL}),Yl.onTouch(this.hammer,(function(t){e.body.eventListeners.onTouch(t)})),this.hammer.on(\"tap\",(function(t){e.body.eventListeners.onTap(t)})),this.hammer.on(\"doubletap\",(function(t){e.body.eventListeners.onDoubleTap(t)})),this.hammer.on(\"press\",(function(t){e.body.eventListeners.onHold(t)})),this.hammer.on(\"panstart\",(function(t){e.body.eventListeners.onDragStart(t)})),this.hammer.on(\"panmove\",(function(t){e.body.eventListeners.onDrag(t)})),this.hammer.on(\"panend\",(function(t){e.body.eventListeners.onDragEnd(t)})),this.hammer.on(\"pinch\",(function(t){e.body.eventListeners.onPinch(t)})),this.frame.canvas.addEventListener(\"mousewheel\",(function(t){e.body.eventListeners.onMouseWheel(t)})),this.frame.canvas.addEventListener(\"DOMMouseScroll\",(function(t){e.body.eventListeners.onMouseWheel(t)})),this.frame.canvas.addEventListener(\"mousemove\",(function(t){e.body.eventListeners.onMouseMove(t)})),this.frame.canvas.addEventListener(\"contextmenu\",(function(t){e.body.eventListeners.onContext(t)})),this.hammerFrame=new os(this.frame),Yl.onRelease(this.hammerFrame,(function(t){e.body.eventListeners.onRelease(t)}))}},{key:\"setSize\",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.width,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.options.height;t=this._prepareValue(t),n=this._prepareValue(n);var i=!1,r=this.frame.canvas.width,o=this.frame.canvas.height,a=this.pixelRatio;if(this._setPixelRatio(),t!=this.options.width||n!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=n)this._getCameraState(a),this.frame.style.width=t,this.frame.style.height=n,this.frame.canvas.style.width=\"100%\",this.frame.canvas.style.height=\"100%\",this.frame.canvas.width=e(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=e(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=n,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0;else{var s=e(this.frame.canvas.clientWidth*this.pixelRatio),l=e(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==s||this.frame.canvas.height!==l)&&this._getCameraState(a),this.frame.canvas.width!==s&&(this.frame.canvas.width=s,i=!0),this.frame.canvas.height!==l&&(this.frame.canvas.height=l,i=!0)}return 1==i&&(this.body.emitter.emit(\"resize\",{width:e(this.frame.canvas.width/this.pixelRatio),height:e(this.frame.canvas.height/this.pixelRatio),oldWidth:e(r/this.pixelRatio),oldHeight:e(o/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}},{key:\"getContext\",value:function(){return this.frame.canvas.getContext(\"2d\")}},{key:\"_determinePixelRatio\",value:function(){var e=this.getContext();if(void 0===e)throw new Error(\"Could not get canvax context\");var t=1;return\"undefined\"!=typeof window&&(t=window.devicePixelRatio||1),t/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}},{key:\"_setPixelRatio\",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:\"setTransform\",value:function(){var e=this.getContext();if(void 0===e)throw new Error(\"Could not get canvax context\");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:\"_XconvertDOMtoCanvas\",value:function(e){return(e-this.body.view.translation.x)/this.body.view.scale}},{key:\"_XconvertCanvasToDOM\",value:function(e){return e*this.body.view.scale+this.body.view.translation.x}},{key:\"_YconvertDOMtoCanvas\",value:function(e){return(e-this.body.view.translation.y)/this.body.view.scale}},{key:\"_YconvertCanvasToDOM\",value:function(e){return e*this.body.view.scale+this.body.view.translation.y}},{key:\"canvasToDOM\",value:function(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}},{key:\"DOMtoCanvas\",value:function(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}]),t}()),ql=function(){var e=Math.abs,t=Math.min;function n(e,t){var i=this;cs(this,n),this.body=e,this.canvas=t,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction=\"easeInOutQuint\",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on(\"fit\",this.fit.bind(this)),this.body.emitter.on(\"animationFinished\",(function(){i.body.emitter.emit(\"_stopRendering\")})),this.body.emitter.on(\"unlockNode\",this.releaseNode.bind(this))}return hs(n,[{key:\"setOptions\",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.options=e}},{key:\"fit\",value:function(){var n,i,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{nodes:[]},o=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];if((void 0===(r=Object.assign({},r)).nodes||0===r.nodes.length)&&(r.nodes=this.body.nodeIndices),!0===o){var a=0;for(var s in this.body.nodes)if(this.body.nodes.hasOwnProperty(s)){var l=this.body.nodes[s];!0===l.predefinedPosition&&(a+=1)}if(a>.5*this.body.nodeIndices.length)return void this.fit(r,!1);n=Ll.getRange(this.body.nodes,r.nodes);var u=this.body.nodeIndices.length;i=12.662/(u+7.4147)+.0964822;var c=t(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600);i*=c}else{this.body.emitter.emit(\"_resizeNodes\"),n=Ll.getRange(this.body.nodes,r.nodes);var d=1.1*e(n.maxX-n.minX),h=1.1*e(n.maxY-n.minY),f=this.canvas.frame.canvas.clientWidth/d,p=this.canvas.frame.canvas.clientHeight/h;i=f<=p?f:p}(1<i||0===i)&&(i=1);var g=Ll.findCenter(n),m={position:g,scale:i,animation:r.animation};this.moveTo(m)}},{key:\"focus\",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[e]){var n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};t.position=n,t.lockedOnNode=e,this.moveTo(t)}else console.log(\"Node: \"+e+\" cannot be found.\")}},{key:\"moveTo\",value:function(e){var t=Number.isFinite;if(void 0!==e){if(null!=e.offset){if(null==e.offset.x)e.offset.x=0;else if(e.offset.x=+e.offset.x,!t(e.offset.x))throw new TypeError('The option \"offset.x\" has to be a finite number.');if(null==e.offset.y)e.offset.x=0;else if(e.offset.y=+e.offset.y,!t(e.offset.y))throw new TypeError('The option \"offset.y\" has to be a finite number.')}else e.offset={x:0,y:0};if(null!=e.position){if(null==e.position.x)e.position.x=0;else if(e.position.x=+e.position.x,!t(e.position.x))throw new TypeError('The option \"position.x\" has to be a finite number.');if(null==e.position.y)e.position.x=0;else if(e.position.y=+e.position.y,!t(e.position.y))throw new TypeError('The option \"position.y\" has to be a finite number.')}else e.position=this.getViewPosition();if(null==e.scale)e.scale=this.body.view.scale;else if(e.scale=+e.scale,!(0<e.scale))throw new TypeError('The option \"scale\" has to be a number greater than zero.');void 0===e.animation&&(e.animation={duration:0}),!1===e.animation&&(e.animation={duration:0}),!0===e.animation&&(e.animation={}),void 0===e.animation.duration&&(e.animation.duration=1e3),void 0===e.animation.easingFunction&&(e.animation.easingFunction=\"easeInOutQuad\"),this.animateView(e)}else e={}}},{key:\"animateView\",value:function(e){if(void 0!==e){this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),!0===e.locked&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;var t=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:t.x-e.position.x,y:t.y-e.position.y};this.targetTranslation={x:this.sourceTranslation.x+n.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+n.y*this.targetScale+e.offset.y},0===e.animation.duration?null==this.lockedOnNodeId?(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit(\"_requestRedraw\")):(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on(\"initRedraw\",this.viewFunction)):(this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on(\"initRedraw\",this.viewFunction),this.body.emitter.emit(\"_startRendering\"))}}},{key:\"_lockedRedraw\",value:function(){var e=this.body.nodes[this.lockedOnNodeId].x,t=this.body.nodes[this.lockedOnNodeId].y,n=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i=n.x-e,r=n.y-t,o=this.body.view.translation,a={x:o.x+i*this.body.view.scale+this.lockedOnNodeOffset.x,y:o.y+r*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=a}},{key:\"releaseNode\",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off(\"initRedraw\",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:\"_transitionRedraw\",value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===e?1:this.easingTime;var t=Ji.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*t,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*t,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*t},1<=this.easingTime&&(this.body.emitter.off(\"initRedraw\",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on(\"initRedraw\",this.viewFunction)),this.body.emitter.emit(\"animationFinished\"))}},{key:\"getScale\",value:function(){return this.body.view.scale}},{key:\"getViewPosition\",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),n}(),Vl=function(){function e(t,n){var i=this;cs(this,e),this.body=t,this.canvas=n,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on(\"activate\",(function(){i.activated=!0,i.configureKeyboardBindings()})),this.body.emitter.on(\"deactivate\",(function(){i.activated=!1,i.configureKeyboardBindings()})),this.body.emitter.on(\"destroy\",(function(){void 0!==i.keycharm&&i.keycharm.destroy()})),this.options={}}return hs(e,[{key:\"setOptions\",value:function(e){void 0!==e&&(this.options=e,this.create())}},{key:\"create\",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:\"cleanNavigation\",value:function(){if(0!=this.navigationHammers.length){for(var e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:\"loadNavigationElements\",value:function(){var e=this;this.cleanNavigation(),this.navigationDOM={};var t=[\"up\",\"down\",\"left\",\"right\",\"zoomIn\",\"zoomOut\",\"zoomExtends\"],n=[\"_moveUp\",\"_moveDown\",\"_moveLeft\",\"_moveRight\",\"_zoomIn\",\"_zoomOut\",\"_fit\"];this.navigationDOM.wrapper=document.createElement(\"div\"),this.navigationDOM.wrapper.className=\"vis-navigation\",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var i=0;i<t.length;i++){this.navigationDOM[t[i]]=document.createElement(\"div\"),this.navigationDOM[t[i]].className=\"vis-button vis-\"+t[i],this.navigationDOM.wrapper.appendChild(this.navigationDOM[t[i]]);var r=new os(this.navigationDOM[t[i]]);\"_fit\"===n[i]?Yl.onTouch(r,this._fit.bind(this)):Yl.onTouch(r,this.bindToRedraw.bind(this,n[i])),this.navigationHammers.push(r)}var o=new os(this.canvas.frame);Yl.onRelease(o,(function(){e._stopMovement()})),this.navigationHammers.push(o),this.iconsCreated=!0}},{key:\"bindToRedraw\",value:function(e){void 0===this.boundFunctions[e]&&(this.boundFunctions[e]=this[e].bind(this),this.body.emitter.on(\"initRedraw\",this.boundFunctions[e]),this.body.emitter.emit(\"_startRendering\"))}},{key:\"unbindFromRedraw\",value:function(e){void 0!==this.boundFunctions[e]&&(this.body.emitter.off(\"initRedraw\",this.boundFunctions[e]),this.body.emitter.emit(\"_stopRendering\"),delete this.boundFunctions[e])}},{key:\"_fit\",value:function(){700<(new Date).valueOf()-this.touchTime&&(this.body.emitter.emit(\"fit\",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:\"_stopMovement\",value:function(){for(var e in this.boundFunctions)this.boundFunctions.hasOwnProperty(e)&&(this.body.emitter.off(\"initRedraw\",this.boundFunctions[e]),this.body.emitter.emit(\"_stopRendering\"));this.boundFunctions={}}},{key:\"_moveUp\",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:\"_moveDown\",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:\"_moveLeft\",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:\"_moveRight\",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:\"_zoomIn\",value:function(){var e=this.body.view.scale,t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=t/e,r=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=t,this.body.view.translation={x:r,y:o},this.body.emitter.emit(\"zoom\",{direction:\"+\",scale:this.body.view.scale,pointer:null})}},{key:\"_zoomOut\",value:function(){var e=this.body.view.scale,t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=t/e,r=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=t,this.body.view.translation={x:r,y:o},this.body.emitter.emit(\"zoom\",{direction:\"-\",scale:this.body.view.scale,pointer:null})}},{key:\"configureKeyboardBindings\",value:function(){var e=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(this.keycharm=!0===this.options.keyboard.bindToWindow?Ao({container:window,preventDefault:!0}):Ao({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(this.keycharm.bind(\"up\",(function(){e.bindToRedraw(\"_moveUp\")}),\"keydown\"),this.keycharm.bind(\"down\",(function(){e.bindToRedraw(\"_moveDown\")}),\"keydown\"),this.keycharm.bind(\"left\",(function(){e.bindToRedraw(\"_moveLeft\")}),\"keydown\"),this.keycharm.bind(\"right\",(function(){e.bindToRedraw(\"_moveRight\")}),\"keydown\"),this.keycharm.bind(\"=\",(function(){e.bindToRedraw(\"_zoomIn\")}),\"keydown\"),this.keycharm.bind(\"num+\",(function(){e.bindToRedraw(\"_zoomIn\")}),\"keydown\"),this.keycharm.bind(\"num-\",(function(){e.bindToRedraw(\"_zoomOut\")}),\"keydown\"),this.keycharm.bind(\"-\",(function(){e.bindToRedraw(\"_zoomOut\")}),\"keydown\"),this.keycharm.bind(\"[\",(function(){e.bindToRedraw(\"_zoomOut\")}),\"keydown\"),this.keycharm.bind(\"]\",(function(){e.bindToRedraw(\"_zoomIn\")}),\"keydown\"),this.keycharm.bind(\"pageup\",(function(){e.bindToRedraw(\"_zoomIn\")}),\"keydown\"),this.keycharm.bind(\"pagedown\",(function(){e.bindToRedraw(\"_zoomOut\")}),\"keydown\"),this.keycharm.bind(\"up\",(function(){e.unbindFromRedraw(\"_moveUp\")}),\"keyup\"),this.keycharm.bind(\"down\",(function(){e.unbindFromRedraw(\"_moveDown\")}),\"keyup\"),this.keycharm.bind(\"left\",(function(){e.unbindFromRedraw(\"_moveLeft\")}),\"keyup\"),this.keycharm.bind(\"right\",(function(){e.unbindFromRedraw(\"_moveRight\")}),\"keyup\"),this.keycharm.bind(\"=\",(function(){e.unbindFromRedraw(\"_zoomIn\")}),\"keyup\"),this.keycharm.bind(\"num+\",(function(){e.unbindFromRedraw(\"_zoomIn\")}),\"keyup\"),this.keycharm.bind(\"num-\",(function(){e.unbindFromRedraw(\"_zoomOut\")}),\"keyup\"),this.keycharm.bind(\"-\",(function(){e.unbindFromRedraw(\"_zoomOut\")}),\"keyup\"),this.keycharm.bind(\"[\",(function(){e.unbindFromRedraw(\"_zoomOut\")}),\"keyup\"),this.keycharm.bind(\"]\",(function(){e.unbindFromRedraw(\"_zoomIn\")}),\"keyup\"),this.keycharm.bind(\"pageup\",(function(){e.unbindFromRedraw(\"_zoomIn\")}),\"keyup\"),this.keycharm.bind(\"pagedown\",(function(){e.unbindFromRedraw(\"_zoomOut\")}),\"keyup\")))}}]),e}(),Gl=function(){function e(t,n){cs(this,e),this.container=t,this.overflowMethod=n||\"cap\",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement(\"div\"),this.frame.className=\"vis-tooltip\",this.container.appendChild(this.frame)}return hs(e,[{key:\"setPosition\",value:function(e,t){this.x=parseInt(e),this.y=parseInt(t)}},{key:\"setText\",value:function(e){e instanceof Element?(this.frame.innerHTML=\"\",this.frame.appendChild(e)):this.frame.innerHTML=e}},{key:\"show\",value:function(e){if(void 0===e&&(e=!0),!0===e){var t=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,r=this.frame.parentNode.clientWidth,o=0,a=0;if(\"flip\"==this.overflowMethod){var s=!1,l=!0;this.y-t<this.padding&&(l=!1),this.x+n>r-this.padding&&(s=!0),o=s?this.x-n:this.x,a=l?this.y-t:this.y}else(a=this.y-t)+t+this.padding>i&&(a=i-t-this.padding),a<this.padding&&(a=this.padding),(o=this.x)+n+this.padding>r&&(o=r-n-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+\"px\",this.frame.style.top=a+\"px\",this.frame.style.visibility=\"visible\",this.hidden=!1}else this.hide()}},{key:\"hide\",value:function(){this.hidden=!0,this.frame.style.left=\"0\",this.frame.style.top=\"0\",this.frame.style.visibility=\"hidden\"}},{key:\"destroy\",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),e}(),Xl=function(){function e(t,n,i){cs(this,e),this.body=t,this.canvas=n,this.selectionHandler=i,this.navigationHandler=new Vl(t,n),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},Ji.extend(this.options,this.defaultOptions),this.bindEventListeners()}return hs(e,[{key:\"bindEventListeners\",value:function(){var e=this;this.body.emitter.on(\"destroy\",(function(){clearTimeout(e.popupTimer),delete e.body.functions.getPointer}))}},{key:\"setOptions\",value:function(e){void 0!==e&&(Ji.selectiveNotDeepExtend([\"hideEdgesOnDrag\",\"hideEdgesOnZoom\",\"hideNodesOnDrag\",\"keyboard\",\"multiselect\",\"selectable\",\"selectConnectedEdges\"],this.options,e),Ji.mergeOptions(this.options,e,\"keyboard\"),e.tooltip&&(Ji.extend(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=Ji.parseColor(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:\"getPointer\",value:function(e){return{x:e.x-Ji.getAbsoluteLeft(this.canvas.frame.canvas),y:e.y-Ji.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:\"onTouch\",value:function(e){50<(new Date).valueOf()-this.touchTime&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:\"onTap\",value:function(e){var t=this.getPointer(e.center),n=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(t,e,n),this.selectionHandler._generateClickEvent(\"click\",e,t)}},{key:\"onDoubleTap\",value:function(e){var t=this.getPointer(e.center);this.selectionHandler._generateClickEvent(\"doubleClick\",e,t)}},{key:\"onHold\",value:function(e){var t=this.getPointer(e.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(t,e,n),this.selectionHandler._generateClickEvent(\"click\",e,t),this.selectionHandler._generateClickEvent(\"hold\",e,t)}},{key:\"onRelease\",value:function(e){if(10<(new Date).valueOf()-this.touchTime){var t=this.getPointer(e.center);this.selectionHandler._generateClickEvent(\"release\",e,t),this.touchTime=(new Date).valueOf()}}},{key:\"onContext\",value:function(e){var t=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler._generateClickEvent(\"oncontext\",e,t)}},{key:\"checkSelectionChanges\",value:function(e,t){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],i=this.selectionHandler.getSelection(),r=!1;r=!0===n?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e);var o=this.selectionHandler.getSelection(),a=this._determineDifference(i,o),s=this._determineDifference(o,i);0<a.edges.length&&(this.selectionHandler._generateClickEvent(\"deselectEdge\",t,e,i),r=!0),0<a.nodes.length&&(this.selectionHandler._generateClickEvent(\"deselectNode\",t,e,i),r=!0),0<s.nodes.length&&(this.selectionHandler._generateClickEvent(\"selectNode\",t,e),r=!0),0<s.edges.length&&(this.selectionHandler._generateClickEvent(\"selectEdge\",t,e),r=!0),!0===r&&this.selectionHandler._generateClickEvent(\"select\",t,e)}},{key:\"_determineDifference\",value:function(e,t){var n=function(e,t){for(var n,i=[],r=0;r<e.length;r++)n=e[r],-1===t.indexOf(n)&&i.push(n);return i};return{nodes:n(e.nodes,t.nodes),edges:n(e.edges,t.edges)}}},{key:\"onDragStart\",value:function(e){void 0===this.drag.pointer&&this.onTouch(e);var t=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=Ji.extend({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==t&&!0===this.options.dragNodes){this.drag.nodeId=t.id,!1===t.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(t)),this.selectionHandler._generateClickEvent(\"dragStart\",e,this.drag.pointer);var n=this.selectionHandler.selectionObj.nodes;for(var i in n)if(n.hasOwnProperty(i)){var r=n[i],o={id:r.id,node:r,x:r.x,y:r.y,xFixed:r.options.fixed.x,yFixed:r.options.fixed.y};r.options.fixed.x=!0,r.options.fixed.y=!0,this.drag.selection.push(o)}}else this.selectionHandler._generateClickEvent(\"dragStart\",e,this.drag.pointer,void 0,!0)}},{key:\"onDrag\",value:function(e){var t=this;if(!0!==this.drag.pinched){this.body.emitter.emit(\"unlockNode\");var n=this.getPointer(e.center),i=this.drag.selection;if(i&&i.length&&!0===this.options.dragNodes){this.selectionHandler._generateClickEvent(\"dragging\",e,n);var r=n.x-this.drag.pointer.x,o=n.y-this.drag.pointer.y;i.forEach((function(e){var n=e.node;!1===e.xFixed&&(n.x=t.canvas._XconvertDOMtoCanvas(t.canvas._XconvertCanvasToDOM(e.x)+r)),!1===e.yFixed&&(n.y=t.canvas._YconvertDOMtoCanvas(t.canvas._YconvertCanvasToDOM(e.y)+o))})),this.body.emitter.emit(\"startSimulation\")}else if(!0===this.options.dragView){if(this.selectionHandler._generateClickEvent(\"dragging\",e,n,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(e);var a=n.x-this.drag.pointer.x,s=n.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+a,y:this.drag.translation.y+s},this.body.emitter.emit(\"_requestRedraw\")}}}},{key:\"onDragEnd\",value:function(e){this.drag.dragging=!1;var t=this.drag.selection;t&&t.length?(t.forEach((function(e){e.node.options.fixed.x=e.xFixed,e.node.options.fixed.y=e.yFixed})),this.selectionHandler._generateClickEvent(\"dragEnd\",e,this.getPointer(e.center)),this.body.emitter.emit(\"startSimulation\")):(this.selectionHandler._generateClickEvent(\"dragEnd\",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit(\"_requestRedraw\"))}},{key:\"onPinch\",value:function(e){var t=this.getPointer(e.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1);var n=this.pinch.scale*e.scale;this.zoom(n,t)}},{key:\"zoom\",value:function(e,t){if(!0===this.options.zoomView){var n,i=this.body.view.scale;1e-5>e&&(e=1e-5),10<e&&(e=10),void 0!==this.drag&&!0===this.drag.dragging&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));var r=this.body.view.translation,o=e/i,a=(1-o)*t.x+r.x*o,s=(1-o)*t.y+r.y*o;if(this.body.view.scale=e,this.body.view.translation={x:a,y:s},null!=n){var l=this.canvas.canvasToDOM(n);this.drag.pointer.x=l.x,this.drag.pointer.y=l.y}this.body.emitter.emit(\"_requestRedraw\"),i<e?this.body.emitter.emit(\"zoom\",{direction:\"+\",scale:this.body.view.scale,pointer:t}):this.body.emitter.emit(\"zoom\",{direction:\"-\",scale:this.body.view.scale,pointer:t})}}},{key:\"onMouseWheel\",value:function(e){if(!0===this.options.zoomView){var t=0;if(e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),0!=t){var n=this.body.view.scale,i=t*(this.options.zoomSpeed/10);0>t&&(i/=1-i),n*=1+i;var r=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(n,r)}e.preventDefault()}}},{key:\"onMouseMove\",value:function(e){var t=this,n=this.getPointer({x:e.clientX,y:e.clientY}),i=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(n),!1===this.popup.hidden&&(i=!0,this.popup.setPosition(n.x+3,n.y-5),this.popup.show())),!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===i&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),!this.drag.dragging&&(this.popupTimer=setTimeout((function(){return t._checkShowPopup(n)}),this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(e,n)}},{key:\"_checkShowPopup\",value:function(e){var t=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),i={left:t,top:n,right:t,bottom:n},r=void 0===this.popupObj?void 0:this.popupObj.id,o=!1,a=\"node\";if(void 0===this.popupObj){for(var s,l=this.body.nodeIndices,u=this.body.nodes,c=[],d=0;d<l.length;d++)!0===(s=u[l[d]]).isOverlappingWith(i)&&(o=!0,void 0!==s.getTitle()&&c.push(l[d]));0<c.length&&(this.popupObj=u[c[c.length-1]],o=!0)}if(void 0===this.popupObj&&!1===o){for(var h,f=this.body.edgeIndices,p=this.body.edges,g=[],m=0;m<f.length;m++)!0===(h=p[f[m]]).isOverlappingWith(i)&&!0===h.connected&&void 0!==h.getTitle()&&g.push(f[m]);0<g.length&&(this.popupObj=p[g[g.length-1]],a=\"edge\")}void 0===this.popupObj?void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit(\"hidePopup\")):this.popupObj.id!==r&&(void 0===this.popup&&(this.popup=new Gl(this.canvas.frame)),this.popup.popupTargetType=a,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit(\"showPopup\",this.popupObj.id))}},{key:\"_checkHidePopup\",value:function(e){var t=this.selectionHandler._pointerToPositionObject(e),n=!1;if(\"node\"!==this.popup.popupTargetType)void 0===this.selectionHandler.getNodeAt(e)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(t));else if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(t))){var i=this.selectionHandler.getNodeAt(e);n=void 0!==i&&i.id===this.popup.popupTargetId}!1===n&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit(\"hidePopup\"))}}]),e}(),Zl=function(){function e(t,n){var i=this;cs(this,e),this.body=t,this.canvas=n,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},Ji.extend(this.options,this.defaultOptions),this.body.emitter.on(\"_dataChanged\",(function(){i.updateSelection()}))}return hs(e,[{key:\"setOptions\",value:function(e){void 0!==e&&Ji.selectiveDeepExtend([\"multiselect\",\"hoverConnectedEdges\",\"selectable\",\"selectConnectedEdges\"],this.options,e)}},{key:\"selectOnPoint\",value:function(e){var t=!1;if(!0===this.options.selectable){var n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),void 0!==n&&(t=this.selectObject(n)),this.body.emitter.emit(\"_requestRedraw\")}return t}},{key:\"selectAdditionalOnPoint\",value:function(e){var t=!1;if(!0===this.options.selectable){var n=this.getNodeAt(e)||this.getEdgeAt(e);void 0!==n&&(t=!0,!0===n.isSelected()?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit(\"_requestRedraw\"))}return t}},{key:\"_initBaseEvent\",value:function(e,t){return{pointer:{DOM:{x:t.x,y:t.y},canvas:this.canvas.DOMtoCanvas(t)},event:e}}},{key:\"_generateClickEvent\",value:function(e,t,n,i){var r=!!(4<arguments.length&&void 0!==arguments[4])&&arguments[4],o=this._initBaseEvent(t,n);if(!0===r)o.nodes=[],o.edges=[];else{var a=this.getSelection();o.nodes=a.nodes,o.edges=a.edges}void 0!==i&&(o.previousSelection=i),\"click\"==e&&(o.items=this.getClickedItems(n)),void 0!==t.controlEdge&&(o.controlEdge=t.controlEdge),this.body.emitter.emit(e,o)}},{key:\"selectObject\",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;return void 0!==e&&(e instanceof il&&!0===t&&this._selectConnectedEdges(e),e.select(),this._addToSelection(e),!0)}},{key:\"deselectObject\",value:function(e){!0===e.isSelected()&&(e.selected=!1,this._removeFromSelection(e))}},{key:\"_getAllNodesOverlappingWith\",value:function(e){for(var t,n=[],i=this.body.nodes,r=0;r<this.body.nodeIndices.length;r++)i[t=this.body.nodeIndices[r]].isOverlappingWith(e)&&n.push(t);return n}},{key:\"_pointerToPositionObject\",value:function(e){var t=this.canvas.DOMtoCanvas(e);return{left:t.x-1,top:t.y+1,right:t.x+1,bottom:t.y-1}}},{key:\"getNodeAt\",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this._pointerToPositionObject(e),i=this._getAllNodesOverlappingWith(n);return 0<i.length?!0===t?this.body.nodes[i[i.length-1]]:i[i.length-1]:void 0}},{key:\"_getEdgesOverlappingWith\",value:function(e,t){for(var n,i=this.body.edges,r=0;r<this.body.edgeIndices.length;r++)i[n=this.body.edgeIndices[r]].isOverlappingWith(e)&&t.push(n)}},{key:\"_getAllEdgesOverlappingWith\",value:function(e){var t=[];return this._getEdgesOverlappingWith(e,t),t}},{key:\"getEdgeAt\",value:function(e){for(var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this.canvas.DOMtoCanvas(e),i=10,r=null,o=this.body.edges,a=0;a<this.body.edgeIndices.length;a++){var s=this.body.edgeIndices[a],l=o[s];if(l.connected){var u=l.from.x,c=l.from.y,d=l.to.x,h=l.to.y,f=l.edgeType.getDistanceToEdge(u,c,d,h,n.x,n.y);f<i&&(r=s,i=f)}}return null===r?void 0:!0===t?this.body.edges[r]:r}},{key:\"_addToSelection\",value:function(e){e instanceof il?this.selectionObj.nodes[e.id]=e:this.selectionObj.edges[e.id]=e}},{key:\"_addToHover\",value:function(e){e instanceof il?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}},{key:\"_removeFromSelection\",value:function(e){e instanceof il?(delete this.selectionObj.nodes[e.id],this._unselectConnectedEdges(e)):delete this.selectionObj.edges[e.id]}},{key:\"unselectAll\",value:function(){for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&this.selectionObj.nodes[e].unselect();for(var t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&this.selectionObj.edges[t].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:\"_getSelectedNodeCount\",value:function(){var e=0;for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(e+=1);return e}},{key:\"_getSelectedNode\",value:function(){for(var e in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(e))return this.selectionObj.nodes[e]}},{key:\"_getSelectedEdge\",value:function(){for(var e in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(e))return this.selectionObj.edges[e]}},{key:\"_getSelectedEdgeCount\",value:function(){var e=0;for(var t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&(e+=1);return e}},{key:\"_getSelectedObjectCount\",value:function(){var e=0;for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(e+=1);for(var n in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(n)&&(e+=1);return e}},{key:\"_selectionIsEmpty\",value:function(){for(var e in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(e))return!1;for(var t in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(t))return!1;return!0}},{key:\"_clusterInSelection\",value:function(){for(var e in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(e)&&1<this.selectionObj.nodes[e].clusterSize)return!0;return!1}},{key:\"_selectConnectedEdges\",value:function(e){for(var t,n=0;n<e.edges.length;n++)(t=e.edges[n]).select(),this._addToSelection(t)}},{key:\"_hoverConnectedEdges\",value:function(e){for(var t,n=0;n<e.edges.length;n++)(t=e.edges[n]).hover=!0,this._addToHover(t)}},{key:\"_unselectConnectedEdges\",value:function(e){for(var t,n=0;n<e.edges.length;n++)(t=e.edges[n]).unselect(),this._removeFromSelection(t)}},{key:\"emitBlurEvent\",value:function(e,t,n){var i=this._initBaseEvent(e,t);!0===n.hover&&(n.hover=!1,n instanceof il?(i.node=n.id,this.body.emitter.emit(\"blurNode\",i)):(i.edge=n.id,this.body.emitter.emit(\"blurEdge\",i)))}},{key:\"emitHoverEvent\",value:function(e,t,n){var i=this._initBaseEvent(e,t),r=!1;return!1===n.hover&&(n.hover=!0,this._addToHover(n),r=!0,n instanceof il?(i.node=n.id,this.body.emitter.emit(\"hoverNode\",i)):(i.edge=n.id,this.body.emitter.emit(\"hoverEdge\",i))),r}},{key:\"hoverObject\",value:function(e,t){var n=this.getNodeAt(t);void 0===n&&(n=this.getEdgeAt(t));var i=!1;for(var r in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(r)&&(void 0===n||n instanceof il&&n.id!=r||n instanceof Cl)&&(this.emitBlurEvent(e,t,this.hoverObj.nodes[r]),delete this.hoverObj.nodes[r],i=!0);for(var o in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(o)&&(!0===i?(this.hoverObj.edges[o].hover=!1,delete this.hoverObj.edges[o]):(void 0===n||n instanceof Cl&&n.id!=o||n instanceof il&&!n.hover)&&(this.emitBlurEvent(e,t,this.hoverObj.edges[o]),delete this.hoverObj.edges[o],i=!0));if(void 0!==n){var a=Object.keys(this.hoverObj.edges).length,s=Object.keys(this.hoverObj.nodes).length;(i||n instanceof Cl&&0===a&&0===s||n instanceof il&&0===a&&0===s)&&(i=this.emitHoverEvent(e,t,n)),n instanceof il&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(n)}!0===i&&this.body.emitter.emit(\"_requestRedraw\")}},{key:\"getSelection\",value:function(){return{nodes:this.getSelectedNodes(),edges:this.getSelectedEdges()}}},{key:\"getSelectedNodes\",value:function(){var e=[];if(!0===this.options.selectable)for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&e.push(this.selectionObj.nodes[t].id);return e}},{key:\"getSelectedEdges\",value:function(){var e=[];if(!0===this.options.selectable)for(var t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&e.push(this.selectionObj.edges[t].id);return e}},{key:\"setSelection\",value:function(e){var t,n,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw\"Selection must be an object with nodes and/or edges properties\";if((i.unselectAll||void 0===i.unselectAll)&&this.unselectAll(),e.nodes)for(t=0;t<e.nodes.length;t++){n=e.nodes[t];var r=this.body.nodes[n];if(!r)throw new RangeError('Node with id \"'+n+'\" not found');this.selectObject(r,i.highlightEdges)}if(e.edges)for(t=0;t<e.edges.length;t++){n=e.edges[t];var o=this.body.edges[n];if(!o)throw new RangeError('Edge with id \"'+n+'\" not found');this.selectObject(o)}this.body.emitter.emit(\"_requestRedraw\")}},{key:\"selectNodes\",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(!e||void 0===e.length)throw\"Selection must be an array with ids\";this.setSelection({nodes:e},{highlightEdges:t})}},{key:\"selectEdges\",value:function(e){if(!e||void 0===e.length)throw\"Selection must be an array with ids\";this.setSelection({edges:e})}},{key:\"updateSelection\",value:function(){for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(this.body.nodes.hasOwnProperty(e)||delete this.selectionObj.nodes[e]);for(var t in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(t)&&(this.body.edges.hasOwnProperty(t)||delete this.selectionObj.edges[t])}},{key:\"getClickedItems\",value:function(e){for(var t=this.canvas.DOMtoCanvas(e),n=[],i=this.body.nodeIndices,r=this.body.nodes,o=i.length-1;0<=o;o--){var a=r[i[o]].getItemsOnPoint(t);n.push.apply(n,a)}for(var s=this.body.edgeIndices,l=this.body.edges,u=s.length-1;0<=u;u--){var c=l[s[u]].getItemsOnPoint(t);n.push.apply(n,c)}return n}}]),e}(),Ql=Yr((function(e,t){!function(e){function t(e){return 1e5>e?100>e?10>e?0:1:1e4>e?1e3>e?2:3:4:1e7>e?1e6>e?5:6:1e9>e?1e8>e?7:8:9}function n(e,n){if(e===n)return 0;if(~~e===e&&~~n===n){if(0===e||0===n)return e<n?-1:1;if(0>e||0>n){if(0<=n)return-1;if(0<=e)return 1;e=-e,n=-n}var i=t(e),r=t(n),o=0;return i<r?(e*=s[r-i-1],n/=10,o=-1):i>r&&(n*=s[i-r-1],e/=10,o=1),e===n?o:e<n?-1:1}var a=e+\"\",l=n+\"\";return a===l?0:a<l?-1:1}function i(e,t,n,i){var r=t+1;if(r===n)return 1;if(0>i(e[r++],e[t])){for(;r<n&&0>i(e[r],e[r-1]);)r++;!function(e,t,n){for(n--;t<n;){var i=e[t];e[t++]=e[n],e[n--]=i}}(e,t,r)}else for(;r<n&&0<=i(e[r],e[r-1]);)r++;return r-t}function r(e,t,n,i,r){for(i===t&&i++;i<n;i++){for(var o=e[i],a=t,s=i;a<s;){var l=a+s>>>1;0>r(o,e[l])?s=l:a=l+1}var u=i-a;switch(u){case 3:e[a+3]=e[a+2];case 2:e[a+2]=e[a+1];case 1:e[a+1]=e[a];break;default:for(;0<u;)e[a+u]=e[a+u-1],u--}e[a]=o}}function o(e,t,n,i,r,o){var a=0,s=0,l=1;if(0<o(e,t[n+r])){for(s=i-r;l<s&&0<o(e,t[n+r+l]);)a=l,0>=(l=1+(l<<1))&&(l=s);l>s&&(l=s),a+=r,l+=r}else{for(s=r+1;l<s&&0>=o(e,t[n+r-l]);)a=l,0>=(l=1+(l<<1))&&(l=s);l>s&&(l=s);var u=a;a=r-l,l=r-u}for(a++;a<l;){var c=a+(l-a>>>1);0<o(e,t[n+c])?a=c+1:l=c}return l}function a(e,t,n,i,r,o){var a=0,s=0,l=1;if(0>o(e,t[n+r])){for(s=r+1;l<s&&0>o(e,t[n+r-l]);)a=l,0>=(l=1+(l<<1))&&(l=s);l>s&&(l=s);var u=a;a=r-l,l=r-u}else{for(s=i-r;l<s&&0<=o(e,t[n+r+l]);)a=l,0>=(l=1+(l<<1))&&(l=s);l>s&&(l=s),a+=r,l+=r}for(a++;a<l;){var c=a+(l-a>>>1);0>o(e,t[n+c])?l=c:a=c+1}return l}e.__esModule=!0,e.sort=function(e,t,o,a){if(!Array.isArray(e))throw new TypeError(\"Can only sort arrays\");t?\"function\"!=typeof t&&(a=o,o=t,t=n):t=n,o||(o=0),a||(a=e.length);var s=a-o;if(!(2>s)){var u=0;if(32>s)return void r(e,o,a,o+(u=i(e,o,a,t)),t);var c=new l(e,t),d=function(e){for(var t=0;e>=32;)t|=1&e,e>>=1;return e+t}(s);do{if((u=i(e,o,a,t))<d){var h=s;h>d&&(h=d),r(e,o,o+h,o+u,t),u=h}c.pushRun(o,u),c.mergeRuns(),s-=u,o+=u}while(0!==s);c.forceMergeRuns()}};var s=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9],l=function(){function e(t,n){(function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")})(this,e),this.array=null,this.compare=null,this.minGallop=7,this.length=0,this.tmpStorageLength=256,this.stackLength=0,this.runStart=null,this.runLength=null,this.stackSize=0,this.array=t,this.compare=n,this.length=t.length,this.length<512&&(this.tmpStorageLength=this.length>>>1),this.tmp=Array(this.tmpStorageLength),this.stackLength=120>this.length?5:1542>this.length?10:119151>this.length?19:40,this.runStart=Array(this.stackLength),this.runLength=Array(this.stackLength)}return e.prototype.pushRun=function(e,t){this.runStart[this.stackSize]=e,this.runLength[this.stackSize]=t,this.stackSize+=1},e.prototype.mergeRuns=function(){for(;1<this.stackSize;){var e=this.stackSize-2;if(1<=e&&this.runLength[e-1]<=this.runLength[e]+this.runLength[e+1]||2<=e&&this.runLength[e-2]<=this.runLength[e]+this.runLength[e-1])this.runLength[e-1]<this.runLength[e+1]&&e--;else if(this.runLength[e]>this.runLength[e+1])break;this.mergeAt(e)}},e.prototype.forceMergeRuns=function(){for(;1<this.stackSize;){var e=this.stackSize-2;0<e&&this.runLength[e-1]<this.runLength[e+1]&&e--,this.mergeAt(e)}},e.prototype.mergeAt=function(e){var t=this.compare,n=this.array,i=this.runStart[e],r=this.runLength[e],s=this.runStart[e+1],l=this.runLength[e+1];this.runLength[e]=r+l,e===this.stackSize-3&&(this.runStart[e+1]=this.runStart[e+2],this.runLength[e+1]=this.runLength[e+2]),this.stackSize--;var u=a(n[s],n,i,r,0,t);i+=u,0!=(r-=u)&&(0===(l=o(n[i+r-1],n,s,l,l-1,t))||(r<=l?this.mergeLow(i,r,s,l):this.mergeHigh(i,r,s,l)))},e.prototype.mergeLow=function(e,t,n,i){var r=this.compare,s=this.array,l=this.tmp,u=0;for(u=0;u<t;u++)l[u]=s[e+u];var c=0,d=n,h=e;if(s[h++]=s[d++],0!=--i)if(1!==t){for(var f=this.minGallop;;){var p=0,g=0,m=!1;do{if(0>r(s[d],l[c])){if(s[h++]=s[d++],g++,p=0,0==--i){m=!0;break}}else if(s[h++]=l[c++],p++,g=0,1==--t){m=!0;break}}while((p|g)<f);if(m)break;do{if(0!==(p=a(s[d],l,c,t,0,r))){for(u=0;u<p;u++)s[h+u]=l[c+u];if(h+=p,c+=p,1>=(t-=p)){m=!0;break}}if(s[h++]=s[d++],0==--i){m=!0;break}if(0!==(g=o(l[c],s,d,i,0,r))){for(u=0;u<g;u++)s[h+u]=s[d+u];if(h+=g,d+=g,0==(i-=g)){m=!0;break}}if(s[h++]=l[c++],1==--t){m=!0;break}f--}while(p>=7||g>=7);if(m)break;0>f&&(f=0),f+=2}if(this.minGallop=f,1>f&&(this.minGallop=1),1===t){for(u=0;u<i;u++)s[h+u]=s[d+u];s[h+i]=l[c]}else{if(0===t)throw new Error(\"mergeLow preconditions were not respected\");for(u=0;u<t;u++)s[h+u]=l[c+u]}}else{for(u=0;u<i;u++)s[h+u]=s[d+u];s[h+i]=l[c]}else for(u=0;u<t;u++)s[h+u]=l[c+u]},e.prototype.mergeHigh=function(e,t,n,i){var r=this.compare,s=this.array,l=this.tmp,u=0;for(u=0;u<i;u++)l[u]=s[n+u];var c=e+t-1,d=i-1,h=n+i-1,f=0,p=0;if(s[h--]=s[c--],0!=--t)if(1!==i){for(var g=this.minGallop;;){var m=0,v=0,y=!1;do{if(0>r(l[d],s[c])){if(s[h--]=s[c--],m++,v=0,0==--t){y=!0;break}}else if(s[h--]=l[d--],v++,m=0,1==--i){y=!0;break}}while((m|v)<g);if(y)break;do{if(0!=(m=t-a(l[d],s,e,t,t-1,r))){for(t-=m,p=1+(h-=m),f=1+(c-=m),u=m-1;0<=u;u--)s[p+u]=s[f+u];if(0===t){y=!0;break}}if(s[h--]=l[d--],1==--i){y=!0;break}if(0!=(v=i-o(s[c],l,0,i,i-1,r))){for(i-=v,p=1+(h-=v),f=1+(d-=v),u=0;u<v;u++)s[p+u]=l[f+u];if(1>=i){y=!0;break}}if(s[h--]=s[c--],0==--t){y=!0;break}g--}while(m>=7||v>=7);if(y)break;0>g&&(g=0),g+=2}if(this.minGallop=g,1>g&&(this.minGallop=1),1===i){for(p=1+(h-=t),f=1+(c-=t),u=t-1;0<=u;u--)s[p+u]=s[f+u];s[h]=l[d]}else{if(0===i)throw new Error(\"mergeHigh preconditions were not respected\");for(f=h-(i-1),u=0;u<i;u++)s[f+u]=l[u]}}else{for(p=1+(h-=t),f=1+(c-=t),u=t-1;0<=u;u--)s[p+u]=s[f+u];s[h]=l[d]}else for(f=h-(i-1),u=0;u<i;u++)s[f+u]=l[u]},e}()}(t)}));!function(e){e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")&&e.default}(Ql);var Jl=Ql,Kl=function(){function e(){cs(this,e)}return hs(e,[{key:\"abstract\",value:function(){throw new Error(\"Can't instantiate abstract class!\")}},{key:\"fake_use\",value:function(){}},{key:\"curveType\",value:function(){return this.abstract()}},{key:\"getPosition\",value:function(e){return this.fake_use(e),this.abstract()}},{key:\"setPosition\",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(e,t,n),this.abstract()}},{key:\"getTreeSize\",value:function(e){return this.fake_use(e),this.abstract()}},{key:\"sort\",value:function(e){this.fake_use(e),this.abstract()}},{key:\"fix\",value:function(e,t){this.fake_use(e,t),this.abstract()}},{key:\"shift\",value:function(e,t){this.fake_use(e,t),this.abstract()}}]),e}(),eu=function(e){function t(e){var n;return cs(this,t),(n=Ms(this,Ts(t).call(this))).layout=e,n}return Ps(t,e),hs(t,[{key:\"curveType\",value:function(){return\"horizontal\"}},{key:\"getPosition\",value:function(e){return e.x}},{key:\"setPosition\",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==n&&this.layout.hierarchical.addToOrdering(e,n),e.x=t}},{key:\"getTreeSize\",value:function(e){var t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_x,max:t.max_x}}},{key:\"sort\",value:function(e){Jl.sort(e,(function(e,t){return e.x-t.x}))}},{key:\"fix\",value:function(e,t){e.y=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.y=!0}},{key:\"shift\",value:function(e,t){this.layout.body.nodes[e].x+=t}}]),t}(Kl),tu=function(e){function t(e){var n;return cs(this,t),(n=Ms(this,Ts(t).call(this))).layout=e,n}return Ps(t,e),hs(t,[{key:\"curveType\",value:function(){return\"vertical\"}},{key:\"getPosition\",value:function(e){return e.y}},{key:\"setPosition\",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==n&&this.layout.hierarchical.addToOrdering(e,n),e.y=t}},{key:\"getTreeSize\",value:function(e){var t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_y,max:t.max_y}}},{key:\"sort\",value:function(e){Jl.sort(e,(function(e,t){return e.y-t.y}))}},{key:\"fix\",value:function(e,t){e.x=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.x=!0}},{key:\"shift\",value:function(e,t){this.layout.body.nodes[e].y+=t}}]),t}(Kl),nu=function(){var e=Math.max,t=Math.min;function n(){cs(this,n),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return hs(n,[{key:\"addRelation\",value:function(e,t){void 0===this.childrenReference[e]&&(this.childrenReference[e]=[]),this.childrenReference[e].push(t),void 0===this.parentReference[t]&&(this.parentReference[t]=[]),this.parentReference[t].push(e)}},{key:\"checkIfTree\",value:function(){for(var e in this.parentReference)if(1<this.parentReference[e].length)return void(this.isTree=!1);this.isTree=!0}},{key:\"numTrees\",value:function(){return this.treeIndex+1}},{key:\"setTreeIndex\",value:function(t,n){void 0===n||void 0===this.trees[t.id]&&(this.trees[t.id]=n,this.treeIndex=e(n,this.treeIndex))}},{key:\"ensureLevel\",value:function(e){void 0===this.levels[e]&&(this.levels[e]=0)}},{key:\"getMaxLevel\",value:function(t){var n=this,i={};return function t(r){if(void 0!==i[r])return i[r];var o=n.levels[r];if(n.childrenReference[r]){var a=n.childrenReference[r];if(0<a.length)for(var s=0;s<a.length;s++)o=e(o,t(a[s]))}return i[r]=o,o}(t)}},{key:\"levelDownstream\",value:function(e,t){void 0===this.levels[t.id]&&(void 0===this.levels[e.id]&&(this.levels[e.id]=0),this.levels[t.id]=this.levels[e.id]+1)}},{key:\"setMinLevelToZero\",value:function(e){var n=1e9;for(var i in e)e.hasOwnProperty(i)&&void 0!==this.levels[i]&&(n=t(this.levels[i],n));for(var r in e)e.hasOwnProperty(r)&&void 0!==this.levels[r]&&(this.levels[r]-=n)}},{key:\"getTreeSize\",value:function(n,i){var r=1e9,o=-1e9,a=1e9,s=-1e9;for(var l in this.trees)if(this.trees.hasOwnProperty(l)&&this.trees[l]===i){var u=n[l];r=t(u.x,r),o=e(u.x,o),a=t(u.y,a),s=e(u.y,s)}return{min_x:r,max_x:o,min_y:a,max_y:s}}},{key:\"hasSameParent\",value:function(e,t){var n=this.parentReference[e.id],i=this.parentReference[t.id];if(void 0===n||void 0===i)return!1;for(var r=0;r<n.length;r++)for(var o=0;o<i.length;o++)if(n[r]==i[o])return!0;return!1}},{key:\"inSameSubNetwork\",value:function(e,t){return this.trees[e.id]===this.trees[t.id]}},{key:\"getLevels\",value:function(){return Object.keys(this.distributionOrdering)}},{key:\"addToOrdering\",value:function(e,t){void 0===this.distributionOrdering[t]&&(this.distributionOrdering[t]=[]);var n=!1,i=this.distributionOrdering[t];for(var r in i)if(i[r]===e){n=!0;break}n||(this.distributionOrdering[t].push(e),this.distributionIndex[e.id]=this.distributionOrdering[t].length-1)}}]),n}(),iu=function(){var e=Math.cos,t=Math.sin,n=Math.sqrt,i=Math.PI,r=Math.round,o=Math.pow,a=Math.max,s=Math.abs,l=Math.min,u=Math.floor;function c(e){cs(this,c),this.body=e,this.initialRandomSeed=r(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:\"UD\",sortMethod:\"hubsize\"}},Ji.extend(this.options,this.defaultOptions),this.bindEventListeners()}return hs(c,[{key:\"bindEventListeners\",value:function(){var e=this;this.body.emitter.on(\"_dataChanged\",(function(){e.setupHierarchicalLayout()})),this.body.emitter.on(\"_dataLoaded\",(function(){e.layoutNetwork()})),this.body.emitter.on(\"_resetHierarchicalLayout\",(function(){e.setupHierarchicalLayout()})),this.body.emitter.on(\"_adjustEdgesForHierarchicalLayout\",(function(){if(!0===e.options.hierarchical.enabled){var t=e.direction.curveType();e.body.emitter.emit(\"_forceDisableDynamicCurves\",t,!1)}}))}},{key:\"setOptions\",value:function(e,t){if(void 0!==e){var n=this.options.hierarchical,i=n.enabled;if(Ji.selectiveDeepExtend([\"randomSeed\",\"improvedLayout\",\"clusterThreshold\"],this.options,e),Ji.mergeOptions(this.options,e,\"hierarchical\"),void 0!==e.randomSeed&&(this.initialRandomSeed=e.randomSeed),!0===n.enabled)return!0===i&&this.body.emitter.emit(\"refresh\",!0),\"RL\"===n.direction||\"DU\"===n.direction?0<n.levelSeparation&&(n.levelSeparation*=-1):0>n.levelSeparation&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit(\"_resetHierarchicalLayout\"),this.adaptAllOptionsForHierarchicalLayout(t);if(!0===i)return this.body.emitter.emit(\"refresh\"),Ji.deepExtend(t,this.optionsBackup)}return t}},{key:\"adaptAllOptionsForHierarchicalLayout\",value:function(e){if(!0===this.options.hierarchical.enabled){var t=this.optionsBackup.physics;void 0===e.physics||!0===e.physics?(e.physics={enabled:void 0===t.enabled||t.enabled,solver:\"hierarchicalRepulsion\"},t.enabled=void 0===t.enabled||t.enabled,t.solver=t.solver||\"barnesHut\"):\"object\"===ws(e.physics)?(t.enabled=void 0===e.physics.enabled||e.physics.enabled,t.solver=e.physics.solver||\"barnesHut\",e.physics.solver=\"hierarchicalRepulsion\"):!1!==e.physics&&(t.solver=\"barnesHut\",e.physics={solver:\"hierarchicalRepulsion\"});var n=this.direction.curveType();if(void 0===e.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:\"dynamic\"}},e.edges={smooth:!1};else if(void 0===e.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:\"dynamic\"}},e.edges.smooth=!1;else if(\"boolean\"==typeof e.edges.smooth)this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{var i=e.edges.smooth;void 0!==i.type&&\"dynamic\"!==i.type&&(n=i.type),this.optionsBackup.edges={smooth:void 0===i.enabled||i.enabled,type:void 0===i.type?\"dynamic\":i.type,roundness:void 0===i.roundness?.5:i.roundness,forceDirection:void 0!==i.forceDirection&&i.forceDirection},e.edges.smooth={enabled:void 0===i.enabled||i.enabled,type:n,roundness:void 0===i.roundness?.5:i.roundness,forceDirection:void 0!==i.forceDirection&&i.forceDirection}}this.body.emitter.emit(\"_forceDisableDynamicCurves\",n)}return e}},{key:\"seededRandom\",value:function(){var e=1e4*t(this.randomSeed++);return e-u(e)}},{key:\"positionInitially\",value:function(n){if(!0!==this.options.hierarchical.enabled){this.randomSeed=this.initialRandomSeed;for(var r=n.length+50,o=0;o<n.length;o++){var a=n[o],s=2*i*this.seededRandom();void 0===a.x&&(a.x=r*e(s)),void 0===a.y&&(a.y=r*t(s))}}}},{key:\"layoutNetwork\",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var e=this.body.nodeIndices,t=0,n=0;n<e.length;n++)!0===this.body.nodes[e[n]].predefinedPosition&&(t+=1);if(t<.5*e.length){var i=0,r=this.options.clusterThreshold,o={clusterNodeProperties:{shape:\"ellipse\",label:\"\",group:\"\",font:{multi:!1}},clusterEdgeProperties:{label:\"\",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>r){for(var s=e.length;e.length>r&&10>=i;){i+=1;var l=e.length;if(0==i%3?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o),l==e.length&&0!=i%3)return this._declusterAll(),this.body.emitter.emit(\"_layoutFailed\"),void console.info(\"This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.\")}this.body.modules.kamadaKawai.setOptions({springLength:a(150,2*s)})}10<i&&console.info(\"The clustering didn't succeed within the amount of interations allowed, progressing with partial result.\"),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();for(var u,c=0;c<e.length;c++)!1===(u=this.body.nodes[e[c]]).predefinedPosition&&(u.x+=70*(.5-this.seededRandom()),u.y+=70*(.5-this.seededRandom()));this._declusterAll(),this.body.emitter.emit(\"_repositionBezierNodes\")}}}},{key:\"_shiftToCenter\",value:function(){for(var e,t=Ll.getRangeCore(this.body.nodes,this.body.nodeIndices),n=Ll.findCenter(t),i=0;i<this.body.nodeIndices.length;i++)(e=this.body.nodes[this.body.nodeIndices[i]]).x-=n.x,e.y-=n.y}},{key:\"_declusterAll\",value:function(){for(var e=!0;!0===e;){e=!1;for(var t=0;t<this.body.nodeIndices.length;t++)!0===this.body.nodes[this.body.nodeIndices[t]].isCluster&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[t],{},!1));!0===e&&this.body.emitter.emit(\"_dataChanged\")}}},{key:\"getSeed\",value:function(){return this.initialRandomSeed}},{key:\"setupHierarchicalLayout\",value:function(){if(!0===this.options.hierarchical.enabled&&0<this.body.nodeIndices.length){var e,t,n=!1,i=!1;for(t in this.lastNodeOnLevel={},this.hierarchical=new nu,this.body.nodes)this.body.nodes.hasOwnProperty(t)&&(void 0===(e=this.body.nodes[t]).options.level?i=!0:(n=!0,this.hierarchical.levels[t]=e.options.level));if(!0===i&&!0===n)throw new Error(\"To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.\");if(!0===i){var r=this.options.hierarchical.sortMethod;\"hubsize\"===r?this._determineLevelsByHubsize():\"directed\"===r?this._determineLevelsDirected():\"custom\"===r&&this._determineLevelsCustomCallback()}for(var o in this.body.nodes)this.body.nodes.hasOwnProperty(o)&&this.hierarchical.ensureLevel(o);var a=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(a),this._condenseHierarchy(),this._shiftToCenter()}}},{key:\"_condenseHierarchy\",value:function(){var e=this,t=!1,i={},u=function(t,n){var i=e.hierarchical.trees;for(var r in i)i.hasOwnProperty(r)&&i[r]===t&&e.direction.shift(r,n)},c=function(){for(var t=[],n=0;n<e.hierarchical.numTrees();n++)t.push(e.direction.getTreeSize(n));return t},d=function t(n,i){if(!i[n.id]&&(i[n.id]=!0,e.hierarchical.childrenReference[n.id])){var r=e.hierarchical.childrenReference[n.id];if(0<r.length)for(var o=0;o<r.length;o++)t(e.body.nodes[r[o]],i)}},h=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e9,i=1e9,r=1e9,o=1e9,s=-1e9;for(var u in t)if(t.hasOwnProperty(u)){var c=e.body.nodes[u],d=e.hierarchical.levels[c.id],h=e.direction.getPosition(c),f=e._getSpaceAroundNode(c,t),p=_s(f,2),g=p[0],m=p[1];i=l(g,i),r=l(m,r),d<=n&&(o=l(h,o),s=a(h,s))}return[o,s,i,r]},f=function(t,n){var i=e.hierarchical.getMaxLevel(t.id),r=e.hierarchical.getMaxLevel(n.id);return l(i,r)},p=function(t,n,i){for(var r=e.hierarchical,o=0;o<n.length;o++){var a=n[o],s=r.distributionOrdering[a];if(1<s.length)for(var l=0;l<s.length-1;l++){var u=s[l],c=s[l+1];r.hasSameParent(u,c)&&r.inSameSubNetwork(u,c)&&t(u,c,i)}}},g=function(n,i){var r=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],o=e.direction.getPosition(n),a=e.direction.getPosition(i),l=s(a-o),u=e.options.hierarchical.nodeSpacing;if(l>u){var c={},p={};d(n,c),d(i,p);var g=f(n,i),m=h(c,g),v=h(p,g),y=m[1],b=v[0],_=v[2],w=s(y-b);if(w>u){var x=y-b+u;x<-_+u&&(x=-_+u),0>x&&(e._shiftBlock(i.id,x),t=!0,!0===r&&e._centerParent(i))}}},m=function(s,u){for(var c,f=u.id,p=u.edges,g=e.hierarchical.levels[u.id],m=e.options.hierarchical.levelSeparation*e.options.hierarchical.levelSeparation,v={},y=[],b=0;b<p.length;b++)if((c=p[b]).toId!=c.fromId){var _=c.toId==f?c.from:c.to;v[p[b].id]=_,e.hierarchical.levels[_.id]<g&&y.push(c)}var w=function(t,i){for(var r=0,o=0;o<i.length;o++)if(void 0!==v[i[o].id]){var a=e.direction.getPosition(v[i[o].id])-t;r+=a/n(a*a+m)}return r},x=function(t,n){for(var i=0,r=0;r<n.length;r++)if(void 0!==v[n[r].id]){var a=e.direction.getPosition(v[n[r].id])-t;i-=m*o(a*a+m,-1.5)}return i},k=function(t,n){for(var i=e.direction.getPosition(u),o={},s=0;s<t;s++){var c=w(i,n),d=x(i,n);if(void 0!==o[i-=a(-40,l(40,r(c/d)))])break;o[i]=s}return i},O=k(s,y);(function(n){var r=e.direction.getPosition(u);if(void 0===i[u.id]){var o={};d(u,o),i[u.id]=o}var a=h(i[u.id]),s=a[2],c=a[3],f=n-r,p=0;0<f?p=l(f,c-e.options.hierarchical.nodeSpacing):0>f&&(p=-l(-f,s-e.options.hierarchical.nodeSpacing)),0!=p&&(e._shiftBlock(u.id,p),t=!0)})(O),function(n){var i=e.direction.getPosition(u),r=e._getSpaceAroundNode(u),o=_s(r,2),s=o[0],c=o[1],d=n-i,h=i;0<d?h=l(i+(c-e.options.hierarchical.nodeSpacing),n):0>d&&(h=a(i-(s-e.options.hierarchical.nodeSpacing),n)),h!==i&&(e.direction.setPosition(u,h),t=!0)}(O=k(s,p))};!0===this.options.hierarchical.blockShifting&&(function(n){var i=e.hierarchical.getLevels();i=i.reverse();for(var r=0;r<n&&(t=!1,p(g,i,!0),!0===t);r++);}(5),function(){for(var t in e.body.nodes)e.body.nodes.hasOwnProperty(t)&&e._centerParent(e.body.nodes[t])}()),!0===this.options.hierarchical.edgeMinimization&&function(n){var i=e.hierarchical.getLevels();i=i.reverse();for(var r=0;r<n;r++){t=!1;for(var o=0;o<i.length;o++)for(var a=i[o],s=e.hierarchical.distributionOrdering[a],l=0;l<s.length;l++)m(1e3,s[l]);if(!0!==t)break}}(20),!0===this.options.hierarchical.parentCentralization&&function(){var t=e.hierarchical.getLevels();t=t.reverse();for(var n=0;n<t.length;n++)for(var i=t[n],r=e.hierarchical.distributionOrdering[i],o=0;o<r.length;o++)e._centerParent(r[o])}(),function(){for(var t=c(),n=0,i=0;i<t.length-1;i++)n+=t[i].max-t[i+1].min+e.options.hierarchical.treeSpacing,u(i+1,n)}()}},{key:\"_getSpaceAroundNode\",value:function(e,t){var n=!0;void 0===t&&(n=!1);var i=this.hierarchical.levels[e.id];if(void 0!==i){var r=this.hierarchical.distributionIndex[e.id],o=this.direction.getPosition(e),a=this.hierarchical.distributionOrdering[i],s=1e9,u=1e9;if(0!==r){var c=a[r-1];if(1==n&&void 0===t[c.id]||0==n)s=o-this.direction.getPosition(c)}if(r!=a.length-1){var d=a[r+1];if(1==n&&void 0===t[d.id]||0==n){var h=this.direction.getPosition(d);u=l(u,h-o)}}return[s,u]}return[0,0]}},{key:\"_centerParent\",value:function(e){if(this.hierarchical.parentReference[e.id])for(var t=this.hierarchical.parentReference[e.id],n=0;n<t.length;n++){var i=t[n],r=this.body.nodes[i],o=this.hierarchical.childrenReference[i];if(void 0!==o){var a=this._getCenterPosition(o),l=this.direction.getPosition(r),u=this._getSpaceAroundNode(r),c=_s(u,2),d=c[0],h=c[1],f=l-a;(0>f&&s(f)<h-this.options.hierarchical.nodeSpacing||0<f&&s(f)<d-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(r,a)}}}},{key:\"_placeNodesByHierarchy\",value:function(e){for(var t in this.positionedNodes={},e)if(e.hasOwnProperty(t)){var n=Object.keys(e[t]);n=this._indexArrayToNodes(n),this.direction.sort(n);for(var i,r=0,o=0;o<n.length;o++)if(i=n[o],void 0===this.positionedNodes[i.id]){var a=this.options.hierarchical.nodeSpacing,s=a*r;0<r&&(s=this.direction.getPosition(n[o-1])+a),this.direction.setPosition(i,s,t),this._validatePositionAndContinue(i,t,s),r++}}}},{key:\"_placeBranchNodes\",value:function(e,t){var n=this.hierarchical.childrenReference[e];if(void 0!==n){for(var i=[],r=0;r<n.length;r++)i.push(this.body.nodes[n[r]]);this.direction.sort(i);for(var o=0;o<i.length;o++){var a=i[o],s=this.hierarchical.levels[a.id];if(!(s>t&&void 0===this.positionedNodes[a.id]))return;var l,u=this.options.hierarchical.nodeSpacing;l=0==o?this.direction.getPosition(this.body.nodes[e]):this.direction.getPosition(i[o-1])+u,this.direction.setPosition(a,l,s),this._validatePositionAndContinue(a,s,l)}var c=this._getCenterPosition(i);this.direction.setPosition(this.body.nodes[e],c,t)}}},{key:\"_validatePositionAndContinue\",value:function(e,t,n){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[t]){var i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[t]]);if(n-i<this.options.hierarchical.nodeSpacing){var r=i+this.options.hierarchical.nodeSpacing-n,o=this._findCommonParent(this.lastNodeOnLevel[t],e.id);this._shiftBlock(o.withChild,r)}}this.lastNodeOnLevel[t]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,t)}}},{key:\"_indexArrayToNodes\",value:function(e){for(var t=[],n=0;n<e.length;n++)t.push(this.body.nodes[e[n]]);return t}},{key:\"_getDistribution\",value:function(){var e,t,n={};for(e in this.body.nodes)if(this.body.nodes.hasOwnProperty(e)){t=this.body.nodes[e];var i=void 0===this.hierarchical.levels[e]?0:this.hierarchical.levels[e];this.direction.fix(t,i),void 0===n[i]&&(n[i]={}),n[i][e]=t}return n}},{key:\"_getActiveEdges\",value:function(e){var t=this,n=[];return Ji.forEach(e.edges,(function(e){-1!==t.body.edgeIndices.indexOf(e.id)&&n.push(e)})),n}},{key:\"_getHubSizes\",value:function(){var e=this,t={},n=this.body.nodeIndices;Ji.forEach(n,(function(n){var i=e.body.nodes[n],r=e._getActiveEdges(i).length;t[r]=!0}));var i=[];return Ji.forEach(t,(function(e){i.push(+e)})),Jl.sort(i,(function(e,t){return t-e})),i}},{key:\"_determineLevelsByHubsize\",value:function(){for(var e=this,t=function(t,n){e.hierarchical.levelDownstream(t,n)},n=this._getHubSizes(),i=function(i){var r=n[i];return 0===r?\"break\":void Ji.forEach(e.body.nodeIndices,(function(n){var i=e.body.nodes[n];r===e._getActiveEdges(i).length&&e._crawlNetwork(t,n)}))},r=0;r<n.length&&\"break\"!==i(r);++r);}},{key:\"_determineLevelsCustomCallback\",value:function(){var e=this;this._crawlNetwork((function(t,n,i){var r=e.hierarchical.levels[t.id];void 0===r&&(r=e.hierarchical.levels[t.id]=1e5);var o=(Ll.cloneOptions(t,\"node\"),Ll.cloneOptions(n,\"node\"),void Ll.cloneOptions(i,\"edge\"));e.hierarchical.levels[n.id]=r+o})),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:\"_determineLevelsDirected\",value:function(){var e=this;this._crawlNetwork((function(t,n,i){var r=e.hierarchical.levels[t.id];e.hierarchical.levels[n.id];!function(t){Ji.forEach(e.body.edges,(function(e){if(e.toId===t.fromId&&e.fromId===t.toId)return!0}))}(i),void 0===r&&(r=e.hierarchical.levels[t.id]=1e4),e.hierarchical.levels[n.id]=i.toId==n.id?r+1:r-1})),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:\"_generateMap\",value:function(){var e=this;this._crawlNetwork((function(t,n){e.hierarchical.levels[n.id]>e.hierarchical.levels[t.id]&&e.hierarchical.addRelation(t.id,n.id)})),this.hierarchical.checkIfTree()}},{key:\"_crawlNetwork\",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){},n=1<arguments.length?arguments[1]:void 0,i={},r=function n(r,o){if(void 0===i[r.id]){e.hierarchical.setTreeIndex(r,o),i[r.id]=!0;for(var a,s,l=e._getActiveEdges(r),u=0;u<l.length;u++)!0===(s=l[u]).connected&&(a=s.toId==r.id?s.from:s.to,r.id!=a.id&&(t(r,a,s),n(a,o)))}};if(void 0===n){for(var o,a=0,s=0;s<this.body.nodeIndices.length;s++)if(o=this.body.nodeIndices[s],void 0===i[o]){var l=this.body.nodes[o];r(l,a),a+=1}}else{var u=this.body.nodes[n];if(void 0===u)return void console.error(\"Node not found:\",n);r(u)}}},{key:\"_shiftBlock\",value:function(e,t){var n=this,i={};!function e(r){if(!i[r]){i[r]=!0,n.direction.shift(r,t);var o=n.hierarchical.childrenReference[r];if(void 0!==o)for(var a=0;a<o.length;a++)e(o[a])}}(e)}},{key:\"_findCommonParent\",value:function(e,t){var n=this,i={};return function e(t,i){var r=n.hierarchical.parentReference[i];if(void 0!==r)for(var o,a=0;a<r.length;a++)t[o=r[a]]=!0,e(t,o)}(i,e),function e(t,i){var r=n.hierarchical.parentReference[i];if(void 0!==r)for(var o,a=0;a<r.length;a++){if(void 0!==t[o=r[a]])return{foundParent:o,withChild:i};var s=e(t,o);if(null!==s.foundParent)return s}return{foundParent:null,withChild:i}}(i,t)}},{key:\"setDirectionStrategy\",value:function(){var e=\"UD\"===this.options.hierarchical.direction||\"DU\"===this.options.hierarchical.direction;this.direction=e?new eu(this):new tu(this)}},{key:\"_getCenterPosition\",value:function(e){for(var t,n=1e9,i=-1e9,r=0;r<e.length;r++){if(t=void 0,void 0!==e[r].id)t=e[r];else{var o=e[r];t=this.body.nodes[o]}var s=this.direction.getPosition(t);n=l(n,s),i=a(i,s)}return.5*(n+i)}}]),c}(),ru=function(){function e(t,n,i){var r=this;cs(this,e),this.body=t,this.canvas=n,this.selectionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:\"dot\",size:6,color:{background:\"#ff0000\",border:\"#3c3c3c\",highlight:{background:\"#07f968\",border:\"#3c3c3c\"}},borderWidth:2,borderWidthSelected:2}},Ji.extend(this.options,this.defaultOptions),this.body.emitter.on(\"destroy\",(function(){r._clean()})),this.body.emitter.on(\"_dataChanged\",this._restore.bind(this)),this.body.emitter.on(\"_resetData\",this._restore.bind(this))}return hs(e,[{key:\"_restore\",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:\"setOptions\",value:function(e,t,n){void 0!==t&&(this.options.locale=void 0===t.locale?n.locale:t.locale,this.options.locales=void 0===t.locales?n.locales:t.locales),void 0!==e&&(\"boolean\"==typeof e?this.options.enabled=e:(this.options.enabled=!0,Ji.deepExtend(this.options,e)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:\"toggleEditMode\",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:\"enableEditMode\",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display=\"block\",this.closeDiv.style.display=\"block\",this.editModeDiv.style.display=\"none\",this.showManipulatorToolbar())}},{key:\"disableEditMode\",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display=\"none\",this.closeDiv.style.display=\"none\",this.editModeDiv.style.display=\"block\",this._createEditButton())}},{key:\"showManipulatorToolbar\",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){this.editMode=!0,this.manipulationDiv.style.display=\"block\",this.closeDiv.style.display=\"block\";var e=this.selectionHandler._getSelectedNodeCount(),t=this.selectionHandler._getSelectedEdgeCount(),n=this.options.locales[this.options.locale],i=!1;!1!==this.options.addNode&&(this._createAddNodeButton(n),i=!0),!1!==this.options.addEdge&&(!0===i?this._createSeperator(1):i=!0,this._createAddEdgeButton(n)),1===e&&\"function\"==typeof this.options.editNode?(!0===i?this._createSeperator(2):i=!0,this._createEditNodeButton(n)):1===t&&0===e&&!1!==this.options.editEdge&&(!0===i?this._createSeperator(3):i=!0,this._createEditEdgeButton(n)),0!==e+t&&(0<e&&!1!==this.options.deleteNode||0===e&&!1!==this.options.deleteEdge)&&(!0===i&&this._createSeperator(4),this._createDeleteButton(n)),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent(\"select\",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit(\"_redraw\")}},{key:\"addNodeMode\",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode=\"addNode\",!0===this.guiEnabled){var e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent(\"click\",this._performAddNode.bind(this))}},{key:\"editNode\",value:function(){var e=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var t=this.selectionHandler._getSelectedNode();if(void 0===t)this.showManipulatorToolbar();else{if(this.inMode=\"editNode\",\"function\"!=typeof this.options.editNode)throw new Error(\"No function has been configured to handle the editing of nodes.\");if(!0!==t.isCluster){var n=Ji.deepExtend({},t.options,!1);if(n.x=t.x,n.y=t.y,2!==this.options.editNode.length)throw new Error(\"The function for edit does not support two arguments (data, callback)\");this.options.editNode(n,(function(t){null!=t&&\"editNode\"===e.inMode&&e.body.data.nodes.getDataSet().update(t),e.showManipulatorToolbar()}))}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}}},{key:\"addEdgeMode\",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode=\"addEdge\",!0===this.guiEnabled){var e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI(\"onTouch\",this._handleConnect.bind(this)),this._temporaryBindUI(\"onDragEnd\",this._finishConnect.bind(this)),this._temporaryBindUI(\"onDrag\",this._dragControlNode.bind(this)),this._temporaryBindUI(\"onRelease\",this._finishConnect.bind(this)),this._temporaryBindUI(\"onDragStart\",this._dragStartEdge.bind(this)),this._temporaryBindUI(\"onHold\",(function(){}))}},{key:\"editEdgeMode\",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode=\"editEdge\",\"object\"!==ws(this.options.editEdge)||\"function\"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId){var t=this.body.edges[this.edgeBeingEditedId],n=this._getNewTargetNode(t.from.x,t.from.y),i=this._getNewTargetNode(t.to.x,t.to.y);this.temporaryIds.nodes.push(n.id),this.temporaryIds.nodes.push(i.id),this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id),this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id),this._temporaryBindUI(\"onTouch\",this._controlNodeTouch.bind(this)),this._temporaryBindUI(\"onTap\",(function(){})),this._temporaryBindUI(\"onHold\",(function(){})),this._temporaryBindUI(\"onDragStart\",this._controlNodeDragStart.bind(this)),this._temporaryBindUI(\"onDrag\",this._controlNodeDrag.bind(this)),this._temporaryBindUI(\"onDragEnd\",this._controlNodeDragEnd.bind(this)),this._temporaryBindUI(\"onMouseMove\",(function(){})),this._temporaryBindEvent(\"beforeDrawing\",(function(e){var r=t.edgeType.findBorderPositions(e);!1===n.selected&&(n.x=r.from.x,n.y=r.from.y),!1===i.selected&&(i.x=r.to.x,i.y=r.to.y)})),this.body.emitter.emit(\"_redraw\")}else this.showManipulatorToolbar()}else{var r=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(r.from,r.to)}}},{key:\"deleteSelected\",value:function(){var e=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode=\"delete\";var t=this.selectionHandler.getSelectedNodes(),n=this.selectionHandler.getSelectedEdges(),i=void 0;if(0<t.length){for(var r=0;r<t.length;r++)if(!0===this.body.nodes[t[r]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);\"function\"==typeof this.options.deleteNode&&(i=this.options.deleteNode)}else 0<n.length&&\"function\"==typeof this.options.deleteEdge&&(i=this.options.deleteEdge);if(\"function\"==typeof i){if(2!==i.length)throw new Error(\"The function for delete does not support two arguments (data, callback)\");i({nodes:t,edges:n},(function(t){null!=t&&\"delete\"===e.inMode?(e.body.data.edges.getDataSet().remove(t.edges),e.body.data.nodes.getDataSet().remove(t.nodes),e.body.emitter.emit(\"startSimulation\"),e.showManipulatorToolbar()):(e.body.emitter.emit(\"startSimulation\"),e.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().remove(n),this.body.data.nodes.getDataSet().remove(t),this.body.emitter.emit(\"startSimulation\"),this.showManipulatorToolbar()}},{key:\"_setup\",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:\"_createWrappers\",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement(\"div\"),this.manipulationDiv.className=\"vis-manipulation\",this.manipulationDiv.style.display=!0===this.editMode?\"block\":\"none\",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement(\"div\"),this.editModeDiv.className=\"vis-edit-mode\",this.editModeDiv.style.display=!0===this.editMode?\"none\":\"block\",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement(\"div\"),this.closeDiv.className=\"vis-close\",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:\"_getNewTargetNode\",value:function(e,t){var n=Ji.deepExtend({},this.options.controlNodeStyle);n.id=\"targetNode\"+Ji.randomUUID(),n.hidden=!1,n.physics=!1,n.x=e,n.y=t;var i=this.body.functions.createNode(n);return i.shape.boundingBox={left:e,right:e,top:t,bottom:t},i}},{key:\"_createEditButton\",value:function(){this._clean(),this.manipulationDOM={},Ji.recursiveDOMDelete(this.editModeDiv);var e=this.options.locales[this.options.locale],t=this._createButton(\"editMode\",\"vis-button vis-edit vis-edit-mode\",e.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(t),this._bindHammerToDiv(t,this.toggleEditMode.bind(this))}},{key:\"_clean\",value:function(){this.inMode=!1,!0===this.guiEnabled&&(Ji.recursiveDOMDelete(this.editModeDiv),Ji.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit(\"restorePhysics\")}},{key:\"_cleanManipulatorHammers\",value:function(){if(0!=this.manipulationHammers.length){for(var e=0;e<this.manipulationHammers.length;e++)this.manipulationHammers[e].destroy();this.manipulationHammers=[]}}},{key:\"_removeManipulationDOM\",value:function(){this._clean(),Ji.recursiveDOMDelete(this.manipulationDiv),Ji.recursiveDOMDelete(this.editModeDiv),Ji.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:\"_createSeperator\",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM[\"seperatorLineDiv\"+e]=document.createElement(\"div\"),this.manipulationDOM[\"seperatorLineDiv\"+e].className=\"vis-separator-line\",this.manipulationDiv.appendChild(this.manipulationDOM[\"seperatorLineDiv\"+e])}},{key:\"_createAddNodeButton\",value:function(e){var t=this._createButton(\"addNode\",\"vis-button vis-add\",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.addNodeMode.bind(this))}},{key:\"_createAddEdgeButton\",value:function(e){var t=this._createButton(\"addEdge\",\"vis-button vis-connect\",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.addEdgeMode.bind(this))}},{key:\"_createEditNodeButton\",value:function(e){var t=this._createButton(\"editNode\",\"vis-button vis-edit\",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.editNode.bind(this))}},{key:\"_createEditEdgeButton\",value:function(e){var t=this._createButton(\"editEdge\",\"vis-button vis-edit\",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.editEdgeMode.bind(this))}},{key:\"_createDeleteButton\",value:function(e){var t=this.options.rtl?\"vis-button vis-delete-rtl\":\"vis-button vis-delete\",n=this._createButton(\"delete\",t,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(n),this._bindHammerToDiv(n,this.deleteSelected.bind(this))}},{key:\"_createBackButton\",value:function(e){var t=this._createButton(\"back\",\"vis-button vis-back\",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(t),this._bindHammerToDiv(t,this.showManipulatorToolbar.bind(this))}},{key:\"_createButton\",value:function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:\"vis-label\";return this.manipulationDOM[e+\"Div\"]=document.createElement(\"div\"),this.manipulationDOM[e+\"Div\"].className=t,this.manipulationDOM[e+\"Label\"]=document.createElement(\"div\"),this.manipulationDOM[e+\"Label\"].className=i,this.manipulationDOM[e+\"Label\"].innerHTML=n,this.manipulationDOM[e+\"Div\"].appendChild(this.manipulationDOM[e+\"Label\"]),this.manipulationDOM[e+\"Div\"]}},{key:\"_createDescription\",value:function(e){this.manipulationDiv.appendChild(this._createButton(\"description\",\"vis-button vis-none\",e))}},{key:\"_temporaryBindEvent\",value:function(e,t){this.temporaryEventFunctions.push({event:e,boundFunction:t}),this.body.emitter.on(e,t)}},{key:\"_temporaryBindUI\",value:function(e,t){if(void 0===this.body.eventListeners[e])throw new Error(\"This UI function does not exist. Typo? You tried: \"+e+\" possible are: \"+JSON.stringify(Object.keys(this.body.eventListeners)));this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=t}},{key:\"_unbindTemporaryUIs\",value:function(){for(var e in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}},{key:\"_unbindTemporaryEvents\",value:function(){for(var e=0;e<this.temporaryEventFunctions.length;e++){var t=this.temporaryEventFunctions[e].event,n=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(t,n)}this.temporaryEventFunctions=[]}},{key:\"_bindHammerToDiv\",value:function(e,t){var n=new os(e,{});Yl.onTouch(n,t),this.manipulationHammers.push(n)}},{key:\"_cleanupTemporaryNodesAndEdges\",value:function(){for(var e=0;e<this.temporaryIds.edges.length;e++){this.body.edges[this.temporaryIds.edges[e]].disconnect(),delete this.body.edges[this.temporaryIds.edges[e]];var t=this.body.edgeIndices.indexOf(this.temporaryIds.edges[e]);-1!==t&&this.body.edgeIndices.splice(t,1)}for(var n=0;n<this.temporaryIds.nodes.length;n++){delete this.body.nodes[this.temporaryIds.nodes[n]];var i=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[n]);-1!==i&&this.body.nodeIndices.splice(i,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:\"_controlNodeTouch\",value:function(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Ji.extend({},this.body.view.translation)}},{key:\"_controlNodeDragStart\",value:function(){var e=this.lastTouch,t=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],r=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var o=n.isOverlappingWith(t),a=i.isOverlappingWith(t);!0===o?(this.selectedControlNode=n,r.edgeType.from=n):!0===a&&(this.selectedControlNode=i,r.edgeType.to=i),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit(\"_redraw\")}},{key:\"_controlNodeDrag\",value:function(e){this.body.emitter.emit(\"disablePhysics\");var t=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(t);if(void 0!==this.selectedControlNode)this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y;else{var i=t.x-this.lastTouch.x,r=t.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+i,y:this.lastTouch.translation.y+r}}this.body.emitter.emit(\"_redraw\")}},{key:\"_controlNodeDragEnd\",value:function(e){var t=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(t),i=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var r=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,a=r.length-1;0<=a;a--)if(r[a]!==this.selectedControlNode.id){o=this.body.nodes[r[a]];break}if(void 0===o||void 0===this.selectedControlNode)i.updateEdgeType(),this.body.emitter.emit(\"restorePhysics\");else if(!0===o.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var s=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===s.id?this._performEditEdge(o.id,i.to.id):this._performEditEdge(i.from.id,o.id)}this.body.emitter.emit(\"_redraw\")}}},{key:\"_handleConnect\",value:function(e){if(100<(new Date).valueOf()-this.touchTime){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Ji.extend({},this.body.view.translation);var t=this.lastTouch,n=this.selectionHandler.getNodeAt(t);if(void 0!==n)if(!0===n.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var i=this._getNewTargetNode(n.x,n.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);var r=this.body.functions.createEdge({id:\"connectionEdge\"+Ji.randomUUID(),from:n.id,to:i.id,physics:!1,smooth:{enabled:!0,type:\"continuous\",roundness:.5}});this.body.edges[r.id]=r,this.body.edgeIndices.push(r.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(r.id)}this.touchTime=(new Date).valueOf()}}},{key:\"_dragControlNode\",value:function(e){var t=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(t),i=void 0;void 0!==this.temporaryIds.edges[0]&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var r=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,a=r.length-1;0<=a;a--)if(-1===this.temporaryIds.nodes.indexOf(r[a])){o=this.body.nodes[r[a]];break}if(e.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler._generateClickEvent(\"controlNodeDragging\",e,t),void 0!==this.temporaryIds.nodes[0]){var s=this.body.nodes[this.temporaryIds.nodes[0]];s.x=this.canvas._XconvertDOMtoCanvas(t.x),s.y=this.canvas._YconvertDOMtoCanvas(t.y),this.body.emitter.emit(\"_redraw\")}else{var l=t.x-this.lastTouch.x,u=t.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+l,y:this.lastTouch.translation.y+u}}}},{key:\"_finishConnect\",value:function(e){var t=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(t),i=void 0;void 0!==this.temporaryIds.edges[0]&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var r=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,a=r.length-1;0<=a;a--)if(-1===this.temporaryIds.nodes.indexOf(r[a])){o=this.body.nodes[r[a]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==o&&(!0===o.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[i]&&void 0!==this.body.nodes[o.id]&&this._performAddEdge(i,o.id)),e.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler._generateClickEvent(\"controlNodeDragEnd\",e,t),this.body.emitter.emit(\"_redraw\")}},{key:\"_dragStartEdge\",value:function(e){var t=this.lastTouch;this.selectionHandler._generateClickEvent(\"dragStart\",e,t,void 0,!0)}},{key:\"_performAddNode\",value:function(e){var t=this,n={id:Ji.randomUUID(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:\"new\"};if(\"function\"!=typeof this.options.addNode)this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar();else{if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error(\"The function for add does not support two arguments (data,callback)\");this.options.addNode(n,(function(e){null!=e&&\"addNode\"===t.inMode&&t.body.data.nodes.getDataSet().add(e),t.showManipulatorToolbar()}))}}},{key:\"_performAddEdge\",value:function(e,t){var n=this,i={from:e,to:t};if(\"function\"!=typeof this.options.addEdge)this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar();else{if(2!==this.options.addEdge.length)throw new Error(\"The function for connect does not support two arguments (data,callback)\");this.options.addEdge(i,(function(e){null!=e&&\"addEdge\"===n.inMode&&(n.body.data.edges.getDataSet().add(e),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())}))}}},{key:\"_performEditEdge\",value:function(e,t){var n=this,i={id:this.edgeBeingEditedId,from:e,to:t,label:this.body.data.edges._data[this.edgeBeingEditedId].label},r=this.options.editEdge;if(\"object\"===ws(r)&&(r=r.editWithoutDrag),\"function\"!=typeof r)this.body.data.edges.getDataSet().update(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar();else{if(2!==r.length)throw new Error(\"The function for edit does not support two arguments (data, callback)\");r(i,(function(e){null==e||\"editEdge\"!==n.inMode?(n.body.edges[i.id].updateEdgeType(),n.body.emitter.emit(\"_redraw\"),n.showManipulatorToolbar()):(n.body.data.edges.getDataSet().update(e),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())}))}}}]),e}(),ou={black:\"#000000\",navy:\"#000080\",darkblue:\"#00008B\",mediumblue:\"#0000CD\",blue:\"#0000FF\",darkgreen:\"#006400\",green:\"#008000\",teal:\"#008080\",darkcyan:\"#008B8B\",deepskyblue:\"#00BFFF\",darkturquoise:\"#00CED1\",mediumspringgreen:\"#00FA9A\",lime:\"#00FF00\",springgreen:\"#00FF7F\",aqua:\"#00FFFF\",cyan:\"#00FFFF\",midnightblue:\"#191970\",dodgerblue:\"#1E90FF\",lightseagreen:\"#20B2AA\",forestgreen:\"#228B22\",seagreen:\"#2E8B57\",darkslategray:\"#2F4F4F\",limegreen:\"#32CD32\",mediumseagreen:\"#3CB371\",turquoise:\"#40E0D0\",royalblue:\"#4169E1\",steelblue:\"#4682B4\",darkslateblue:\"#483D8B\",mediumturquoise:\"#48D1CC\",indigo:\"#4B0082\",darkolivegreen:\"#556B2F\",cadetblue:\"#5F9EA0\",cornflowerblue:\"#6495ED\",mediumaquamarine:\"#66CDAA\",dimgray:\"#696969\",slateblue:\"#6A5ACD\",olivedrab:\"#6B8E23\",slategray:\"#708090\",lightslategray:\"#778899\",mediumslateblue:\"#7B68EE\",lawngreen:\"#7CFC00\",chartreuse:\"#7FFF00\",aquamarine:\"#7FFFD4\",maroon:\"#800000\",purple:\"#800080\",olive:\"#808000\",gray:\"#808080\",skyblue:\"#87CEEB\",lightskyblue:\"#87CEFA\",blueviolet:\"#8A2BE2\",darkred:\"#8B0000\",darkmagenta:\"#8B008B\",saddlebrown:\"#8B4513\",darkseagreen:\"#8FBC8F\",lightgreen:\"#90EE90\",mediumpurple:\"#9370D8\",darkviolet:\"#9400D3\",palegreen:\"#98FB98\",darkorchid:\"#9932CC\",yellowgreen:\"#9ACD32\",sienna:\"#A0522D\",brown:\"#A52A2A\",darkgray:\"#A9A9A9\",lightblue:\"#ADD8E6\",greenyellow:\"#ADFF2F\",paleturquoise:\"#AFEEEE\",lightsteelblue:\"#B0C4DE\",powderblue:\"#B0E0E6\",firebrick:\"#B22222\",darkgoldenrod:\"#B8860B\",mediumorchid:\"#BA55D3\",rosybrown:\"#BC8F8F\",darkkhaki:\"#BDB76B\",silver:\"#C0C0C0\",mediumvioletred:\"#C71585\",indianred:\"#CD5C5C\",peru:\"#CD853F\",chocolate:\"#D2691E\",tan:\"#D2B48C\",lightgrey:\"#D3D3D3\",palevioletred:\"#D87093\",thistle:\"#D8BFD8\",orchid:\"#DA70D6\",goldenrod:\"#DAA520\",crimson:\"#DC143C\",gainsboro:\"#DCDCDC\",plum:\"#DDA0DD\",burlywood:\"#DEB887\",lightcyan:\"#E0FFFF\",lavender:\"#E6E6FA\",darksalmon:\"#E9967A\",violet:\"#EE82EE\",palegoldenrod:\"#EEE8AA\",lightcoral:\"#F08080\",khaki:\"#F0E68C\",aliceblue:\"#F0F8FF\",honeydew:\"#F0FFF0\",azure:\"#F0FFFF\",sandybrown:\"#F4A460\",wheat:\"#F5DEB3\",beige:\"#F5F5DC\",whitesmoke:\"#F5F5F5\",mintcream:\"#F5FFFA\",ghostwhite:\"#F8F8FF\",salmon:\"#FA8072\",antiquewhite:\"#FAEBD7\",linen:\"#FAF0E6\",lightgoldenrodyellow:\"#FAFAD2\",oldlace:\"#FDF5E6\",red:\"#FF0000\",fuchsia:\"#FF00FF\",magenta:\"#FF00FF\",deeppink:\"#FF1493\",orangered:\"#FF4500\",tomato:\"#FF6347\",hotpink:\"#FF69B4\",coral:\"#FF7F50\",darkorange:\"#FF8C00\",lightsalmon:\"#FFA07A\",orange:\"#FFA500\",lightpink:\"#FFB6C1\",pink:\"#FFC0CB\",gold:\"#FFD700\",peachpuff:\"#FFDAB9\",navajowhite:\"#FFDEAD\",moccasin:\"#FFE4B5\",bisque:\"#FFE4C4\",mistyrose:\"#FFE4E1\",blanchedalmond:\"#FFEBCD\",papayawhip:\"#FFEFD5\",lavenderblush:\"#FFF0F5\",seashell:\"#FFF5EE\",cornsilk:\"#FFF8DC\",lemonchiffon:\"#FFFACD\",floralwhite:\"#FFFAF0\",snow:\"#FFFAFA\",yellow:\"#FFFF00\",lightyellow:\"#FFFFE0\",ivory:\"#FFFFF0\",white:\"#FFFFFF\"},au=function(){var e=Math.atan2,t=Math.cos,n=Math.sin,i=Math.sqrt,r=Math.PI,o=Math.min;function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;cs(this,a),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return hs(a,[{key:\"insertTo\",value:function(e){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:\"setUpdateCallback\",value:function(e){if(\"function\"!=typeof e)throw new Error(\"Function attempted to set as colorPicker update callback is not a function.\");this.updateCallback=e}},{key:\"setCloseCallback\",value:function(e){if(\"function\"!=typeof e)throw new Error(\"Function attempted to set as colorPicker closing callback is not a function.\");this.closeCallback=e}},{key:\"_isColorString\",value:function(e){if(\"string\"==typeof e)return ou[e]}},{key:\"setColor\",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(\"none\"!==e){var n,i=this._isColorString(e);if(void 0!==i&&(e=i),!0===Ji.isString(e)){if(!0===Ji.isValidRGB(e)){var r=e.substr(4).substr(0,e.length-5).split(\",\");n={r:r[0],g:r[1],b:r[2],a:1}}else if(!0===Ji.isValidRGBA(e)){var o=e.substr(5).substr(0,e.length-6).split(\",\");n={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(!0===Ji.isValidHex(e)){var a=Ji.hexToRGB(e);n={r:a.r,g:a.g,b:a.b,a:1}}}else if(e instanceof Object&&void 0!==e.r&&void 0!==e.g&&void 0!==e.b){var s=void 0===e.a?\"1.0\":e.a;n={r:e.r,g:e.g,b:e.b,a:s}}if(void 0===n)throw new Error(\"Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: \"+JSON.stringify(e));this._setColor(n,t)}}},{key:\"show\",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display=\"block\",this._generateHueCircle()}},{key:\"_hide\",value:function(){var e=this,t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];!0===t&&(this.previousColor=Ji.extend({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display=\"none\",setTimeout((function(){void 0!==e.closeCallback&&(e.closeCallback(),e.closeCallback=void 0)}),0)}},{key:\"_save\",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:\"_apply\",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:\"_loadLast\",value:function(){void 0===this.previousColor?alert(\"There is no last color to load...\"):this.setColor(this.previousColor,!1)}},{key:\"_setColor\",value:function(e){var i=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];!0===i&&(this.initialColor=Ji.extend({},e)),this.color=e;var o=Ji.RGBToHSV(e.r,e.g,e.b),a=2*r,s=this.r*o.s,l=this.centerCoordinates.x+s*n(a*o.h),u=this.centerCoordinates.y+s*t(a*o.h);this.colorPickerSelector.style.left=l-.5*this.colorPickerSelector.clientWidth+\"px\",this.colorPickerSelector.style.top=u-.5*this.colorPickerSelector.clientHeight+\"px\",this._updatePicker(e)}},{key:\"_setOpacity\",value:function(e){this.color.a=e/100,this._updatePicker(this.color)}},{key:\"_setBrightness\",value:function(e){var t=Ji.RGBToHSV(this.color.r,this.color.g,this.color.b);t.v=e/100;var n=Ji.HSVToRGB(t.h,t.s,t.v);n.a=this.color.a,this.color=n,this._updatePicker()}},{key:\"_updatePicker\",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.color,t=Ji.RGBToHSV(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext(\"2d\");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var i=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,r),n.putImageData(this.hueCircle,0,0),n.fillStyle=\"rgba(0,0,0,\"+(1-t.v)+\")\",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),n.fill(),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor=\"rgba(\"+this.initialColor.r+\",\"+this.initialColor.g+\",\"+this.initialColor.b+\",\"+this.initialColor.a+\")\",this.newColorDiv.style.backgroundColor=\"rgba(\"+this.color.r+\",\"+this.color.g+\",\"+this.color.b+\",\"+this.color.a+\")\"}},{key:\"_setSize\",value:function(){this.colorPickerCanvas.style.width=\"100%\",this.colorPickerCanvas.style.height=\"100%\",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:\"_create\",value:function(){if(this.frame=document.createElement(\"div\"),this.frame.className=\"vis-color-picker\",this.colorPickerDiv=document.createElement(\"div\"),this.colorPickerSelector=document.createElement(\"div\"),this.colorPickerSelector.className=\"vis-selector\",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement(\"canvas\"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var e=this.colorPickerCanvas.getContext(\"2d\");this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1),this.colorPickerCanvas.getContext(\"2d\").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var t=document.createElement(\"DIV\");t.style.color=\"red\",t.style.fontWeight=\"bold\",t.style.padding=\"10px\",t.innerHTML=\"Error: your browser does not support HTML canvas\",this.colorPickerCanvas.appendChild(t)}this.colorPickerDiv.className=\"vis-color\",this.opacityDiv=document.createElement(\"div\"),this.opacityDiv.className=\"vis-opacity\",this.brightnessDiv=document.createElement(\"div\"),this.brightnessDiv.className=\"vis-brightness\",this.arrowDiv=document.createElement(\"div\"),this.arrowDiv.className=\"vis-arrow\",this.opacityRange=document.createElement(\"input\");try{this.opacityRange.type=\"range\",this.opacityRange.min=\"0\",this.opacityRange.max=\"100\"}catch(t){}this.opacityRange.value=\"100\",this.opacityRange.className=\"vis-range\",this.brightnessRange=document.createElement(\"input\");try{this.brightnessRange.type=\"range\",this.brightnessRange.min=\"0\",this.brightnessRange.max=\"100\"}catch(t){}this.brightnessRange.value=\"100\",this.brightnessRange.className=\"vis-range\",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var n=this;this.opacityRange.onchange=function(){n._setOpacity(this.value)},this.opacityRange.oninput=function(){n._setOpacity(this.value)},this.brightnessRange.onchange=function(){n._setBrightness(this.value)},this.brightnessRange.oninput=function(){n._setBrightness(this.value)},this.brightnessLabel=document.createElement(\"div\"),this.brightnessLabel.className=\"vis-label vis-brightness\",this.brightnessLabel.innerHTML=\"brightness:\",this.opacityLabel=document.createElement(\"div\"),this.opacityLabel.className=\"vis-label vis-opacity\",this.opacityLabel.innerHTML=\"opacity:\",this.newColorDiv=document.createElement(\"div\"),this.newColorDiv.className=\"vis-new-color\",this.newColorDiv.innerHTML=\"new\",this.initialColorDiv=document.createElement(\"div\"),this.initialColorDiv.className=\"vis-initial-color\",this.initialColorDiv.innerHTML=\"initial\",this.cancelButton=document.createElement(\"div\"),this.cancelButton.className=\"vis-button vis-cancel\",this.cancelButton.innerHTML=\"cancel\",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement(\"div\"),this.applyButton.className=\"vis-button vis-apply\",this.applyButton.innerHTML=\"apply\",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement(\"div\"),this.saveButton.className=\"vis-button vis-save\",this.saveButton.innerHTML=\"save\",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement(\"div\"),this.loadButton.className=\"vis-button vis-load\",this.loadButton.innerHTML=\"load last\",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:\"_bindHammer\",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new os(this.colorPickerCanvas),this.hammer.get(\"pinch\").set({enable:!0}),Yl.onTouch(this.hammer,(function(t){e._moveSelector(t)})),this.hammer.on(\"tap\",(function(t){e._moveSelector(t)})),this.hammer.on(\"panstart\",(function(t){e._moveSelector(t)})),this.hammer.on(\"panmove\",(function(t){e._moveSelector(t)})),this.hammer.on(\"panend\",(function(t){e._moveSelector(t)}))}},{key:\"_generateHueCircle\",value:function(){if(!1===this.generated){var e=this.colorPickerCanvas.getContext(\"2d\");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var i,o,a,s,l=this.colorPickerCanvas.clientWidth,u=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,l,u),this.centerCoordinates={x:.5*l,y:.5*u},this.r=.49*l;var c,d=2*r/360,h=1/this.r;for(a=0;360>a;a++)for(s=0;s<this.r;s++)i=this.centerCoordinates.x+s*n(d*a),o=this.centerCoordinates.y+s*t(d*a),c=Ji.HSVToRGB(a*(1/360),s*h,1),e.fillStyle=\"rgb(\"+c.r+\",\"+c.g+\",\"+c.b+\")\",e.fillRect(i-.5,o-.5,2,2);e.strokeStyle=\"rgba(0,0,0,1)\",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,l,u)}this.generated=!0}},{key:\"_moveSelector\",value:function(a){var s=this.colorPickerDiv.getBoundingClientRect(),l=a.center.x-s.left,u=a.center.y-s.top,c=.5*this.colorPickerDiv.clientHeight,d=.5*this.colorPickerDiv.clientWidth,h=l-d,f=u-c,p=e(h,f),g=.98*o(i(h*h+f*f),d),m=t(p)*g+c,v=n(p)*g+d;this.colorPickerSelector.style.top=m-.5*this.colorPickerSelector.clientHeight+\"px\",this.colorPickerSelector.style.left=v-.5*this.colorPickerSelector.clientWidth+\"px\";var y=p/(2*r);y=0>y?y+1:y;var b=g/this.r,_=Ji.RGBToHSV(this.color.r,this.color.g,this.color.b);_.h=y,_.s=b;var w=Ji.HSVToRGB(_.h,_.s,_.v);w.a=this.color.a,this.color=w,this.initialColorDiv.style.backgroundColor=\"rgba(\"+this.initialColor.r+\",\"+this.initialColor.g+\",\"+this.initialColor.b+\",\"+this.initialColor.a+\")\",this.newColorDiv.style.backgroundColor=\"rgba(\"+this.color.r+\",\"+this.color.g+\",\"+this.color.b+\",\"+this.color.a+\")\"}}]),a}(),su=function(){var e=Math.ceil;function t(e,n,i){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1;cs(this,t),this.parent=e,this.changedOptions=[],this.container=n,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Ji.extend(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new au(r),this.wrapper=void 0}return hs(t,[{key:\"setOptions\",value:function(e){if(void 0!==e){this.popupHistory={},this._removePopup();var t=!0;if(\"string\"==typeof e)this.options.filter=e;else if(e instanceof Array)this.options.filter=e.join();else if(\"object\"===ws(e)){if(null==e)throw new TypeError(\"options cannot be null\");void 0!==e.container&&(this.options.container=e.container),void 0!==e.filter&&(this.options.filter=e.filter),void 0!==e.showButton&&(this.options.showButton=e.showButton),void 0!==e.enabled&&(t=e.enabled)}else\"boolean\"==typeof e?(this.options.filter=!0,t=e):\"function\"==typeof e&&(this.options.filter=e,t=!0);!1===this.options.filter&&(t=!1),this.options.enabled=t}this._clean()}},{key:\"setModuleOptions\",value:function(e){this.moduleOptions=e,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:\"_create\",value:function(){this._clean(),this.changedOptions=[];var e=this.options.filter,t=0,n=!1;for(var i in this.configureOptions)this.configureOptions.hasOwnProperty(i)&&(this.allowCreation=!1,n=!1,\"function\"==typeof e?n=(n=e(i,[]))||this._handleObject(this.configureOptions[i],[i],!0):(!0===e||-1!==e.indexOf(i))&&(n=!0),!1!==n&&(this.allowCreation=!0,0<t&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),t++);this._makeButton(),this._push()}},{key:\"_push\",value:function(){this.wrapper=document.createElement(\"div\"),this.wrapper.className=\"vis-configuration-wrapper\",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}},{key:\"_clean\",value:function(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:\"_getValue\",value:function(e){for(var t=this.moduleOptions,n=0;n<e.length;n++){if(void 0===t[e[n]]){t=void 0;break}t=t[e[n]]}return t}},{key:\"_makeItem\",value:function(e){if(!0===this.allowCreation){var t=document.createElement(\"div\");t.className=\"vis-configuration vis-config-item vis-config-s\"+e.length;for(var n=arguments.length,i=Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.forEach((function(e){t.appendChild(e)})),this.domElements.push(t),this.domElements.length}return 0}},{key:\"_makeHeader\",value:function(e){var t=document.createElement(\"div\");t.className=\"vis-configuration vis-config-header\",t.innerHTML=e,this._makeItem([],t)}},{key:\"_makeLabel\",value:function(e,t){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],i=document.createElement(\"div\");return i.className=\"vis-configuration vis-config-label vis-config-s\"+t.length,i.innerHTML=!0===n?\"<i><b>\"+e+\":</b></i>\":e+\":\",i}},{key:\"_makeDropdown\",value:function(e,t,n){var i=document.createElement(\"select\");i.className=\"vis-configuration vis-config-select\";var r=0;void 0!==t&&-1!==e.indexOf(t)&&(r=e.indexOf(t));for(var o,a=0;a<e.length;a++)(o=document.createElement(\"option\")).value=e[a],a==r&&(o.selected=\"selected\"),o.innerHTML=e[a],i.appendChild(o);var s=this;i.onchange=function(){s._update(this.value,n)};var l=this._makeLabel(n[n.length-1],n);this._makeItem(n,l,i)}},{key:\"_makeRange\",value:function(t,n,i){var r=t[0],o=t[1],a=t[2],s=t[3],l=document.createElement(\"input\");l.className=\"vis-configuration vis-config-range\";try{l.type=\"range\",l.min=o,l.max=a}catch(t){}l.step=s;var u=\"\",c=0;if(void 0!==n){var d=1.2;0>n&&n*d<o?(l.min=e(n*d),c=l.min,u=\"range increased\"):n/d<o&&(l.min=e(n/d),c=l.min,u=\"range increased\"),n*d>a&&1!==a&&(l.max=e(n*d),c=l.max,u=\"range increased\"),l.value=n}else l.value=r;var h=document.createElement(\"input\");h.className=\"vis-configuration vis-config-rangeinput\",h.value=l.value;var f=this;l.onchange=function(){h.value=this.value,f._update(+this.value,i)},l.oninput=function(){h.value=this.value};var p=this._makeLabel(i[i.length-1],i),g=this._makeItem(i,p,l,h);\"\"!=u&&this.popupHistory[g]!==c&&(this.popupHistory[g]=c,this._setupPopup(u,g))}},{key:\"_makeButton\",value:function(){var e=this;if(!0===this.options.showButton){var t=document.createElement(\"div\");t.className=\"vis-configuration vis-config-button\",t.innerHTML=\"generate options\",t.onclick=function(){e._printOptions()},t.onmouseover=function(){t.className=\"vis-configuration vis-config-button hover\"},t.onmouseout=function(){t.className=\"vis-configuration vis-config-button\"},this.optionsContainer=document.createElement(\"div\"),this.optionsContainer.className=\"vis-configuration vis-config-option-container\",this.domElements.push(this.optionsContainer),this.domElements.push(t)}}},{key:\"_setupPopup\",value:function(e,t){var n=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var i=document.createElement(\"div\");i.id=\"vis-configuration-popup\",i.className=\"vis-configuration-popup\",i.innerHTML=e,i.onclick=function(){n._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:t}}}},{key:\"_removePopup\",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:\"_showPopupIfNeeded\",value:function(){var e=this;if(void 0!==this.popupDiv.html){var t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+\"px\",this.popupDiv.html.style.top=t.top-30+\"px\",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout((function(){e.popupDiv.html.style.opacity=0}),1500),this.popupDiv.deleteTimeout=setTimeout((function(){e._removePopup()}),1800)}}},{key:\"_makeCheckbox\",value:function(e,t,n){var i=document.createElement(\"input\");i.type=\"checkbox\",i.className=\"vis-configuration vis-config-checkbox\",i.checked=e,void 0!==t&&(i.checked=t,t!==e&&(\"object\"===ws(e)?t!==e.enabled&&this.changedOptions.push({path:n,value:t}):this.changedOptions.push({path:n,value:t})));var r=this;i.onchange=function(){r._update(this.checked,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}},{key:\"_makeTextInput\",value:function(e,t,n){var i=document.createElement(\"input\");i.type=\"text\",i.className=\"vis-configuration vis-config-text\",i.value=t,t!==e&&this.changedOptions.push({path:n,value:t});var r=this;i.onchange=function(){r._update(this.value,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}},{key:\"_makeColorField\",value:function(e,t,n){var i=this,r=e[1],o=document.createElement(\"div\");\"none\"===(t=void 0===t?r:t)?o.className=\"vis-configuration vis-config-colorBlock none\":(o.className=\"vis-configuration vis-config-colorBlock\",o.style.backgroundColor=t),t=void 0===t?r:t,o.onclick=function(){i._showColorPicker(t,o,n)};var a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,o)}},{key:\"_showColorPicker\",value:function(e,t,n){var i=this;t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback((function(e){var r=\"rgba(\"+e.r+\",\"+e.g+\",\"+e.b+\",\"+e.a+\")\";t.style.backgroundColor=r,i._update(r,n)})),this.colorPicker.setCloseCallback((function(){t.onclick=function(){i._showColorPicker(e,t,n)}}))}},{key:\"_handleObject\",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],i=!1,r=this.options.filter,o=!1;for(var a in e)if(e.hasOwnProperty(a)){i=!0;var s=e[a],l=Ji.copyAndExtendArray(t,a);if(\"function\"==typeof r&&(!1===(i=r(a,t))&&!(s instanceof Array)&&\"string\"!=typeof s&&\"boolean\"!=typeof s&&s instanceof Object&&(this.allowCreation=!1,i=this._handleObject(s,l,!0),this.allowCreation=!1===n)),!1!==i){o=!0;var u=this._getValue(l);if(s instanceof Array)this._handleArray(s,u,l);else if(\"string\"==typeof s)this._makeTextInput(s,u,l);else if(\"boolean\"==typeof s)this._makeCheckbox(s,u,l);else if(s instanceof Object){var c=!0;if(-1!==t.indexOf(\"physics\")&&this.moduleOptions.physics.solver!==a&&(c=!1),1==c)if(void 0!==s.enabled){var d=Ji.copyAndExtendArray(l,\"enabled\"),h=this._getValue(d);if(!0===h){var f=this._makeLabel(a,l,!0);this._makeItem(l,f),o=this._handleObject(s,l)||o}else this._makeCheckbox(s,h,l)}else{var p=this._makeLabel(a,l,!0);this._makeItem(l,p),o=this._handleObject(s,l)||o}}else console.error(\"dont know how to handle\",s,a,l)}}return o}},{key:\"_handleArray\",value:function(e,t,n){\"string\"==typeof e[0]&&\"color\"===e[0]?(this._makeColorField(e,t,n),e[1]!==t&&this.changedOptions.push({path:n,value:t})):\"string\"==typeof e[0]?(this._makeDropdown(e,t,n),e[0]!==t&&this.changedOptions.push({path:n,value:t})):\"number\"==typeof e[0]&&(this._makeRange(e,t,n),e[0]!==t&&this.changedOptions.push({path:n,value:+t}))}},{key:\"_update\",value:function(e,t){var n=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit(\"configChange\",n),this.initialized=!0,this.parent.setOptions(n)}},{key:\"_constructOptions\",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=n;e=\"false\"!==(e=\"true\"===e||e)&&e;for(var r=0;r<t.length;r++)\"global\"!==t[r]&&(void 0===i[t[r]]&&(i[t[r]]={}),r==t.length-1?i[t[r]]=e:i=i[t[r]]);return n}},{key:\"_printOptions\",value:function(){var e=this.getOptions();this.optionsContainer.innerHTML=\"<pre>var options = \"+JSON.stringify(e,null,2)+\"</pre>\"}},{key:\"getOptions\",value:function(){for(var e={},t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}}]),t}(),lu=\"string\",uu=\"boolean\",cu=\"number\",du=\"object\",hu=[\"arrow\",\"circle\",\"bar\"],fu={configure:{enabled:{boolean:uu},filter:{boolean:uu,string:lu,array:\"array\",function:\"function\"},container:{dom:\"dom\"},showButton:{boolean:uu},__type__:{object:du,boolean:uu,string:lu,array:\"array\",function:\"function\"}},edges:{arrows:{to:{enabled:{boolean:uu},scaleFactor:{number:cu},type:{string:hu},__type__:{object:du,boolean:uu}},middle:{enabled:{boolean:uu},scaleFactor:{number:cu},type:{string:hu},__type__:{object:du,boolean:uu}},from:{enabled:{boolean:uu},scaleFactor:{number:cu},type:{string:hu},__type__:{object:du,boolean:uu}},__type__:{string:[\"from\",\"to\",\"middle\"],object:du}},arrowStrikethrough:{boolean:uu},background:{enabled:{boolean:uu},color:{string:lu},size:{number:cu},dashes:{boolean:uu,array:\"array\"},__type__:{object:du,boolean:uu}},chosen:{label:{boolean:uu,function:\"function\"},edge:{boolean:uu,function:\"function\"},__type__:{object:du,boolean:uu}},color:{color:{string:lu},highlight:{string:lu},hover:{string:lu},inherit:{string:[\"from\",\"to\",\"both\"],boolean:uu},opacity:{number:cu},__type__:{object:du,string:lu}},dashes:{boolean:uu,array:\"array\"},font:{color:{string:lu},size:{number:cu},face:{string:lu},background:{string:lu},strokeWidth:{number:cu},strokeColor:{string:lu},align:{string:[\"horizontal\",\"top\",\"middle\",\"bottom\"]},vadjust:{number:cu},multi:{boolean:uu,string:lu},bold:{color:{string:lu},size:{number:cu},face:{string:lu},mod:{string:lu},vadjust:{number:cu},__type__:{object:du,string:lu}},boldital:{color:{string:lu},size:{number:cu},face:{string:lu},mod:{string:lu},vadjust:{number:cu},__type__:{object:du,string:lu}},ital:{color:{string:lu},size:{number:cu},face:{string:lu},mod:{string:lu},vadjust:{number:cu},__type__:{object:du,string:lu}},mono:{color:{string:lu},size:{number:cu},face:{string:lu},mod:{string:lu},vadjust:{number:cu},__type__:{object:du,string:lu}},__type__:{object:du,string:lu}},hidden:{boolean:uu},hoverWidth:{function:\"function\",number:cu},label:{string:lu,undefined:\"undefined\"},labelHighlightBold:{boolean:uu},length:{number:cu,undefined:\"undefined\"},physics:{boolean:uu},scaling:{min:{number:cu},max:{number:cu},label:{enabled:{boolean:uu},min:{number:cu},max:{number:cu},maxVisible:{number:cu},drawThreshold:{number:cu},__type__:{object:du,boolean:uu}},customScalingFunction:{function:\"function\"},__type__:{object:du}},selectionWidth:{function:\"function\",number:cu},selfReferenceSize:{number:cu},shadow:{enabled:{boolean:uu},color:{string:lu},size:{number:cu},x:{number:cu},y:{number:cu},__type__:{object:du,boolean:uu}},smooth:{enabled:{boolean:uu},type:{string:[\"dynamic\",\"continuous\",\"discrete\",\"diagonalCross\",\"straightCross\",\"horizontal\",\"vertical\",\"curvedCW\",\"curvedCCW\",\"cubicBezier\"]},roundness:{number:cu},forceDirection:{string:[\"horizontal\",\"vertical\",\"none\"],boolean:uu},__type__:{object:du,boolean:uu}},title:{string:lu,undefined:\"undefined\"},width:{number:cu},widthConstraint:{maximum:{number:cu},__type__:{object:du,boolean:uu,number:cu}},value:{number:cu,undefined:\"undefined\"},__type__:{object:du}},groups:{useDefaultGroups:{boolean:uu},__any__:\"get from nodes, will be overwritten below\",__type__:{object:du}},interaction:{dragNodes:{boolean:uu},dragView:{boolean:uu},hideEdgesOnDrag:{boolean:uu},hideEdgesOnZoom:{boolean:uu},hideNodesOnDrag:{boolean:uu},hover:{boolean:uu},keyboard:{enabled:{boolean:uu},speed:{x:{number:cu},y:{number:cu},zoom:{number:cu},__type__:{object:du}},bindToWindow:{boolean:uu},__type__:{object:du,boolean:uu}},multiselect:{boolean:uu},navigationButtons:{boolean:uu},selectable:{boolean:uu},selectConnectedEdges:{boolean:uu},hoverConnectedEdges:{boolean:uu},tooltipDelay:{number:cu},zoomView:{boolean:uu},zoomSpeed:{number:cu},__type__:{object:du}},layout:{randomSeed:{undefined:\"undefined\",number:cu},improvedLayout:{boolean:uu},clusterThreshold:{number:cu},hierarchical:{enabled:{boolean:uu},levelSeparation:{number:cu},nodeSpacing:{number:cu},treeSpacing:{number:cu},blockShifting:{boolean:uu},edgeMinimization:{boolean:uu},parentCentralization:{boolean:uu},direction:{string:[\"UD\",\"DU\",\"LR\",\"RL\"]},sortMethod:{string:[\"hubsize\",\"directed\"]},__type__:{object:du,boolean:uu}},__type__:{object:du}},manipulation:{enabled:{boolean:uu},initiallyActive:{boolean:uu},addNode:{boolean:uu,function:\"function\"},addEdge:{boolean:uu,function:\"function\"},editNode:{function:\"function\"},editEdge:{editWithoutDrag:{function:\"function\"},__type__:{object:du,boolean:uu,function:\"function\"}},deleteNode:{boolean:uu,function:\"function\"},deleteEdge:{boolean:uu,function:\"function\"},controlNodeStyle:\"get from nodes, will be overwritten below\",__type__:{object:du,boolean:uu}},nodes:{borderWidth:{number:cu},borderWidthSelected:{number:cu,undefined:\"undefined\"},brokenImage:{string:lu,undefined:\"undefined\"},chosen:{label:{boolean:uu,function:\"function\"},node:{boolean:uu,function:\"function\"},__type__:{object:du,boolean:uu}},color:{border:{string:lu},background:{string:lu},highlight:{border:{string:lu},background:{string:lu},__type__:{object:du,string:lu}},hover:{border:{string:lu},background:{string:lu},__type__:{object:du,string:lu}},__type__:{object:du,string:lu}},fixed:{x:{boolean:uu},y:{boolean:uu},__type__:{object:du,boolean:uu}},font:{align:{string:lu},color:{string:lu},size:{number:cu},face:{string:lu},background:{string:lu},strokeWidth:{number:cu},strokeColor:{string:lu},vadjust:{number:cu},multi:{boolean:uu,string:lu},bold:{color:{string:lu},size:{number:cu},face:{string:lu},mod:{string:lu},vadjust:{number:cu},__type__:{object:du,string:lu}},boldital:{color:{string:lu},size:{number:cu},face:{string:lu},mod:{string:lu},vadjust:{number:cu},__type__:{object:du,string:lu}},ital:{color:{string:lu},size:{number:cu},face:{string:lu},mod:{string:lu},vadjust:{number:cu},__type__:{object:du,string:lu}},mono:{color:{string:lu},size:{number:cu},face:{string:lu},mod:{string:lu},vadjust:{number:cu},__type__:{object:du,string:lu}},__type__:{object:du,string:lu}},group:{string:lu,number:cu,undefined:\"undefined\"},heightConstraint:{minimum:{number:cu},valign:{string:lu},__type__:{object:du,boolean:uu,number:cu}},hidden:{boolean:uu},icon:{face:{string:lu},code:{string:lu},size:{number:cu},color:{string:lu},__type__:{object:du}},id:{string:lu,number:cu},image:{selected:{string:lu,undefined:\"undefined\"},unselected:{string:lu,undefined:\"undefined\"},__type__:{object:du,string:lu}},imagePadding:{top:{number:cu},right:{number:cu},bottom:{number:cu},left:{number:cu},__type__:{object:du,number:cu}},label:{string:lu,undefined:\"undefined\"},labelHighlightBold:{boolean:uu},level:{number:cu,undefined:\"undefined\"},margin:{top:{number:cu},right:{number:cu},bottom:{number:cu},left:{number:cu},__type__:{object:du,number:cu}},mass:{number:cu},physics:{boolean:uu},scaling:{min:{number:cu},max:{number:cu},label:{enabled:{boolean:uu},min:{number:cu},max:{number:cu},maxVisible:{number:cu},drawThreshold:{number:cu},__type__:{object:du,boolean:uu}},customScalingFunction:{function:\"function\"},__type__:{object:du}},shadow:{enabled:{boolean:uu},color:{string:lu},size:{number:cu},x:{number:cu},y:{number:cu},__type__:{object:du,boolean:uu}},shape:{string:[\"ellipse\",\"circle\",\"database\",\"box\",\"text\",\"image\",\"circularImage\",\"diamond\",\"dot\",\"star\",\"triangle\",\"triangleDown\",\"square\",\"icon\",\"hexagon\"]},shapeProperties:{borderDashes:{boolean:uu,array:\"array\"},borderRadius:{number:cu},interpolation:{boolean:uu},useImageSize:{boolean:uu},useBorderWithImage:{boolean:uu},__type__:{object:du}},size:{number:cu},title:{string:lu,dom:\"dom\",undefined:\"undefined\"},value:{number:cu,undefined:\"undefined\"},widthConstraint:{minimum:{number:cu},maximum:{number:cu},__type__:{object:du,boolean:uu,number:cu}},x:{number:cu},y:{number:cu},__type__:{object:du}},physics:{enabled:{boolean:uu},barnesHut:{gravitationalConstant:{number:cu},centralGravity:{number:cu},springLength:{number:cu},springConstant:{number:cu},damping:{number:cu},avoidOverlap:{number:cu},__type__:{object:du}},forceAtlas2Based:{gravitationalConstant:{number:cu},centralGravity:{number:cu},springLength:{number:cu},springConstant:{number:cu},damping:{number:cu},avoidOverlap:{number:cu},__type__:{object:du}},repulsion:{centralGravity:{number:cu},springLength:{number:cu},springConstant:{number:cu},nodeDistance:{number:cu},damping:{number:cu},__type__:{object:du}},hierarchicalRepulsion:{centralGravity:{number:cu},springLength:{number:cu},springConstant:{number:cu},nodeDistance:{number:cu},damping:{number:cu},__type__:{object:du}},maxVelocity:{number:cu},minVelocity:{number:cu},solver:{string:[\"barnesHut\",\"repulsion\",\"hierarchicalRepulsion\",\"forceAtlas2Based\"]},stabilization:{enabled:{boolean:uu},iterations:{number:cu},updateInterval:{number:cu},onlyDynamicEdges:{boolean:uu},fit:{boolean:uu},__type__:{object:du,boolean:uu}},timestep:{number:cu},adaptiveTimestep:{boolean:uu},__type__:{object:du,boolean:uu}},autoResize:{boolean:uu},clickToUse:{boolean:uu},locale:{string:lu},locales:{__any__:{any:\"any\"},__type__:{object:du}},height:{string:lu},width:{string:lu},__type__:{object:du}};fu.groups.__any__=fu.nodes,fu.manipulation.controlNodeStyle=fu.nodes;var pu={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:[\"color\",\"#2B7CE9\"],background:[\"color\",\"#97C2FC\"],highlight:{border:[\"color\",\"#2B7CE9\"],background:[\"color\",\"#D2E5FF\"]},hover:{border:[\"color\",\"#2B7CE9\"],background:[\"color\",\"#D2E5FF\"]}},fixed:{x:!1,y:!1},font:{color:[\"color\",\"#343434\"],size:[14,0,100,1],face:[\"arial\",\"verdana\",\"tahoma\"],background:[\"color\",\"none\"],strokeWidth:[0,0,50,1],strokeColor:[\"color\",\"#ffffff\"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:\"rgba(0,0,0,0.5)\",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:[\"ellipse\",\"box\",\"circle\",\"database\",\"diamond\",\"dot\",\"square\",\"star\",\"text\",\"triangle\",\"triangleDown\",\"hexagon\"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:\"arrow\"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:\"arrow\"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:\"arrow\"}},arrowStrikethrough:!0,color:{color:[\"color\",\"#848484\"],highlight:[\"color\",\"#848484\"],hover:[\"color\",\"#848484\"],inherit:[\"from\",\"to\",\"both\",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:[\"color\",\"#343434\"],size:[14,0,100,1],face:[\"arial\",\"verdana\",\"tahoma\"],background:[\"color\",\"none\"],strokeWidth:[2,0,50,1],strokeColor:[\"color\",\"#ffffff\"],align:[\"horizontal\",\"top\",\"middle\",\"bottom\"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:\"rgba(0,0,0,0.5)\",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:[\"dynamic\",\"continuous\",\"discrete\",\"diagonalCross\",\"straightCross\",\"horizontal\",\"vertical\",\"curvedCW\",\"curvedCCW\",\"cubicBezier\"],forceDirection:[\"horizontal\",\"vertical\",\"none\"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:[\"UD\",\"DU\",\"LR\",\"RL\"],sortMethod:[\"hubsize\",\"directed\"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,1,1,1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:[\"barnesHut\",\"forceAtlas2Based\",\"repulsion\",\"hierarchicalRepulsion\"],timestep:[.5,.01,1,.01]}},gu=Object.freeze({allOptions:fu,configureOptions:pu}),mu=function(){var e=Math.min;function t(){cs(this,t)}return hs(t,[{key:\"getDistances\",value:function(t,n,i){for(var r={},o=t.edges,a=0;a<n.length;a++){var s={};r[n[a]]=s;for(var l=0;l<n.length;l++)s[n[l]]=a==l?0:1e9}for(var u,c=0;c<i.length;c++)!0===(u=o[i[c]]).connected&&void 0!==r[u.fromId]&&void 0!==r[u.toId]&&(r[u.fromId][u.toId]=1,r[u.toId][u.fromId]=1);for(var d=n.length,h=0;h<d;h++)for(var f=n[h],p=r[f],g=0;g<d-1;g++)for(var m=n[g],v=r[m],y=g+1;y<d;y++){var b=n[y],_=r[b],w=e(v[b],v[f]+p[b]);v[b]=w,_[m]=w}return r}}]),t}(),vu=function(){var e=Math.sqrt,t=Math.pow,n=Math.max,i=Math.min;function r(e,t,n){cs(this,r),this.body=e,this.springLength=t,this.springConstant=n,this.distanceSolver=new mu}return hs(r,[{key:\"setOptions\",value:function(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}},{key:\"solve\",value:function(e,t){var r=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],o=this.distanceSolver.getDistances(this.body,e,t);this._createL_matrix(o),this._createK_matrix(o),this._createE_matrix();for(var a=0,s=n(1e3,i(10*this.body.nodeIndices.length,6e3)),l=1e9,u=0,c=0,d=0,h=0,f=0;l>.01&&a<s;){a+=1;var p=this._getHighestEnergyNode(r),g=_s(p,4);for(u=g[0],l=g[1],c=g[2],d=g[3],h=l,f=0;h>1&&f<5;){f+=1,this._moveNode(u,c,d);var m=this._getEnergy(u),v=_s(m,3);h=v[0],c=v[1],d=v[2]}}}},{key:\"_getHighestEnergyNode\",value:function(e){for(var t,n=this.body.nodeIndices,i=this.body.nodes,r=0,o=n[0],a=0,s=0,l=0;l<n.length;l++)if(!1===i[t=n[l]].predefinedPosition||!0===i[t].isCluster&&!0===e||!0===i[t].options.fixed.x||!0===i[t].options.fixed.y){var u=this._getEnergy(t),c=_s(u,3),d=c[0],h=c[1],f=c[2];r<d&&(r=d,o=t,a=h,s=f)}return[o,r,a,s]}},{key:\"_getEnergy\",value:function(n){var i=_s(this.E_sums[n],2),r=i[0],o=i[1];return[e(t(r,2)+t(o,2)),r,o]}},{key:\"_moveNode\",value:function(e,n,i){for(var r,o=this.body.nodeIndices,a=this.body.nodes,s=0,l=0,u=0,c=a[e].x,d=a[e].y,h=this.K_matrix[e],f=this.L_matrix[e],p=0;p<o.length;p++)if((r=o[p])!==e){var g=a[r].x,m=a[r].y,v=h[r],y=f[r],b=1/t(t(c-g,2)+t(d-m,2),1.5);s+=v*(1-y*t(d-m,2)*b),l+=v*(y*(c-g)*(d-m)*b),u+=v*(1-y*t(c-g,2)*b)}var _=s,w=l,x=n,k=(x/_+i/w)/(w/_-u/w);a[e].x+=-(w*k+x)/_,a[e].y+=k,this._updateE_matrix(e)}},{key:\"_createL_matrix\",value:function(e){var t=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(var i=0;i<t.length;i++){this.L_matrix[t[i]]={};for(var r=0;r<t.length;r++)this.L_matrix[t[i]][t[r]]=n*e[t[i]][t[r]]}}},{key:\"_createK_matrix\",value:function(e){var n=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(var r=0;r<n.length;r++){this.K_matrix[n[r]]={};for(var o=0;o<n.length;o++)this.K_matrix[n[r]][n[o]]=i*t(e[n[r]][n[o]],-2)}}},{key:\"_createE_matrix\",value:function(){var n=this.body.nodeIndices,i=this.body.nodes;this.E_matrix={},this.E_sums={};for(var r=0;r<n.length;r++)this.E_matrix[n[r]]=[];for(var o=0;o<n.length;o++){for(var a,s=n[o],l=i[s].x,u=i[s].y,c=0,d=0,h=o;h<n.length;h++)if((a=n[h])!==s){var f=i[a].x,p=i[a].y,g=1/e(t(l-f,2)+t(u-p,2));this.E_matrix[s][h]=[this.K_matrix[s][a]*(l-f-this.L_matrix[s][a]*(l-f)*g),this.K_matrix[s][a]*(u-p-this.L_matrix[s][a]*(u-p)*g)],this.E_matrix[a][o]=this.E_matrix[s][h],c+=this.E_matrix[s][h][0],d+=this.E_matrix[s][h][1]}this.E_sums[s]=[c,d]}}},{key:\"_updateE_matrix\",value:function(n){for(var i,r=this.body.nodeIndices,o=this.body.nodes,a=this.E_matrix[n],s=this.K_matrix[n],l=this.L_matrix[n],u=o[n].x,c=o[n].y,d=0,h=0,f=0;f<r.length;f++)if((i=r[f])!==n){var p=a[f],g=p[0],m=p[1],v=o[i].x,y=o[i].y,b=1/e(t(u-v,2)+t(c-y,2)),_=s[i]*(u-v-l[i]*(u-v)*b),w=s[i]*(c-y-l[i]*(c-y)*b);a[f]=[_,w],d+=_,h+=w;var x=this.E_sums[i];x[0]+=_-g,x[1]+=w-m}this.E_sums[n]=[d,h]}}]),r}();function yu(e,t,n){var i=this;if(!(this instanceof yu))throw new SyntaxError(\"Constructor must be called with the new operator\");this.options={},this.defaultOptions={locale:\"en\",locales:us,clickToUse:!1},Ji.extend(this.options,this.defaultOptions),this.body={container:e,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new ps((function(){return i.body.emitter.emit(\"_requestRedraw\")})),this.groups=new gs,this.canvas=new Hl(this.body),this.selectionHandler=new Zl(this.body,this.canvas),this.interactionHandler=new Xl(this.body,this.canvas,this.selectionHandler),this.view=new ql(this.body,this.canvas),this.renderer=new Ul(this.body,this.canvas),this.physics=new Bl(this.body),this.layoutEngine=new iu(this.body),this.clustering=new Wl(this.body),this.manipulation=new ru(this.body,this.canvas,this.selectionHandler),this.nodesHandler=new rl(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new Ml(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new vu(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(n),this.setData(t)}Hr(yu.prototype),yu.prototype.setOptions=function(e){var t=this;if(null===e&&(e=void 0),void 0!==e){if(!0===tl.validate(e,fu)&&console.log(\"%cErrors have been found in the supplied options object.\",el),Ji.selectiveDeepExtend([\"locale\",\"locales\",\"clickToUse\"],this.options,e),e=this.layoutEngine.setOptions(e.layout,e),this.canvas.setOptions(e),this.groups.setOptions(e.groups),this.nodesHandler.setOptions(e.nodes),this.edgesHandler.setOptions(e.edges),this.physics.setOptions(e.physics),this.manipulation.setOptions(e.manipulation,e,this.options),this.interactionHandler.setOptions(e.interaction),this.renderer.setOptions(e.interaction),this.selectionHandler.setOptions(e.interaction),void 0!==e.groups&&this.body.emitter.emit(\"refreshNodes\"),\"configure\"in e&&(!this.configurator&&(this.configurator=new su(this,this.body.container,pu,this.canvas.pixelRatio)),this.configurator.setOptions(e.configure)),this.configurator&&!0===this.configurator.options.enabled){var n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};Ji.deepExtend(n.nodes,this.nodesHandler.options),Ji.deepExtend(n.edges,this.edgesHandler.options),Ji.deepExtend(n.layout,this.layoutEngine.options),Ji.deepExtend(n.interaction,this.selectionHandler.options),Ji.deepExtend(n.interaction,this.renderer.options),Ji.deepExtend(n.interaction,this.interactionHandler.options),Ji.deepExtend(n.manipulation,this.manipulation.options),Ji.deepExtend(n.physics,this.physics.options),Ji.deepExtend(n.global,this.canvas.options),Ji.deepExtend(n.global,this.options),this.configurator.setModuleOptions(n)}void 0===e.clickToUse?this.body.emitter.emit(\"activate\"):!0===e.clickToUse?void 0===this.activator&&(this.activator=new ls(this.canvas.frame),this.activator.on(\"change\",(function(){t.body.emitter.emit(\"activate\")}))):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit(\"activate\")),this.canvas.setSize(),this.body.emitter.emit(\"startSimulation\")}},yu.prototype._updateVisibleIndices=function(){var e=this.body.nodes,t=this.body.edges;for(var n in this.body.nodeIndices=[],this.body.edgeIndices=[],e)e.hasOwnProperty(n)&&(this.clustering._isClusteredNode(n)||!1!==e[n].options.hidden||this.body.nodeIndices.push(e[n].id));for(var i in t)if(t.hasOwnProperty(i)){var r=t[i],o=e[r.fromId],a=e[r.toId];!this.clustering._isClusteredEdge(i)&&!1===r.options.hidden&&void 0!==o&&void 0!==a&&!1===o.options.hidden&&!1===a.options.hidden&&this.body.edgeIndices.push(r.id)}},yu.prototype.bindEventListeners=function(){var e=this;this.body.emitter.on(\"_dataChanged\",(function(){e.edgesHandler._updateState(),e.body.emitter.emit(\"_dataUpdated\")})),this.body.emitter.on(\"_dataUpdated\",(function(){e.clustering._updateState(),e._updateVisibleIndices(),e._updateValueRange(e.body.nodes),e._updateValueRange(e.body.edges),e.body.emitter.emit(\"startSimulation\"),e.body.emitter.emit(\"_requestRedraw\")}))},yu.prototype.setData=function(e){if(this.body.emitter.emit(\"resetPhysics\"),this.body.emitter.emit(\"_resetData\"),this.selectionHandler.unselectAll(),e&&e.dot&&(e.nodes||e.edges))throw new SyntaxError('Data must contain either parameter \"dot\" or  parameter pair \"nodes\" and \"edges\", but not both.');if(this.setOptions(e&&e.options),e&&e.dot){console.log(\"The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);\");var t=Do.DOTToGraph(e.dot);this.setData(t)}else if(e&&e.gephi){console.log(\"The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);\");var n=Co(e.gephi);this.setData(n)}else this.nodesHandler.setData(e&&e.nodes,!0),this.edgesHandler.setData(e&&e.edges,!0),this.body.emitter.emit(\"_dataChanged\"),this.body.emitter.emit(\"_dataLoaded\"),this.body.emitter.emit(\"initPhysics\")},yu.prototype.destroy=function(){for(var e in this.body.emitter.emit(\"destroy\"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)this.body.nodes.hasOwnProperty(e)&&delete this.body.nodes[e];for(var t in this.body.edges)this.body.edges.hasOwnProperty(t)&&delete this.body.edges[t];Ji.recursiveDOMDelete(this.body.container)},yu.prototype._updateValueRange=function(e){var t,n=void 0,i=void 0,r=0;for(t in e)if(e.hasOwnProperty(t)){var o=e[t].getValue();void 0!==o&&(n=void 0===n?o:Math.min(o,n),i=void 0===i?o:Math.max(o,i),r+=o)}if(void 0!==n&&void 0!==i)for(t in e)e.hasOwnProperty(t)&&e[t].setValueRange(n,i,r)},yu.prototype.isActive=function(){return!this.activator||this.activator.active},yu.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},yu.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},yu.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},yu.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},yu.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},yu.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},yu.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},yu.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},yu.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},yu.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},yu.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},yu.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},yu.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},yu.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},yu.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},yu.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},yu.prototype.editNodeMode=function(){return console.log(\"Deprecated: Please use editNode instead of editNodeMode.\"),this.manipulation.editNode.apply(this.manipulation,arguments)},yu.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},yu.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},yu.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},yu.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},yu.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},yu.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},yu.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},yu.prototype.getConnectedNodes=function(e){return void 0===this.body.nodes[e]?this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments):this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments)},yu.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},yu.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},yu.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},yu.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},yu.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},yu.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},yu.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},yu.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},yu.prototype.getNodeAt=function(){var e=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==e&&void 0!==e.id?e.id:e},yu.prototype.getEdgeAt=function(){var e=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==e&&void 0!==e.id?e.id:e},yu.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},yu.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},yu.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},yu.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},yu.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},yu.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},yu.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},yu.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},yu.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},yu.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},yu.prototype.getOptionsFromConfigurator=function(){var e={};return this.configurator&&(e=this.configurator.getOptions.apply(this.configurator)),e};var bu=Yr((function(e,t){t.prepareElements=function(e){for(var t in e)e.hasOwnProperty(t)&&(e[t].redundant=e[t].used,e[t].used=[])},t.cleanupElements=function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t].redundant){for(var n=0;n<e[t].redundant.length;n++)e[t].redundant[n].parentNode.removeChild(e[t].redundant[n]);e[t].redundant=[]}},t.resetElements=function(e){t.prepareElements(e),t.cleanupElements(e),t.prepareElements(e)},t.getSVGElement=function(e,t,n){var i;return t.hasOwnProperty(e)?0<t[e].redundant.length?(i=t[e].redundant[0],t[e].redundant.shift()):(i=document.createElementNS(\"http://www.w3.org/2000/svg\",e),n.appendChild(i)):(i=document.createElementNS(\"http://www.w3.org/2000/svg\",e),t[e]={used:[],redundant:[]},n.appendChild(i)),t[e].used.push(i),i},t.getDOMElement=function(e,t,n,i){var r;return t.hasOwnProperty(e)?0<t[e].redundant.length?(r=t[e].redundant[0],t[e].redundant.shift()):(r=document.createElement(e),void 0===i?n.appendChild(r):n.insertBefore(r,i)):(r=document.createElement(e),t[e]={used:[],redundant:[]},void 0===i?n.appendChild(r):n.insertBefore(r,i)),t[e].used.push(r),r},t.drawPoint=function(e,n,i,r,o,a){var s;if(\"circle\"==i.style?((s=t.getSVGElement(\"circle\",r,o)).setAttributeNS(null,\"cx\",e),s.setAttributeNS(null,\"cy\",n),s.setAttributeNS(null,\"r\",.5*i.size)):((s=t.getSVGElement(\"rect\",r,o)).setAttributeNS(null,\"x\",e-.5*i.size),s.setAttributeNS(null,\"y\",n-.5*i.size),s.setAttributeNS(null,\"width\",i.size),s.setAttributeNS(null,\"height\",i.size)),void 0!==i.styles&&s.setAttributeNS(null,\"style\",i.styles),s.setAttributeNS(null,\"class\",i.className+\" vis-point\"),a){var l=t.getSVGElement(\"text\",r,o);a.xOffset&&(e+=a.xOffset),a.yOffset&&(n+=a.yOffset),a.content&&(l.textContent=a.content),a.className&&l.setAttributeNS(null,\"class\",a.className+\" vis-label\"),l.setAttributeNS(null,\"x\",e),l.setAttributeNS(null,\"y\",n)}return s},t.drawBar=function(e,n,i,r,o,a,s,l){if(0!=r){0>r&&(n-=r*=-1);var u=t.getSVGElement(\"rect\",a,s);u.setAttributeNS(null,\"x\",e-.5*i),u.setAttributeNS(null,\"y\",n),u.setAttributeNS(null,\"width\",i),u.setAttributeNS(null,\"height\",r),u.setAttributeNS(null,\"class\",o),l&&u.setAttributeNS(null,\"style\",l)}}})),_u=bu.prepareElements,wu=bu.cleanupElements,xu=bu.resetElements,ku=bu.getSVGElement,Ou=bu.getDOMElement,Eu=bu.drawPoint,Su=bu.drawBar,Du=Object.freeze({default:bu,__moduleExports:bu,prepareElements:_u,cleanupElements:wu,resetElements:xu,getSVGElement:ku,getDOMElement:Ou,drawPoint:Eu,drawBar:Su}),ju=Yr((function(e){var t=Math.round,n=Math.pow,i=Math.max,r=Math.abs,o=Math.min,a=Math.floor,s=Math.ceil;!function(t,n){e.exports=n()}(0,(function(){function l(){return pt.apply(null,arguments)}function u(e){return e instanceof Array||\"[object Array]\"===Object.prototype.toString.call(e)}function c(e){return null!=e&&\"[object Object]\"===Object.prototype.toString.call(e)}function d(e){return void 0===e}function h(e){return\"number\"==typeof e||\"[object Number]\"===Object.prototype.toString.call(e)}function f(e){return e instanceof Date||\"[object Date]\"===Object.prototype.toString.call(e)}function p(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function g(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function m(e,t){for(var n in t)g(t,n)&&(e[n]=t[n]);return g(t,\"toString\")&&(e.toString=t.toString),g(t,\"valueOf\")&&(e.valueOf=t.valueOf),e}function v(e,t,n,i){return Ce(e,t,n,i,!0).utc()}function y(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function b(e){if(null==e._isValid){var t=y(e),n=gt.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&0>t.overflow&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function _(e){var t=v(NaN);return null==e?y(t).userInvalidated=!0:m(y(t),e),t}function w(e,t){var n,i,r;if(d(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),d(t._i)||(e._i=t._i),d(t._f)||(e._f=t._f),d(t._l)||(e._l=t._l),d(t._strict)||(e._strict=t._strict),d(t._tzm)||(e._tzm=t._tzm),d(t._isUTC)||(e._isUTC=t._isUTC),d(t._offset)||(e._offset=t._offset),d(t._pf)||(e._pf=y(t)),d(t._locale)||(e._locale=t._locale),0<mt.length)for(n=0;n<mt.length;n++)d(r=t[i=mt[n]])||(e[i]=r);return e}function x(e){w(this,e),this._d=new Date(null==e._d?NaN:e._d.getTime()),this.isValid()||(this._d=new Date(NaN)),!1===vt&&(vt=!0,l.updateOffset(this),vt=!1)}function k(e){return e instanceof x||null!=e&&null!=e._isAMomentObject}function O(e){return 0>e?s(e)||0:a(e)}function E(e){var t=+e,n=0;return 0!=t&&isFinite(t)&&(n=O(t)),n}function S(e,t,n){var i,a=o(e.length,t.length),s=r(e.length-t.length),l=0;for(i=0;i<a;i++)(n&&e[i]!==t[i]||!n&&E(e[i])!==E(t[i]))&&l++;return l+s}function D(e){!1===l.suppressDeprecationWarnings&&\"undefined\"!=typeof console&&console.warn&&console.warn(\"Deprecation warning: \"+e)}function j(e,t){var n=!0;return m((function(){if(null!=l.deprecationHandler&&l.deprecationHandler(null,e),n){for(var i,r=[],o=0;o<arguments.length;o++){if(i=\"\",\"object\"==typeof arguments[o]){for(var a in i+=\"\\n[\"+o+\"] \",arguments[0])i+=a+\": \"+arguments[0][a]+\", \";i=i.slice(0,-2)}else i=arguments[o];r.push(i)}D(e+\"\\nArguments: \"+Array.prototype.slice.call(r).join(\"\")+\"\\n\"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}function C(e,t){null!=l.deprecationHandler&&l.deprecationHandler(e,t),yt[e]||(D(t),yt[e]=!0)}function M(e){return e instanceof Function||\"[object Function]\"===Object.prototype.toString.call(e)}function T(e,t){var n,i=m({},e);for(n in t)g(t,n)&&(c(e[n])&&c(t[n])?(i[n]={},m(i[n],e[n]),m(i[n],t[n])):null==t[n]?delete i[n]:i[n]=t[n]);for(n in e)g(e,n)&&!g(t,n)&&c(e[n])&&(i[n]=m({},i[n]));return i}function A(e){null!=e&&this.set(e)}function F(e,t){var n=e.toLowerCase();_t[n]=_t[n+\"s\"]=_t[t]=e}function P(e){return\"string\"==typeof e?_t[e]||_t[e.toLowerCase()]:void 0}function N(e){var t,n,i={};for(n in e)g(e,n)&&((t=P(n))&&(i[t]=e[n]));return i}function z(e,t){wt[e]=t}function R(e,t,o){var a=\"\"+r(e);return(0<=e?o?\"+\":\"\":\"-\")+n(10,i(0,t-a.length)).toString().substr(1)+a}function I(e,t,n,i){var r=i;\"string\"==typeof i&&(r=function(){return this[i]()}),e&&(Et[e]=r),t&&(Et[t[0]]=function(){return R(r.apply(this,arguments),t[1],t[2])}),n&&(Et[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function B(e){return e.match(/\\[[\\s\\S]/)?e.replace(/^\\[|\\]$/g,\"\"):e.replace(/\\\\/g,\"\")}function L(e,t){return e.isValid()?(t=$(t,e.localeData()),Ot[t]=Ot[t]||function(e){var t,n,i=e.match(xt);for(t=0,n=i.length;t<n;t++)i[t]=Et[i[t]]?Et[i[t]]:B(i[t]);return function(t){var r,o=\"\";for(r=0;r<n;r++)o+=M(i[r])?i[r].call(t,e):i[r];return o}}(t),Ot[t](e)):e.localeData().invalidDate()}function $(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(kt.lastIndex=0;0<=i&&kt.test(e);)e=e.replace(kt,n),kt.lastIndex=0,i-=1;return e}function W(e,t,n){Wt[e]=M(t)?t:function(e){return e&&n?n:t}}function U(e,t){return g(Wt,e)?Wt[e](t._strict,t._locale):new RegExp(function(e){return Y(e.replace(\"\\\\\",\"\").replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g,(function(e,t,n,i,r){return t||n||i||r})))}(e))}function Y(e){return e.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,\"\\\\$&\")}function H(e,t){var n,i=t;for(\"string\"==typeof e&&(e=[e]),h(t)&&(i=function(e,n){n[t]=E(e)}),n=0;n<e.length;n++)Ut[e[n]]=i}function q(e,t){H(e,(function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)}))}function V(e,t,n){null!=t&&g(Ut,e)&&Ut[e](t,n._a,n,e)}function G(e){return X(e)?366:365}function X(e){return 0==e%4&&0!=e%100||0==e%400}function Z(e,t){return function(n){return null==n?Q(this,e):(J(this,e,n),l.updateOffset(this,t),this)}}function Q(e,t){return e.isValid()?e._d[\"get\"+(e._isUTC?\"UTC\":\"\")+t]():NaN}function J(e,t,n){e.isValid()&&!isNaN(n)&&(\"FullYear\"===t&&X(e.year())&&1===e.month()&&29===e.date()?e._d[\"set\"+(e._isUTC?\"UTC\":\"\")+t](n,e.month(),K(n,e.month())):e._d[\"set\"+(e._isUTC?\"UTC\":\"\")+t](n))}function K(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=function(e,t){return(e%t+t)%t}(t,12);return e+=(t-n)/12,1===n?X(e)?29:28:31-n%7%2}function ee(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;12>i;++i)o=v([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,\"\").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,\"\").toLocaleLowerCase();return n?\"MMM\"===t?-1===(r=Yt.call(this._shortMonthsParse,a))?null:r:-1===(r=Yt.call(this._longMonthsParse,a))?null:r:\"MMM\"===t?-1!==(r=Yt.call(this._shortMonthsParse,a))?r:-1===(r=Yt.call(this._longMonthsParse,a))?null:r:-1!==(r=Yt.call(this._longMonthsParse,a))?r:-1===(r=Yt.call(this._shortMonthsParse,a))?null:r}function te(e,t){var n;if(!e.isValid())return e;if(\"string\"==typeof t)if(/^\\d+$/.test(t))t=E(t);else if(!h(t=e.localeData().monthsParse(t)))return e;return n=o(e.date(),K(e.year(),t)),e._d[\"set\"+(e._isUTC?\"UTC\":\"\")+\"Month\"](t,n),e}function ne(e){return null==e?Q(this,\"Month\"):(te(this,e),l.updateOffset(this,!0),this)}function ie(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],o=[];for(t=0;12>t;t++)n=v([2e3,t]),i.push(this.monthsShort(n,\"\")),r.push(this.months(n,\"\")),o.push(this.months(n,\"\")),o.push(this.monthsShort(n,\"\"));for(i.sort(e),r.sort(e),o.sort(e),t=0;12>t;t++)i[t]=Y(i[t]),r[t]=Y(r[t]);for(t=0;24>t;t++)o[t]=Y(o[t]);this._monthsRegex=new RegExp(\"^(\"+o.join(\"|\")+\")\",\"i\"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp(\"^(\"+r.join(\"|\")+\")\",\"i\"),this._monthsShortStrictRegex=new RegExp(\"^(\"+i.join(\"|\")+\")\",\"i\")}function re(e,t,n,i,r,o,a){var s;return 100>e&&0<=e?(s=new Date(e+400,t,n,i,r,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,i,r,o,a),s}function oe(e){var t;if(100>e&&0<=e){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function ae(e,t,n){var i=7+t-n;return-((7+oe(e,0,i).getUTCDay()-t)%7)+i-1}function se(e,t,n,i,r){var o,a,s=1+7*(t-1)+(7+n-i)%7+ae(e,i,r);return 0>=s?a=G(o=e-1)+s:s>G(e)?(o=e+1,a=s-G(e)):(o=e,a=s),{year:o,dayOfYear:a}}function le(e,t,n){var i,r,o=ae(e.year(),t,n),s=a((e.dayOfYear()-o-1)/7)+1;return 1>s?i=s+ue(r=e.year()-1,t,n):s>ue(e.year(),t,n)?(i=s-ue(e.year(),t,n),r=e.year()+1):(r=e.year(),i=s),{week:i,year:r}}function ue(e,t,n){var i=ae(e,t,n),r=ae(e+1,t,n);return(G(e)-i+r)/7}function ce(e,t){return e.slice(t,7).concat(e.slice(0,t))}function de(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;7>i;++i)o=v([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,\"\").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,\"\").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,\"\").toLocaleLowerCase();return n?\"dddd\"===t?-1===(r=Yt.call(this._weekdaysParse,a))?null:r:\"ddd\"===t?-1===(r=Yt.call(this._shortWeekdaysParse,a))?null:r:-1===(r=Yt.call(this._minWeekdaysParse,a))?null:r:\"dddd\"===t?-1!==(r=Yt.call(this._weekdaysParse,a))?r:-1!==(r=Yt.call(this._shortWeekdaysParse,a))?r:-1===(r=Yt.call(this._minWeekdaysParse,a))?null:r:\"ddd\"===t?-1!==(r=Yt.call(this._shortWeekdaysParse,a))?r:-1!==(r=Yt.call(this._weekdaysParse,a))?r:-1===(r=Yt.call(this._minWeekdaysParse,a))?null:r:-1!==(r=Yt.call(this._minWeekdaysParse,a))?r:-1!==(r=Yt.call(this._weekdaysParse,a))?r:-1===(r=Yt.call(this._shortWeekdaysParse,a))?null:r}function he(){function e(e,t){return t.length-e.length}var t,n,i,r,o,a=[],s=[],l=[],u=[];for(t=0;7>t;t++)n=v([2e3,1]).day(t),i=this.weekdaysMin(n,\"\"),r=this.weekdaysShort(n,\"\"),o=this.weekdays(n,\"\"),a.push(i),s.push(r),l.push(o),u.push(i),u.push(r),u.push(o);for(a.sort(e),s.sort(e),l.sort(e),u.sort(e),t=0;7>t;t++)s[t]=Y(s[t]),l[t]=Y(l[t]),u[t]=Y(u[t]);this._weekdaysRegex=new RegExp(\"^(\"+u.join(\"|\")+\")\",\"i\"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp(\"^(\"+l.join(\"|\")+\")\",\"i\"),this._weekdaysShortStrictRegex=new RegExp(\"^(\"+s.join(\"|\")+\")\",\"i\"),this._weekdaysMinStrictRegex=new RegExp(\"^(\"+a.join(\"|\")+\")\",\"i\")}function fe(){return this.hours()%12||12}function pe(e,t){I(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function ge(e,t){return t._meridiemParse}function me(e){return e?e.toLowerCase().replace(\"_\",\"-\"):e}function ve(t){var n=null;if(!Jt[t]&&e&&e.exports)try{n=Xt._abbr,function(){throw new Error(\"Dynamic requires are not currently supported by rollup-plugin-commonjs\")}(),ye(n)}catch(t){}return Jt[t]}function ye(e,t){var n;return e&&((n=d(t)?_e(e):be(e,t))?Xt=n:\"undefined\"!=typeof console&&console.warn&&console.warn(\"Locale \"+e+\" not found. Did you forget to load it?\")),Xt._abbr}function be(e,t){if(null!==t){var n,i=Qt;if(t.abbr=e,null!=Jt[e])C(\"defineLocaleOverride\",\"use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info.\"),i=Jt[e]._config;else if(null!=t.parentLocale)if(null!=Jt[t.parentLocale])i=Jt[t.parentLocale]._config;else{if(null==(n=ve(t.parentLocale)))return Kt[t.parentLocale]||(Kt[t.parentLocale]=[]),Kt[t.parentLocale].push({name:e,config:t}),null;i=n._config}return Jt[e]=new A(T(i,t)),Kt[e]&&Kt[e].forEach((function(e){be(e.name,e.config)})),ye(e),Jt[e]}return delete Jt[e],null}function _e(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Xt;if(!u(e)){if(t=ve(e))return t;e=[e]}return function(e){for(var t,n,i,r,o=0;o<e.length;){for(t=(r=me(e[o]).split(\"-\")).length,n=(n=me(e[o+1]))?n.split(\"-\"):null;0<t;){if(i=ve(r.slice(0,t).join(\"-\")))return i;if(n&&n.length>=t&&S(r,n,!0)>=t-1)break;t--}o++}return Xt}(e)}function we(e){var t,n=e._a;return n&&-2===y(e).overflow&&(t=0>n[1]||11<n[1]?1:1>n[2]||n[2]>K(n[0],n[1])?2:0>n[3]||24<n[3]||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:0>n[4]||59<n[4]?4:0>n[5]||59<n[5]?5:0>n[6]||999<n[6]?6:-1,y(e)._overflowDayOfYear&&(0>t||2<t)&&(t=2),y(e)._overflowWeeks&&-1===t&&(t=7),y(e)._overflowWeekday&&-1===t&&(t=8),y(e).overflow=t),e}function xe(e,t,n){return null==e?null==t?n:t:e}function ke(e){var t,n,i,r,o,a=[];if(!e._d){for(i=function(e){var t=new Date(l.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,i,r,o,a,s,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,a=4,n=xe(t.GG,e._a[0],le(Me(),1,4).year),i=xe(t.W,1),(1>(r=xe(t.E,1))||7<r)&&(l=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var u=le(Me(),o,a);n=xe(t.gg,e._a[0],u.year),i=xe(t.w,u.week),null==t.d?null==t.e?r=o:(r=t.e+o,(0>t.e||6<t.e)&&(l=!0)):(0>(r=t.d)||6<r)&&(l=!0)}1>i||i>ue(n,o,a)?y(e)._overflowWeeks=!0:null==l?(s=se(n,i,r,o,a),e._a[0]=s.year,e._dayOfYear=s.dayOfYear):y(e)._overflowWeekday=!0}(e),null!=e._dayOfYear&&(o=xe(e._a[0],i[0]),(e._dayOfYear>G(o)||0===e._dayOfYear)&&(y(e)._overflowDayOfYear=!0),n=oe(o,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=a[t]=i[t];for(;7>t;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?oe:re).apply(null,a),r=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==r&&(y(e).weekdayMismatch=!0)}}function Oe(e){var t,n,i,r,o,a,s=e._i,l=en.exec(s)||tn.exec(s);if(l){for(y(e).iso=!0,t=0,n=rn.length;t<n;t++)if(rn[t][1].exec(l[1])){r=rn[t][0],i=!1!==rn[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=on.length;t<n;t++)if(on[t][1].exec(l[3])){o=(l[2]||\" \")+on[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(l[4]){if(!nn.exec(l[4]))return void(e._isValid=!1);a=\"Z\"}e._f=r+(o||\"\")+(a||\"\"),De(e)}else e._isValid=!1}function Ee(e){var t=parseInt(e,10);return 49>=t?2e3+t:999>=t?1900+t:t}function Se(e){var t=sn.exec(function(e){return e.replace(/\\([^)]*\\)|[\\n\\t]/g,\" \").replace(/(\\s\\s+)/g,\" \").replace(/^\\s\\s*/,\"\").replace(/\\s\\s*$/,\"\")}(e._i));if(t){var n=function(e,t,n,i,r,o){var a=[Ee(e),Vt.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return o&&a.push(parseInt(o,10)),a}(t[4],t[3],t[2],t[5],t[6],t[7]);if(!function(e,t,n){return!e||Gt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(y(n).weekdayMismatch=!0,n._isValid=!1,!1)}(t[1],n,e))return;e._a=n,e._tzm=function(e,t,n){if(e)return ln[e];if(t)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}(t[8],t[9],t[10]),e._d=oe.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),y(e).rfc2822=!0}else e._isValid=!1}function De(e){if(e._f!==l.ISO_8601)if(e._f!==l.RFC_2822){e._a=[],y(e).empty=!0;var t,n,i,r,o,a=\"\"+e._i,s=a.length,u=0;for(i=$(e._f,e._locale).match(xt)||[],t=0;t<i.length;t++)r=i[t],(n=(a.match(U(r,e))||[])[0])&&(0<(o=a.substr(0,a.indexOf(n))).length&&y(e).unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),u+=n.length),Et[r]?(n?y(e).empty=!1:y(e).unusedTokens.push(r),V(r,n,e)):e._strict&&!n&&y(e).unusedTokens.push(r);y(e).charsLeftOver=s-u,0<a.length&&y(e).unusedInput.push(a),12>=e._a[3]&&!0===y(e).bigHour&&0<e._a[3]&&(y(e).bigHour=void 0),y(e).parsedDateParts=e._a.slice(0),y(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var i;return null==n?t:null==e.meridiemHour?(null==e.isPM||((i=e.isPM(n))&&12>t&&(t+=12),i||12!==t||(t=0)),t):e.meridiemHour(t,n)}(e._locale,e._a[3],e._meridiem),ke(e),we(e)}else Se(e);else Oe(e)}function je(e){var t=e._i,n=e._f;return e._locale=e._locale||_e(e._l),null===t||void 0===n&&\"\"===t?_({nullInput:!0}):(\"string\"==typeof t&&(e._i=t=e._locale.preparse(t)),k(t)?new x(we(t)):(f(t)?e._d=t:u(n)?function(e){var t,n,i,r,o;if(0===e._f.length)return y(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)o=0,t=w({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],De(t),b(t)&&(o+=y(t).charsLeftOver,o+=10*y(t).unusedTokens.length,y(t).score=o,(null==i||o<i)&&(i=o,n=t));m(e,n||t)}(e):n?De(e):function(e){var t=e._i;d(t)?e._d=new Date(l.now()):f(t)?e._d=new Date(t.valueOf()):\"string\"==typeof t?function(e){var t=an.exec(e._i);null===t?(Oe(e),!1===e._isValid&&(delete e._isValid,Se(e),!1===e._isValid&&(delete e._isValid,l.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):u(t)?(e._a=p(t.slice(0),(function(e){return parseInt(e,10)})),ke(e)):c(t)?function(e){if(!e._d){var t=N(e._i);e._a=p([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),ke(e)}}(e):h(t)?e._d=new Date(t):l.createFromInputFallback(e)}(e),b(e)||(e._d=null),e))}function Ce(e,t,n,i,r){var o={};return(!0===n||!1===n)&&(i=n,n=void 0),(c(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||u(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=e,o._f=t,o._strict=i,function(e){var t=new x(we(je(e)));return t._nextDay&&(t.add(1,\"d\"),t._nextDay=void 0),t}(o)}function Me(e,t,n,i){return Ce(e,t,n,i,!1)}function Te(e,t){var n,i;if(1===t.length&&u(t[0])&&(t=t[0]),!t.length)return Me();for(n=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][e](n))&&(n=t[i]);return n}function Ae(e){var t=N(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Yt.call(dn,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,i=0;i<dn.length;++i)if(e[dn[i]]){if(n)return!1;parseFloat(e[dn[i]])!==E(e[dn[i]])&&(n=!0)}return!0}(t),this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=_e(),this._bubble()}function Fe(e){return e instanceof Ae}function Pe(e){return 0>e?-1*t(-1*e):t(e)}function Ne(e,t){I(e,0,0,(function(){var e=this.utcOffset(),n=\"+\";return 0>e&&(e=-e,n=\"-\"),n+R(~~(e/60),2)+t+R(~~e%60,2)}))}function ze(e,t){var n=(t||\"\").match(e);if(null===n)return null;var i=((n[n.length-1]||[])+\"\").match(hn)||[\"-\",0,0],r=60*i[1]+E(i[2]);return 0===r?0:\"+\"===i[0]?r:-r}function Re(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(k(e)||f(e)?e.valueOf():Me(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),l.updateOffset(n,!1),n):Me(e).local()}function Ie(e){return 15*-t(e._d.getTimezoneOffset()/15)}function Be(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Le(e,t){var n,i,r,o=e,a=null;return Fe(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:h(e)?(o={},t?o[t]=e:o.milliseconds=e):(a=fn.exec(e))?(n=\"-\"===a[1]?-1:1,o={y:0,d:E(a[2])*n,h:E(a[3])*n,m:E(a[4])*n,s:E(a[5])*n,ms:E(Pe(1e3*a[6]))*n}):(a=pn.exec(e))?(n=\"-\"===a[1]?-1:1,o={y:$e(a[2],n),M:$e(a[3],n),w:$e(a[4],n),d:$e(a[5],n),h:$e(a[6],n),m:$e(a[7],n),s:$e(a[8],n)}):null==o?o={}:\"object\"==typeof o&&(\"from\"in o||\"to\"in o)&&(r=function(e,t){var n;return e.isValid()&&t.isValid()?(t=Re(t,e),e.isBefore(t)?n=We(e,t):((n=We(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(Me(o.from),Me(o.to)),(o={}).ms=r.milliseconds,o.M=r.months),i=new Ae(o),Fe(e)&&g(e,\"_locale\")&&(i._locale=e._locale),i}function $e(e,t){var n=e&&parseFloat(e.replace(\",\",\".\"));return(isNaN(n)?0:n)*t}function We(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,\"M\").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,\"M\"),n}function Ue(e,t){return function(n,i){var r;return null===i||isNaN(+i)||(C(t,\"moment().\"+t+\"(period, number) is deprecated. Please use moment().\"+t+\"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.\"),r=n,n=i,i=r),Ye(this,Le(n=\"string\"==typeof n?+n:n,i),e),this}}function Ye(e,t,n,i){var r=t._milliseconds,o=Pe(t._days),a=Pe(t._months);e.isValid()&&(i=null==i||i,a&&te(e,Q(e,\"Month\")+a*n),o&&J(e,\"Date\",Q(e,\"Date\")+o*n),r&&e._d.setTime(e._d.valueOf()+r*n),i&&l.updateOffset(e,o||a))}function He(e,t){var n,i=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(i,\"months\");return 0>t-r?n=(t-r)/(r-e.clone().add(i-1,\"months\")):n=(t-r)/(e.clone().add(i+1,\"months\")-r),-(i+n)||0}function qe(e){var t;return void 0===e?this._locale._abbr:(null!=(t=_e(e))&&(this._locale=t),this)}function Ve(){return this._locale}function Ge(e,t){return(e%t+t)%t}function Xe(e,t,n){return 100>e&&0<=e?new Date(e+400,t,n)-126227808e5:new Date(e,t,n).valueOf()}function Ze(e,t,n){return 100>e&&0<=e?Date.UTC(e+400,t,n)-126227808e5:Date.UTC(e,t,n)}function Qe(e,t){I(0,[e,e.length],0,t)}function Je(e,t,n,i,r){var o;return null==e?le(this,i,r).year:(t>(o=ue(e,i,r))&&(t=o),Ke.call(this,e,t,n,i,r))}function Ke(e,t,n,i,r){var o=se(e,t,n,i,r),a=oe(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function et(e,t){t[6]=E(1e3*(\"0.\"+e))}function tt(e){return e}function nt(e,t,n,i){var r=_e(),o=v().set(i,t);return r[n](o,e)}function it(e,t,n){if(h(e)&&(t=e,e=void 0),e=e||\"\",null!=t)return nt(e,t,n,\"month\");var i,r=[];for(i=0;12>i;i++)r[i]=nt(e,i,n,\"month\");return r}function rt(e,t,n,i){\"boolean\"==typeof e?(h(t)&&(n=t,t=void 0),t=t||\"\"):(n=t=e,e=!1,h(t)&&(n=t,t=void 0),t=t||\"\");var r=_e(),o=e?r._week.dow:0;if(null!=n)return nt(t,(n+o)%7,i,\"day\");var a,s=[];for(a=0;7>a;a++)s[a]=nt(t,(a+o)%7,i,\"day\");return s}function ot(e,t,n,i){var r=Le(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function at(e){return 0>e?a(e):s(e)}function st(e){return 4800*e/146097}function lt(e){return 146097*e/4800}function ut(e){return function(){return this.as(e)}}function ct(e){return function(){return this.isValid()?this._data[e]:NaN}}function dt(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function ht(e){return(0<e)-(0>e)||+e}function ft(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Yn(this._milliseconds)/1e3,i=Yn(this._days),r=Yn(this._months);e=O(n/60),t=O(e/60),n%=60,e%=60;var o=O(r/12),a=r%=12,s=i,l=t,u=e,c=n?n.toFixed(3).replace(/\\.?0+$/,\"\"):\"\",d=this.asSeconds();if(!d)return\"P0D\";var h=0>d?\"-\":\"\",f=ht(this._months)===ht(d)?\"\":\"-\",p=ht(this._days)===ht(d)?\"\":\"-\",g=ht(this._milliseconds)===ht(d)?\"\":\"-\";return h+\"P\"+(o?f+o+\"Y\":\"\")+(a?f+a+\"M\":\"\")+(s?p+s+\"D\":\"\")+(l||u||c?\"T\":\"\")+(l?g+l+\"H\":\"\")+(u?g+u+\"M\":\"\")+(c?g+c+\"S\":\"\")}var pt,gt;gt=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var mt=l.momentProperties=[],vt=!1,yt={};l.suppressDeprecationWarnings=!1,l.deprecationHandler=null;var bt=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)g(e,t)&&n.push(t);return n},_t={},wt={},xt=/(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,kt=/(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ot={},Et={},St=/\\d/,Dt=/\\d\\d/,jt=/\\d{3}/,Ct=/\\d{4}/,Mt=/[+-]?\\d{6}/,Tt=/\\d\\d?/,At=/\\d\\d\\d\\d?/,Ft=/\\d\\d\\d\\d\\d\\d?/,Pt=/\\d{1,3}/,Nt=/\\d{1,4}/,zt=/[+-]?\\d{1,6}/,Rt=/\\d+/,It=/[+-]?\\d+/,Bt=/Z|[+-]\\d\\d:?\\d\\d/gi,Lt=/Z|[+-]\\d\\d(?::?\\d\\d)?/gi,$t=/[0-9]{0,256}['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFF07\\uFF10-\\uFFEF]{1,256}|[\\u0600-\\u06FF\\/]{1,256}(\\s*?[\\u0600-\\u06FF]{1,256}){1,2}/i,Wt={},Ut={};I(\"Y\",0,0,(function(){var e=this.year();return 9999>=e?\"\"+e:\"+\"+e})),I(0,[\"YY\",2],0,(function(){return this.year()%100})),I(0,[\"YYYY\",4],0,\"year\"),I(0,[\"YYYYY\",5],0,\"year\"),I(0,[\"YYYYYY\",6,!0],0,\"year\"),F(\"year\",\"y\"),z(\"year\",1),W(\"Y\",It),W(\"YY\",Tt,Dt),W(\"YYYY\",Nt,Ct),W(\"YYYYY\",zt,Mt),W(\"YYYYYY\",zt,Mt),H([\"YYYYY\",\"YYYYYY\"],0),H(\"YYYY\",(function(e,t){t[0]=2===e.length?l.parseTwoDigitYear(e):E(e)})),H(\"YY\",(function(e,t){t[0]=l.parseTwoDigitYear(e)})),H(\"Y\",(function(e,t){t[0]=parseInt(e,10)})),l.parseTwoDigitYear=function(e){return E(e)+(68<E(e)?1900:2e3)};var Yt,Ht=Z(\"FullYear\",!0);Yt=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},I(\"M\",[\"MM\",2],\"Mo\",(function(){return this.month()+1})),I(\"MMM\",0,0,(function(e){return this.localeData().monthsShort(this,e)})),I(\"MMMM\",0,0,(function(e){return this.localeData().months(this,e)})),F(\"month\",\"M\"),z(\"month\",8),W(\"M\",Tt),W(\"MM\",Tt,Dt),W(\"MMM\",(function(e,t){return t.monthsShortRegex(e)})),W(\"MMMM\",(function(e,t){return t.monthsRegex(e)})),H([\"M\",\"MM\"],(function(e,t){t[1]=E(e)-1})),H([\"MMM\",\"MMMM\"],(function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null==r?y(n).invalidMonth=e:t[1]=r}));var qt=/D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/,Vt=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];I(\"w\",[\"ww\",2],\"wo\",\"week\"),I(\"W\",[\"WW\",2],\"Wo\",\"isoWeek\"),F(\"week\",\"w\"),F(\"isoWeek\",\"W\"),z(\"week\",5),z(\"isoWeek\",5),W(\"w\",Tt),W(\"ww\",Tt,Dt),W(\"W\",Tt),W(\"WW\",Tt,Dt),q([\"w\",\"ww\",\"W\",\"WW\"],(function(e,t,n,i){t[i.substr(0,1)]=E(e)})),I(\"d\",0,\"do\",\"day\"),I(\"dd\",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),I(\"ddd\",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),I(\"dddd\",0,0,(function(e){return this.localeData().weekdays(this,e)})),I(\"e\",0,0,\"weekday\"),I(\"E\",0,0,\"isoWeekday\"),F(\"day\",\"d\"),F(\"weekday\",\"e\"),F(\"isoWeekday\",\"E\"),z(\"day\",11),z(\"weekday\",11),z(\"isoWeekday\",11),W(\"d\",Tt),W(\"e\",Tt),W(\"E\",Tt),W(\"dd\",(function(e,t){return t.weekdaysMinRegex(e)})),W(\"ddd\",(function(e,t){return t.weekdaysShortRegex(e)})),W(\"dddd\",(function(e,t){return t.weekdaysRegex(e)})),q([\"dd\",\"ddd\",\"dddd\"],(function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null==r?y(n).invalidWeekday=e:t.d=r})),q([\"d\",\"e\",\"E\"],(function(e,t,n,i){t[i]=E(e)}));var Gt=[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"];I(\"H\",[\"HH\",2],0,\"hour\"),I(\"h\",[\"hh\",2],0,fe),I(\"k\",[\"kk\",2],0,(function(){return this.hours()||24})),I(\"hmm\",0,0,(function(){return\"\"+fe.apply(this)+R(this.minutes(),2)})),I(\"hmmss\",0,0,(function(){return\"\"+fe.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)})),I(\"Hmm\",0,0,(function(){return\"\"+this.hours()+R(this.minutes(),2)})),I(\"Hmmss\",0,0,(function(){return\"\"+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)})),pe(\"a\",!0),pe(\"A\",!1),F(\"hour\",\"h\"),z(\"hour\",13),W(\"a\",ge),W(\"A\",ge),W(\"H\",Tt),W(\"h\",Tt),W(\"k\",Tt),W(\"HH\",Tt,Dt),W(\"hh\",Tt,Dt),W(\"kk\",Tt,Dt),W(\"hmm\",At),W(\"hmmss\",Ft),W(\"Hmm\",At),W(\"Hmmss\",Ft),H([\"H\",\"HH\"],3),H([\"k\",\"kk\"],(function(e,t){var n=E(e);t[3]=24===n?0:n})),H([\"a\",\"A\"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),H([\"h\",\"hh\"],(function(e,t,n){t[3]=E(e),y(n).bigHour=!0})),H(\"hmm\",(function(e,t,n){var i=e.length-2;t[3]=E(e.substr(0,i)),t[4]=E(e.substr(i)),y(n).bigHour=!0})),H(\"hmmss\",(function(e,t,n){var i=e.length-4,r=e.length-2;t[3]=E(e.substr(0,i)),t[4]=E(e.substr(i,2)),t[5]=E(e.substr(r)),y(n).bigHour=!0})),H(\"Hmm\",(function(e,t){var n=e.length-2;t[3]=E(e.substr(0,n)),t[4]=E(e.substr(n))})),H(\"Hmmss\",(function(e,t){var n=e.length-4,i=e.length-2;t[3]=E(e.substr(0,n)),t[4]=E(e.substr(n,2)),t[5]=E(e.substr(i))}));var Xt,Zt=Z(\"Hours\",!0),Qt={calendar:{sameDay:\"[Today at] LT\",nextDay:\"[Tomorrow at] LT\",nextWeek:\"dddd [at] LT\",lastDay:\"[Yesterday at] LT\",lastWeek:\"[Last] dddd [at] LT\",sameElse:\"L\"},longDateFormat:{LTS:\"h:mm:ss A\",LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D, YYYY\",LLL:\"MMMM D, YYYY h:mm A\",LLLL:\"dddd, MMMM D, YYYY h:mm A\"},invalidDate:\"Invalid date\",ordinal:\"%d\",dayOfMonthOrdinalParse:/\\d{1,2}/,relativeTime:{future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",ss:\"%d seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"},months:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],monthsShort:Vt,week:{dow:0,doy:6},weekdays:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],weekdaysMin:[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"],weekdaysShort:Gt,meridiemParse:/[ap]\\.?m?\\.?/i},Jt={},Kt={},en=/^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,tn=/^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,nn=/Z|[+-]\\d\\d(?::?\\d\\d)?/,rn=[[\"YYYYYY-MM-DD\",/[+-]\\d{6}-\\d\\d-\\d\\d/],[\"YYYY-MM-DD\",/\\d{4}-\\d\\d-\\d\\d/],[\"GGGG-[W]WW-E\",/\\d{4}-W\\d\\d-\\d/],[\"GGGG-[W]WW\",/\\d{4}-W\\d\\d/,!1],[\"YYYY-DDD\",/\\d{4}-\\d{3}/],[\"YYYY-MM\",/\\d{4}-\\d\\d/,!1],[\"YYYYYYMMDD\",/[+-]\\d{10}/],[\"YYYYMMDD\",/\\d{8}/],[\"GGGG[W]WWE\",/\\d{4}W\\d{3}/],[\"GGGG[W]WW\",/\\d{4}W\\d{2}/,!1],[\"YYYYDDD\",/\\d{7}/]],on=[[\"HH:mm:ss.SSSS\",/\\d\\d:\\d\\d:\\d\\d\\.\\d+/],[\"HH:mm:ss,SSSS\",/\\d\\d:\\d\\d:\\d\\d,\\d+/],[\"HH:mm:ss\",/\\d\\d:\\d\\d:\\d\\d/],[\"HH:mm\",/\\d\\d:\\d\\d/],[\"HHmmss.SSSS\",/\\d\\d\\d\\d\\d\\d\\.\\d+/],[\"HHmmss,SSSS\",/\\d\\d\\d\\d\\d\\d,\\d+/],[\"HHmmss\",/\\d\\d\\d\\d\\d\\d/],[\"HHmm\",/\\d\\d\\d\\d/],[\"HH\",/\\d\\d/]],an=/^\\/?Date\\((\\-?\\d+)/i,sn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\\d{4}))$/,ln={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};l.createFromInputFallback=j(\"value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.\",(function(e){e._d=new Date(e._i+(e._useUTC?\" UTC\":\"\"))})),l.ISO_8601=function(){},l.RFC_2822=function(){};var un=j(\"moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/\",(function(){var e=Me.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:_()})),cn=j(\"moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/\",(function(){var e=Me.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:_()})),dn=[\"year\",\"quarter\",\"month\",\"week\",\"day\",\"hour\",\"minute\",\"second\",\"millisecond\"];Ne(\"Z\",\":\"),Ne(\"ZZ\",\"\"),W(\"Z\",Lt),W(\"ZZ\",Lt),H([\"Z\",\"ZZ\"],(function(e,t,n){n._useUTC=!0,n._tzm=ze(Lt,e)}));var hn=/([\\+\\-]|\\d\\d)/gi;l.updateOffset=function(){};var fn=/^(\\-|\\+)?(?:(\\d*)[. ])?(\\d+)\\:(\\d+)(?:\\:(\\d+)(\\.\\d*)?)?$/,pn=/^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Le.fn=Ae.prototype,Le.invalid=function(){return Le(NaN)};var gn=Ue(1,\"add\"),mn=Ue(-1,\"subtract\");l.defaultFormat=\"YYYY-MM-DDTHH:mm:ssZ\",l.defaultFormatUtc=\"YYYY-MM-DDTHH:mm:ss[Z]\";var vn=j(\"moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.\",(function(e){return void 0===e?this.localeData():this.locale(e)}));I(0,[\"gg\",2],0,(function(){return this.weekYear()%100})),I(0,[\"GG\",2],0,(function(){return this.isoWeekYear()%100})),Qe(\"gggg\",\"weekYear\"),Qe(\"ggggg\",\"weekYear\"),Qe(\"GGGG\",\"isoWeekYear\"),Qe(\"GGGGG\",\"isoWeekYear\"),F(\"weekYear\",\"gg\"),F(\"isoWeekYear\",\"GG\"),z(\"weekYear\",1),z(\"isoWeekYear\",1),W(\"G\",It),W(\"g\",It),W(\"GG\",Tt,Dt),W(\"gg\",Tt,Dt),W(\"GGGG\",Nt,Ct),W(\"gggg\",Nt,Ct),W(\"GGGGG\",zt,Mt),W(\"ggggg\",zt,Mt),q([\"gggg\",\"ggggg\",\"GGGG\",\"GGGGG\"],(function(e,t,n,i){t[i.substr(0,2)]=E(e)})),q([\"gg\",\"GG\"],(function(e,t,n,i){t[i]=l.parseTwoDigitYear(e)})),I(\"Q\",0,\"Qo\",\"quarter\"),F(\"quarter\",\"Q\"),z(\"quarter\",7),W(\"Q\",St),H(\"Q\",(function(e,t){t[1]=3*(E(e)-1)})),I(\"D\",[\"DD\",2],\"Do\",\"date\"),F(\"date\",\"D\"),z(\"date\",9),W(\"D\",Tt),W(\"DD\",Tt,Dt),W(\"Do\",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),H([\"D\",\"DD\"],2),H(\"Do\",(function(e,t){t[2]=E(e.match(Tt)[0])}));var yn=Z(\"Date\",!0);I(\"DDD\",[\"DDDD\",3],\"DDDo\",\"dayOfYear\"),F(\"dayOfYear\",\"DDD\"),z(\"dayOfYear\",4),W(\"DDD\",Pt),W(\"DDDD\",jt),H([\"DDD\",\"DDDD\"],(function(e,t,n){n._dayOfYear=E(e)})),I(\"m\",[\"mm\",2],0,\"minute\"),F(\"minute\",\"m\"),z(\"minute\",14),W(\"m\",Tt),W(\"mm\",Tt,Dt),H([\"m\",\"mm\"],4);var bn=Z(\"Minutes\",!1);I(\"s\",[\"ss\",2],0,\"second\"),F(\"second\",\"s\"),z(\"second\",15),W(\"s\",Tt),W(\"ss\",Tt,Dt),H([\"s\",\"ss\"],5);var _n,wn=Z(\"Seconds\",!1);for(I(\"S\",0,0,(function(){return~~(this.millisecond()/100)})),I(0,[\"SS\",2],0,(function(){return~~(this.millisecond()/10)})),I(0,[\"SSS\",3],0,\"millisecond\"),I(0,[\"SSSS\",4],0,(function(){return 10*this.millisecond()})),I(0,[\"SSSSS\",5],0,(function(){return 100*this.millisecond()})),I(0,[\"SSSSSS\",6],0,(function(){return 1e3*this.millisecond()})),I(0,[\"SSSSSSS\",7],0,(function(){return 1e4*this.millisecond()})),I(0,[\"SSSSSSSS\",8],0,(function(){return 1e5*this.millisecond()})),I(0,[\"SSSSSSSSS\",9],0,(function(){return 1e6*this.millisecond()})),F(\"millisecond\",\"ms\"),z(\"millisecond\",16),W(\"S\",Pt,St),W(\"SS\",Pt,Dt),W(\"SSS\",Pt,jt),_n=\"SSSS\";9>=_n.length;_n+=\"S\")W(_n,Rt);for(_n=\"S\";9>=_n.length;_n+=\"S\")H(_n,et);var xn=Z(\"Milliseconds\",!1);I(\"z\",0,0,\"zoneAbbr\"),I(\"zz\",0,0,\"zoneName\");var kn=x.prototype;kn.add=gn,kn.calendar=function(e,t){var n=e||Me(),i=Re(n,this).startOf(\"day\"),r=l.calendarFormat(this,i)||\"sameElse\",o=t&&(M(t[r])?t[r].call(this,n):t[r]);return this.format(o||this.localeData().calendar(r,this,Me(n)))},kn.clone=function(){return new x(this)},kn.diff=function(e,t,n){var i,r,o;return this.isValid()?(i=Re(e,this)).isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),o=\"year\"===(t=P(t))?He(this,i)/12:\"month\"===t?He(this,i):\"quarter\"===t?He(this,i)/3:\"second\"===t?(this-i)/1e3:\"minute\"===t?(this-i)/6e4:\"hour\"===t?(this-i)/36e5:\"day\"===t?(this-i-r)/864e5:\"week\"===t?(this-i-r)/6048e5:this-i,n?o:O(o)):NaN:NaN},kn.endOf=function(e){var t;if(void 0===(e=P(e))||\"millisecond\"===e||!this.isValid())return this;var n=this._isUTC?Ze:Xe;return\"year\"===e?t=n(this.year()+1,0,1)-1:\"quarter\"===e?t=n(this.year(),this.month()-this.month()%3+3,1)-1:\"month\"===e?t=n(this.year(),this.month()+1,1)-1:\"week\"===e?t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1:\"isoWeek\"===e?t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1:\"day\"===e||\"date\"===e?t=n(this.year(),this.month(),this.date()+1)-1:\"hour\"===e?(t=this._d.valueOf(),t+=36e5-Ge(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1):\"minute\"===e?(t=this._d.valueOf(),t+=6e4-Ge(t,6e4)-1):\"second\"===e&&(t=this._d.valueOf(),t+=1e3-Ge(t,1e3)-1),this._d.setTime(t),l.updateOffset(this,!0),this},kn.format=function(e){e||(e=this.isUtc()?l.defaultFormatUtc:l.defaultFormat);var t=L(this,e);return this.localeData().postformat(t)},kn.from=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||Me(e).isValid())?Le({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},kn.fromNow=function(e){return this.from(Me(),e)},kn.to=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||Me(e).isValid())?Le({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},kn.toNow=function(e){return this.to(Me(),e)},kn.get=function(e){return M(this[e=P(e)])?this[e]():this},kn.invalidAt=function(){return y(this).overflow},kn.isAfter=function(e,t){var n=k(e)?e:Me(e);return!(!this.isValid()||!n.isValid())&&(\"millisecond\"===(t=P(t)||\"millisecond\")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},kn.isBefore=function(e,t){var n=k(e)?e:Me(e);return!(!this.isValid()||!n.isValid())&&(\"millisecond\"===(t=P(t)||\"millisecond\")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},kn.isBetween=function(e,t,n,i){var r=k(e)?e:Me(e),o=k(t)?t:Me(t);return!!(this.isValid()&&r.isValid()&&o.isValid())&&((\"(\"===(i=i||\"()\")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(\")\"===i[1]?this.isBefore(o,n):!this.isAfter(o,n)))},kn.isSame=function(e,t){var n,i=k(e)?e:Me(e);return!(!this.isValid()||!i.isValid())&&(\"millisecond\"===(t=P(t)||\"millisecond\")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},kn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},kn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},kn.isValid=function(){return b(this)},kn.lang=vn,kn.locale=qe,kn.localeData=Ve,kn.max=cn,kn.min=un,kn.parsingFlags=function(){return m({},y(this))},kn.set=function(e,t){if(\"object\"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:wt[n]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=N(e)),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit]);else if(M(this[e=P(e)]))return this[e](t);return this},kn.startOf=function(e){var t;if(void 0===(e=P(e))||\"millisecond\"===e||!this.isValid())return this;var n=this._isUTC?Ze:Xe;return\"year\"===e?t=n(this.year(),0,1):\"quarter\"===e?t=n(this.year(),this.month()-this.month()%3,1):\"month\"===e?t=n(this.year(),this.month(),1):\"week\"===e?t=n(this.year(),this.month(),this.date()-this.weekday()):\"isoWeek\"===e?t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)):\"day\"===e||\"date\"===e?t=n(this.year(),this.month(),this.date()):\"hour\"===e?(t=this._d.valueOf(),t-=Ge(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)):\"minute\"===e?(t=this._d.valueOf(),t-=Ge(t,6e4)):\"second\"===e&&(t=this._d.valueOf(),t-=Ge(t,1e3)),this._d.setTime(t),l.updateOffset(this,!0),this},kn.subtract=mn,kn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},kn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},kn.toDate=function(){return new Date(this.valueOf())},kn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return 0>n.year()||9999<n.year()?L(n,t?\"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]\":\"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ\"):M(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace(\"Z\",L(n,\"Z\")):L(n,t?\"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]\":\"YYYY-MM-DD[T]HH:mm:ss.SSSZ\")},kn.inspect=function(){if(!this.isValid())return\"moment.invalid(/* \"+this._i+\" */)\";var e=\"moment\",t=\"\";this.isLocal()||(e=0===this.utcOffset()?\"moment.utc\":\"moment.parseZone\",t=\"Z\");var n=\"[\"+e+'(\"]',i=0<=this.year()&&9999>=this.year()?\"YYYY\":\"YYYYYY\",r=t+'[\")]';return this.format(n+i+\"-MM-DD[T]HH:mm:ss.SSS\"+r)},kn.toJSON=function(){return this.isValid()?this.toISOString():null},kn.toString=function(){return this.clone().locale(\"en\").format(\"ddd MMM DD YYYY HH:mm:ss [GMT]ZZ\")},kn.unix=function(){return a(this.valueOf()/1e3)},kn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},kn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},kn.year=Ht,kn.isLeapYear=function(){return X(this.year())},kn.weekYear=function(e){return Je.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},kn.isoWeekYear=function(e){return Je.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},kn.quarter=kn.quarters=function(e){return null==e?s((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},kn.month=ne,kn.daysInMonth=function(){return K(this.year(),this.month())},kn.week=kn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),\"d\")},kn.isoWeek=kn.isoWeeks=function(e){var t=le(this,1,4).week;return null==e?t:this.add(7*(e-t),\"d\")},kn.weeksInYear=function(){var e=this.localeData()._week;return ue(this.year(),e.dow,e.doy)},kn.isoWeeksInYear=function(){return ue(this.year(),1,4)},kn.date=yn,kn.day=kn.days=function(e){if(!this.isValid())return null==e?NaN:this;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==e?t:(e=function(e,t){return\"string\"==typeof e?isNaN(e)?\"number\"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10):e}(e,this.localeData()),this.add(e-t,\"d\"))},kn.weekday=function(e){if(!this.isValid())return null==e?NaN:this;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,\"d\")},kn.isoWeekday=function(e){if(!this.isValid())return null==e?NaN:this;if(null!=e){var t=function(e,t){return\"string\"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},kn.dayOfYear=function(e){var n=t((this.clone().startOf(\"day\")-this.clone().startOf(\"year\"))/864e5)+1;return null==e?n:this.add(e-n,\"d\")},kn.hour=kn.hours=Zt,kn.minute=kn.minutes=bn,kn.second=kn.seconds=wn,kn.millisecond=kn.milliseconds=xn,kn.utcOffset=function(e,t,n){var i,o=this._offset||0;if(!this.isValid())return null==e?NaN:this;if(null!=e){if(\"string\"!=typeof e)16>r(e)&&!n&&(e*=60);else if(null===(e=ze(Lt,e)))return this;return!this._isUTC&&t&&(i=Ie(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,\"m\"),o!==e&&(!t||this._changeInProgress?Ye(this,Le(e-o,\"m\"),1,!1):!this._changeInProgress&&(this._changeInProgress=!0,l.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Ie(this)},kn.utc=function(e){return this.utcOffset(0,e)},kn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ie(this),\"m\")),this},kn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if(\"string\"==typeof this._i){var e=ze(Bt,this._i);null==e?this.utcOffset(0,!0):this.utcOffset(e)}return this},kn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Me(e).utcOffset():0,0==(this.utcOffset()-e)%60)},kn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},kn.isLocal=function(){return!!this.isValid()&&!this._isUTC},kn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},kn.isUtc=Be,kn.isUTC=Be,kn.zoneAbbr=function(){return this._isUTC?\"UTC\":\"\"},kn.zoneName=function(){return this._isUTC?\"Coordinated Universal Time\":\"\"},kn.dates=j(\"dates accessor is deprecated. Use date instead.\",yn),kn.months=j(\"months accessor is deprecated. Use month instead\",ne),kn.years=j(\"years accessor is deprecated. Use year instead\",Ht),kn.zone=j(\"moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/\",(function(e,t){return null==e?-this.utcOffset():(\"string\"!=typeof e&&(e=-e),this.utcOffset(e,t),this)})),kn.isDSTShifted=j(\"isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information\",(function(){if(!d(this._isDSTShifted))return this._isDSTShifted;var e={};if(w(e,this),(e=je(e))._a){var t=e._isUTC?v(e._a):Me(e._a);this._isDSTShifted=this.isValid()&&0<S(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted}));var On=A.prototype;On.calendar=function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return M(i)?i.call(t,n):i},On.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},On.invalidDate=function(){return this._invalidDate},On.ordinal=function(e){return this._ordinal.replace(\"%d\",e)},On.preparse=tt,On.postformat=tt,On.relativeTime=function(e,t,n,i){var r=this._relativeTime[n];return M(r)?r(e,t,n,i):r.replace(/%d/i,e)},On.pastFuture=function(e,t){var n=this._relativeTime[0<e?\"future\":\"past\"];return M(n)?n(t):n.replace(/%s/i,t)},On.set=function(e){var t,n;for(n in e)M(t=e[n])?this[n]=t:this[\"_\"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+\"|\"+/\\d{1,2}/.source)},On.months=function(e,t){return e?u(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||qt).test(t)?\"format\":\"standalone\"][e.month()]:u(this._months)?this._months:this._months.standalone},On.monthsShort=function(e,t){return e?u(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[qt.test(t)?\"format\":\"standalone\"][e.month()]:u(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},On.monthsParse=function(e,t,n){var i,r,o;if(this._monthsParseExact)return ee.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=v([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp(\"^\"+this.months(r,\"\").replace(\".\",\"\")+\"$\",\"i\"),this._shortMonthsParse[i]=new RegExp(\"^\"+this.monthsShort(r,\"\").replace(\".\",\"\")+\"$\",\"i\")),n||this._monthsParse[i]||(o=\"^\"+this.months(r,\"\")+\"|^\"+this.monthsShort(r,\"\"),this._monthsParse[i]=new RegExp(o.replace(\".\",\"\"),\"i\")),n&&\"MMMM\"===t&&this._longMonthsParse[i].test(e))return i;if(n&&\"MMM\"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},On.monthsRegex=function(e){return this._monthsParseExact?(g(this,\"_monthsRegex\")||ie.call(this),e?this._monthsStrictRegex:this._monthsRegex):(g(this,\"_monthsRegex\")||(this._monthsRegex=$t),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},On.monthsShortRegex=function(e){return this._monthsParseExact?(g(this,\"_monthsRegex\")||ie.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(g(this,\"_monthsShortRegex\")||(this._monthsShortRegex=$t),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},On.week=function(e){return le(e,this._week.dow,this._week.doy).week},On.firstDayOfYear=function(){return this._week.doy},On.firstDayOfWeek=function(){return this._week.dow},On.weekdays=function(e,t){var n=u(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?\"format\":\"standalone\"];return!0===e?ce(n,this._week.dow):e?n[e.day()]:n},On.weekdaysMin=function(e){return!0===e?ce(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},On.weekdaysShort=function(e){return!0===e?ce(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},On.weekdaysParse=function(e,t,n){var i,r,o;if(this._weekdaysParseExact)return de.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(r=v([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp(\"^\"+this.weekdays(r,\"\").replace(\".\",\"\\\\.?\")+\"$\",\"i\"),this._shortWeekdaysParse[i]=new RegExp(\"^\"+this.weekdaysShort(r,\"\").replace(\".\",\"\\\\.?\")+\"$\",\"i\"),this._minWeekdaysParse[i]=new RegExp(\"^\"+this.weekdaysMin(r,\"\").replace(\".\",\"\\\\.?\")+\"$\",\"i\")),this._weekdaysParse[i]||(o=\"^\"+this.weekdays(r,\"\")+\"|^\"+this.weekdaysShort(r,\"\")+\"|^\"+this.weekdaysMin(r,\"\"),this._weekdaysParse[i]=new RegExp(o.replace(\".\",\"\"),\"i\")),n&&\"dddd\"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&\"ddd\"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&\"dd\"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},On.weekdaysRegex=function(e){return this._weekdaysParseExact?(g(this,\"_weekdaysRegex\")||he.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(g(this,\"_weekdaysRegex\")||(this._weekdaysRegex=$t),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},On.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(g(this,\"_weekdaysRegex\")||he.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(g(this,\"_weekdaysShortRegex\")||(this._weekdaysShortRegex=$t),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},On.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(g(this,\"_weekdaysRegex\")||he.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(g(this,\"_weekdaysMinRegex\")||(this._weekdaysMinRegex=$t),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},On.isPM=function(e){return\"p\"===(e+\"\").toLowerCase().charAt(0)},On.meridiem=function(e,t,n){return 11<e?n?\"pm\":\"PM\":n?\"am\":\"AM\"},ye(\"en\",{dayOfMonthOrdinalParse:/\\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===E(e%100/10)?\"th\":1==t?\"st\":2==t?\"nd\":3==t?\"rd\":\"th\")}}),l.lang=j(\"moment.lang is deprecated. Use moment.locale instead.\",ye),l.langData=j(\"moment.langData is deprecated. Use moment.localeData instead.\",_e);var En=r,Sn=ut(\"ms\"),Dn=ut(\"s\"),jn=ut(\"m\"),Cn=ut(\"h\"),Mn=ut(\"d\"),Tn=ut(\"w\"),An=ut(\"M\"),Fn=ut(\"Q\"),Pn=ut(\"y\"),Nn=ct(\"milliseconds\"),zn=ct(\"seconds\"),Rn=ct(\"minutes\"),In=ct(\"hours\"),Bn=ct(\"days\"),Ln=ct(\"months\"),$n=ct(\"years\"),Wn=t,Un={ss:44,s:45,m:45,h:22,d:26,M:11},Yn=r,Hn=Ae.prototype;return Hn.isValid=function(){return this._isValid},Hn.abs=function(){var e=this._data;return this._milliseconds=En(this._milliseconds),this._days=En(this._days),this._months=En(this._months),e.milliseconds=En(e.milliseconds),e.seconds=En(e.seconds),e.minutes=En(e.minutes),e.hours=En(e.hours),e.months=En(e.months),e.years=En(e.years),this},Hn.add=function(e,t){return ot(this,e,t,1)},Hn.subtract=function(e,t){return ot(this,e,t,-1)},Hn.as=function(e){if(!this.isValid())return NaN;var n,i,r=this._milliseconds;if(\"month\"===(e=P(e))||\"quarter\"===e||\"year\"===e)switch(n=this._days+r/864e5,i=this._months+st(n),e){case\"month\":return i;case\"quarter\":return i/3;case\"year\":return i/12}else switch(n=this._days+t(lt(this._months)),e){case\"week\":return n/7+r/6048e5;case\"day\":return n+r/864e5;case\"hour\":return 24*n+r/36e5;case\"minute\":return 1440*n+r/6e4;case\"second\":return 86400*n+r/1e3;case\"millisecond\":return a(864e5*n)+r;default:throw new Error(\"Unknown unit \"+e)}},Hn.asMilliseconds=Sn,Hn.asSeconds=Dn,Hn.asMinutes=jn,Hn.asHours=Cn,Hn.asDays=Mn,Hn.asWeeks=Tn,Hn.asMonths=An,Hn.asQuarters=Fn,Hn.asYears=Pn,Hn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*E(this._months/12):NaN},Hn._bubble=function(){var e,t,n,i,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return 0<=o&&0<=a&&0<=s||0>=o&&0>=a&&0>=s||(o+=864e5*at(lt(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=O(o/1e3),l.seconds=e%60,t=O(e/60),l.minutes=t%60,n=O(t/60),l.hours=n%24,a+=O(n/24),s+=r=O(st(a)),a-=at(lt(r)),i=O(s/12),s%=12,l.days=a,l.months=s,l.years=i,this},Hn.clone=function(){return Le(this)},Hn.get=function(e){return e=P(e),this.isValid()?this[e+\"s\"]():NaN},Hn.milliseconds=Nn,Hn.seconds=zn,Hn.minutes=Rn,Hn.hours=In,Hn.days=Bn,Hn.weeks=function(){return O(this.days()/7)},Hn.months=Ln,Hn.years=$n,Hn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var i=Le(e).abs(),r=Wn(i.as(\"s\")),o=Wn(i.as(\"m\")),a=Wn(i.as(\"h\")),s=Wn(i.as(\"d\")),l=Wn(i.as(\"M\")),u=Wn(i.as(\"y\")),c=r<=Un.ss&&[\"s\",r]||r<Un.s&&[\"ss\",r]||1>=o&&[\"m\"]||o<Un.m&&[\"mm\",o]||1>=a&&[\"h\"]||a<Un.h&&[\"hh\",a]||1>=s&&[\"d\"]||s<Un.d&&[\"dd\",s]||1>=l&&[\"M\"]||l<Un.M&&[\"MM\",l]||1>=u&&[\"y\"]||[\"yy\",u];return c[2]=t,c[3]=0<+e,c[4]=n,dt.apply(null,c)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},Hn.toISOString=ft,Hn.toString=ft,Hn.toJSON=ft,Hn.locale=qe,Hn.localeData=Ve,Hn.toIsoString=j(\"toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)\",ft),Hn.lang=vn,I(\"X\",0,0,\"unix\"),I(\"x\",0,0,\"valueOf\"),W(\"x\",It),W(\"X\",/[+-]?\\d+(\\.\\d{1,3})?/),H(\"X\",(function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))})),H(\"x\",(function(e,t,n){n._d=new Date(E(e))})),l.version=\"2.24.0\",function(e){pt=e}(Me),l.fn=kn,l.min=function(){var e=[].slice.call(arguments,0);return Te(\"isBefore\",e)},l.max=function(){var e=[].slice.call(arguments,0);return Te(\"isAfter\",e)},l.now=function(){return Date.now?Date.now():+new Date},l.utc=v,l.unix=function(e){return Me(1e3*e)},l.months=function(e,t){return it(e,t,\"months\")},l.isDate=f,l.locale=ye,l.invalid=_,l.duration=Le,l.isMoment=k,l.weekdays=function(e,t,n){return rt(e,t,n,\"weekdays\")},l.parseZone=function(){return Me.apply(null,arguments).parseZone()},l.localeData=_e,l.isDuration=Fe,l.monthsShort=function(e,t){return it(e,t,\"monthsShort\")},l.weekdaysMin=function(e,t,n){return rt(e,t,n,\"weekdaysMin\")},l.defineLocale=be,l.updateLocale=function(e,t){if(null!=t){var n,i,r=Qt;null!=(i=ve(e))&&(r=i._config),(n=new A(t=T(r,t))).parentLocale=Jt[e],Jt[e]=n,ye(e)}else null!=Jt[e]&&(null==Jt[e].parentLocale?null!=Jt[e]&&delete Jt[e]:Jt[e]=Jt[e].parentLocale);return Jt[e]},l.locales=function(){return bt(Jt)},l.weekdaysShort=function(e,t,n){return rt(e,t,n,\"weekdaysShort\")},l.normalizeUnits=P,l.relativeTimeRounding=function(e){return void 0===e?Wn:\"function\"==typeof e&&(Wn=e,!0)},l.relativeTimeThreshold=function(e,t){return void 0!==Un[e]&&(void 0===t?Un[e]:(Un[e]=t,\"s\"===e&&(Un.ss=t-1),!0))},l.calendarFormat=function(e,t){var n=e.diff(t,\"days\",!0);return-6>n?\"sameElse\":-1>n?\"lastWeek\":0>n?\"lastDay\":1>n?\"sameDay\":2>n?\"nextDay\":7>n?\"nextWeek\":\"sameElse\"},l.prototype=kn,l.HTML5_FMT={DATETIME_LOCAL:\"YYYY-MM-DDTHH:mm\",DATETIME_LOCAL_SECONDS:\"YYYY-MM-DDTHH:mm:ss\",DATETIME_LOCAL_MS:\"YYYY-MM-DDTHH:mm:ss.SSS\",DATE:\"YYYY-MM-DD\",TIME:\"HH:mm\",TIME_SECONDS:\"HH:mm:ss\",TIME_MS:\"HH:mm:ss.SSS\",WEEK:\"GGGG-[W]WW\",MONTH:\"YYYY-MM\"},l}))})),Cu=\"undefined\"!=typeof window&&window.moment||ju,Mu=Object.freeze({default:Cu,__moduleExports:Cu}),Tu={Images:ps,dotparser:jo,gephiParser:Mo,allOptions:gu,convertDot:So,convertGephi:Co},Au=Object.freeze({util:Ki,data:Ur,network:Tu,DOMutil:Du,moment:Mu,Hammer:as,keycharm:Fo,DataSet:Lr,DataView:$r,Queue:Fr,Network:yu});t.default=Au}.call(this,n(31))},function(e,t,n){for(var i=n(287),r=[],o={},a=0;a<256;a++)r[a]=(a+256).toString(16).substr(1),o[r[a]]=a;function s(e,t){var n=t||0,i=r;return i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+\"-\"+i[e[n++]]+i[e[n++]]+\"-\"+i[e[n++]]+i[e[n++]]+\"-\"+i[e[n++]]+i[e[n++]]+\"-\"+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]}var l=i(),u=[1|l[0],l[1],l[2],l[3],l[4],l[5]],c=16383&(l[6]<<8|l[7]),d=0,h=0;function f(e,t,n){var r=t&&n||0;\"string\"==typeof e&&(t=\"binary\"==e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||i)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;a<16;a++)t[r+a]=o[a];return t||s(o)}var p=f;p.v1=function(e,t,n){var i=t&&n||0,r=t||[],o=void 0!==(e=e||{}).clockseq?e.clockseq:c,a=void 0!==e.msecs?e.msecs:(new Date).getTime(),l=void 0!==e.nsecs?e.nsecs:h+1,f=a-d+(l-h)/1e4;if(f<0&&void 0===e.clockseq&&(o=o+1&16383),(f<0||a>d)&&void 0===e.nsecs&&(l=0),l>=1e4)throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");d=a,h=l,c=o;var p=(1e4*(268435455&(a+=122192928e5))+l)%4294967296;r[i++]=p>>>24&255,r[i++]=p>>>16&255,r[i++]=p>>>8&255,r[i++]=255&p;var g=a/4294967296*1e4&268435455;r[i++]=g>>>8&255,r[i++]=255&g,r[i++]=g>>>24&15|16,r[i++]=g>>>16&255,r[i++]=o>>>8|128,r[i++]=255&o;for(var m=e.node||u,v=0;v<6;v++)r[i+v]=m[v];return t||s(r)},p.v4=f,p.parse=function(e,t,n){var i=t&&n||0,r=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,(function(e){r<16&&(t[i+r++]=o[e])}));r<16;)t[i+r++]=0;return t},p.unparse=s,e.exports=p},function(e,t,n){(function(t){var n,i=t.crypto||t.msCrypto;if(i&&i.getRandomValues){var r=new Uint8Array(16);n=function(){return i.getRandomValues(r),r}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}e.exports=n}).call(this,n(31))},function(e,t,n){\"use strict\";var i=n(289);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,a){if(a!==i){var s=new Error(\"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types\");throw s.name=\"Invariant Violation\",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},function(e,t,n){\"use strict\";e.exports=\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\"},function(e,t){var n,i,r=e.exports={};function o(){throw new Error(\"setTimeout has not been defined\")}function a(){throw new Error(\"clearTimeout has not been defined\")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n=\"function\"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i=\"function\"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var l,u=[],c=!1,d=-1;function h(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&f())}function f(){if(!c){var e=s(h);c=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title=\"browser\",r.browser=!0,r.env={},r.argv=[],r.version=\"\",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(e){return[]},r.binding=function(e){throw new Error(\"process.binding is not supported\")},r.cwd=function(){return\"/\"},r.chdir=function(e){throw new Error(\"process.chdir is not supported\")},r.umask=function(){return 0}},function(e,t,n){const i=n(16);e.exports=(e,t)=>{const n=i(e,t);return n?n.version:null}},function(e,t,n){const i=n(16);e.exports=(e,t)=>{const n=i(e.trim().replace(/^[=v]+/,\"\"),t);return n?n.version:null}},function(e,t,n){const i=n(3);e.exports=(e,t,n,r)=>{\"string\"==typeof n&&(r=n,n=void 0);try{return new i(e,n).inc(t,r).version}catch(e){return null}}},function(e,t,n){const i=n(16),r=n(79);e.exports=(e,t)=>{if(r(e,t))return null;{const n=i(e),r=i(t),o=n.prerelease.length||r.prerelease.length,a=o?\"pre\":\"\",s=o?\"prerelease\":\"\";for(const e in n)if((\"major\"===e||\"minor\"===e||\"patch\"===e)&&n[e]!==r[e])return a+e;return s}}},function(e,t,n){const i=n(3);e.exports=(e,t)=>new i(e,t).major},function(e,t,n){const i=n(3);e.exports=(e,t)=>new i(e,t).minor},function(e,t,n){const i=n(3);e.exports=(e,t)=>new i(e,t).patch},function(e,t,n){const i=n(16);e.exports=(e,t)=>{const n=i(e,t);return n&&n.prerelease.length?n.prerelease:null}},function(e,t,n){const i=n(8);e.exports=(e,t,n)=>i(t,e,n)},function(e,t,n){const i=n(8);e.exports=(e,t)=>i(e,t,!0)},function(e,t,n){const i=n(80);e.exports=(e,t)=>e.sort((e,n)=>i(e,n,t))},function(e,t,n){const i=n(80);e.exports=(e,t)=>e.sort((e,n)=>i(n,e,t))},function(e,t,n){const i=n(3),r=n(16),{re:o,t:a}=n(15);e.exports=(e,t)=>{if(e instanceof i)return e;if(\"number\"==typeof e&&(e=String(e)),\"string\"!=typeof e)return null;let n=null;if((t=t||{}).rtl){let t;for(;(t=o[a.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&t.index+t[0].length===n.index+n[0].length||(n=t),o[a.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;o[a.COERCERTL].lastIndex=-1}else n=e.match(o[a.COERCE]);return null===n?null:r(`${n[2]}.${n[3]||\"0\"}.${n[4]||\"0\"}`,t)}},function(e,t,n){const i=n(9);e.exports=(e,t)=>new i(e,t).set.map(e=>e.map(e=>e.value).join(\" \").trim().split(\" \"))},function(e,t,n){const i=n(3),r=n(9);e.exports=(e,t,n)=>{let o=null,a=null,s=null;try{s=new r(t,n)}catch(e){return null}return e.forEach(e=>{s.test(e)&&(o&&-1!==a.compare(e)||(o=e,a=new i(o,n)))}),o}},function(e,t,n){const i=n(3),r=n(9);e.exports=(e,t,n)=>{let o=null,a=null,s=null;try{s=new r(t,n)}catch(e){return null}return e.forEach(e=>{s.test(e)&&(o&&1!==a.compare(e)||(o=e,a=new i(o,n)))}),o}},function(e,t,n){const i=n(3),r=n(9),o=n(48);e.exports=(e,t)=>{e=new r(e,t);let n=new i(\"0.0.0\");if(e.test(n))return n;if(n=new i(\"0.0.0-0\"),e.test(n))return n;n=null;for(let t=0;t<e.set.length;++t){e.set[t].forEach(e=>{const t=new i(e.semver.version);switch(e.operator){case\">\":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case\"\":case\">=\":n&&!o(n,t)||(n=t);break;case\"<\":case\"<=\":break;default:throw new Error(\"Unexpected operation: \"+e.operator)}})}return n&&e.test(n)?n:null}},function(e,t,n){const i=n(9);e.exports=(e,t)=>{try{return new i(e,t).range||\"*\"}catch(e){return null}}},function(e,t,n){const i=n(84);e.exports=(e,t,n)=>i(e,t,\">\",n)},function(e,t,n){const i=n(84);e.exports=(e,t,n)=>i(e,t,\"<\",n)},function(e,t,n){const i=n(9);e.exports=(e,t,n)=>(e=new i(e,n),t=new i(t,n),e.intersects(t))},function(e,t,n){const i=n(50),r=n(8);e.exports=(e,t,n)=>{const o=[];let a=null,s=null;const l=e.sort((e,t)=>r(e,t,n));for(const e of l){i(e,t,n)?(s=e,a||(a=e)):(s&&o.push([a,s]),s=null,a=null)}a&&o.push([a,null]);const u=[];for(const[e,t]of o)e===t?u.push(e):t||e!==l[0]?t?e===l[0]?u.push(\"<=\"+t):u.push(`${e} - ${t}`):u.push(\">=\"+e):u.push(\"*\");const c=u.join(\" || \"),d=\"string\"==typeof t.raw?t.raw:String(t);return c.length<d.length?c:t}},function(e,t,n){const i=n(9),{ANY:r}=n(49),o=n(50),a=n(8),s=(e,t,n)=>{if(1===e.length&&e[0].semver===r)return 1===t.length&&t[0].semver===r;const i=new Set;let s,c,d,h,f,p,g;for(const t of e)\">\"===t.operator||\">=\"===t.operator?s=l(s,t,n):\"<\"===t.operator||\"<=\"===t.operator?c=u(c,t,n):i.add(t.semver);if(i.size>1)return null;if(s&&c){if(d=a(s.semver,c.semver,n),d>0)return null;if(0===d&&(\">=\"!==s.operator||\"<=\"!==c.operator))return null}for(const e of i){if(s&&!o(e,String(s),n))return null;if(c&&!o(e,String(c),n))return null;for(const i of t)if(!o(e,String(i),n))return!1;return!0}for(const e of t){if(g=g||\">\"===e.operator||\">=\"===e.operator,p=p||\"<\"===e.operator||\"<=\"===e.operator,s)if(\">\"===e.operator||\">=\"===e.operator){if(h=l(s,e,n),h===e)return!1}else if(\">=\"===s.operator&&!o(s.semver,String(e),n))return!1;if(c)if(\"<\"===e.operator||\"<=\"===e.operator){if(f=u(c,e,n),f===e)return!1}else if(\"<=\"===c.operator&&!o(c.semver,String(e),n))return!1;if(!e.operator&&(c||s)&&0!==d)return!1}return!(s&&p&&!c&&0!==d)&&!(c&&g&&!s&&0!==d)},l=(e,t,n)=>{if(!e)return t;const i=a(e.semver,t.semver,n);return i>0?e:i<0||\">\"===t.operator&&\">=\"===e.operator?t:e},u=(e,t,n)=>{if(!e)return t;const i=a(e.semver,t.semver,n);return i<0?e:i>0||\"<\"===t.operator&&\"<=\"===e.operator?t:e};e.exports=(e,t,n)=>{e=new i(e,n),t=new i(t,n);let r=!1;e:for(const i of e.set){for(const e of t.set){const t=s(i,e,n);if(r=r||null!==t,t)continue e}if(r)return!1}return!0}},function(e,t,n){\"use strict\";t.byteLength=function(e){var t=u(e),n=t[0],i=t[1];return 3*(n+i)/4-i},t.toByteArray=function(e){var t,n,i=u(e),a=i[0],s=i[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),c=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[c++]=255&t);1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,o=[],a=0,s=n-r;a<s;a+=16383)o.push(c(e,a,a+16383>s?s:a+16383));1===r?(t=e[n-1],o.push(i[t>>2]+i[t<<4&63]+\"==\")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+\"=\"));return o.join(\"\")};for(var i=[],r=[],o=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,a=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",s=0,l=a.length;s<l;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");var n=e.indexOf(\"=\");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var r,o,a=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return a.join(\"\")}r[\"-\".charCodeAt(0)]=62,r[\"_\".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,u=l>>1,c=-7,d=n?r-1:0,h=n?-1:1,f=e[t+d];for(d+=h,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+e[t+d],d+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=i;c>0;a=256*a+e[t+d],d+=h,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,i),o-=u}return(f?-1:1)*a*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var a,s,l,u=8*o-r-1,c=(1<<u)-1,d=c>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:o-1,p=i?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(t*l-1)*Math.pow(2,r),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),a=0));r>=8;e[n+f]=255&s,f+=p,s/=256,r-=8);for(a=a<<r|s,u+=r;u>0;e[n+f]=255&a,f+=p,a/=256,u-=8);e[n+f-p]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return\"[object Array]\"==n.call(e)}},function(e,t,n){\"use strict\";n.r(t);var i={};n.r(i),n.d(i,\"JsonPatchError\",(function(){return B})),n.d(i,\"deepClone\",(function(){return L})),n.d(i,\"getValueByPointer\",(function(){return U})),n.d(i,\"applyOperation\",(function(){return Y})),n.d(i,\"applyPatch\",(function(){return H})),n.d(i,\"applyReducer\",(function(){return q})),n.d(i,\"validator\",(function(){return V})),n.d(i,\"validate\",(function(){return G})),n.d(i,\"_areEquals\",(function(){return X}));var r={};n.r(r),n.d(r,\"unobserve\",(function(){return K})),n.d(r,\"observe\",(function(){return ee})),n.d(r,\"generate\",(function(){return te})),n.d(r,\"compare\",(function(){return ie}));var o={};n.r(o),n.d(o,\"aggregate\",(function(){return os})),n.d(o,\"bin\",(function(){return as})),n.d(o,\"collect\",(function(){return ls})),n.d(o,\"compare\",(function(){return us})),n.d(o,\"countpattern\",(function(){return ds})),n.d(o,\"cross\",(function(){return hs})),n.d(o,\"density\",(function(){return ps})),n.d(o,\"dotbin\",(function(){return bs})),n.d(o,\"expression\",(function(){return _s})),n.d(o,\"extent\",(function(){return xs})),n.d(o,\"facet\",(function(){return Os})),n.d(o,\"field\",(function(){return Es})),n.d(o,\"filter\",(function(){return Ds})),n.d(o,\"flatten\",(function(){return js})),n.d(o,\"fold\",(function(){return Cs})),n.d(o,\"formula\",(function(){return Ms})),n.d(o,\"generate\",(function(){return Ts})),n.d(o,\"impute\",(function(){return Ps})),n.d(o,\"joinaggregate\",(function(){return Ns})),n.d(o,\"kde\",(function(){return zs})),n.d(o,\"key\",(function(){return Rs})),n.d(o,\"load\",(function(){return Bs})),n.d(o,\"lookup\",(function(){return $s})),n.d(o,\"multiextent\",(function(){return Ws})),n.d(o,\"multivalues\",(function(){return Ys})),n.d(o,\"params\",(function(){return qs})),n.d(o,\"pivot\",(function(){return Vs})),n.d(o,\"prefacet\",(function(){return Gs})),n.d(o,\"project\",(function(){return Xs})),n.d(o,\"proxy\",(function(){return Zs})),n.d(o,\"quantile\",(function(){return Js})),n.d(o,\"relay\",(function(){return Ks})),n.d(o,\"sample\",(function(){return el})),n.d(o,\"sequence\",(function(){return tl})),n.d(o,\"sieve\",(function(){return nl})),n.d(o,\"subflow\",(function(){return ks})),n.d(o,\"timeunit\",(function(){return il})),n.d(o,\"tupleindex\",(function(){return ol})),n.d(o,\"values\",(function(){return al})),n.d(o,\"window\",(function(){return dl}));var a={};n.r(a),n.d(a,\"interpolate\",(function(){return Ep})),n.d(a,\"interpolateArray\",(function(){return vp})),n.d(a,\"interpolateBasis\",(function(){return rp})),n.d(a,\"interpolateBasisClosed\",(function(){return op})),n.d(a,\"interpolateDate\",(function(){return bp})),n.d(a,\"interpolateDiscrete\",(function(){return wg})),n.d(a,\"interpolateHue\",(function(){return xg})),n.d(a,\"interpolateNumber\",(function(){return _p})),n.d(a,\"interpolateNumberArray\",(function(){return gp})),n.d(a,\"interpolateObject\",(function(){return wp})),n.d(a,\"interpolateRound\",(function(){return Sp})),n.d(a,\"interpolateString\",(function(){return Op})),n.d(a,\"interpolateTransformCss\",(function(){return Dg})),n.d(a,\"interpolateTransformSvg\",(function(){return jg})),n.d(a,\"interpolateZoom\",(function(){return Mg})),n.d(a,\"interpolateRgb\",(function(){return dp})),n.d(a,\"interpolateRgbBasis\",(function(){return fp})),n.d(a,\"interpolateRgbBasisClosed\",(function(){return pp})),n.d(a,\"interpolateHsl\",(function(){return Ag})),n.d(a,\"interpolateHslLong\",(function(){return Fg})),n.d(a,\"interpolateLab\",(function(){return Vg})),n.d(a,\"interpolateHcl\",(function(){return Xg})),n.d(a,\"interpolateHclLong\",(function(){return Zg})),n.d(a,\"interpolateCubehelix\",(function(){return om})),n.d(a,\"interpolateCubehelixLong\",(function(){return am})),n.d(a,\"piecewise\",(function(){return ag})),n.d(a,\"quantize\",(function(){return sm}));var s={};n.r(s),n.d(s,\"bound\",(function(){return Ov})),n.d(s,\"identifier\",(function(){return Sv})),n.d(s,\"mark\",(function(){return Dv})),n.d(s,\"overlap\",(function(){return jv})),n.d(s,\"render\",(function(){return Nv})),n.d(s,\"viewlayout\",(function(){return ny}));var l={};n.r(l),n.d(l,\"axisticks\",(function(){return iy})),n.d(l,\"datajoin\",(function(){return ry})),n.d(l,\"encode\",(function(){return ay})),n.d(l,\"legendentries\",(function(){return sy})),n.d(l,\"linkpath\",(function(){return hy})),n.d(l,\"pie\",(function(){return yy})),n.d(l,\"scale\",(function(){return wy})),n.d(l,\"sortitems\",(function(){return Ey})),n.d(l,\"stack\",(function(){return Dy}));var u={};n.r(u),n.d(u,\"contour\",(function(){return Gy})),n.d(u,\"geojson\",(function(){return Xy})),n.d(u,\"geopath\",(function(){return tx})),n.d(u,\"geopoint\",(function(){return nx})),n.d(u,\"geoshape\",(function(){return ix})),n.d(u,\"graticule\",(function(){return sx})),n.d(u,\"heatmap\",(function(){return lx})),n.d(u,\"isocontour\",(function(){return Iy})),n.d(u,\"kde2d\",(function(){return Hy})),n.d(u,\"projection\",(function(){return cx}));var c={};n.r(c),n.d(c,\"force\",(function(){return ik}));var d={};n.r(d),n.d(d,\"nest\",(function(){return mk})),n.d(d,\"pack\",(function(){return Uk})),n.d(d,\"partition\",(function(){return Vk})),n.d(d,\"stratify\",(function(){return Kk})),n.d(d,\"tree\",(function(){return dO})),n.d(d,\"treelinks\",(function(){return hO})),n.d(d,\"treemap\",(function(){return _O}));var h={};n.r(h),n.d(h,\"loess\",(function(){return xO})),n.d(h,\"regression\",(function(){return OO}));var f={};n.r(f),n.d(f,\"voronoi\",(function(){return qO}));var p={};n.r(p),n.d(p,\"wordcloud\",(function(){return oE}));var g={};n.r(g),n.d(g,\"crossfilter\",(function(){return hE})),n.d(g,\"resolvefilter\",(function(){return fE}));var m={};n.r(m),n.d(m,\"version\",(function(){return pE.a})),n.d(m,\"bandwidthNRD\",(function(){return da})),n.d(m,\"bin\",(function(){return ha})),n.d(m,\"bootstrapCI\",(function(){return ga})),n.d(m,\"dotbin\",(function(){return ma})),n.d(m,\"quantiles\",(function(){return ua})),n.d(m,\"quartiles\",(function(){return ca})),n.d(m,\"random\",(function(){return fa})),n.d(m,\"setRandom\",(function(){return pa})),n.d(m,\"randomLCG\",(function(){return va})),n.d(m,\"randomInteger\",(function(){return ya})),n.d(m,\"randomKDE\",(function(){return Da})),n.d(m,\"randomLogNormal\",(function(){return Aa})),n.d(m,\"sampleLogNormal\",(function(){return ja})),n.d(m,\"densityLogNormal\",(function(){return Ca})),n.d(m,\"cumulativeLogNormal\",(function(){return Ma})),n.d(m,\"quantileLogNormal\",(function(){return Ta})),n.d(m,\"randomMixture\",(function(){return Fa})),n.d(m,\"randomNormal\",(function(){return Sa})),n.d(m,\"sampleNormal\",(function(){return xa})),n.d(m,\"densityNormal\",(function(){return ka})),n.d(m,\"cumulativeNormal\",(function(){return Oa})),n.d(m,\"quantileNormal\",(function(){return Ea})),n.d(m,\"randomUniform\",(function(){return Ia})),n.d(m,\"sampleUniform\",(function(){return Pa})),n.d(m,\"densityUniform\",(function(){return Na})),n.d(m,\"cumulativeUniform\",(function(){return za})),n.d(m,\"quantileUniform\",(function(){return Ra})),n.d(m,\"regressionLinear\",(function(){return Ua})),n.d(m,\"regressionLog\",(function(){return Ya})),n.d(m,\"regressionExp\",(function(){return Ha})),n.d(m,\"regressionPow\",(function(){return qa})),n.d(m,\"regressionQuad\",(function(){return Va})),n.d(m,\"regressionPoly\",(function(){return Ga})),n.d(m,\"regressionLoess\",(function(){return Qa})),n.d(m,\"sampleCurve\",(function(){return ts})),n.d(m,\"TIME_UNITS\",(function(){return nn})),n.d(m,\"YEAR\",(function(){return Ht})),n.d(m,\"QUARTER\",(function(){return qt})),n.d(m,\"MONTH\",(function(){return Vt})),n.d(m,\"WEEK\",(function(){return Gt})),n.d(m,\"DATE\",(function(){return Xt})),n.d(m,\"DAY\",(function(){return Zt})),n.d(m,\"DAYOFYEAR\",(function(){return Qt})),n.d(m,\"HOURS\",(function(){return Jt})),n.d(m,\"MINUTES\",(function(){return Kt})),n.d(m,\"SECONDS\",(function(){return en})),n.d(m,\"MILLISECONDS\",(function(){return tn})),n.d(m,\"timeUnitSpecifier\",(function(){return sn})),n.d(m,\"timeUnits\",(function(){return on})),n.d(m,\"dayofyear\",(function(){return Fn})),n.d(m,\"week\",(function(){return Pn})),n.d(m,\"utcdayofyear\",(function(){return Bn})),n.d(m,\"utcweek\",(function(){return Ln})),n.d(m,\"timeFloor\",(function(){return Xn})),n.d(m,\"utcFloor\",(function(){return Jn})),n.d(m,\"timeInterval\",(function(){return wi})),n.d(m,\"timeOffset\",(function(){return Oi})),n.d(m,\"timeSequence\",(function(){return Di})),n.d(m,\"utcInterval\",(function(){return xi})),n.d(m,\"utcOffset\",(function(){return Ei})),n.d(m,\"utcSequence\",(function(){return ji})),n.d(m,\"timeBin\",(function(){return Bi})),n.d(m,\"accessor\",(function(){return se.f})),n.d(m,\"accessorName\",(function(){return se.h})),n.d(m,\"accessorFields\",(function(){return se.g})),n.d(m,\"id\",(function(){return se.x})),n.d(m,\"identity\",(function(){return se.y})),n.d(m,\"zero\",(function(){return se.lb})),n.d(m,\"one\",(function(){return se.P})),n.d(m,\"truthy\",(function(){return se.hb})),n.d(m,\"falsy\",(function(){return se.s})),n.d(m,\"logger\",(function(){return se.L})),n.d(m,\"None\",(function(){return se.d})),n.d(m,\"Error\",(function(){return se.b})),n.d(m,\"Warn\",(function(){return se.e})),n.d(m,\"Info\",(function(){return se.c})),n.d(m,\"Debug\",(function(){return se.a})),n.d(m,\"mergeConfig\",(function(){return se.O})),n.d(m,\"writeConfig\",(function(){return se.kb})),n.d(m,\"panLinear\",(function(){return se.R})),n.d(m,\"panLog\",(function(){return se.S})),n.d(m,\"panPow\",(function(){return se.T})),n.d(m,\"panSymlog\",(function(){return se.U})),n.d(m,\"zoomLinear\",(function(){return se.mb})),n.d(m,\"zoomLog\",(function(){return se.nb})),n.d(m,\"zoomPow\",(function(){return se.ob})),n.d(m,\"zoomSymlog\",(function(){return se.pb})),n.d(m,\"quarter\",(function(){return se.W})),n.d(m,\"utcquarter\",(function(){return se.ib})),n.d(m,\"array\",(function(){return se.i})),n.d(m,\"clampRange\",(function(){return se.k})),n.d(m,\"compare\",(function(){return se.l})),n.d(m,\"ascending\",(function(){return se.j})),n.d(m,\"constant\",(function(){return se.m})),n.d(m,\"debounce\",(function(){return se.n})),n.d(m,\"error\",(function(){return se.o})),n.d(m,\"extend\",(function(){return se.p})),n.d(m,\"extent\",(function(){return se.q})),n.d(m,\"extentIndex\",(function(){return se.r})),n.d(m,\"fastmap\",(function(){return se.t})),n.d(m,\"field\",(function(){return se.u})),n.d(m,\"flush\",(function(){return se.v})),n.d(m,\"hasOwnProperty\",(function(){return se.w})),n.d(m,\"inherits\",(function(){return se.z})),n.d(m,\"inrange\",(function(){return se.A})),n.d(m,\"isArray\",(function(){return se.B})),n.d(m,\"isBoolean\",(function(){return se.C})),n.d(m,\"isDate\",(function(){return se.D})),n.d(m,\"isFunction\",(function(){return se.E})),n.d(m,\"isNumber\",(function(){return se.F})),n.d(m,\"isObject\",(function(){return se.G})),n.d(m,\"isRegExp\",(function(){return se.H})),n.d(m,\"isString\",(function(){return se.I})),n.d(m,\"key\",(function(){return se.J})),n.d(m,\"lerp\",(function(){return se.K})),n.d(m,\"lruCache\",(function(){return se.M})),n.d(m,\"merge\",(function(){return se.N})),n.d(m,\"pad\",(function(){return se.Q})),n.d(m,\"peek\",(function(){return se.V})),n.d(m,\"repeat\",(function(){return se.X})),n.d(m,\"span\",(function(){return se.Y})),n.d(m,\"splitAccessPath\",(function(){return se.Z})),n.d(m,\"stringValue\",(function(){return se.ab})),n.d(m,\"toBoolean\",(function(){return se.bb})),n.d(m,\"toDate\",(function(){return se.cb})),n.d(m,\"toNumber\",(function(){return se.db})),n.d(m,\"toString\",(function(){return se.fb})),n.d(m,\"toSet\",(function(){return se.eb})),n.d(m,\"truncate\",(function(){return se.gb})),n.d(m,\"visitArray\",(function(){return se.jb})),n.d(m,\"loader\",(function(){return Oo})),n.d(m,\"read\",(function(){return ko})),n.d(m,\"inferType\",(function(){return Ue})),n.d(m,\"inferTypes\",(function(){return Ye})),n.d(m,\"typeParsers\",(function(){return Le})),n.d(m,\"format\",(function(){return ht})),n.d(m,\"formats\",(function(){return ft})),n.d(m,\"responseType\",(function(){return pt})),n.d(m,\"Bounds\",(function(){return Mc})),n.d(m,\"Gradient\",(function(){return Ol})),n.d(m,\"GroupItem\",(function(){return Ac})),n.d(m,\"ResourceLoader\",(function(){return Nc})),n.d(m,\"Item\",(function(){return Tc})),n.d(m,\"Scenegraph\",(function(){return Fh})),n.d(m,\"Handler\",(function(){return $h})),n.d(m,\"Renderer\",(function(){return Uh})),n.d(m,\"CanvasHandler\",(function(){return Kh})),n.d(m,\"CanvasRenderer\",(function(){return of})),n.d(m,\"SVGHandler\",(function(){return sf})),n.d(m,\"SVGRenderer\",(function(){return Qm})),n.d(m,\"SVGStringRenderer\",(function(){return dv})),n.d(m,\"RenderType\",(function(){return hv})),n.d(m,\"renderModule\",(function(){return pv})),n.d(m,\"intersect\",(function(){return gv})),n.d(m,\"Marks\",(function(){return Sh})),n.d(m,\"boundClip\",(function(){return _v})),n.d(m,\"boundContext\",(function(){return nd})),n.d(m,\"boundStroke\",(function(){return Ic})),n.d(m,\"boundItem\",(function(){return Dh})),n.d(m,\"boundMark\",(function(){return Ch})),n.d(m,\"pathCurves\",(function(){return yu})),n.d(m,\"pathSymbols\",(function(){return zu})),n.d(m,\"pathRectangle\",(function(){return Qu})),n.d(m,\"pathTrail\",(function(){return Ju})),n.d(m,\"pathParse\",(function(){return wu})),n.d(m,\"pathRender\",(function(){return Au})),n.d(m,\"point\",(function(){return Lh})),n.d(m,\"domCreate\",(function(){return Nh})),n.d(m,\"domFind\",(function(){return zh})),n.d(m,\"domChild\",(function(){return Rh})),n.d(m,\"domClear\",(function(){return Ih})),n.d(m,\"markup\",(function(){return qm})),n.d(m,\"serializeXML\",(function(){return Vm})),n.d(m,\"font\",(function(){return _h})),n.d(m,\"fontFamily\",(function(){return bh})),n.d(m,\"fontSize\",(function(){return ph})),n.d(m,\"lineHeight\",(function(){return gh})),n.d(m,\"multiLineOffset\",(function(){return vh})),n.d(m,\"textMetrics\",(function(){return lh})),n.d(m,\"sceneEqual\",(function(){return wv})),n.d(m,\"pathEqual\",(function(){return xv})),n.d(m,\"sceneToJSON\",(function(){return Th})),n.d(m,\"sceneFromJSON\",(function(){return Ah})),n.d(m,\"intersectPath\",(function(){return ud})),n.d(m,\"intersectPoint\",(function(){return cd})),n.d(m,\"intersectRule\",(function(){return hd})),n.d(m,\"intersectBoxLine\",(function(){return fd})),n.d(m,\"sceneZOrder\",(function(){return xd})),n.d(m,\"sceneVisit\",(function(){return kd})),n.d(m,\"scenePickVisit\",(function(){return Od})),n.d(m,\"resetSVGClipId\",(function(){return jc})),n.d(m,\"resetSVGDefIds\",(function(){return kv})),n.d(m,\"Dataflow\",(function(){return Io})),n.d(m,\"EventStream\",(function(){return je})),n.d(m,\"Parameters\",(function(){return xe})),n.d(m,\"Pulse\",(function(){return Co})),n.d(m,\"MultiPulse\",(function(){return Fo})),n.d(m,\"Operator\",(function(){return Ee})),n.d(m,\"Transform\",(function(){return Lo})),n.d(m,\"changeset\",(function(){return we})),n.d(m,\"ingest\",(function(){return ge})),n.d(m,\"isTuple\",(function(){return he})),n.d(m,\"definition\",(function(){return Wo})),n.d(m,\"transform\",(function(){return Uo})),n.d(m,\"transforms\",(function(){return $o})),n.d(m,\"tupleid\",(function(){return fe})),n.d(m,\"scale\",(function(){return dg})),n.d(m,\"scheme\",(function(){return vm})),n.d(m,\"interpolate\",(function(){return fm})),n.d(m,\"interpolateColors\",(function(){return cm})),n.d(m,\"interpolateRange\",(function(){return um})),n.d(m,\"quantizeInterpolator\",(function(){return dm})),n.d(m,\"projection\",(function(){return Jw})),n.d(m,\"View\",(function(){return eC})),n.d(m,\"formatLocale\",(function(){return Yt})),n.d(m,\"timeFormatLocale\",(function(){return yo})),n.d(m,\"locale\",(function(){return _o})),n.d(m,\"defaultLocale\",(function(){return wo})),n.d(m,\"resetDefaultLocale\",(function(){return xo})),n.d(m,\"expressionFunction\",(function(){return Fj})),n.d(m,\"parse\",(function(){return kA})),n.d(m,\"runtimeContext\",(function(){return Uj}));var v={};n.r(v),n.d(v,\"invalidSpec\",(function(){return TN})),n.d(v,\"FIT_NON_SINGLE\",(function(){return AN})),n.d(v,\"containerSizeNonSingle\",(function(){return FN})),n.d(v,\"containerSizeNotCompatibleWithAutosize\",(function(){return PN})),n.d(v,\"droppingFit\",(function(){return NN})),n.d(v,\"unknownField\",(function(){return zN})),n.d(v,\"cannotProjectOnChannelWithoutField\",(function(){return RN})),n.d(v,\"cannotProjectAggregate\",(function(){return IN})),n.d(v,\"nearestNotSupportForContinuous\",(function(){return BN})),n.d(v,\"selectionNotSupported\",(function(){return LN})),n.d(v,\"selectionNotFound\",(function(){return $N})),n.d(v,\"SCALE_BINDINGS_CONTINUOUS\",(function(){return WN})),n.d(v,\"LEGEND_BINDINGS_MUST_HAVE_PROJECTION\",(function(){return UN})),n.d(v,\"noSameUnitLookup\",(function(){return YN})),n.d(v,\"NEEDS_SAME_SELECTION\",(function(){return HN})),n.d(v,\"INTERVAL_INITIALIZED_WITH_X_Y\",(function(){return qN})),n.d(v,\"noSuchRepeatedValue\",(function(){return VN})),n.d(v,\"columnsNotSupportByRowCol\",(function(){return GN})),n.d(v,\"CONCAT_CANNOT_SHARE_AXIS\",(function(){return XN})),n.d(v,\"unrecognizedParse\",(function(){return ZN})),n.d(v,\"differentParse\",(function(){return QN})),n.d(v,\"ADD_SAME_CHILD_TWICE\",(function(){return JN})),n.d(v,\"invalidTransformIgnored\",(function(){return KN})),n.d(v,\"NO_FIELDS_NEEDS_AS\",(function(){return ez})),n.d(v,\"customFormatTypeNotAllowed\",(function(){return tz})),n.d(v,\"projectionOverridden\",(function(){return nz})),n.d(v,\"REPLACE_ANGLE_WITH_THETA\",(function(){return iz})),n.d(v,\"primitiveChannelDef\",(function(){return rz})),n.d(v,\"invalidFieldType\",(function(){return oz})),n.d(v,\"invalidFieldTypeForCountAggregate\",(function(){return az})),n.d(v,\"invalidAggregate\",(function(){return sz})),n.d(v,\"missingFieldType\",(function(){return lz})),n.d(v,\"droppingColor\",(function(){return uz})),n.d(v,\"emptyFieldDef\",(function(){return cz})),n.d(v,\"latLongDeprecated\",(function(){return dz})),n.d(v,\"LINE_WITH_VARYING_SIZE\",(function(){return hz})),n.d(v,\"incompatibleChannel\",(function(){return fz})),n.d(v,\"invalidEncodingChannel\",(function(){return pz})),n.d(v,\"facetChannelShouldBeDiscrete\",(function(){return gz})),n.d(v,\"facetChannelDropped\",(function(){return mz})),n.d(v,\"discreteChannelCannotEncode\",(function(){return vz})),n.d(v,\"lineWithRange\",(function(){return yz})),n.d(v,\"orientOverridden\",(function(){return bz})),n.d(v,\"CANNOT_UNION_CUSTOM_DOMAIN_WITH_FIELD_DOMAIN\",(function(){return _z})),n.d(v,\"RANGE_STEP_DEPRECATED\",(function(){return wz})),n.d(v,\"cannotUseScalePropertyWithNonColor\",(function(){return xz})),n.d(v,\"unaggregateDomainHasNoEffectForRawField\",(function(){return kz})),n.d(v,\"unaggregateDomainWithNonSharedDomainOp\",(function(){return Oz})),n.d(v,\"unaggregatedDomainWithLogScale\",(function(){return Ez})),n.d(v,\"cannotApplySizeToNonOrientedMark\",(function(){return Sz})),n.d(v,\"scaleTypeNotWorkWithChannel\",(function(){return Dz})),n.d(v,\"scaleTypeNotWorkWithFieldDef\",(function(){return jz})),n.d(v,\"scalePropertyNotWorkWithScaleType\",(function(){return Cz})),n.d(v,\"scaleTypeNotWorkWithMark\",(function(){return Mz})),n.d(v,\"stepDropped\",(function(){return Tz})),n.d(v,\"mergeConflictingProperty\",(function(){return Az})),n.d(v,\"mergeConflictingDomainProperty\",(function(){return Fz})),n.d(v,\"independentScaleMeansIndependentGuide\",(function(){return Pz})),n.d(v,\"domainSortDropped\",(function(){return Nz})),n.d(v,\"MORE_THAN_ONE_SORT\",(function(){return zz})),n.d(v,\"FACETED_INDEPENDENT_DIFFERENT_SOURCES\",(function(){return Rz})),n.d(v,\"FACETED_INDEPENDENT_SAME_FIELDS_DIFFERENT_SOURCES\",(function(){return Iz})),n.d(v,\"FACETED_INDEPENDENT_SAME_SOURCE\",(function(){return Bz})),n.d(v,\"INVALID_CHANNEL_FOR_AXIS\",(function(){return Lz})),n.d(v,\"cannotStackRangedMark\",(function(){return $z})),n.d(v,\"cannotStackNonLinearScale\",(function(){return Wz})),n.d(v,\"stackNonSummativeAggregate\",(function(){return Uz})),n.d(v,\"invalidTimeUnit\",(function(){return Yz})),n.d(v,\"droppedDay\",(function(){return Hz})),n.d(v,\"errorBarCenterAndExtentAreNotNeeded\",(function(){return qz})),n.d(v,\"errorBarCenterIsUsedWithWrongExtent\",(function(){return Vz})),n.d(v,\"errorBarContinuousAxisHasCustomizedAggregate\",(function(){return Gz})),n.d(v,\"errorBand1DNotSupport\",(function(){return Xz})),n.d(v,\"channelRequiredForBinned\",(function(){return Zz})),n.d(v,\"channelShouldNotBeUsedForBinned\",(function(){return Qz})),n.d(v,\"domainRequiredForThresholdScale\",(function(){return Jz}));var y={};n.r(y),n.d(y,\"compile\",(function(){return Wq})),n.d(y,\"normalize\",(function(){return E$})),n.d(y,\"version\",(function(){return OA.a}));var b={};n.r(b),n.d(b,\"dark\",(function(){return qq})),n.d(b,\"excel\",(function(){return Vq})),n.d(b,\"fivethirtyeight\",(function(){return Gq})),n.d(b,\"ggplot2\",(function(){return Xq})),n.d(b,\"latimes\",(function(){return Jq})),n.d(b,\"quartz\",(function(){return Kq})),n.d(b,\"vox\",(function(){return eV})),n.d(b,\"urbaninstitute\",(function(){return nV})),n.d(b,\"googlecharts\",(function(){return iV})),n.d(b,\"version\",(function(){return rV}));var _=n(1),w=n.n(_),x=n(144),k=n(27);n(145);var O=n(26),E=n.n(O);const S={};function D(e=S,t=S){const n=Object.keys(e),i=Object.keys(t);return e===t||n.length===i.length&&n.every(n=>e[n]===t[n])}\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */function j(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{l(i.next(e))}catch(e){o(e)}}function s(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((i=i.apply(e,t||[])).next())}))}\n/*!\n * https://github.com/Starcounter-Jack/JSON-Patch\n * (c) 2017 Joachim Wester\n * MIT license\n */\nvar C=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),M=Object.prototype.hasOwnProperty;function T(e,t){return M.call(e,t)}function A(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=\"\"+n;return t}if(Object.keys)return Object.keys(e);t=[];for(var i in e)T(e,i)&&t.push(i);return t}function F(e){switch(typeof e){case\"object\":return JSON.parse(JSON.stringify(e));case\"undefined\":return null;default:return e}}function P(e){for(var t,n=0,i=e.length;n<i;){if(!((t=e.charCodeAt(n))>=48&&t<=57))return!1;n++}return!0}function N(e){return-1===e.indexOf(\"/\")&&-1===e.indexOf(\"~\")?e:e.replace(/~/g,\"~0\").replace(/\\//g,\"~1\")}function z(e){return e.replace(/~1/g,\"/\").replace(/~0/g,\"~\")}function R(e,t){var n=[e];for(var i in t){var r=\"object\"==typeof t[i]?JSON.stringify(t[i],null,2):t[i];void 0!==r&&n.push(i+\": \"+r)}return n.join(\"\\n\")}var I=function(e){function t(t,n,i,r,o){var a=this.constructor,s=e.call(this,R(t,{name:n,index:i,operation:r,tree:o}))||this;return s.name=n,s.index=i,s.operation=r,s.tree=o,Object.setPrototypeOf(s,a.prototype),s.message=R(t,{name:n,index:i,operation:r,tree:o}),s}return C(t,e),t}(Error),B=I,L=F,$={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var i=e[t];return delete e[t],{newDocument:n,removed:i}},replace:function(e,t,n){var i=e[t];return e[t]=this.value,{newDocument:n,removed:i}},move:function(e,t,n){var i=U(n,this.path);i&&(i=F(i));var r=Y(n,{op:\"remove\",path:this.from}).removed;return Y(n,{op:\"add\",path:this.path,value:r}),{newDocument:n,removed:i}},copy:function(e,t,n){var i=U(n,this.from);return Y(n,{op:\"add\",path:this.path,value:F(i)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:X(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},W={add:function(e,t,n){return P(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){return{newDocument:n,removed:e.splice(t,1)[0]}},replace:function(e,t,n){var i=e[t];return e[t]=this.value,{newDocument:n,removed:i}},move:$.move,copy:$.copy,test:$.test,_get:$._get};function U(e,t){if(\"\"==t)return e;var n={op:\"_get\",path:t};return Y(e,n),n.value}function Y(e,t,n,i,r,o){if(void 0===n&&(n=!1),void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===o&&(o=0),n&&(\"function\"==typeof n?n(t,0,e,t.path):V(t,0)),\"\"===t.path){var a={newDocument:e};if(\"add\"===t.op)return a.newDocument=t.value,a;if(\"replace\"===t.op)return a.newDocument=t.value,a.removed=e,a;if(\"move\"===t.op||\"copy\"===t.op)return a.newDocument=U(e,t.from),\"move\"===t.op&&(a.removed=e),a;if(\"test\"===t.op){if(a.test=X(e,t.value),!1===a.test)throw new B(\"Test operation failed\",\"TEST_OPERATION_FAILED\",o,t,e);return a.newDocument=e,a}if(\"remove\"===t.op)return a.removed=e,a.newDocument=null,a;if(\"_get\"===t.op)return t.value=e,a;if(n)throw new B(\"Operation `op` property is not one of operations defined in RFC-6902\",\"OPERATION_OP_INVALID\",o,t,e);return a}i||(e=F(e));var s=(t.path||\"\").split(\"/\"),l=e,u=1,c=s.length,d=void 0,h=void 0,f=void 0;for(f=\"function\"==typeof n?n:V;;){if(h=s[u],r&&\"__proto__\"==h)throw new TypeError(\"JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README\");if(n&&void 0===d&&(void 0===l[h]?d=s.slice(0,u).join(\"/\"):u==c-1&&(d=t.path),void 0!==d&&f(t,0,e,d)),u++,Array.isArray(l)){if(\"-\"===h)h=l.length;else{if(n&&!P(h))throw new B(\"Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index\",\"OPERATION_PATH_ILLEGAL_ARRAY_INDEX\",o,t,e);P(h)&&(h=~~h)}if(u>=c){if(n&&\"add\"===t.op&&h>l.length)throw new B(\"The specified index MUST NOT be greater than the number of elements in the array\",\"OPERATION_VALUE_OUT_OF_BOUNDS\",o,t,e);if(!1===(a=W[t.op].call(t,l,h,e)).test)throw new B(\"Test operation failed\",\"TEST_OPERATION_FAILED\",o,t,e);return a}}else if(h&&-1!=h.indexOf(\"~\")&&(h=z(h)),u>=c){if(!1===(a=$[t.op].call(t,l,h,e)).test)throw new B(\"Test operation failed\",\"TEST_OPERATION_FAILED\",o,t,e);return a}l=l[h]}}function H(e,t,n,i,r){if(void 0===i&&(i=!0),void 0===r&&(r=!0),n&&!Array.isArray(t))throw new B(\"Patch sequence must be an array\",\"SEQUENCE_NOT_AN_ARRAY\");i||(e=F(e));for(var o=new Array(t.length),a=0,s=t.length;a<s;a++)o[a]=Y(e,t[a],n,!0,r,a),e=o[a].newDocument;return o.newDocument=e,o}function q(e,t,n){var i=Y(e,t);if(!1===i.test)throw new B(\"Test operation failed\",\"TEST_OPERATION_FAILED\",n,t,e);return i.newDocument}function V(e,t,n,i){if(\"object\"!=typeof e||null===e||Array.isArray(e))throw new B(\"Operation is not an object\",\"OPERATION_NOT_AN_OBJECT\",t,e,n);if(!$[e.op])throw new B(\"Operation `op` property is not one of operations defined in RFC-6902\",\"OPERATION_OP_INVALID\",t,e,n);if(\"string\"!=typeof e.path)throw new B(\"Operation `path` property is not a string\",\"OPERATION_PATH_INVALID\",t,e,n);if(0!==e.path.indexOf(\"/\")&&e.path.length>0)throw new B('Operation `path` property must start with \"/\"',\"OPERATION_PATH_INVALID\",t,e,n);if((\"move\"===e.op||\"copy\"===e.op)&&\"string\"!=typeof e.from)throw new B(\"Operation `from` property is not present (applicable in `move` and `copy` operations)\",\"OPERATION_FROM_REQUIRED\",t,e,n);if((\"add\"===e.op||\"replace\"===e.op||\"test\"===e.op)&&void 0===e.value)throw new B(\"Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)\",\"OPERATION_VALUE_REQUIRED\",t,e,n);if((\"add\"===e.op||\"replace\"===e.op||\"test\"===e.op)&&function e(t){if(void 0===t)return!0;if(t)if(Array.isArray(t)){for(var n=0,i=t.length;n<i;n++)if(e(t[n]))return!0}else if(\"object\"==typeof t){var r=A(t),o=r.length;for(n=0;n<o;n++)if(e(t[r[n]]))return!0}return!1}(e.value))throw new B(\"Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)\",\"OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED\",t,e,n);if(n)if(\"add\"==e.op){var r=e.path.split(\"/\").length,o=i.split(\"/\").length;if(r!==o+1&&r!==o)throw new B(\"Cannot perform an `add` operation at the desired path\",\"OPERATION_PATH_CANNOT_ADD\",t,e,n)}else if(\"replace\"===e.op||\"remove\"===e.op||\"_get\"===e.op){if(e.path!==i)throw new B(\"Cannot perform the operation at a path that does not exist\",\"OPERATION_PATH_UNRESOLVABLE\",t,e,n)}else if(\"move\"===e.op||\"copy\"===e.op){var a=G([{op:\"_get\",path:e.from,value:void 0}],n);if(a&&\"OPERATION_PATH_UNRESOLVABLE\"===a.name)throw new B(\"Cannot perform the operation from a path that does not exist\",\"OPERATION_FROM_UNRESOLVABLE\",t,e,n)}}function G(e,t,n){try{if(!Array.isArray(e))throw new B(\"Patch sequence must be an array\",\"SEQUENCE_NOT_AN_ARRAY\");if(t)H(F(t),F(e),n||!0);else{n=n||V;for(var i=0;i<e.length;i++)n(e[i],i,t,void 0)}}catch(e){if(e instanceof B)return e;throw e}}function X(e,t){if(e===t)return!0;if(e&&t&&\"object\"==typeof e&&\"object\"==typeof t){var n,i,r,o=Array.isArray(e),a=Array.isArray(t);if(o&&a){if((i=e.length)!=t.length)return!1;for(n=i;0!=n--;)if(!X(e[n],t[n]))return!1;return!0}if(o!=a)return!1;var s=Object.keys(e);if((i=s.length)!==Object.keys(t).length)return!1;for(n=i;0!=n--;)if(!t.hasOwnProperty(s[n]))return!1;for(n=i;0!=n--;)if(!X(e[r=s[n]],t[r]))return!1;return!0}return e!=e&&t!=t}\n/*!\n * https://github.com/Starcounter-Jack/JSON-Patch\n * (c) 2017 Joachim Wester\n * MIT license\n */\nvar Z=new WeakMap,Q=function(e){this.observers=new Map,this.obj=e},J=function(e,t){this.callback=e,this.observer=t};function K(e,t){t.unobserve()}function ee(e,t){var n,i=function(e){return Z.get(e)}(e);if(i){var r=function(e,t){return e.observers.get(t)}(i,t);n=r&&r.observer}else i=new Q(e),Z.set(e,i);if(n)return n;if(n={},i.value=F(e),t){n.callback=t,n.next=null;var o=function(){te(n)},a=function(){clearTimeout(n.next),n.next=setTimeout(o)};\"undefined\"!=typeof window&&(window.addEventListener(\"mouseup\",a),window.addEventListener(\"keyup\",a),window.addEventListener(\"mousedown\",a),window.addEventListener(\"keydown\",a),window.addEventListener(\"change\",a))}return n.patches=[],n.object=e,n.unobserve=function(){te(n),clearTimeout(n.next),function(e,t){e.observers.delete(t.callback)}(i,n),\"undefined\"!=typeof window&&(window.removeEventListener(\"mouseup\",a),window.removeEventListener(\"keyup\",a),window.removeEventListener(\"mousedown\",a),window.removeEventListener(\"keydown\",a),window.removeEventListener(\"change\",a))},i.observers.set(t,new J(t,n)),n}function te(e,t){void 0===t&&(t=!1);var n=Z.get(e.object);ne(n.value,e.object,e.patches,\"\",t),e.patches.length&&H(n.value,e.patches);var i=e.patches;return i.length>0&&(e.patches=[],e.callback&&e.callback(i)),i}function ne(e,t,n,i,r){if(t!==e){\"function\"==typeof t.toJSON&&(t=t.toJSON());for(var o=A(t),a=A(e),s=!1,l=a.length-1;l>=0;l--){var u=e[d=a[l]];if(!T(t,d)||void 0===t[d]&&void 0!==u&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(r&&n.push({op:\"test\",path:i+\"/\"+N(d),value:F(u)}),n.push({op:\"remove\",path:i+\"/\"+N(d)}),s=!0):(r&&n.push({op:\"test\",path:i,value:e}),n.push({op:\"replace\",path:i,value:t}),!0);else{var c=t[d];\"object\"==typeof u&&null!=u&&\"object\"==typeof c&&null!=c?ne(u,c,n,i+\"/\"+N(d),r):u!==c&&(!0,r&&n.push({op:\"test\",path:i+\"/\"+N(d),value:F(u)}),n.push({op:\"replace\",path:i+\"/\"+N(d),value:F(c)}))}}if(s||o.length!=a.length)for(l=0;l<o.length;l++){var d;T(e,d=o[l])||void 0===t[d]||n.push({op:\"add\",path:i+\"/\"+N(d),value:F(t[d])})}}}function ie(e,t,n){void 0===n&&(n=!1);var i=[];return ne(e,t,i,\"\",n),i}Object.assign({},i,r,{JsonPatchError:I,deepClone:F,escapePathComponent:N,unescapePathComponent:z});var re=n(53),oe=n.n(re),ae=n(85),se=n(0);function le(e){const t=e||se.y,n=[],i={};return n.add=e=>{const r=t(e);return i[r]||(i[r]=1,n.push(e)),n},n.remove=e=>{const r=t(e);if(i[r]){i[r]=0;const t=n.indexOf(e);t>=0&&n.splice(t,1)}return n},n}var ue=async function(e,t){try{await t(e)}catch(t){e.error(t)}};const ce=Symbol(\"vega_id\");let de=1;function he(e){return!(!e||!fe(e))}function fe(e){return e[ce]}function pe(e,t){return e[ce]=t,e}function ge(e){const t=e===Object(e)?e:{data:e};return fe(t)?t:pe(t,de++)}function me(e){return ve(e,ge({}))}function ve(e,t){for(const n in e)t[n]=e[n];return t}function ye(e,t){return pe(t,fe(e))}function be(e,t){return e?t?(n,i)=>e(n,i)||fe(t(n))-fe(t(i)):(t,n)=>e(t,n)||fe(t)-fe(n):null}function _e(e){return e&&e.constructor===we}function we(){const e=[],t=[],n=[],i=[],r=[];let o=null,a=!1;return{constructor:we,insert(t){const n=Object(se.i)(t),i=n.length;for(let t=0;t<i;++t)e.push(n[t]);return this},remove(e){const n=Object(se.E)(e)?i:t,r=Object(se.i)(e),o=r.length;for(let e=0;e<o;++e)n.push(r[e]);return this},modify(e,t,i){const o={field:t,value:Object(se.m)(i)};return Object(se.E)(e)?(o.filter=e,r.push(o)):(o.tuple=e,n.push(o)),this},encode(e,t){return Object(se.E)(e)?r.push({filter:e,field:t}):n.push({tuple:e,field:t}),this},clean(e){return o=e,this},reflow(){return a=!0,this},pulse(s,l){const u={},c={};let d,h,f,p,g,m;for(d=0,h=l.length;d<h;++d)u[fe(l[d])]=1;for(d=0,h=t.length;d<h;++d)g=t[d],u[fe(g)]=-1;for(d=0,h=i.length;d<h;++d)p=i[d],l.forEach(e=>{p(e)&&(u[fe(e)]=-1)});for(d=0,h=e.length;d<h;++d)g=e[d],m=fe(g),u[m]?u[m]=1:s.add.push(ge(e[d]));for(d=0,h=l.length;d<h;++d)g=l[d],u[fe(g)]<0&&s.rem.push(g);function v(e,t,n){n?e[t]=n(e):s.encode=t,a||(c[fe(e)]=e)}for(d=0,h=n.length;d<h;++d)f=n[d],g=f.tuple,p=f.field,m=u[fe(g)],m>0&&(v(g,p,f.value),s.modifies(p));for(d=0,h=r.length;d<h;++d)f=r[d],p=f.filter,l.forEach(e=>{p(e)&&u[fe(e)]>0&&v(e,f.field,f.value)}),s.modifies(f.field);if(a)s.mod=t.length||i.length?l.filter(e=>u[fe(e)]>0):l.slice();else for(m in c)s.mod.push(c[m]);return(o||null==o&&(t.length||i.length))&&s.clean(!0),s}}}function xe(){Object.defineProperty(this,\"_:mod:_\",{writable:!0,value:{}})}xe.prototype={set(e,t,n,i){const r=this,o=r[e],a=r[\"_:mod:_\"];return null!=t&&t>=0?(o[t]!==n||i)&&(o[t]=n,a[t+\":\"+e]=-1,a[e]=-1):(o!==n||i)&&(r[e]=n,a[e]=Object(se.B)(n)?1+n.length:-1),r},modified(e,t){const n=this[\"_:mod:_\"];if(!arguments.length){for(const e in n)if(n[e])return!0;return!1}if(Object(se.B)(e)){for(let t=0;t<e.length;++t)if(n[e[t]])return!0;return!1}return null!=t&&t>=0?t+1<n[e]||!!n[t+\":\"+e]:!!n[e]},clear(){return this[\"_:mod:_\"]={},this}};let ke=0;const Oe=new xe;function Ee(e,t,n,i){this.id=++ke,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,i)}function Se(e){return function(t){const n=this.flags;return 0===arguments.length?!!(n&e):(this.flags=t?n|e:n&~e,this)}}Ee.prototype={targets(){return this._targets||(this._targets=le(se.x))},set(e){return this.value!==e?(this.value=e,1):0},skip:Se(1),modified:Se(2),parameters(e,t,n){t=!1!==t;const i=this._argval=this._argval||new xe,r=this._argops=this._argops||[],o=[];let a,s,l,u;const c=(e,n,a)=>{a instanceof Ee?(a!==this&&(t&&a.targets().add(this),o.push(a)),r.push({op:a,name:e,index:n})):i.set(e,n,a)};for(a in e)if(s=e[a],\"pulse\"===a)Object(se.i)(s).forEach(e=>{e instanceof Ee?e!==this&&(e.targets().add(this),o.push(e)):Object(se.o)(\"Pulse parameters must be operator instances.\")}),this.source=s;else if(Object(se.B)(s))for(i.set(a,-1,Array(l=s.length)),u=0;u<l;++u)c(a,u,s[u]);else c(a,-1,s);return this.marshall().clear(),n&&(r.initonly=!0),o},marshall(e){const t=this._argval||Oe,n=this._argops;let i,r,o,a;if(n){const s=n.length;for(r=0;r<s;++r)i=n[r],o=i.op,a=o.modified()&&o.stamp===e,t.set(i.name,i.index,o.value,a);if(n.initonly){for(r=0;r<s;++r)i=n[r],i.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,i,r;if(e)for(t=0,n=e.length;t<n;++t)i=e[t],r=i.op,r._targets&&r._targets.remove(this)},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),i=t.call(this,n,e);if(n.clear(),i!==this.value)this.value=i;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};let De=0;function je(e,t,n){this.id=++De,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function Ce(e,t,n){return new je(e,t,n)}je.prototype={_filter:se.hb,_apply:se.y,targets(){return this._targets||(this._targets=le(se.x))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,i=n?n.length:0;for(let e=0;e<i;++e)n[e].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=Ce(e);return this.targets().add(t),t},apply(e){const t=Ce(null,e);return this.targets().add(t),t},merge(){const e=Ce();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=Ce();return this.targets().add(Ce(null,null,Object(se.n)(e,e=>{const n=e.dataflow;t.receive(e),n&&n.run&&n.run()}))),t},between(e,t){let n=!1;return e.targets().add(Ce(null,null,()=>n=!0)),t.targets().add(Ce(null,null,()=>n=!1)),this.filter(()=>n)},detach(){}};const Me=/^([A-Za-z]+:)?\\/\\//,Te=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i,Ae=/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205f\\u3000]/g;async function Fe(e,t){const n=await this.sanitize(e,t),i=n.href;return n.localFile?this.file(i):this.http(i,t)}async function Pe(e,t){t=Object(se.p)({},this.options,t);const n=this.fileAccess,i={href:null};let r,o,a;const s=Te.test(e.replace(Ae,\"\"));null!=e&&\"string\"==typeof e&&s||Object(se.o)(\"Sanitize failure, invalid URI: \"+Object(se.ab)(e));const l=Me.test(e);return(a=t.baseURL)&&!l&&(e.startsWith(\"/\")||\"/\"===a[a.length-1]||(e=\"/\"+e),e=a+e),o=(r=e.startsWith(\"file://\"))||\"file\"===t.mode||\"http\"!==t.mode&&!l&&n,r?e=e.slice(\"file://\".length):e.startsWith(\"//\")&&(\"file\"===t.defaultProtocol?(e=e.slice(2),o=!0):e=(t.defaultProtocol||\"http\")+\":\"+e),Object.defineProperty(i,\"localFile\",{value:!!o}),i.href=e,t.target&&(i.target=t.target+\"\"),t.rel&&(i.rel=t.rel+\"\"),\"image\"===t.context&&t.crossOrigin&&(i.crossOrigin=t.crossOrigin+\"\"),i}function Ne(e){return e?t=>new Promise((n,i)=>{e.readFile(t,(e,t)=>{e?i(e):n(t)})}):ze}async function ze(){Object(se.o)(\"No file system access.\")}function Re(e){return e?async function(t,n){const i=Object(se.p)({},this.options.http,n),r=n&&n.response,o=await e(t,i);return o.ok?Object(se.E)(o[r])?o[r]():o.text():Object(se.o)(o.status+\"\"+o.statusText)}:Ie}async function Ie(){Object(se.o)(\"No HTTP fetch method available.\")}const Be=e=>!(Number.isNaN(+e)||e instanceof Date),Le={boolean:se.bb,integer:se.db,number:se.db,date:se.cb,string:se.fb,unknown:se.y},$e=[e=>\"true\"===e||\"false\"===e||!0===e||!1===e,e=>Be(e)&&Number.isInteger(+e),Be,e=>!Number.isNaN(Date.parse(e))],We=[\"boolean\",\"integer\",\"number\",\"date\"];function Ue(e,t){if(!e||!e.length)return\"unknown\";const n=e.length,i=$e.length,r=$e.map((e,t)=>t+1);for(let a,s,l=0,u=0;l<n;++l)for(s=t?e[l][t]:e[l],a=0;a<i;++a)if(r[a]&&(null!=(o=s)&&o==o)&&!$e[a](s)&&(r[a]=0,++u,u===$e.length))return\"string\";var o;return We[r.reduce((e,t)=>0===e?t:e,0)-1]}function Ye(e,t){return t.reduce((t,n)=>(t[n]=Ue(e,n),t),{})}var He={},qe={};function Ve(e){return new Function(\"d\",\"return {\"+e.map((function(e,t){return JSON.stringify(e)+\": d[\"+t+'] || \"\"'})).join(\",\")+\"}\")}function Ge(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var i in e)i in t||n.push(t[i]=i)})),n}function Xe(e,t){var n=e+\"\",i=n.length;return i<t?new Array(t-i+1).join(0)+n:n}function Ze(e){var t,n=e.getUTCHours(),i=e.getUTCMinutes(),r=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?\"Invalid Date\":((t=e.getUTCFullYear())<0?\"-\"+Xe(-t,6):t>9999?\"+\"+Xe(t,6):Xe(t,4))+\"-\"+Xe(e.getUTCMonth()+1,2)+\"-\"+Xe(e.getUTCDate(),2)+(o?\"T\"+Xe(n,2)+\":\"+Xe(i,2)+\":\"+Xe(r,2)+\".\"+Xe(o,3)+\"Z\":r?\"T\"+Xe(n,2)+\":\"+Xe(i,2)+\":\"+Xe(r,2)+\"Z\":i||n?\"T\"+Xe(n,2)+\":\"+Xe(i,2)+\"Z\":\"\")}var Qe=function(e){var t=new RegExp('[\"'+e+\"\\n\\r]\"),n=e.charCodeAt(0);function i(e,t){var i,r=[],o=e.length,a=0,s=0,l=o<=0,u=!1;function c(){if(l)return qe;if(u)return u=!1,He;var t,i,r=a;if(34===e.charCodeAt(r)){for(;a++<o&&34!==e.charCodeAt(a)||34===e.charCodeAt(++a););return(t=a)>=o?l=!0:10===(i=e.charCodeAt(a++))?u=!0:13===i&&(u=!0,10===e.charCodeAt(a)&&++a),e.slice(r+1,t-1).replace(/\"\"/g,'\"')}for(;a<o;){if(10===(i=e.charCodeAt(t=a++)))u=!0;else if(13===i)u=!0,10===e.charCodeAt(a)&&++a;else if(i!==n)continue;return e.slice(r,t)}return l=!0,e.slice(r,o)}for(10===e.charCodeAt(o-1)&&--o,13===e.charCodeAt(o-1)&&--o;(i=c())!==qe;){for(var d=[];i!==He&&i!==qe;)d.push(i),i=c();t&&null==(d=t(d,s++))||r.push(d)}return r}function r(t,n){return t.map((function(t){return n.map((function(e){return a(t[e])})).join(e)}))}function o(t){return t.map(a).join(e)}function a(e){return null==e?\"\":e instanceof Date?Ze(e):t.test(e+=\"\")?'\"'+e.replace(/\"/g,'\"\"')+'\"':e}return{parse:function(e,t){var n,r,o=i(e,(function(e,i){if(n)return n(e,i-1);r=e,n=t?function(e,t){var n=Ve(e);return function(i,r){return t(n(i),r,e)}}(e,t):Ve(e)}));return o.columns=r||[],o},parseRows:i,format:function(t,n){return null==n&&(n=Ge(t)),[n.map(a).join(e)].concat(r(t,n)).join(\"\\n\")},formatBody:function(e,t){return null==t&&(t=Ge(e)),r(e,t).join(\"\\n\")},formatRows:function(e){return e.map(o).join(\"\\n\")},formatRow:o,formatValue:a}};function Je(e){const t=function(t,n){const i={delimiter:e};return Ke(t,n?Object(se.p)(n,i):i)};return t.responseType=\"text\",t}function Ke(e,t){return t.header&&(e=t.header.map(se.ab).join(t.delimiter)+\"\\n\"+e),Qe(t.delimiter).parse(e+\"\")}Ke.responseType=\"text\";var et=n(51),tt=function(e){return e},nt=function(e){if(null==e)return tt;var t,n,i=e.scale[0],r=e.scale[1],o=e.translate[0],a=e.translate[1];return function(e,s){s||(t=n=0);var l=2,u=e.length,c=new Array(u);for(c[0]=(t+=e[0])*i+o,c[1]=(n+=e[1])*r+a;l<u;)c[l]=e[l],++l;return c}},it=function(e,t){return\"string\"==typeof t&&(t=e.objects[t]),\"GeometryCollection\"===t.type?{type:\"FeatureCollection\",features:t.geometries.map((function(t){return rt(e,t)}))}:rt(e,t)};function rt(e,t){var n=t.id,i=t.bbox,r=null==t.properties?{}:t.properties,o=ot(e,t);return null==n&&null==i?{type:\"Feature\",properties:r,geometry:o}:null==i?{type:\"Feature\",id:n,properties:r,geometry:o}:{type:\"Feature\",id:n,bbox:i,properties:r,geometry:o}}function ot(e,t){var n=nt(e.transform),i=e.arcs;function r(e,t){t.length&&t.pop();for(var r=i[e<0?~e:e],o=0,a=r.length;o<a;++o)t.push(n(r[o],o));e<0&&function(e,t){for(var n,i=e.length,r=i-t;r<--i;)n=e[r],e[r++]=e[i],e[i]=n}(t,a)}function o(e){return n(e)}function a(e){for(var t=[],n=0,i=e.length;n<i;++n)r(e[n],t);return t.length<2&&t.push(t[0]),t}function s(e){for(var t=a(e);t.length<4;)t.push(t[0]);return t}function l(e){return e.map(s)}return function e(t){var n,i=t.type;switch(i){case\"GeometryCollection\":return{type:i,geometries:t.geometries.map(e)};case\"Point\":n=o(t.coordinates);break;case\"MultiPoint\":n=t.coordinates.map(o);break;case\"LineString\":n=a(t.arcs);break;case\"MultiLineString\":n=t.arcs.map(a);break;case\"Polygon\":n=l(t.arcs);break;case\"MultiPolygon\":n=t.arcs.map(l);break;default:return null}return{type:i,coordinates:n}}(t)}var at=function(e,t){var n={},i={},r={},o=[],a=-1;function s(e,t){for(var i in e){var r=e[i];delete t[r.start],delete r.start,delete r.end,r.forEach((function(e){n[e<0?~e:e]=1})),o.push(r)}}return t.forEach((function(n,i){var r,o=e.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(r=t[++a],t[a]=n,t[i]=r)})),t.forEach((function(t){var n,o,a=function(t){var n,i=e.arcs[t<0?~t:t],r=i[0];e.transform?(n=[0,0],i.forEach((function(e){n[0]+=e[0],n[1]+=e[1]}))):n=i[i.length-1];return t<0?[n,r]:[r,n]}(t),s=a[0],l=a[1];if(n=r[s])if(delete r[n.end],n.push(t),n.end=l,o=i[l]){delete i[o.start];var u=o===n?n:n.concat(o);i[u.start=n.start]=r[u.end=o.end]=u}else i[n.start]=r[n.end]=n;else if(n=i[l])if(delete i[n.start],n.unshift(t),n.start=s,o=r[s]){delete r[o.end];var c=o===n?n:o.concat(n);i[c.start=o.start]=r[c.end=n.end]=c}else i[n.start]=r[n.end]=n;else i[(n=[t]).start=s]=r[n.end=l]=n})),s(r,i),s(i,r),t.forEach((function(e){n[e<0?~e:e]||o.push([e])})),o},st=function(e){return ot(e,lt.apply(this,arguments))};function lt(e,t,n){var i,r,o;if(arguments.length>1)i=ut(e,t,n);else for(r=0,i=new Array(o=e.arcs.length);r<o;++r)i[r]=r;return{type:\"MultiLineString\",arcs:at(e,i)}}function ut(e,t,n){var i,r=[],o=[];function a(e){var t=e<0?~e:e;(o[t]||(o[t]=[])).push({i:e,g:i})}function s(e){e.forEach(a)}function l(e){e.forEach(s)}return function e(t){switch(i=t,t.type){case\"GeometryCollection\":t.geometries.forEach(e);break;case\"LineString\":s(t.arcs);break;case\"MultiLineString\":case\"Polygon\":l(t.arcs);break;case\"MultiPolygon\":!function(e){e.forEach(l)}(t.arcs)}}(t),o.forEach(null==n?function(e){r.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&r.push(e[0].i)}),r}const ct={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function dt(e,t){let n,i,r,o;return e=Object(et.a)(e,t),t&&t.feature?(n=it,r=t.feature):t&&t.mesh?(n=st,r=t.mesh,o=ct[t.filter]):Object(se.o)(\"Missing TopoJSON feature or mesh parameter.\"),i=(i=e.objects[r])?n(e,i,o):Object(se.o)(\"Invalid TopoJSON object: \"+r),i&&i.features||[i]}dt.responseType=\"json\";const ht={dsv:Ke,csv:Je(\",\"),tsv:Je(\"\\t\"),json:et.a,topojson:dt};function ft(e,t){return arguments.length>1?(ht[e]=t,this):Object(se.w)(ht,e)?ht[e]:null}function pt(e){const t=ft(e);return t&&t.responseType||\"text\"}var gt=function(e){const t={};return n=>t[n]||(t[n]=e(n))},mt=Math.sqrt(50),vt=Math.sqrt(10),yt=Math.sqrt(2),bt=function(e,t,n){var i,r,o,a,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((i=t<e)&&(r=e,e=t,t=r),0===(a=_t(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(r=Math.ceil(t-e+1));++s<r;)o[s]=(e+s)*a;else for(a=-a,e=Math.ceil(e*a),t=Math.floor(t*a),o=new Array(r=Math.ceil(t-e+1));++s<r;)o[s]=(e+s)/a;return i&&o.reverse(),o};function _t(e,t,n){var i=(t-e)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=mt?10:o>=vt?5:o>=yt?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=mt?10:o>=vt?5:o>=yt?2:1)}function wt(e,t,n){var i=Math.abs(t-e)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=mt?r*=10:o>=vt?r*=5:o>=yt&&(r*=2),t<e?-r:r}var xt=/^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;function kt(e){if(!(t=xt.exec(e)))throw new Error(\"invalid format: \"+e);var t;return new Ot({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Ot(e){this.fill=void 0===e.fill?\" \":e.fill+\"\",this.align=void 0===e.align?\">\":e.align+\"\",this.sign=void 0===e.sign?\"-\":e.sign+\"\",this.symbol=void 0===e.symbol?\"\":e.symbol+\"\",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?\"\":e.type+\"\"}kt.prototype=Ot.prototype,Ot.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?\"0\":\"\")+(void 0===this.width?\"\":Math.max(1,0|this.width))+(this.comma?\",\":\"\")+(void 0===this.precision?\"\":\".\"+Math.max(0,0|this.precision))+(this.trim?\"~\":\"\")+this.type};function Et(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf(\"e\"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}var St,Dt,jt,Ct,Mt=function(e){return(e=Et(Math.abs(e)))?e[1]:NaN},Tt=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Mt(t)/3)))-Mt(Math.abs(e)))},At=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Mt(t)-Mt(e))+1},Ft=function(e){return Math.max(0,-Mt(Math.abs(e)))},Pt=function(e,t){var n=Et(e,t);if(!n)return e+\"\";var i=n[0],r=n[1];return r<0?\"0.\"+new Array(-r).join(\"0\")+i:i.length>r+1?i.slice(0,r+1)+\".\"+i.slice(r+1):i+new Array(r-i.length+2).join(\"0\")},Nt={\"%\":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+\"\",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString(\"en\").replace(/,/g,\"\"):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Pt(100*e,t),r:Pt,s:function(e,t){var n=Et(e,t);if(!n)return e+\"\";var i=n[0],r=n[1],o=r-(St=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join(\"0\"):o>0?i.slice(0,o)+\".\"+i.slice(o):\"0.\"+new Array(1-o).join(\"0\")+Et(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)},zt=function(e){return e},Rt=Array.prototype.map,It=[\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"],Bt=function(e){var t,n,i=void 0===e.grouping||void 0===e.thousands?zt:(t=Rt.call(e.grouping,Number),n=e.thousands+\"\",function(e,i){for(var r=e.length,o=[],a=0,s=t[0],l=0;r>0&&s>0&&(l+s+1>i&&(s=Math.max(1,i-l)),o.push(e.substring(r-=s,r+s)),!((l+=s+1)>i));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),r=void 0===e.currency?\"\":e.currency[0]+\"\",o=void 0===e.currency?\"\":e.currency[1]+\"\",a=void 0===e.decimal?\".\":e.decimal+\"\",s=void 0===e.numerals?zt:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(Rt.call(e.numerals,String)),l=void 0===e.percent?\"%\":e.percent+\"\",u=void 0===e.minus?\"−\":e.minus+\"\",c=void 0===e.nan?\"NaN\":e.nan+\"\";function d(e){var t=(e=kt(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,g=e.comma,m=e.precision,v=e.trim,y=e.type;\"n\"===y?(g=!0,y=\"g\"):Nt[y]||(void 0===m&&(m=12),v=!0,y=\"g\"),(f||\"0\"===t&&\"=\"===n)&&(f=!0,t=\"0\",n=\"=\");var b=\"$\"===h?r:\"#\"===h&&/[boxX]/.test(y)?\"0\"+y.toLowerCase():\"\",_=\"$\"===h?o:/[%p]/.test(y)?l:\"\",w=Nt[y],x=/[defgprs%]/.test(y);function k(e){var r,o,l,h=b,k=_;if(\"c\"===y)k=w(e)+k,e=\"\";else{var O=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:w(Math.abs(e),m),v&&(e=function(e){e:for(var t,n=e.length,i=1,r=-1;i<n;++i)switch(e[i]){case\".\":r=t=i;break;case\"0\":0===r&&(r=i),t=i;break;default:if(!+e[i])break e;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(t+1):e}(e)),O&&0==+e&&\"+\"!==d&&(O=!1),h=(O?\"(\"===d?d:u:\"-\"===d||\"(\"===d?\"\":d)+h,k=(\"s\"===y?It[8+St/3]:\"\")+k+(O&&\"(\"===d?\")\":\"\"),x)for(r=-1,o=e.length;++r<o;)if(48>(l=e.charCodeAt(r))||l>57){k=(46===l?a+e.slice(r+1):e.slice(r))+k,e=e.slice(0,r);break}}g&&!f&&(e=i(e,1/0));var E=h.length+e.length+k.length,S=E<p?new Array(p-E+1).join(t):\"\";switch(g&&f&&(e=i(S+e,S.length?p-k.length:1/0),S=\"\"),n){case\"<\":e=h+e+k+S;break;case\"=\":e=h+S+e+k;break;case\"^\":e=S.slice(0,E=S.length>>1)+h+e+k+S.slice(E);break;default:e=S+h+e+k}return s(e)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return e+\"\"},k}return{format:d,formatPrefix:function(e,t){var n=d(((e=kt(e)).type=\"f\",e)),i=3*Math.max(-8,Math.min(8,Math.floor(Mt(t)/3))),r=Math.pow(10,-i),o=It[8+i/3];return function(e){return n(r*e)+o}}}};function Lt(e){const t=gt(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(e){const n=kt(e||\",\");if(null==n.precision){switch(n.precision=12,n.type){case\"%\":n.precision-=2;break;case\"e\":n.precision-=1}return function(e,t){return n=>{const i=e(n),r=i.indexOf(t);if(r<0)return i;let o=function(e,t){let n,i=e.lastIndexOf(\"e\");if(i>0)return i;for(i=e.length;--i>t;)if(n=e.charCodeAt(i),n>=48&&n<=57)return i+1}(i,r);const a=o<i.length?i.slice(o):\"\";for(;--o>r;)if(\"0\"!==i[o]){++o;break}return i.slice(0,o)+a}}(t(n),t(\".1f\")(1)[1])}return t(n)},formatSpan(e,i,r,o){o=kt(null==o?\",f\":o);const a=wt(e,i,r),s=Math.max(Math.abs(e),Math.abs(i));let l;if(null==o.precision)switch(o.type){case\"s\":return isNaN(l=Tt(a,s))||(o.precision=l),n(o,s);case\"\":case\"e\":case\"g\":case\"p\":case\"r\":isNaN(l=At(a,s))||(o.precision=l-(\"e\"===o.type));break;case\"f\":case\"%\":isNaN(l=Ft(a))||(o.precision=l-2*(\"%\"===o.type))}return t(o)}}}let $t;function Wt(){return $t=Lt({format:jt,formatPrefix:Ct})}function Ut(e){return Lt(Bt(e))}function Yt(e){return arguments.length?$t=Ut(e):$t}Dt=Bt({thousands:\",\",grouping:[3],currency:[\"$\",\"\"]}),jt=Dt.format,Ct=Dt.formatPrefix,Wt();const Ht=\"year\",qt=\"quarter\",Vt=\"month\",Gt=\"week\",Xt=\"date\",Zt=\"day\",Qt=\"dayofyear\",Jt=\"hours\",Kt=\"minutes\",en=\"seconds\",tn=\"milliseconds\",nn=[Ht,qt,Vt,Gt,Xt,Zt,Qt,Jt,Kt,en,tn],rn=nn.reduce((e,t,n)=>(e[t]=1+n,e),{});function on(e){const t=Object(se.i)(e).slice(),n={};t.length||Object(se.o)(\"Missing time unit.\"),t.forEach(e=>{Object(se.w)(rn,e)?n[e]=1:Object(se.o)(`Invalid time unit: ${e}.`)});return(n[Gt]||n[Zt]?1:0)+(n[qt]||n[Vt]||n[Xt]?1:0)+(n[Qt]?1:0)>1&&Object(se.o)(\"Incompatible time units: \"+e),t.sort((e,t)=>rn[e]-rn[t]),t}const an={[Ht]:\"%Y \",[qt]:\"Q%q \",[Vt]:\"%b \",[Xt]:\"%d \",[Gt]:\"W%U \",[Zt]:\"%a \",[Qt]:\"%j \",[Jt]:\"%H:00\",[Kt]:\"00:%M\",[en]:\":%S\",[tn]:\".%L\",[`${Ht}-${Vt}`]:\"%Y-%m \",[`${Ht}-${Vt}-${Xt}`]:\"%Y-%m-%d \",[`${Jt}-${Kt}`]:\"%H:%M\"};function sn(e,t){const n=Object(se.p)({},an,t),i=on(e),r=i.length;let o,a,s=\"\",l=0;for(l=0;l<r;)for(o=i.length;o>l;--o)if(a=i.slice(l,o).join(\"-\"),null!=n[a]){s+=n[a],l=o;break}return s.trim()}var ln=new Date,un=new Date;function cn(e,t,n,i){function r(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return r.floor=function(t){return e(t=new Date(+t)),t},r.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},r.round=function(e){var t=r(e),n=r.ceil(e);return e-t<n-e?t:n},r.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},r.range=function(n,i,o){var a,s=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<i&&o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<i);return s},r.filter=function(n){return cn((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,i){if(e>=e)if(i<0)for(;++i<=0;)for(;t(e,-1),!n(e););else for(;--i>=0;)for(;t(e,1),!n(e););}))},n&&(r.count=function(t,i){return ln.setTime(+t),un.setTime(+i),e(ln),e(un),Math.floor(n(ln,un))},r.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?r.filter(i?function(t){return i(t)%e==0}:function(t){return r.count(0,t)%e==0}):r:null}),r}var dn=cn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5,e=>e.getDate()-1),hn=dn;dn.range;function fn(e){return cn((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5}))}var pn=fn(0),gn=fn(1),mn=fn(2),vn=fn(3),yn=fn(4),bn=fn(5),_n=fn(6),wn=(pn.range,gn.range,mn.range,vn.range,yn.range,bn.range,_n.range,cn((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/864e5}),(function(e){return e.getUTCDate()-1}))),xn=wn;wn.range;function kn(e){return cn((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/6048e5}))}var On=kn(0),En=kn(1),Sn=kn(2),Dn=kn(3),jn=kn(4),Cn=kn(5),Mn=kn(6);On.range,En.range,Sn.range,Dn.range,jn.range,Cn.range,Mn.range;const Tn=new Date;function An(e){return Tn.setFullYear(e),Tn.setMonth(0),Tn.setDate(1),Tn.setHours(0,0,0,0),Tn}function Fn(e){return Nn(new Date(e))}function Pn(e){return zn(new Date(e))}function Nn(e){return hn.count(An(e.getFullYear())-1,e)}function zn(e){return pn.count(An(e.getFullYear())-1,e)}function Rn(e){return An(e).getDay()}function In(e,t,n,i,r,o,a){if(0<=e&&e<100){const s=new Date(-1,t,n,i,r,o,a);return s.setFullYear(e),s}return new Date(e,t,n,i,r,o,a)}function Bn(e){return $n(new Date(e))}function Ln(e){return Wn(new Date(e))}function $n(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return xn.count(t-1,e)}function Wn(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return On.count(t-1,e)}function Un(e){return Tn.setTime(Date.UTC(e,0,1)),Tn.getUTCDay()}function Yn(e,t,n,i,r,o,a){if(0<=e&&e<100){const e=new Date(Date.UTC(-1,t,n,i,r,o,a));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(e,t,n,i,r,o,a))}function Hn(e,t,n,i,r){const o=t||1,a=Object(se.V)(e),s=(e,t,r)=>function(e,t,n,i){const r=n<=1?e:i?(t,r)=>i+n*Math.floor((e(t,r)-i)/n):(t,i)=>n*Math.floor(e(t,i)/n);return t?(e,n)=>t(r(e,n),n):r}(n[r=r||e],i[r],e===a&&o,t),l=new Date,u=Object(se.eb)(e),c=u[Ht]?s(Ht):Object(se.m)(2012),d=u[Vt]?s(Vt):u[qt]?s(qt):se.lb,h=u[Gt]&&u[Zt]?s(Zt,1,Gt+Zt):u[Gt]?s(Gt,1):u[Zt]?s(Zt,1):u[Xt]?s(Xt,1):u[Qt]?s(Qt,1):se.P,f=u[Jt]?s(Jt):se.lb,p=u[Kt]?s(Kt):se.lb,g=u[en]?s(en):se.lb,m=u[tn]?s(tn):se.lb;return function(e){l.setTime(+e);const t=c(l);return r(t,d(l),h(l,t),f(l),p(l),g(l),m(l))}}function qn(e,t,n){return t+7*e-(n+6)%7}const Vn={[Ht]:e=>e.getFullYear(),[qt]:e=>Math.floor(e.getMonth()/3),[Vt]:e=>e.getMonth(),[Xt]:e=>e.getDate(),[Jt]:e=>e.getHours(),[Kt]:e=>e.getMinutes(),[en]:e=>e.getSeconds(),[tn]:e=>e.getMilliseconds(),[Qt]:e=>Nn(e),[Gt]:e=>zn(e),[Gt+Zt]:(e,t)=>qn(zn(e),e.getDay(),Rn(t)),[Zt]:(e,t)=>qn(1,e.getDay(),Rn(t))},Gn={[qt]:e=>3*e,[Gt]:(e,t)=>qn(e,0,Rn(t))};function Xn(e,t){return Hn(e,t||1,Vn,Gn,In)}const Zn={[Ht]:e=>e.getUTCFullYear(),[qt]:e=>Math.floor(e.getUTCMonth()/3),[Vt]:e=>e.getUTCMonth(),[Xt]:e=>e.getUTCDate(),[Jt]:e=>e.getUTCHours(),[Kt]:e=>e.getUTCMinutes(),[en]:e=>e.getUTCSeconds(),[tn]:e=>e.getUTCMilliseconds(),[Qt]:e=>$n(e),[Gt]:e=>Wn(e),[Zt]:(e,t)=>qn(1,e.getUTCDay(),Un(t)),[Gt+Zt]:(e,t)=>qn(Wn(e),e.getUTCDay(),Un(t))},Qn={[qt]:e=>3*e,[Gt]:(e,t)=>qn(e,0,Un(t))};function Jn(e,t){return Hn(e,t||1,Zn,Qn,Yn)}var Kn=cn((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));Kn.every=function(e){return isFinite(e=Math.floor(e))&&e>0?cn((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var ei=Kn,ti=(Kn.range,cn((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}))),ni=ti,ii=(ti.range,cn((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getHours()}))),ri=ii,oi=(ii.range,cn((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getMinutes()}))),ai=oi,si=(oi.range,cn((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+1e3*t)}),(function(e,t){return(t-e)/1e3}),(function(e){return e.getUTCSeconds()}))),li=si,ui=(si.range,cn((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e})));ui.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?cn((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):ui:null};var ci=ui,di=(ui.range,cn((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));di.every=function(e){return isFinite(e=Math.floor(e))&&e>0?cn((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var hi=di,fi=(di.range,cn((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}))),pi=fi,gi=(fi.range,cn((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getUTCHours()}))),mi=gi,vi=(gi.range,cn((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getUTCMinutes()}))),yi=vi;vi.range;const bi={[Ht]:ei,[qt]:ni.every(3),[Vt]:ni,[Gt]:pn,[Xt]:hn,[Zt]:hn,[Qt]:hn,[Jt]:ri,[Kt]:ai,[en]:li,[tn]:ci},_i={[Ht]:hi,[qt]:pi.every(3),[Vt]:pi,[Gt]:On,[Xt]:xn,[Zt]:xn,[Qt]:xn,[Jt]:mi,[Kt]:yi,[en]:li,[tn]:ci};function wi(e){return bi[e]}function xi(e){return _i[e]}function ki(e,t,n){return e?e.offset(t,n):void 0}function Oi(e,t,n){return ki(wi(e),t,n)}function Ei(e,t,n){return ki(xi(e),t,n)}function Si(e,t,n,i){return e?e.range(t,n,i):void 0}function Di(e,t,n,i){return Si(wi(e),t,n,i)}function ji(e,t,n,i){return Si(xi(e),t,n,i)}var Ci=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},Mi=function(e){let t=e,n=e;function i(e,t,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){const o=i+r>>>1;n(e[o],t)<0?i=o+1:r=o}return i}return 1===e.length&&(t=(t,n)=>e(t)-n,n=function(e){return(t,n)=>Ci(e(t),n)}(e)),{left:i,center:function(e,n,r,o){null==r&&(r=0),null==o&&(o=e.length);const a=i(e,n,r,o-1);return a>r&&t(e[a-1],n)>-t(e[a],n)?a-1:a},right:function(e,t,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){const o=i+r>>>1;n(e[o],t)>0?r=o:i=o+1}return i}}};const Ti=[Ht,Vt,Xt,Jt,Kt,en,tn],Ai=Ti.slice(0,-1),Fi=Ai.slice(0,-1),Pi=Fi.slice(0,-1),Ni=Pi.slice(0,-1),zi=[Ht,Vt],Ri=[Ht],Ii=[[Ai,1,1e3],[Ai,5,5e3],[Ai,15,15e3],[Ai,30,3e4],[Fi,1,6e4],[Fi,5,3e5],[Fi,15,9e5],[Fi,30,18e5],[Pi,1,36e5],[Pi,3,108e5],[Pi,6,216e5],[Pi,12,432e5],[Ni,1,864e5],[[Ht,Gt],1,6048e5],[zi,1,2592e6],[zi,3,7776e6],[Ri,1,31536e6]];var Bi=function(e){const t=e.extent,n=e.maxbins||40,i=Math.abs(Object(se.Y)(t))/n;let r,o,a=Mi(e=>e[2]).right(Ii,i);return a===Ii.length?(r=Ri,o=wt(t[0]/31536e6,t[1]/31536e6,n)):a?(a=Ii[i/Ii[a-1][2]<Ii[a][2]/i?a-1:a],r=a[0],o=a[1]):(r=Ti,o=Math.max(wt(t[0],t[1],n),1)),{units:r,step:o}};function Li(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function $i(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Wi(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Ui(e){var t=e.dateTime,n=e.date,i=e.time,r=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=tr(r),c=nr(r),d=tr(o),h=nr(o),f=tr(a),p=nr(a),g=tr(s),m=nr(s),v=tr(l),y=nr(l),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:kr,e:kr,f:jr,g:Br,G:$r,H:Or,I:Er,j:Sr,L:Dr,m:Cr,M:Mr,p:function(e){return r[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:co,s:ho,S:Tr,u:Ar,U:Fr,V:Nr,w:zr,W:Rr,x:null,X:null,y:Ir,Y:Lr,Z:Wr,\"%\":uo},_={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Ur,e:Ur,f:Gr,g:oo,G:so,H:Yr,I:Hr,j:qr,L:Vr,m:Xr,M:Zr,p:function(e){return r[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:co,s:ho,S:Qr,u:Jr,U:Kr,V:to,w:no,W:io,x:null,X:null,y:ro,Y:ao,Z:lo,\"%\":uo},w={a:function(e,t,n){var i=f.exec(t.slice(n));return i?(e.w=p.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(e,t,n){var i=d.exec(t.slice(n));return i?(e.w=h.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(e,t,n){var i=v.exec(t.slice(n));return i?(e.m=y.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(e,t,n){var i=g.exec(t.slice(n));return i?(e.m=m.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(e,n,i){return O(e,t,n,i)},d:fr,e:fr,f:br,g:ur,G:lr,H:gr,I:gr,j:pr,L:yr,m:hr,M:mr,p:function(e,t,n){var i=u.exec(t.slice(n));return i?(e.p=c.get(i[0].toLowerCase()),n+i[0].length):-1},q:dr,Q:wr,s:xr,S:vr,u:rr,U:or,V:ar,w:ir,W:sr,x:function(e,t,i){return O(e,n,t,i)},X:function(e,t,n){return O(e,i,t,n)},y:ur,Y:lr,Z:cr,\"%\":_r};function x(e,t){return function(n){var i,r,o,a=[],s=-1,l=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(r=Xi[i=e.charAt(++s)])?i=e.charAt(++s):r=\"e\"===i?\" \":\"0\",(o=t[i])&&(i=o(n,r)),a.push(i),l=s+1);return a.push(e.slice(l,s)),a.join(\"\")}}function k(e,t){return function(n){var i,r,o=Wi(1900,void 0,1);if(O(o,e,n+=\"\",0)!=n.length)return null;if(\"Q\"in o)return new Date(o.Q);if(\"s\"in o)return new Date(1e3*o.s+(\"L\"in o?o.L:0));if(t&&!(\"Z\"in o)&&(o.Z=0),\"p\"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m=\"q\"in o?o.q:0),\"V\"in o){if(o.V<1||o.V>53)return null;\"w\"in o||(o.w=1),\"Z\"in o?(r=(i=$i(Wi(o.y,0,1))).getUTCDay(),i=r>4||0===r?En.ceil(i):En(i),i=xn.offset(i,7*(o.V-1)),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7):(r=(i=Li(Wi(o.y,0,1))).getDay(),i=r>4||0===r?gn.ceil(i):gn(i),i=hn.offset(i,7*(o.V-1)),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7)}else(\"W\"in o||\"U\"in o)&&(\"w\"in o||(o.w=\"u\"in o?o.u%7:\"W\"in o?1:0),r=\"Z\"in o?$i(Wi(o.y,0,1)).getUTCDay():Li(Wi(o.y,0,1)).getDay(),o.m=0,o.d=\"W\"in o?(o.w+6)%7+7*o.W-(r+5)%7:o.w+7*o.U-(r+6)%7);return\"Z\"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,$i(o)):Li(o)}}function O(e,t,n,i){for(var r,o,a=0,s=t.length,l=n.length;a<s;){if(i>=l)return-1;if(37===(r=t.charCodeAt(a++))){if(r=t.charAt(a++),!(o=w[r in Xi?t.charAt(a++):r])||(i=o(e,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return b.x=x(n,b),b.X=x(i,b),b.c=x(t,b),_.x=x(n,_),_.X=x(i,_),_.c=x(t,_),{format:function(e){var t=x(e+=\"\",b);return t.toString=function(){return e},t},parse:function(e){var t=k(e+=\"\",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=x(e+=\"\",_);return t.toString=function(){return e},t},utcParse:function(e){var t=k(e+=\"\",!0);return t.toString=function(){return e},t}}}var Yi,Hi,qi,Vi,Gi,Xi={\"-\":\"\",_:\" \",0:\"0\"},Zi=/^\\s*\\d+/,Qi=/^%/,Ji=/[\\\\^$*+?|[\\]().{}]/g;function Ki(e,t,n){var i=e<0?\"-\":\"\",r=(i?-e:e)+\"\",o=r.length;return i+(o<n?new Array(n-o+1).join(t)+r:r)}function er(e){return e.replace(Ji,\"\\\\$&\")}function tr(e){return new RegExp(\"^(?:\"+e.map(er).join(\"|\")+\")\",\"i\")}function nr(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function ir(e,t,n){var i=Zi.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function rr(e,t,n){var i=Zi.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function or(e,t,n){var i=Zi.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function ar(e,t,n){var i=Zi.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function sr(e,t,n){var i=Zi.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function lr(e,t,n){var i=Zi.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function ur(e,t,n){var i=Zi.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function cr(e,t,n){var i=/^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||\"00\")),n+i[0].length):-1}function dr(e,t,n){var i=Zi.exec(t.slice(n,n+1));return i?(e.q=3*i[0]-3,n+i[0].length):-1}function hr(e,t,n){var i=Zi.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function fr(e,t,n){var i=Zi.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function pr(e,t,n){var i=Zi.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function gr(e,t,n){var i=Zi.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function mr(e,t,n){var i=Zi.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function vr(e,t,n){var i=Zi.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function yr(e,t,n){var i=Zi.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function br(e,t,n){var i=Zi.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function _r(e,t,n){var i=Qi.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function wr(e,t,n){var i=Zi.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function xr(e,t,n){var i=Zi.exec(t.slice(n));return i?(e.s=+i[0],n+i[0].length):-1}function kr(e,t){return Ki(e.getDate(),t,2)}function Or(e,t){return Ki(e.getHours(),t,2)}function Er(e,t){return Ki(e.getHours()%12||12,t,2)}function Sr(e,t){return Ki(1+hn.count(ei(e),e),t,3)}function Dr(e,t){return Ki(e.getMilliseconds(),t,3)}function jr(e,t){return Dr(e,t)+\"000\"}function Cr(e,t){return Ki(e.getMonth()+1,t,2)}function Mr(e,t){return Ki(e.getMinutes(),t,2)}function Tr(e,t){return Ki(e.getSeconds(),t,2)}function Ar(e){var t=e.getDay();return 0===t?7:t}function Fr(e,t){return Ki(pn.count(ei(e)-1,e),t,2)}function Pr(e){var t=e.getDay();return t>=4||0===t?yn(e):yn.ceil(e)}function Nr(e,t){return e=Pr(e),Ki(yn.count(ei(e),e)+(4===ei(e).getDay()),t,2)}function zr(e){return e.getDay()}function Rr(e,t){return Ki(gn.count(ei(e)-1,e),t,2)}function Ir(e,t){return Ki(e.getFullYear()%100,t,2)}function Br(e,t){return Ki((e=Pr(e)).getFullYear()%100,t,2)}function Lr(e,t){return Ki(e.getFullYear()%1e4,t,4)}function $r(e,t){var n=e.getDay();return Ki((e=n>=4||0===n?yn(e):yn.ceil(e)).getFullYear()%1e4,t,4)}function Wr(e){var t=e.getTimezoneOffset();return(t>0?\"-\":(t*=-1,\"+\"))+Ki(t/60|0,\"0\",2)+Ki(t%60,\"0\",2)}function Ur(e,t){return Ki(e.getUTCDate(),t,2)}function Yr(e,t){return Ki(e.getUTCHours(),t,2)}function Hr(e,t){return Ki(e.getUTCHours()%12||12,t,2)}function qr(e,t){return Ki(1+xn.count(hi(e),e),t,3)}function Vr(e,t){return Ki(e.getUTCMilliseconds(),t,3)}function Gr(e,t){return Vr(e,t)+\"000\"}function Xr(e,t){return Ki(e.getUTCMonth()+1,t,2)}function Zr(e,t){return Ki(e.getUTCMinutes(),t,2)}function Qr(e,t){return Ki(e.getUTCSeconds(),t,2)}function Jr(e){var t=e.getUTCDay();return 0===t?7:t}function Kr(e,t){return Ki(On.count(hi(e)-1,e),t,2)}function eo(e){var t=e.getUTCDay();return t>=4||0===t?jn(e):jn.ceil(e)}function to(e,t){return e=eo(e),Ki(jn.count(hi(e),e)+(4===hi(e).getUTCDay()),t,2)}function no(e){return e.getUTCDay()}function io(e,t){return Ki(En.count(hi(e)-1,e),t,2)}function ro(e,t){return Ki(e.getUTCFullYear()%100,t,2)}function oo(e,t){return Ki((e=eo(e)).getUTCFullYear()%100,t,2)}function ao(e,t){return Ki(e.getUTCFullYear()%1e4,t,4)}function so(e,t){var n=e.getUTCDay();return Ki((e=n>=4||0===n?jn(e):jn.ceil(e)).getUTCFullYear()%1e4,t,4)}function lo(){return\"+0000\"}function uo(){return\"%\"}function co(e){return+e}function ho(e){return Math.floor(+e/1e3)}function fo(e,t,n){n=n||{},Object(se.G)(n)||Object(se.o)(\"Invalid time multi-format specifier: \"+n);const i=t(en),r=t(Kt),o=t(Jt),a=t(Xt),s=t(Gt),l=t(Vt),u=t(qt),c=t(Ht),d=e(n[tn]||\".%L\"),h=e(n[en]||\":%S\"),f=e(n[Kt]||\"%I:%M\"),p=e(n[Jt]||\"%I %p\"),g=e(n[Xt]||n[Zt]||\"%a %d\"),m=e(n[Gt]||\"%b %d\"),v=e(n[Vt]||\"%B\"),y=e(n[qt]||\"%B\"),b=e(n[Ht]||\"%Y\");return e=>(i(e)<e?d:r(e)<e?h:o(e)<e?f:a(e)<e?p:l(e)<e?s(e)<e?g:m:c(e)<e?u(e)<e?v:y:b)(e)}function po(e){const t=gt(e.format),n=gt(e.utcFormat);return{timeFormat:e=>Object(se.I)(e)?t(e):fo(t,wi,e),utcFormat:e=>Object(se.I)(e)?n(e):fo(n,xi,e),timeParse:gt(e.parse),utcParse:gt(e.utcParse)}}let go;function mo(){return go=po({format:Hi,parse:qi,utcFormat:Vi,utcParse:Gi})}function vo(e){return po(Ui(e))}function yo(e){return arguments.length?go=vo(e):go}!function(e){Yi=Ui(e),Hi=Yi.format,qi=Yi.parse,Vi=Yi.utcFormat,Gi=Yi.utcParse}({dateTime:\"%x, %X\",date:\"%-m/%-d/%Y\",time:\"%-I:%M:%S %p\",periods:[\"AM\",\"PM\"],days:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],shortDays:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],months:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],shortMonths:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"]}),mo();const bo=(e,t)=>Object(se.p)({},e,t);function _o(e,t){const n=e?Ut(e):Yt(),i=t?vo(t):yo();return bo(n,i)}function wo(e,t){const n=arguments.length;return n&&2!==n&&Object(se.o)(\"defaultLocale expects either zero or two arguments.\"),n?bo(Yt(e),yo(t)):bo(Yt(),yo())}function xo(){return Wt(),mo(),wo()}var ko=function(e,t,n,i){const r=ft((t=t||{}).type||\"json\");return r||Object(se.o)(\"Unknown data format type: \"+t.type),e=r(e,t),t.parse&&function(e,t,n,i){if(!e.length)return;const r=yo();n=n||r.timeParse,i=i||r.utcParse;let o,a,s,l,u,c,d=e.columns||Object.keys(e[0]);\"auto\"===t&&(t=Ye(e,d));d=Object.keys(t);const h=d.map(e=>{const r=t[e];let o,a;if(r&&(r.startsWith(\"date:\")||r.startsWith(\"utc:\"))){o=r.split(/:(.+)?/,2),a=o[1],(\"'\"===a[0]&&\"'\"===a[a.length-1]||'\"'===a[0]&&'\"'===a[a.length-1])&&(a=a.slice(1,-1));return(\"utc\"===o[0]?i:n)(a)}if(!Le[r])throw Error(\"Illegal format pattern: \"+e+\":\"+r);return Le[r]});for(s=0,u=e.length,c=d.length;s<u;++s)for(o=e[s],l=0;l<c;++l)a=d[l],o[a]=h[l](o[a])}(e,t.parse,n,i),Object(se.w)(e,\"columns\")&&delete e.columns,e};var Oo=function(e,t){return n=>({options:n||{},sanitize:Pe,load:Fe,fileAccess:!!t,file:Ne(t),http:Re(e)})}(\"undefined\"!=typeof fetch&&fetch,null);const Eo={skip:!0};function So(e,t,n,i,r,o){const a=Object(se.p)({},o,Eo);let s,l;Object(se.E)(n)||(n=Object(se.m)(n)),void 0===i?s=t=>e.touch(n(t)):Object(se.E)(i)?(l=new Ee(null,i,r,!1),s=t=>{l.evaluate(t);const i=n(t),r=l.value;_e(r)?e.pulse(i,r,o):e.update(i,r,a)}):s=t=>e.update(n(t),i,a),t.apply(s)}function Do(e,t,n,i,r,o){if(void 0===i)t.targets().add(n);else{const a=o||{},s=new Ee(null,function(e,t){return t=Object(se.E)(t)?t:Object(se.m)(t),e?function(n,i){const r=t(n,i);return e.skip()||(e.skip(r!==this.value).value=r),r}:t}(n,i),r,!1);s.modified(a.force),s.rank=t.rank,t.targets().add(s),n&&(s.skip(!0),s.value=n.value,s.targets().add(n),e.connect(n,[s]))}}const jo={};function Co(e,t,n){this.dataflow=e,this.stamp=null==t?-1:t,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function Mo(e,t){const n=[];return Object(se.jb)(e,t,e=>n.push(e)),n}function To(e,t){const n={};return e.visit(t,e=>{n[fe(e)]=1}),e=>n[fe(e)]?null:e}function Ao(e,t){return e?(n,i)=>e(n,i)&&t(n,i):t}function Fo(e,t,n,i){const r=this,o=n.length;let a=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=i||null,this.pulses=n;for(let e=0;e<o;++e){const i=n[e];if(i.stamp===t){if(i.fields){const e=r.fields||(r.fields={});for(const t in i.fields)e[t]=1}i.changed(r.ADD)&&(a|=r.ADD),i.changed(r.REM)&&(a|=r.REM),i.changed(r.MOD)&&(a|=r.MOD)}}this.changes=a}function Po(e){return e.error(\"Dataflow already running. Use runAsync() to chain invocations.\"),e}Co.prototype={StopPropagation:jo,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(e){return new Co(this.dataflow).init(this,e)},clone(){const e=this.fork(7);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(23)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new Co(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,!e.fields||64&t||(n.fields=e.fields),1&t?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),2&t?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),4&t?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),32&t?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||7;return 1&t&&this.add.length||2&t&&this.rem.length||4&t&&this.mod.length},reflow(e){if(e)return this.fork(7).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(4,To(this,1))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return Object(se.B)(e)?e.forEach(e=>t[e]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return!(!t&&!this.mod.length||!n)&&(arguments.length?Object(se.B)(e)?e.some(e=>n[e]):n[e]:!!n)},filter(e,t){const n=this;return 1&e&&(n.addF=Ao(n.addF,t)),2&e&&(n.remF=Ao(n.remF,t)),4&e&&(n.modF=Ao(n.modF,t)),16&e&&(n.srcF=Ao(n.srcF,t)),n},materialize(e){const t=this;return 1&(e=e||7)&&t.addF&&(t.add=Mo(t.add,t.addF),t.addF=null),2&e&&t.remF&&(t.rem=Mo(t.rem,t.remF),t.remF=null),4&e&&t.modF&&(t.mod=Mo(t.mod,t.modF),t.modF=null),16&e&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,i=t;if(16&e)return Object(se.jb)(n.source,n.srcF,i),n;1&e&&Object(se.jb)(n.add,n.addF,i),2&e&&Object(se.jb)(n.rem,n.remF,i),4&e&&Object(se.jb)(n.mod,n.modF,i);const r=n.source;if(8&e&&r){const e=n.add.length+n.mod.length;e===r.length||(e?Object(se.jb)(r,To(n,5),i):Object(se.jb)(r,n.srcF,i))}return n}},Object(se.z)(Fo,Co,{fork(e){const t=new Co(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&t.ADD&&this.visit(t.ADD,e=>t.add.push(e)),e&t.REM&&this.visit(t.REM,e=>t.rem.push(e)),e&t.MOD&&this.visit(t.MOD,e=>t.mod.push(e))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?Object(se.B)(e)?e.some(e=>n[e]):n[e]:0},filter(){Object(se.o)(\"MultiPulse does not support filtering.\")},materialize(){Object(se.o)(\"MultiPulse does not support materialization.\")},visit(e,t){const n=this,i=n.pulses,r=i.length;let o=0;if(e&n.SOURCE)for(;o<r;++o)i[o].visit(e,t);else for(;o<r;++o)i[o].stamp===n.stamp&&i[o].visit(e,t);return n}});const No={skip:!1,force:!1};function zo(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),Ro(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let i;return t.length?(i=t[0],t[0]=n,function(e,t,n){const i=t,r=e.length,o=e[t];let a,s=1+(t<<1);for(;s<r;)a=s+1,a<r&&n(e[s],e[a])>=0&&(s=a),e[t]=e[s],s=1+((t=s)<<1);e[t]=o,Ro(e,i,t,n)}(t,0,e)):i=n,i}}}function Ro(e,t,n,i){let r,o;const a=e[n];for(;n>t&&(o=n-1>>1,r=e[o],i(a,r)<0);)e[n]=r,n=o;return e[n]=a}function Io(){this.logger(Object(se.L)()),this.logLevel(se.b),this._clock=0,this._rank=0,this._locale=wo();try{this._loader=Oo()}catch(e){}this._touched=le(se.x),this._input={},this._pulse=null,this._heap=zo((e,t)=>e.qrank-t.qrank),this._postrun=[]}function Bo(e){return function(){return this._log[e].apply(this,arguments)}}function Lo(e,t){Ee.call(this,e,null,t)}Io.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:Bo(\"error\"),warn:Bo(\"warn\"),info:Bo(\"info\"),debug:Bo(\"debug\"),logLevel:Bo(\"level\"),cleanThreshold:1e4,add:function(e,t,n,i){let r,o=1;return e instanceof Ee?r=e:e&&e.prototype instanceof Ee?r=new e:Object(se.E)(e)?r=new Ee(null,e):(o=0,r=new Ee(e,t)),this.rank(r),o&&(i=n,n=t),n&&this.connect(r,r.parameters(n,i)),this.touch(r),r},connect:function(e,t){const n=e.rank,i=t.length;for(let r=0;r<i;++r)if(n<t[r].rank)return void this.rerank(e)},rank:function(e){e.rank=++this._rank},rerank:function(e){const t=[e];let n,i,r;for(;t.length;)if(this.rank(n=t.pop()),i=n._targets)for(r=i.length;--r>=0;)t.push(n=i[r]),n===e&&Object(se.o)(\"Cycle detected in dataflow graph.\")},pulse:function(e,t,n){this.touch(e,n||No);const i=new Co(this,this._clock+(this._pulse?0:1)),r=e.pulse&&e.pulse.source||[];return i.target=e,this._input[e.id]=t.pulse(i,r),this},touch:function(e,t){const n=t||No;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this},update:function(e,t,n){const i=n||No;return(e.set(t)||i.force)&&this.touch(e,i),this},changeset:we,ingest:function(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))},parse:function(e,t){const n=this.locale();return ko(e,t,n.timeParse,n.utcParse)},preload:async function(e,t,n){const i=this,r=i._pending||function(e){let t;const n=new Promise(e=>t=e);return n.requests=0,n.done=()=>{0==--n.requests&&(e._pending=null,t(e))},e._pending=n}(i);r.requests+=1;const o=await i.request(t,n);return i.pulse(e,i.changeset().remove(se.hb).insert(o.data||[])),r.done(),o},request:async function(e,t){const n=this;let i,r=0;try{i=await n.loader().load(e,{context:\"dataflow\",response:pt(t&&t.type)});try{i=n.parse(i,t)}catch(t){r=-2,n.warn(\"Data ingestion failed\",e,t)}}catch(t){r=-1,n.warn(\"Loading failed\",e,t)}return{data:i,status:r}},events:function(e,t,n,i){const r=this,o=Ce(n,i),a=function(e){e.dataflow=r;try{o.receive(e)}catch(e){r.error(e)}finally{r.run()}};let s;s=\"string\"==typeof e&&\"undefined\"!=typeof document?document.querySelectorAll(e):Object(se.i)(e);const l=s.length;for(let e=0;e<l;++e)s[e].addEventListener(t,a);return o},on:function(e,t,n,i,r){return(e instanceof Ee?Do:So)(this,e,t,n,i,r),this},evaluate:async function(e,t,n){const i=this,r=[];if(i._pulse)return Po(i);if(i._pending&&await i._pending,t&&await ue(i,t),!i._touched.length)return i.debug(\"Dataflow invoked, but nothing to do.\"),i;const o=++i._clock;i._pulse=new Co(i,o,e),i._touched.forEach(e=>i._enqueue(e,!0)),i._touched=le(se.x);let a,s,l,u=0;try{for(;i._heap.size()>0;)a=i._heap.pop(),a.rank===a.qrank?(s=a.run(i._getPulse(a,e)),s.then?s=await s:s.async&&(r.push(s.async),s=jo),s!==jo&&a._targets&&a._targets.forEach(e=>i._enqueue(e)),++u):i._enqueue(a,!0)}catch(e){i._heap.clear(),l=e}if(i._input={},i._pulse=null,i.debug(`Pulse ${o}: ${u} operators`),l&&(i._postrun=[],i.error(l)),i._postrun.length){const e=i._postrun.sort((e,t)=>t.priority-e.priority);i._postrun=[];for(let t=0;t<e.length;++t)await ue(i,e[t].callback)}return n&&await ue(i,n),r.length&&Promise.all(r).then(e=>i.runAsync(null,()=>{e.forEach(e=>{try{e(i)}catch(e){i.error(e)}})})),i},run:function(e,t,n){return this._pulse?Po(this):(this.evaluate(e,t,n),this)},runAsync:async function(e,t,n){for(;this._running;)await this._running;const i=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(i,i),this._running},runAfter:function(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(e){this.error(e)}},_enqueue:function(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))},_getPulse:function(e,t){const n=e.source,i=this._clock;return n&&Object(se.B)(n)?new Fo(this,i,n.map(e=>e.pulse),t):this._input[e.id]||function(e,t){if(t&&t.stamp===e.stamp)return t;e=e.fork(),t&&t!==jo&&(e.source=t.source);return e}(this._pulse,n&&n.pulse)}},Object(se.z)(Lo,Ee,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(e=>this.pulse=e):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const $o={};function Wo(e){const t=Uo(e);return t&&t.Definition||null}function Uo(e){return e=e&&e.toLowerCase(),Object(se.w)($o,e)?$o[e]:null}function Yo(e){return e&&e.length?1===e.length?e[0]:(t=e,e=>{const n=t.length;let i=1,r=String(t[0](e));for(;i<n;++i)r+=\"|\"+t[i](e);return r}):function(){return\"\"};var t}function Ho(e,t,n){return n||e+(t?\"_\"+t:\"\")}const qo=()=>{},Vo={init:qo,add:qo,rem:qo,idx:0},Go={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.sum,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:[\"mean\"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:[\"mean\"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:[\"variance\"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:[\"variance\"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:[\"variance\"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:[\"variance\"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:[\"values\"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:[\"values\"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:[\"values\"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:[\"values\"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:[\"values\"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:[\"values\"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||void 0===e.min)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:[\"values\"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||void 0===e.max)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:[\"values\"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:[\"min\",\"values\"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:[\"max\",\"values\"],idx:3}},Xo=Object.keys(Go);function Zo(e,t){return Go[e](t)}function Qo(e,t){return e.idx-t.idx}function Jo(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.init(this))}function Ko(e,t){null!=e&&\"\"!==e?e==e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t))):++this.missing}function ea(e,t){null!=e&&\"\"!==e?e==e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t))):--this.missing}function ta(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function na(e,t){const n=t||se.y,i=function(e){const t={};e.forEach(e=>t[e.name]=e);const n=e=>{e.req&&e.req.forEach(e=>{t[e]||n(t[e]=Go[e]())})};return e.forEach(n),Object.values(t).sort(Qo)}(e),r=e.slice().sort(Qo);function o(e){this._ops=i,this._out=r,this.cell=e,this.init()}return o.prototype.init=Jo,o.prototype.add=Ko,o.prototype.rem=ea,o.prototype.set=ta,o.prototype.get=n,o.fields=e.map(e=>e.out),o}Xo.forEach(e=>{Go[e]=function(e,t){return n=>Object(se.p)({name:e,out:n||e},Vo,t)}(e,Go[e])});var ia=function*(e,t){if(null==t)for(let t of e)null!=t&&\"\"!==t&&(t=+t)>=t&&(yield t);else{let n=-1;for(let i of e)i=t(i,++n,e),null!=i&&\"\"!==i&&(i=+i)>=i&&(yield i)}};function ra(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n<t||void 0===n&&t>=t)&&(n=t);else{let i=-1;for(let r of e)null!=(r=t(r,++i,e))&&(n<r||void 0===n&&r>=r)&&(n=r)}return n}function oa(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n>t||void 0===n&&t>=t)&&(n=t);else{let i=-1;for(let r of e)null!=(r=t(r,++i,e))&&(n>r||void 0===n&&r>=r)&&(n=r)}return n}function aa(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}var sa=function(e){return null===e?NaN:+e};function la(e,t,n){if(i=(e=Float64Array.from(function*(e,t){if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(yield t);else{let n=-1;for(let i of e)null!=(i=t(i,++n,e))&&(i=+i)>=i&&(yield i)}}(e,n))).length){if((t=+t)<=0||i<2)return oa(e);if(t>=1)return ra(e);var i,r=(i-1)*t,o=Math.floor(r),a=ra(function e(t,n,i=0,r=t.length-1,o=Ci){for(;r>i;){if(r-i>600){const a=r-i+1,s=n-i+1,l=Math.log(a),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(a-u)/a)*(s-a/2<0?-1:1);e(t,n,Math.max(i,Math.floor(n-s*u/a+c)),Math.min(r,Math.floor(n+(a-s)*u/a+c)),o)}const a=t[n];let s=i,l=r;for(aa(t,i,n),o(t[r],a)>0&&aa(t,i,r);s<l;){for(aa(t,s,l),++s,--l;o(t[s],a)<0;)++s;for(;o(t[l],a)>0;)--l}0===o(t[i],a)?aa(t,i,l):(++l,aa(t,l,r)),l<=n&&(i=l+1),n<=l&&(r=l-1)}return t}(e,o).subarray(0,o+1));return a+(oa(e.subarray(o+1))-a)*(r-o)}}var ua=function(e,t,n){const i=Float64Array.from(ia(e,n));return i.sort(Ci),t.map(e=>function(e,t,n=sa){if(i=e.length){if((t=+t)<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,r=(i-1)*t,o=Math.floor(r),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(r-o)}}(i,e))},ca=function(e,t){return ua(e,[.25,.5,.75],t)};var da=function(e,t){const n=e.length,i=function(e,t){const n=function(e,t){let n,i=0,r=0,o=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(n=t-r,r+=n/++i,o+=n*(t-r));else{let a=-1;for(let s of e)null!=(s=t(s,++a,e))&&(s=+s)>=s&&(n=s-r,r+=n/++i,o+=n*(s-r))}if(i>1)return o/(i-1)}(e,t);return n?Math.sqrt(n):n}(e,t),r=ca(e,t),o=(r[2]-r[0])/1.34;return 1.06*(Math.min(i,o)||i||Math.abs(r[0])||1)*Math.pow(n,-.2)},ha=function(e){const t=e.maxbins||20,n=e.base||10,i=Math.log(n),r=e.divide||[5,2];let o,a,s,l,u,c,d=e.extent[0],h=e.extent[1];const f=e.span||h-d||Math.abs(d)||1;if(e.step)o=e.step;else if(e.steps){for(l=f/t,u=0,c=e.steps.length;u<c&&e.steps[u]<l;++u);o=e.steps[Math.max(0,u-1)]}else{for(a=Math.ceil(Math.log(t)/i),s=e.minstep||0,o=Math.max(s,Math.pow(n,Math.round(Math.log(f)/i)-a));Math.ceil(f/o)>t;)o*=n;for(u=0,c=r.length;u<c;++u)l=o/r[u],l>=s&&f/l<=t&&(o=l)}l=Math.log(o);const p=l>=0?0:1+~~(-l/i),g=Math.pow(n,-p-1);return(e.nice||void 0===e.nice)&&(l=Math.floor(d/o+g)*o,d=d<l?l-o:l,h=Math.ceil(h/o)*o),{start:d,stop:h===d?d+o:h,step:o}},fa=Math.random;function pa(e){fa=e}var ga=function(e,t,n,i){if(!e.length)return[void 0,void 0];const r=Float64Array.from(ia(e,i)),o=r.length,a=t;let s,l,u,c;for(u=0,c=Array(a);u<a;++u){for(s=0,l=0;l<o;++l)s+=r[~~(fa()*o)];c[u]=s/o}return c.sort(Ci),[la(c,n/2),la(c,1-n/2)]},ma=function(e,t,n,i){i=i||(e=>e);const r=e.length,o=new Float64Array(r);let a,s=0,l=1,u=i(e[0]),c=u,d=u+t;for(;l<r;++l){if(a=i(e[l]),a>=d){for(c=(u+c)/2;s<l;++s)o[s]=c;d=a+t,u=a}c=a}for(c=(u+c)/2;s<l;++s)o[s]=c;return n?function(e,t){const n=e.length;let i,r,o=0,a=1;for(;e[o]===e[a];)++a;for(;a<n;){for(i=a+1;e[a]===e[i];)++i;if(e[a]-e[a-1]<t){for(r=a+(o+i-a-a>>1);r<a;)e[r++]=e[a];for(;r>a;)e[r--]=e[o]}o=a,a=i}return e}(o,t+t/4):o};var va=function(e){return function(){return(e=(1103515245*e+12345)%2147483647)/2147483647}},ya=function(e,t){let n,i,r;null==t&&(t=e,e=0);const o={min(e){return arguments.length?(n=e||0,r=i-n,o):n},max(e){return arguments.length?(i=e||0,r=i-n,o):i},sample:()=>n+Math.floor(r*fa()),pdf:e=>e===Math.floor(e)&&e>=n&&e<i?1/r:0,cdf(e){const t=Math.floor(e);return t<n?0:t>=i?1:(t-n+1)/r},icdf:e=>e>=0&&e<=1?n-1+Math.floor(e*r):NaN};return o.min(e).max(t)};const ba=Math.sqrt(2*Math.PI),_a=Math.SQRT2;let wa=NaN;function xa(e,t){e=e||0,t=null==t?1:t;let n,i,r=0,o=0;if(wa==wa)r=wa,wa=NaN;else{do{r=2*fa()-1,o=2*fa()-1,n=r*r+o*o}while(0===n||n>1);i=Math.sqrt(-2*Math.log(n)/n),r*=i,wa=o*i}return e+r*t}function ka(e,t,n){const i=(e-(t||0))/(n=null==n?1:n);return Math.exp(-.5*i*i)/(n*ba)}function Oa(e,t,n){const i=(e-(t=t||0))/(n=null==n?1:n),r=Math.abs(i);let o;if(r>37)o=0;else{const e=Math.exp(-r*r/2);let t;r<7.07106781186547?(t=.0352624965998911*r+.700383064443688,t=t*r+6.37396220353165,t=t*r+33.912866078383,t=t*r+112.079291497871,t=t*r+221.213596169931,t=t*r+220.206867912376,o=e*t,t=.0883883476483184*r+1.75566716318264,t=t*r+16.064177579207,t=t*r+86.7807322029461,t=t*r+296.564248779674,t=t*r+637.333633378831,t=t*r+793.826512519948,t=t*r+440.413735824752,o/=t):(t=r+.65,t=r+4/t,t=r+3/t,t=r+2/t,t=r+1/t,o=e/t/2.506628274631)}return i>0?1-o:o}function Ea(e,t,n){return e<0||e>1?NaN:(t||0)+(null==n?1:n)*_a*function(e){let t,n=-Math.log((1-e)*(1+e));n<6.25?(n-=3.125,t=-364441206401782e-35,t=t*n-16850591381820166e-35,t=128584807152564e-32+t*n,t=11157877678025181e-33+t*n,t=t*n-1333171662854621e-31,t=20972767875968562e-33+t*n,t=6637638134358324e-30+t*n,t=t*n-4054566272975207e-29,t=t*n-8151934197605472e-29,t=26335093153082323e-28+t*n,t=t*n-12975133253453532e-27,t=t*n-5415412054294628e-26,t=1.0512122733215323e-9+t*n,t=t*n-4.112633980346984e-9,t=t*n-2.9070369957882005e-8,t=4.2347877827932404e-7+t*n,t=t*n-13654692000834679e-22,t=t*n-13882523362786469e-21,t=.00018673420803405714+t*n,t=t*n-.000740702534166267,t=t*n-.006033670871430149,t=.24015818242558962+t*n,t=1.6536545626831027+t*n):n<16?(n=Math.sqrt(n)-3.25,t=2.2137376921775787e-9,t=9.075656193888539e-8+t*n,t=t*n-2.7517406297064545e-7,t=1.8239629214389228e-8+t*n,t=15027403968909828e-22+t*n,t=t*n-4013867526981546e-21,t=29234449089955446e-22+t*n,t=12475304481671779e-21+t*n,t=t*n-47318229009055734e-21,t=6828485145957318e-20+t*n,t=24031110387097894e-21+t*n,t=t*n-.0003550375203628475,t=.0009532893797373805+t*n,t=t*n-.0016882755560235047,t=.002491442096107851+t*n,t=t*n-.003751208507569241,t=.005370914553590064+t*n,t=1.0052589676941592+t*n,t=3.0838856104922208+t*n):Number.isFinite(n)?(n=Math.sqrt(n)-5,t=-27109920616438573e-27,t=t*n-2.555641816996525e-10,t=1.5076572693500548e-9+t*n,t=t*n-3.789465440126737e-9,t=7.61570120807834e-9+t*n,t=t*n-1.496002662714924e-8,t=2.914795345090108e-8+t*n,t=t*n-6.771199775845234e-8,t=2.2900482228026655e-7+t*n,t=t*n-9.9298272942317e-7,t=4526062597223154e-21+t*n,t=t*n-1968177810553167e-20,t=7599527703001776e-20+t*n,t=t*n-.00021503011930044477,t=t*n-.00013871931833623122,t=1.0103004648645344+t*n,t=4.849906401408584+t*n):t=1/0;return t*e}(2*e-1)}var Sa=function(e,t){let n,i;const r={mean(e){return arguments.length?(n=e||0,r):n},stdev(e){return arguments.length?(i=null==e?1:e,r):i},sample:()=>xa(n,i),pdf:e=>ka(e,n,i),cdf:e=>Oa(e,n,i),icdf:e=>Ea(e,n,i)};return r.mean(e).stdev(t)},Da=function(e,t){const n=Sa();let i=0;const r={data(n){return arguments.length?(e=n,i=n?n.length:0,r.bandwidth(t)):e},bandwidth(n){return arguments.length?(!(t=n)&&e&&(t=da(e)),r):t},sample:()=>e[~~(fa()*i)]+t*n.sample(),pdf(r){let o=0,a=0;for(;a<i;++a)o+=n.pdf((r-e[a])/t);return o/t/i},cdf(r){let o=0,a=0;for(;a<i;++a)o+=n.cdf((r-e[a])/t);return o/i},icdf(){throw Error(\"KDE icdf not supported.\")}};return r.data(e)};function ja(e,t){return e=e||0,t=null==t?1:t,Math.exp(e+xa()*t)}function Ca(e,t,n){if(e<=0)return 0;t=t||0,n=null==n?1:n;const i=(Math.log(e)-t)/n;return Math.exp(-.5*i*i)/(n*ba*e)}function Ma(e,t,n){return Oa(Math.log(e),t,n)}function Ta(e,t,n){return Math.exp(Ea(e,t,n))}var Aa=function(e,t){let n,i;const r={mean(e){return arguments.length?(n=e||0,r):n},stdev(e){return arguments.length?(i=null==e?1:e,r):i},sample:()=>ja(n,i),pdf:e=>Ca(e,n,i),cdf:e=>Ma(e,n,i),icdf:e=>Ta(e,n,i)};return r.mean(e).stdev(t)},Fa=function(e,t){let n,i=0;const r={weights(e){return arguments.length?(n=function(e){const t=[];let n,r=0;for(n=0;n<i;++n)r+=t[n]=null==e[n]?1:+e[n];for(n=0;n<i;++n)t[n]/=r;return t}(t=e||[]),r):t},distributions(n){return arguments.length?(n?(i=n.length,e=n):(i=0,e=[]),r.weights(t)):e},sample(){const t=fa();let r=e[i-1],o=n[0],a=0;for(;a<i-1;o+=n[++a])if(t<o){r=e[a];break}return r.sample()},pdf(t){let r=0,o=0;for(;o<i;++o)r+=n[o]*e[o].pdf(t);return r},cdf(t){let r=0,o=0;for(;o<i;++o)r+=n[o]*e[o].cdf(t);return r},icdf(){throw Error(\"Mixture icdf not supported.\")}};return r.distributions(e).weights(t)};function Pa(e,t){return null==t&&(t=null==e?1:e,e=0),e+(t-e)*fa()}function Na(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=t&&e<=n?1/(n-t):0}function za(e,t,n){return null==n&&(n=null==t?1:t,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function Ra(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=0&&e<=1?t+e*(n-t):NaN}var Ia=function(e,t){let n,i;const r={min(e){return arguments.length?(n=e||0,r):n},max(e){return arguments.length?(i=null==e?1:e,r):i},sample:()=>Pa(n,i),pdf:e=>Na(e,n,i),cdf:e=>za(e,n,i),icdf:e=>Ra(e,n,i)};return null==t&&(t=null==e?1:e,e=0),r.min(e).max(t)},Ba=function(e,t,n,i){const r=i-e*e,o=Math.abs(r)<1e-24?0:(n-e*t)/r;return[t-o*e,o]};function La(e,t,n,i){e=e.filter(e=>{let i=t(e),r=n(e);return null!=i&&(i=+i)>=i&&null!=r&&(r=+r)>=r}),i&&e.sort((e,n)=>t(e)-t(n));const r=e.length,o=new Float64Array(r),a=new Float64Array(r);let s,l,u,c=0,d=0,h=0;for(u of e)o[c]=s=+t(u),a[c]=l=+n(u),++c,d+=(s-d)/c,h+=(l-h)/c;for(c=0;c<r;++c)o[c]-=d,a[c]-=h;return[o,a,d,h]}function $a(e,t,n,i){let r,o,a=-1;for(const s of e)r=t(s),o=n(s),null!=r&&(r=+r)>=r&&null!=o&&(o=+o)>=o&&i(r,o,++a)}var Wa=function(e,t,n,i,r){let o=0,a=0;return $a(e,t,n,(e,t)=>{const n=t-r(e),s=t-i;o+=n*n,a+=s*s}),1-o/a},Ua=function(e,t,n){let i=0,r=0,o=0,a=0,s=0;$a(e,t,n,(e,t)=>{++s,i+=(e-i)/s,r+=(t-r)/s,o+=(e*t-o)/s,a+=(e*e-a)/s});const l=Ba(i,r,o,a),u=e=>l[0]+l[1]*e;return{coef:l,predict:u,rSquared:Wa(e,t,n,r,u)}},Ya=function(e,t,n){let i=0,r=0,o=0,a=0,s=0;$a(e,t,n,(e,t)=>{++s,e=Math.log(e),i+=(e-i)/s,r+=(t-r)/s,o+=(e*t-o)/s,a+=(e*e-a)/s});const l=Ba(i,r,o,a),u=e=>l[0]+l[1]*Math.log(e);return{coef:l,predict:u,rSquared:Wa(e,t,n,r,u)}},Ha=function(e,t,n){const[i,r,o,a]=La(e,t,n);let s,l,u,c=0,d=0,h=0,f=0,p=0;$a(e,t,n,(e,t)=>{s=i[p++],l=Math.log(t),u=s*t,c+=(t*l-c)/p,d+=(u-d)/p,h+=(u*l-h)/p,f+=(s*u-f)/p});const[g,m]=Ba(d/a,c/a,h/a,f/a),v=e=>Math.exp(g+m*(e-o));return{coef:[Math.exp(g-m*o),m],predict:v,rSquared:Wa(e,t,n,a,v)}},qa=function(e,t,n){let i=0,r=0,o=0,a=0,s=0,l=0;$a(e,t,n,(e,t)=>{const n=Math.log(e),u=Math.log(t);++l,i+=(n-i)/l,r+=(u-r)/l,o+=(n*u-o)/l,a+=(n*n-a)/l,s+=(t-s)/l});const u=Ba(i,r,o,a),c=e=>u[0]*Math.pow(e,u[1]);return u[0]=Math.exp(u[0]),{coef:u,predict:c,rSquared:Wa(e,t,n,s,c)}},Va=function(e,t,n){const[i,r,o,a]=La(e,t,n),s=i.length;let l,u,c,d,h=0,f=0,p=0,g=0,m=0;for(l=0;l<s;)u=i[l],c=r[l++],d=u*u,h+=(d-h)/l,f+=(d*u-f)/l,p+=(d*d-p)/l,g+=(u*c-g)/l,m+=(d*c-m)/l;const v=p-h*h,y=h*v-f*f,b=(m*h-g*f)/y,_=(g*v-m*f)/y,w=-b*h,x=e=>b*(e-=o)*e+_*e+w+a;return{coef:[w-_*o+b*o*o+a,_-2*b*o,b],predict:x,rSquared:Wa(e,t,n,a,x)}},Ga=function(e,t,n,i){if(1===i)return Ua(e,t,n);if(2===i)return Va(e,t,n);const[r,o,a,s]=La(e,t,n),l=r.length,u=[],c=[],d=i+1;let h,f,p,g,m;for(h=0;h<d;++h){for(p=0,g=0;p<l;++p)g+=Math.pow(r[p],h)*o[p];for(u.push(g),m=new Float64Array(d),f=0;f<d;++f){for(p=0,g=0;p<l;++p)g+=Math.pow(r[p],h+f);m[f]=g}c.push(m)}c.push(u);const v=function(e){const t=e.length-1,n=[];let i,r,o,a,s;for(i=0;i<t;++i){for(a=i,r=i+1;r<t;++r)Math.abs(e[i][r])>Math.abs(e[i][a])&&(a=r);for(o=i;o<t+1;++o)s=e[o][i],e[o][i]=e[o][a],e[o][a]=s;for(r=i+1;r<t;++r)for(o=t;o>=i;o--)e[o][r]-=e[o][i]*e[i][r]/e[i][i]}for(r=t-1;r>=0;--r){for(s=0,o=r+1;o<t;++o)s+=e[o][r]*n[o];n[r]=(e[t][r]-s)/e[r][r]}return n}(c),y=e=>{e-=a;let t=s+v[0]+v[1]*e+v[2]*e*e;for(h=3;h<d;++h)t+=v[h]*Math.pow(e,h);return t};return{coef:Xa(d,v,-a,s),predict:y,rSquared:Wa(e,t,n,s,y)}};function Xa(e,t,n,i){const r=Array(e);let o,a,s,l;for(o=0;o<e;++o)r[o]=0;for(o=e-1;o>=0;--o)for(s=t[o],l=1,r[o]+=s,a=1;a<=o;++a)l*=(o+1-a)/a,r[o-a]+=s*Math.pow(n,a)*l;return r[0]+=i,r}var Za=function(e,t){return la(e,.5,t)};var Qa=function(e,t,n,i){const[r,o,a,s]=La(e,t,n,!0),l=r.length,u=Math.max(2,~~(i*l)),c=new Float64Array(l),d=new Float64Array(l),h=new Float64Array(l).fill(1);for(let e=-1;++e<=2;){const t=[0,u-1];for(let e=0;e<l;++e){const n=r[e],i=t[0],a=t[1],s=n-r[i]>r[a]-n?i:a;let l=0,u=0,f=0,p=0,g=0;const m=1/Math.abs(r[s]-n||1);for(let e=i;e<=a;++e){const t=r[e],i=o[e],a=Ja(Math.abs(n-t)*m)*h[e],s=t*a;l+=a,u+=s,f+=i*a,p+=i*s,g+=t*s}const[v,y]=Ba(u/l,f/l,p/l,g/l);c[e]=v+y*n,d[e]=Math.abs(o[e]-c[e]),Ka(r,e+1,t)}if(2===e)break;const n=Za(d);if(Math.abs(n)<1e-12)break;for(let e,t,i=0;i<l;++i)e=d[i]/(6*n),h[i]=e>=1?1e-12:(t=1-e*e)*t}return function(e,t,n,i){const r=e.length,o=[];let a,s=0,l=0,u=[];for(;s<r;++s)a=e[s]+n,u[0]===a?u[1]+=(t[s]-u[1])/++l:(l=0,u[1]+=i,u=[a,t[s]],o.push(u));return u[1]+=i,o}(r,c,a,s)};function Ja(e){return(e=1-e*e*e)*e*e}function Ka(e,t,n){const i=e[t];let r=n[0],o=n[1]+1;if(!(o>=e.length))for(;t>r&&e[o]-i<=i-e[r];)n[0]=++r,n[1]=o,++o}const es=.1*Math.PI/180;var ts=function(e,t,n,i){n=n||25,i=Math.max(n,i||200);const r=t=>[t,e(t)],o=t[0],a=t[1],s=a-o,l=s/i,u=[r(o)],c=[];if(n===i){for(let e=1;e<i;++e)u.push(r(o+e/n*s));return u.push(r(a)),u}c.push(r(a));for(let e=n;--e>0;)c.push(r(o+e/n*s));let d=u[0],h=c[c.length-1];for(;h;){const e=r((d[0]+h[0])/2);e[0]-d[0]>=l&&ns(d,e,h)>es?c.push(e):(d=h,u.push(h),c.pop()),h=c[c.length-1]}return u};function ns(e,t,n){const i=Math.atan2(n[1]-e[1],n[0]-e[0]),r=Math.atan2(t[1]-e[1],t[0]-e[0]);return Math.abs(i-r)}function is(e){this._key=e?Object(se.u)(e):fe,this.reset()}const rs=is.prototype;function os(e){Lo.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}rs.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},rs.add=function(e){this._add.push(e)},rs.rem=function(e){this._rem.push(e)},rs.values=function(){if(this._get=null,0===this._rem.length)return this._add;const e=this._add,t=this._rem,n=this._key,i=e.length,r=t.length,o=Array(i-r),a={};let s,l,u;for(s=0;s<r;++s)a[n(t[s])]=1;for(s=0,l=0;s<i;++s)a[n(u=e[s])]?a[n(u)]=0:o[l++]=u;return this._rem=[],this._add=o},rs.distinct=function(e){const t=this.values(),n={};let i,r=t.length,o=0;for(;--r>=0;)i=e(t[r])+\"\",Object(se.w)(n,i)||(n[i]=1,++o);return o},rs.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=Object(se.r)(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext},rs.argmin=function(e){return this.extent(e)[0]||{}},rs.argmax=function(e){return this.extent(e)[1]||{}},rs.min=function(e){const t=this.extent(e)[0];return null!=t?e(t):void 0},rs.max=function(e){const t=this.extent(e)[1];return null!=t?e(t):void 0},rs.quartile=function(e){return this._get===e&&this._q||(this._q=ca(this.values(),e),this._get=e),this._q},rs.q1=function(e){return this.quartile(e)[0]},rs.q2=function(e){return this.quartile(e)[1]},rs.q3=function(e){return this.quartile(e)[2]},rs.ci=function(e){return this._get===e&&this._ci||(this._ci=ga(this.values(),1e3,.05,e),this._get=e),this._ci},rs.ci0=function(e){return this.ci(e)[0]},rs.ci1=function(e){return this.ci(e)[1]},os.Definition={type:\"Aggregate\",metadata:{generates:!0,changes:!0},params:[{name:\"groupby\",type:\"field\",array:!0},{name:\"ops\",type:\"enum\",array:!0,values:Xo},{name:\"fields\",type:\"field\",null:!0,array:!0},{name:\"as\",type:\"string\",null:!0,array:!0},{name:\"drop\",type:\"boolean\",default:!0},{name:\"cross\",type:\"boolean\",default:!1},{name:\"key\",type:\"field\"}]},Object(se.z)(os,Lo,{transform(e,t){const n=this,i=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.modified();return n.stamp=i.stamp,n.value&&(r||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=r?n.init(e):{},t.visit(t.SOURCE,e=>n.add(e))):(n.value=n.value||n.init(e),t.visit(t.REM,e=>n.rem(e)),t.visit(t.ADD,e=>n.add(e))),i.modifies(n._outputs),n._drop=!1!==e.drop,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&i.clean(!0).runAfter(()=>this.clean()),n.changes(i)},cross(){const e=this,t=e.value,n=e._dnames,i=n.map(()=>({})),r=n.length;function o(e){let t,o,a,s;for(t in e)for(a=e[t].tuple,o=0;o<r;++o)i[o][s=a[n[o]]]=s}o(e._prev),o(t),function o(a,s,l){const u=n[l],c=i[l++];for(const n in c){const i=a?a+\"|\"+n:n;s[u]=c[n],l<r?o(i,s,l):t[i]||e.cell(i,s)}}(\"\",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],i={};function r(e){const n=Object(se.i)(Object(se.g)(e)),r=n.length;let o,a=0;for(;a<r;++a)i[o=n[a]]||(i[o]=1,t.push(o))}this._dims=Object(se.i)(e.groupby),this._dnames=this._dims.map(e=>{var t=Object(se.h)(e);return r(e),n.push(t),t}),this.cellkey=e.key?e.key:Yo(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const o=e.fields||[null],a=e.ops||[\"count\"],s=e.as||[],l=o.length,u={};let c,d,h,f,p,g;for(l!==a.length&&Object(se.o)(\"Unmatched number of fields and aggregate ops.\"),g=0;g<l;++g)c=o[g],d=a[g],null==c&&\"count\"!==d&&Object(se.o)(\"Null aggregate field specified.\"),f=Object(se.h)(c),p=Ho(d,f,s[g]),n.push(p),\"count\"!==d?(h=u[f],h||(r(c),h=u[f]=[],h.field=c,this._measures.push(h)),\"count\"!==d&&(this._countOnly=!1),h.push(Zo(d,p))):this._counts.push(p);return this._measures=this._measures.map(e=>na(e,e.field)),{}},cellkey:Yo(),cell(e,t){let n=this.value[e];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const e=this._measures,t=e.length;n.agg=Array(t);for(let i=0;i<t;++i)n.agg[i]=new e[i](n)}return n.store&&(n.data=new is),n},newtuple(e,t){const n=this._dnames,i=this._dims,r=i.length,o={};for(let t=0;t<r;++t)o[n[t]]=i[t](e);return t?ye(t.tuple,o):ge(o)},clean(){const e=this.value;for(const t in e)0===e[t].num&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const i=n.agg;for(let t=0,n=i.length;t<n;++t)i[t].add(i[t].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const i=n.agg;for(let t=0,n=i.length;t<n;++t)i[t].rem(i[t].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let i=0,r=n.length;i<r;++i)t[n[i]]=e.num;if(!this._countOnly){const n=e.agg;for(let e=0,i=n.length;e<i;++e)n[e].set(t)}return t},changes(e){const t=this._adds,n=this._mods,i=this._prev,r=this._drop,o=e.add,a=e.rem,s=e.mod;let l,u,c,d;if(i)for(u in i)l=i[u],r&&!l.num||a.push(l.tuple);for(c=0,d=this._alen;c<d;++c)o.push(this.celltuple(t[c])),t[c]=null;for(c=0,d=this._mlen;c<d;++c)l=n[c],(0===l.num&&r?a:s).push(this.celltuple(l)),n[c]=null;return this._alen=this._mlen=0,this._prev=null,e}});function as(e){Lo.call(this,null,e)}as.Definition={type:\"Bin\",metadata:{modifies:!0},params:[{name:\"field\",type:\"field\",required:!0},{name:\"interval\",type:\"boolean\",default:!0},{name:\"anchor\",type:\"number\"},{name:\"maxbins\",type:\"number\",default:20},{name:\"base\",type:\"number\",default:10},{name:\"divide\",type:\"number\",array:!0,default:[5,2]},{name:\"extent\",type:\"number\",array:!0,length:2,required:!0},{name:\"span\",type:\"number\"},{name:\"step\",type:\"number\"},{name:\"steps\",type:\"number\",array:!0},{name:\"minstep\",type:\"number\",default:0},{name:\"nice\",type:\"boolean\",default:!0},{name:\"name\",type:\"string\"},{name:\"as\",type:\"string\",array:!0,length:2,default:[\"bin0\",\"bin1\"]}]},Object(se.z)(as,Lo,{transform(e,t){const n=!1!==e.interval,i=this._bins(e),r=i.start,o=i.step,a=e.as||[\"bin0\",\"bin1\"],s=a[0],l=a[1];let u;return u=e.modified()?(t=t.reflow(!0)).SOURCE:t.modified(Object(se.g)(e.field))?t.ADD_MOD:t.ADD,t.visit(u,n?e=>{const t=i(e);e[s]=t,e[l]=null==t?null:r+o*(1+(t-r)/o)}:e=>e[s]=i(e)),t.modifies(n?a:s)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=ha(e),i=n.step;let r,o,a=n.start,s=a+Math.ceil((n.stop-a)/i)*i;null!=(r=e.anchor)&&(o=r-(a+i*Math.floor((r-a)/i)),a+=o,s+=o);const l=function(e){let n=Object(se.db)(t(e));return null==n?null:n<a?-1/0:n>s?1/0:(n=Math.max(a,Math.min(n,s-i)),a+i*Math.floor(1e-14+(n-a)/i))};return l.start=a,l.stop=n.stop,l.step=i,this.value=Object(se.f)(l,Object(se.g)(t),e.name||\"bin_\"+Object(se.h)(t))}});var ss=function(e,t,n){const i=e;let r=t||[],o=n||[],a={},s=0;return{add:e=>o.push(e),remove:e=>a[i(e)]=++s,size:()=>r.length,data:(e,t)=>(s&&(r=r.filter(e=>!a[i(e)]),a={},s=0),t&&e&&r.sort(e),o.length&&(r=e?Object(se.N)(e,r,o.sort(e)):r.concat(o),o=[]),r)}};function ls(e){Lo.call(this,[],e)}function us(e){Ee.call(this,null,cs,e)}function cs(e){return this.value&&!e.modified()?this.value:Object(se.l)(e.fields,e.orders)}function ds(e){Lo.call(this,null,e)}function hs(e){Lo.call(this,null,e)}ls.Definition={type:\"Collect\",metadata:{source:!0},params:[{name:\"sort\",type:\"compare\"}]},Object(se.z)(ls,Lo,{transform(e,t){const n=t.fork(t.ALL),i=ss(fe,this.value,n.materialize(n.ADD).add),r=e.sort,o=t.changed()||r&&(e.modified(\"sort\")||t.modified(r.fields));return n.visit(n.REM,i.remove),this.modified(o),this.value=n.source=i.data(be(r),o),t.source&&t.source.root&&(this.value.root=t.source.root),n}}),Object(se.z)(us,Ee),ds.Definition={type:\"CountPattern\",metadata:{generates:!0,changes:!0},params:[{name:\"field\",type:\"field\",required:!0},{name:\"case\",type:\"enum\",values:[\"upper\",\"lower\",\"mixed\"],default:\"mixed\"},{name:\"pattern\",type:\"string\",default:'[\\\\w\"]+'},{name:\"stopwords\",type:\"string\",default:\"\"},{name:\"as\",type:\"string\",array:!0,length:2,default:[\"text\",\"count\"]}]},Object(se.z)(ds,Lo,{transform(e,t){const n=t=>n=>{for(var i,r=function(e,t,n){switch(t){case\"upper\":e=e.toUpperCase();break;case\"lower\":e=e.toLowerCase()}return e.match(n)}(s(n),e.case,o)||[],l=0,u=r.length;l<u;++l)a.test(i=r[l])||t(i)},i=this._parameterCheck(e,t),r=this._counts,o=this._match,a=this._stop,s=e.field,l=e.as||[\"text\",\"count\"],u=n(e=>r[e]=1+(r[e]||0)),c=n(e=>r[e]-=1);return i?t.visit(t.SOURCE,u):(t.visit(t.ADD,u),t.visit(t.REM,c)),this._finish(t,l)},_parameterCheck(e,t){let n=!1;return!e.modified(\"stopwords\")&&this._stop||(this._stop=new RegExp(\"^\"+(e.stopwords||\"\")+\"$\",\"i\"),n=!0),!e.modified(\"pattern\")&&this._match||(this._match=new RegExp(e.pattern||\"[\\\\w']+\",\"g\"),n=!0),(e.modified(\"field\")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,i=this._tuples||(this._tuples={}),r=t[0],o=t[1],a=e.fork(e.NO_SOURCE|e.NO_FIELDS);let s,l,u;for(s in n)l=i[s],u=n[s]||0,!l&&u?(i[s]=l=ge({}),l[r]=s,l[o]=u,a.add.push(l)):0===u?(l&&a.rem.push(l),n[s]=null,i[s]=null):l[o]!==u&&(l[o]=u,a.mod.push(l));return a.modifies(t)}}),hs.Definition={type:\"Cross\",metadata:{generates:!0},params:[{name:\"filter\",type:\"expr\"},{name:\"as\",type:\"string\",array:!0,length:2,default:[\"a\",\"b\"]}]},Object(se.z)(hs,Lo,{transform(e,t){const n=t.fork(t.NO_SOURCE),i=e.as||[\"a\",\"b\"],r=i[0],o=i[1],a=!this.value||t.changed(t.ADD_REM)||e.modified(\"as\")||e.modified(\"filter\");let s=this.value;return a?(s&&(n.rem=s),s=t.materialize(t.SOURCE).source,n.add=this.value=function(e,t,n,i){for(var r,o,a=[],s={},l=e.length,u=0;u<l;++u)for(s[t]=o=e[u],r=0;r<l;++r)s[n]=e[r],i(s)&&(a.push(ge(s)),(s={})[t]=o);return a}(s,r,o,e.filter||se.hb)):n.mod=s,n.source=this.value,n.modifies(i)}});const fs={kde:Da,mixture:Fa,normal:Sa,lognormal:Aa,uniform:Ia};function ps(e){Lo.call(this,null,e)}var gs=[{key:{function:\"normal\"},params:[{name:\"mean\",type:\"number\",default:0},{name:\"stdev\",type:\"number\",default:1}]},{key:{function:\"lognormal\"},params:[{name:\"mean\",type:\"number\",default:0},{name:\"stdev\",type:\"number\",default:1}]},{key:{function:\"uniform\"},params:[{name:\"min\",type:\"number\",default:0},{name:\"max\",type:\"number\",default:1}]},{key:{function:\"kde\"},params:[{name:\"field\",type:\"field\",required:!0},{name:\"from\",type:\"data\"},{name:\"bandwidth\",type:\"number\",default:0}]}],ms={key:{function:\"mixture\"},params:[{name:\"distributions\",type:\"param\",array:!0,params:gs},{name:\"weights\",type:\"number\",array:!0}]};function vs(e,t){return e?e.map((e,n)=>t[n]||Object(se.h)(e)):null}function ys(e,t,n){const i=[],r=e=>e(l);let o,a,s,l,u,c;if(null==t)i.push(e.map(n));else for(o={},a=0,s=e.length;a<s;++a)l=e[a],u=t.map(r),c=o[u],c||(o[u]=c=[],c.dims=u,i.push(c)),c.push(n(l));return i}ps.Definition={type:\"Density\",metadata:{generates:!0},params:[{name:\"extent\",type:\"number\",array:!0,length:2},{name:\"steps\",type:\"number\"},{name:\"minsteps\",type:\"number\",default:25},{name:\"maxsteps\",type:\"number\",default:200},{name:\"method\",type:\"string\",default:\"pdf\",values:[\"pdf\",\"cdf\"]},{name:\"distribution\",type:\"param\",params:gs.concat(ms)},{name:\"as\",type:\"string\",array:!0,default:[\"value\",\"density\"]}]},Object(se.z)(ps,Lo,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const i=function e(t,n){const i=t.function;Object(se.w)(fs,i)||Object(se.o)(\"Unknown distribution function: \"+i);const r=fs[i]();for(const i in t)\"field\"===i?r.data((t.from||n()).map(t[i])):\"distributions\"===i?r[i](t[i].map(t=>e(t,n))):\"function\"==typeof r[i]&&r[i](t[i]);return r}(e.distribution,function(e){return()=>e.materialize(e.SOURCE).source}(t)),r=e.steps||e.minsteps||25,o=e.steps||e.maxsteps||200;let a=e.method||\"pdf\";\"pdf\"!==a&&\"cdf\"!==a&&Object(se.o)(\"Invalid density method: \"+a),e.extent||i.data||Object(se.o)(\"Missing density extent parameter.\"),a=i[a];const s=e.as||[\"value\",\"density\"],l=e.extent||Object(se.q)(i.data()),u=ts(a,l,r,o).map(e=>{const t={};return t[s[0]]=e[0],t[s[1]]=e[1],ge(t)});this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});function bs(e){Lo.call(this,null,e)}bs.Definition={type:\"DotBin\",metadata:{modifies:!0},params:[{name:\"field\",type:\"field\",required:!0},{name:\"groupby\",type:\"field\",array:!0},{name:\"step\",type:\"number\"},{name:\"smooth\",type:\"boolean\",default:!1},{name:\"as\",type:\"string\",default:\"bin\"}]};function _s(e){Ee.call(this,null,ws,e),this.modified(!0)}function ws(e){const t=e.expr;return this.value&&!e.modified(\"expr\")?this.value:Object(se.f)(n=>t(n,e),Object(se.g)(t),Object(se.h)(t))}function xs(e){Lo.call(this,[void 0,void 0],e)}function ks(e,t){Ee.call(this,e),this.parent=t,this.count=0}function Os(e){Lo.call(this,{},e),this._keys=Object(se.t)();const t=this._targets=[];t.active=0,t.forEach=e=>{for(let n=0,i=t.active;n<i;++n)e(t[n],n,t)}}function Es(e){Ee.call(this,null,Ss,e)}function Ss(e){return this.value&&!e.modified()?this.value:Object(se.B)(e.name)?Object(se.i)(e.name).map(e=>Object(se.u)(e)):Object(se.u)(e.name,e.as)}function Ds(e){Lo.call(this,Object(se.t)(),e)}function js(e){Lo.call(this,[],e)}function Cs(e){Lo.call(this,[],e)}function Ms(e){Lo.call(this,null,e)}function Ts(e){Lo.call(this,[],e)}Object(se.z)(bs,Lo,{transform(e,t){if(this.value&&!e.modified()&&!t.changed())return t;const n=t.materialize(t.SOURCE).source,i=ys(t.source,e.groupby,se.y),r=e.smooth||!1,o=e.field,a=e.step||((e,t)=>Object(se.Y)(Object(se.q)(e,t))/30)(n,o),s=be((e,t)=>o(e)-o(t)),l=e.as||\"bin\",u=i.length;let c,d=1/0,h=-1/0,f=0;for(;f<u;++f){const e=i[f].sort(s);c=-1;for(const t of ma(e,a,r,o))t<d&&(d=t),t>h&&(h=t),e[++c][l]=t}return this.value={start:d,stop:h,step:a},t.reflow(!0).modifies(l)}}),Object(se.z)(_s,Ee),xs.Definition={type:\"Extent\",metadata:{},params:[{name:\"field\",type:\"field\",required:!0}]},Object(se.z)(xs,Lo,{transform(e,t){const n=this.value,i=e.field,r=t.changed()||t.modified(i.fields)||e.modified(\"field\");let o=n[0],a=n[1];if((r||null==o)&&(o=1/0,a=-1/0),t.visit(r?t.SOURCE:t.ADD,e=>{const t=Object(se.db)(i(e));null!=t&&(t<o&&(o=t),t>a&&(a=t))}),!Number.isFinite(o)||!Number.isFinite(a)){let e=Object(se.h)(i);e&&(e=` for field \"${e}\"`),t.dataflow.warn(`Infinite extent${e}: [${o}, ${a}]`),o=a=void 0}this.value=[o,a]}}),Object(se.z)(ks,Ee,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}}),Object(se.z)(Os,Lo,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,i){const r=this.value;let o,a,s=Object(se.w)(r,e)&&r[e];return s?s.value.stamp<n.stamp&&(s.init(n),this.activate(s)):(a=i||(a=this._group[e])&&a.tuple,o=n.dataflow,s=new ks(n.fork(n.NO_SOURCE),this),o.add(s).connect(t(o,e,a)),r[e]=s,this.activate(s)),s},clean(){const e=this.value;for(const t in e)if(0===e[t].count){const n=e[t].detachSubflow;n&&n(),delete e[t]}},initTargets(){const e=this._targets,t=e.length;for(let n=0;n<t&&null!=e[n];++n)e[n]=null;e.active=0},transform(e,t){const n=t.dataflow,i=e.key,r=e.subflow,o=this._keys,a=e.modified(\"key\"),s=e=>this.subflow(e,r,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,e=>{const t=fe(e),n=o.get(t);void 0!==n&&(o.delete(t),s(n).rem(e))}),t.visit(t.ADD,e=>{const t=i(e);o.set(fe(e),t),s(t).add(e)}),a||t.modified(i.fields)?t.visit(t.MOD,e=>{const t=fe(e),n=o.get(t),r=i(e);n===r?s(r).mod(e):(o.set(t,r),s(n).rem(e),s(r).add(e))}):t.changed(t.MOD)&&t.visit(t.MOD,e=>{s(o.get(fe(e))).mod(e)}),a&&t.visit(t.REFLOW,e=>{const t=fe(e),n=o.get(t),r=i(e);n!==r&&(o.set(t,r),s(n).rem(e),s(r).add(e))}),t.clean()?n.runAfter(()=>{this.clean(),o.clean()}):o.empty>n.cleanThreshold&&n.runAfter(o.clean),t}}),Object(se.z)(Es,Ee),Ds.Definition={type:\"Filter\",metadata:{changes:!0},params:[{name:\"expr\",type:\"expr\",required:!0}]},Object(se.z)(Ds,Lo,{transform(e,t){const n=t.dataflow,i=this.value,r=t.fork(),o=r.add,a=r.rem,s=r.mod,l=e.expr;let u=!0;function c(t){const n=fe(t),r=l(t,e),c=i.get(n);r&&c?(i.delete(n),o.push(t)):r||c?u&&r&&!c&&s.push(t):(i.set(n,1),a.push(t))}return t.visit(t.REM,e=>{var t=fe(e);i.has(t)?i.delete(t):a.push(e)}),t.visit(t.ADD,t=>{l(t,e)?o.push(t):i.set(fe(t),1)}),t.visit(t.MOD,c),e.modified()&&(u=!1,t.visit(t.REFLOW,c)),i.empty>n.cleanThreshold&&n.runAfter(i.clean),r}}),js.Definition={type:\"Flatten\",metadata:{generates:!0},params:[{name:\"fields\",type:\"field\",array:!0,required:!0},{name:\"index\",type:\"string\"},{name:\"as\",type:\"string\",array:!0}]},Object(se.z)(js,Lo,{transform(e,t){const n=t.fork(t.NO_SOURCE),i=e.fields,r=vs(i,e.as||[]),o=e.index||null,a=r.length;return n.rem=this.value,t.visit(t.SOURCE,e=>{const t=i.map(t=>t(e)),s=t.reduce((e,t)=>Math.max(e,t.length),0);let l,u,c,d=0;for(;d<s;++d){for(u=me(e),l=0;l<a;++l)u[r[l]]=null==(c=t[l][d])?null:c;o&&(u[o]=d),n.add.push(u)}}),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(r)}}),Cs.Definition={type:\"Fold\",metadata:{generates:!0},params:[{name:\"fields\",type:\"field\",array:!0,required:!0},{name:\"as\",type:\"string\",array:!0,length:2,default:[\"key\",\"value\"]}]},Object(se.z)(Cs,Lo,{transform(e,t){const n=t.fork(t.NO_SOURCE),i=e.fields,r=i.map(se.h),o=e.as||[\"key\",\"value\"],a=o[0],s=o[1],l=i.length;return n.rem=this.value,t.visit(t.SOURCE,e=>{for(let t,o=0;o<l;++o)t=me(e),t[a]=r[o],t[s]=i[o](e),n.add.push(t)}),this.value=n.source=n.add,n.modifies(o)}}),Ms.Definition={type:\"Formula\",metadata:{modifies:!0},params:[{name:\"expr\",type:\"expr\",required:!0},{name:\"as\",type:\"string\",required:!0},{name:\"initonly\",type:\"boolean\"}]},Object(se.z)(Ms,Lo,{transform(e,t){const n=e.expr,i=e.as,r=e.modified(),o=e.initonly?t.ADD:r?t.SOURCE:t.modified(n.fields)||t.modified(i)?t.ADD_MOD:t.ADD;return r&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(i),t.visit(o,t=>t[i]=n(t,e))}}),Object(se.z)(Ts,Lo,{transform(e,t){const n=t.fork(t.ALL),i=e.generator;let r,o,a,s=this.value,l=e.size-s.length;if(l>0){for(r=[];--l>=0;)r.push(a=ge(i(e))),s.push(a);n.add=n.add.length?n.materialize(n.ADD).add.concat(r):r}else o=s.slice(0,-l),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(o):o,s=s.slice(-l);return n.source=this.value=s,n}});const As={value:\"value\",median:Za,mean:function(e,t){let n=0,i=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(++n,i+=t);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(o=+o)>=o&&(++n,i+=o)}if(n)return i/n},min:oa,max:ra},Fs=[];function Ps(e){Lo.call(this,[],e)}function Ns(e){os.call(this,e)}function zs(e){Lo.call(this,null,e)}function Rs(e){Ee.call(this,null,Is,e)}function Is(e){return this.value&&!e.modified()?this.value:Object(se.J)(e.fields,e.flat)}function Bs(e){Lo.call(this,[],e),this._pending=null}function Ls(e,t,n){n.forEach(ge);const i=t.fork(t.NO_FIELDS&t.NO_SOURCE);return i.rem=e.value,e.value=i.source=i.add=n,e._pending=null,i.rem.length&&i.clean(!0),i}function $s(e){Lo.call(this,{},e)}function Ws(e){Ee.call(this,null,Us,e)}function Us(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let i,r,o=1/0,a=-1/0;for(i=0;i<n;++i)r=t[i],r[0]<o&&(o=r[0]),r[1]>a&&(a=r[1]);return[o,a]}function Ys(e){Ee.call(this,null,Hs,e)}function Hs(e){return this.value&&!e.modified()?this.value:e.values.reduce((e,t)=>e.concat(t),[])}function qs(e){Lo.call(this,null,e)}function Vs(e){os.call(this,e)}function Gs(e){Os.call(this,e)}function Xs(e){Lo.call(this,null,e)}function Zs(e){Lo.call(this,null,e)}Ps.Definition={type:\"Impute\",metadata:{changes:!0},params:[{name:\"field\",type:\"field\",required:!0},{name:\"key\",type:\"field\",required:!0},{name:\"keyvals\",array:!0},{name:\"groupby\",type:\"field\",array:!0},{name:\"method\",type:\"enum\",default:\"value\",values:[\"value\",\"mean\",\"median\",\"max\",\"min\"]},{name:\"value\",default:0}]},Object(se.z)(Ps,Lo,{transform(e,t){var n,i,r,o,a,s,l,u,c,d,h=t.fork(t.ALL),f=function(e){var t,n=e.method||As.value;if(null!=As[n])return n===As.value?(t=void 0!==e.value?e.value:0,()=>t):As[n];Object(se.o)(\"Unrecognized imputation method: \"+n)}(e),p=function(e){var t=e.field;return e=>e?t(e):NaN}(e),g=Object(se.h)(e.field),m=Object(se.h)(e.key),v=(e.groupby||[]).map(se.h),y=function(e,t,n,i){var r,o,a,s,l,u,c,d,h=e=>e(d),f=[],p=i?i.slice():[],g={},m={};for(p.forEach((e,t)=>g[e]=t+1),s=0,c=e.length;s<c;++s)d=e[s],u=n(d),l=g[u]||(g[u]=p.push(u)),o=(r=t?t.map(h):Fs)+\"\",(a=m[o])||(a=m[o]=[],f.push(a),a.values=r),a[l-1]=d;return f.domain=p,f}(t.source,e.groupby,e.key,e.keyvals),b=[],_=this.value,w=y.domain.length;for(a=0,u=y.length;a<u;++a)for(r=(n=y[a]).values,i=NaN,l=0;l<w;++l)if(null==n[l]){for(o=y.domain[l],d={_impute:!0},s=0,c=r.length;s<c;++s)d[v[s]]=r[s];d[m]=o,d[g]=Number.isNaN(i)?i=f(n,p):i,b.push(ge(d))}return b.length&&(h.add=h.materialize(h.ADD).add.concat(b)),_.length&&(h.rem=h.materialize(h.REM).rem.concat(_)),this.value=b,h}}),Ns.Definition={type:\"JoinAggregate\",metadata:{modifies:!0},params:[{name:\"groupby\",type:\"field\",array:!0},{name:\"fields\",type:\"field\",null:!0,array:!0},{name:\"ops\",type:\"enum\",array:!0,values:Xo},{name:\"as\",type:\"string\",null:!0,array:!0},{name:\"key\",type:\"field\"}]},Object(se.z)(Ns,os,{transform(e,t){const n=this,i=e.modified();let r;return n.value&&(i||t.modified(n._inputs,!0))?(r=n.value=i?n.init(e):{},t.visit(t.SOURCE,e=>n.add(e))):(r=n.value=n.value||this.init(e),t.visit(t.REM,e=>n.rem(e)),t.visit(t.ADD,e=>n.add(e))),n.changes(),t.visit(t.SOURCE,e=>{Object(se.p)(e,r[n.cellkey(e)].tuple)}),t.reflow(i).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,i;for(n=0,i=this._alen;n<i;++n)this.celltuple(e[n]),e[n]=null;for(n=0,i=this._mlen;n<i;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}}),zs.Definition={type:\"KDE\",metadata:{generates:!0},params:[{name:\"groupby\",type:\"field\",array:!0},{name:\"field\",type:\"field\",required:!0},{name:\"cumulative\",type:\"boolean\",default:!1},{name:\"counts\",type:\"boolean\",default:!1},{name:\"bandwidth\",type:\"number\",default:0},{name:\"extent\",type:\"number\",array:!0,length:2},{name:\"resolve\",type:\"enum\",values:[\"shared\",\"independent\"],default:\"independent\"},{name:\"steps\",type:\"number\"},{name:\"minsteps\",type:\"number\",default:25},{name:\"maxsteps\",type:\"number\",default:200},{name:\"as\",type:\"string\",array:!0,default:[\"value\",\"density\"]}]},Object(se.z)(zs,Lo,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const i=t.materialize(t.SOURCE).source,r=ys(i,e.groupby,e.field),o=(e.groupby||[]).map(se.h),a=e.bandwidth,s=e.cumulative?\"cdf\":\"pdf\",l=e.as||[\"value\",\"density\"],u=[];let c=e.extent,d=e.steps||e.minsteps||25,h=e.steps||e.maxsteps||200;\"pdf\"!==s&&\"cdf\"!==s&&Object(se.o)(\"Invalid density method: \"+s),\"shared\"===e.resolve&&(c||(c=Object(se.q)(i,e.field)),d=h=e.steps||h),r.forEach(t=>{const n=Da(t,a)[s],i=e.counts?t.length:1,r=c||Object(se.q)(t);ts(n,r,d,h).forEach(e=>{const n={};for(let e=0;e<o.length;++e)n[o[e]]=t.dims[e];n[l[0]]=e[0],n[l[1]]=e[1]*i,u.push(ge(n))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}}),Object(se.z)(Rs,Ee),Object(se.z)(Bs,Lo,{transform(e,t){const n=t.dataflow;if(this._pending)return Ls(this,t,this._pending);if(function(e){return e.modified(\"async\")&&!(e.modified(\"values\")||e.modified(\"url\")||e.modified(\"format\"))}(e))return t.StopPropagation;if(e.values)return Ls(this,t,n.parse(e.values,e.format));if(e.async){return{async:n.request(e.url,e.format).then(e=>(this._pending=Object(se.i)(e.data),e=>e.touch(this)))}}return n.request(e.url,e.format).then(e=>Ls(this,t,Object(se.i)(e.data)))}}),$s.Definition={type:\"Lookup\",metadata:{modifies:!0},params:[{name:\"index\",type:\"index\",params:[{name:\"from\",type:\"data\",required:!0},{name:\"key\",type:\"field\",required:!0}]},{name:\"values\",type:\"field\",array:!0},{name:\"fields\",type:\"field\",array:!0,required:!0},{name:\"as\",type:\"string\",array:!0},{name:\"default\",default:null}]},Object(se.z)($s,Lo,{transform(e,t){const n=e.fields,i=e.index,r=e.values,o=null==e.default?null:e.default,a=e.modified(),s=n.length;let l,u,c,d=a?t.SOURCE:t.ADD,h=t,f=e.as;return r?(u=r.length,s>1&&!f&&Object(se.o)('Multi-field lookup requires explicit \"as\" parameter.'),f&&f.length!==s*u&&Object(se.o)('The \"as\" parameter has too few output field names.'),f=f||r.map(se.h),l=function(e){for(var t,a,l=0,c=0;l<s;++l)if(null==(a=i.get(n[l](e))))for(t=0;t<u;++t,++c)e[f[c]]=o;else for(t=0;t<u;++t,++c)e[f[c]]=r[t](a)}):(f||Object(se.o)(\"Missing output field names.\"),l=function(e){for(var t,r=0;r<s;++r)t=i.get(n[r](e)),e[f[r]]=null==t?o:t}),a?h=t.reflow(!0):(c=n.some(e=>t.modified(e.fields)),d|=c?t.MOD:0),t.visit(d,l),h.modifies(f)}}),Object(se.z)(Ws,Ee),Object(se.z)(Ys,Ee),Object(se.z)(qs,Lo,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),Vs.Definition={type:\"Pivot\",metadata:{generates:!0,changes:!0},params:[{name:\"groupby\",type:\"field\",array:!0},{name:\"field\",type:\"field\",required:!0},{name:\"value\",type:\"field\",required:!0},{name:\"op\",type:\"enum\",values:Xo,default:\"sum\"},{name:\"limit\",type:\"number\",default:0},{name:\"key\",type:\"field\"}]},Object(se.z)(Vs,os,{_transform:os.prototype.transform,transform(e,t){return this._transform(function(e,t){const n=e.field,i=e.value,r=(\"count\"===e.op?\"__count__\":e.op)||\"sum\",o=Object(se.g)(n).concat(Object(se.g)(i)),a=function(e,t,n){const i={},r=[];return n.visit(n.SOURCE,t=>{const n=e(t);i[n]||(i[n]=1,r.push(n))}),r.sort(se.j),t?r.slice(0,t):r}(n,e.limit||0,t);t.changed()&&e.set(\"__pivot__\",null,null,!0);return{key:e.key,groupby:e.groupby,ops:a.map(()=>r),fields:a.map(e=>function(e,t,n,i){return Object(se.f)(i=>t(i)===e?n(i):NaN,i,e+\"\")}(e,n,i,o)),as:a.map(e=>e+\"\"),modified:e.modified.bind(e)}}(e,t),t)}}),Object(se.z)(Gs,Os,{transform(e,t){const n=e.subflow,i=e.field,r=e=>this.subflow(fe(e),n,t,e);return(e.modified(\"field\")||i&&t.modified(Object(se.g)(i)))&&Object(se.o)(\"PreFacet does not support field modification.\"),this.initTargets(),i?(t.visit(t.MOD,e=>{const t=r(e);i(e).forEach(e=>t.mod(e))}),t.visit(t.ADD,e=>{const t=r(e);i(e).forEach(e=>t.add(ge(e)))}),t.visit(t.REM,e=>{const t=r(e);i(e).forEach(e=>t.rem(e))})):(t.visit(t.MOD,e=>r(e).mod(e)),t.visit(t.ADD,e=>r(e).add(e)),t.visit(t.REM,e=>r(e).rem(e))),t.clean()&&t.runAfter(()=>this.clean()),t}}),Xs.Definition={type:\"Project\",metadata:{generates:!0,changes:!0},params:[{name:\"fields\",type:\"field\",array:!0},{name:\"as\",type:\"string\",null:!0,array:!0}]},Object(se.z)(Xs,Lo,{transform(e,t){const n=t.fork(t.NO_SOURCE),i=e.fields,r=vs(e.fields,e.as||[]),o=i?(e,t)=>function(e,t,n,i){for(let r=0,o=n.length;r<o;++r)t[i[r]]=n[r](e);return t}(e,t,i,r):ve;let a;return this.value?a=this.value:(t=t.addAll(),a=this.value={}),t.visit(t.REM,e=>{const t=fe(e);n.rem.push(a[t]),a[t]=null}),t.visit(t.ADD,e=>{const t=o(e,ge({}));a[fe(e)]=t,n.add.push(t)}),t.visit(t.MOD,e=>{n.mod.push(o(e,a[fe(e)]))}),n}}),Object(se.z)(Zs,Lo,{transform(e,t){return this.value=e.value,e.modified(\"value\")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});var Qs=function(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(r);++i<r;)o[i]=e+i*n;return o};function Js(e){Lo.call(this,null,e)}Js.Definition={type:\"Quantile\",metadata:{generates:!0,changes:!0},params:[{name:\"groupby\",type:\"field\",array:!0},{name:\"field\",type:\"field\",required:!0},{name:\"probs\",type:\"number\",array:!0},{name:\"step\",type:\"number\",default:.01},{name:\"as\",type:\"string\",array:!0,default:[\"prob\",\"value\"]}]};function Ks(e){Lo.call(this,null,e)}function el(e){Lo.call(this,[],e),this.count=0}function tl(e){Lo.call(this,null,e)}function nl(e){Lo.call(this,null,e),this.modified(!0)}function il(e){Lo.call(this,null,e)}Object(se.z)(Js,Lo,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.as||[\"prob\",\"value\"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const r=ys(t.materialize(t.SOURCE).source,e.groupby,e.field),o=(e.groupby||[]).map(se.h),a=[],s=e.step||.01,l=e.probs||Qs(s/2,1-1e-14,s),u=l.length;return r.forEach(e=>{const t=ua(e,l);for(let n=0;n<u;++n){const r={};for(let t=0;t<o.length;++t)r[o[t]]=e.dims[t];r[i[0]]=l[n],r[i[1]]=t[n],a.push(ge(r))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n}}),Object(se.z)(Ks,Lo,{transform(e,t){let n,i;return this.value?i=this.value:(n=t=t.addAll(),i=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,e=>{const t=fe(e);n.rem.push(i[t]),i[t]=null}),t.visit(t.ADD,e=>{const t=me(e);i[fe(e)]=t,n.add.push(t)}),t.visit(t.MOD,e=>{const t=i[fe(e)];for(const i in e)t[i]=e[i],n.modifies(i);n.mod.push(t)})),n}}),el.Definition={type:\"Sample\",metadata:{},params:[{name:\"size\",type:\"number\",default:1e3}]},Object(se.z)(el,Lo,{transform(e,t){const n=t.fork(t.NO_SOURCE),i=e.modified(\"size\"),r=e.size,o=this.value.reduce((e,t)=>(e[fe(t)]=1,e),{});let a=this.value,s=this.count,l=0;function u(e){let t,i;a.length<r?a.push(e):(i=~~((s+1)*fa()),i<a.length&&i>=l&&(t=a[i],o[fe(t)]&&n.rem.push(t),a[i]=e)),++s}if(t.rem.length&&(t.visit(t.REM,e=>{const t=fe(e);o[t]&&(o[t]=-1,n.rem.push(e)),--s}),a=a.filter(e=>-1!==o[fe(e)])),(t.rem.length||i)&&a.length<r&&t.source&&(l=s=a.length,t.visit(t.SOURCE,e=>{o[fe(e)]||u(e)}),l=-1),i&&a.length>r){const e=a.length-r;for(let t=0;t<e;++t)o[fe(a[t])]=-1,n.rem.push(a[t]);a=a.slice(e)}return t.mod.length&&t.visit(t.MOD,e=>{o[fe(e)]&&n.mod.push(e)}),t.add.length&&t.visit(t.ADD,u),(t.add.length||l<0)&&(n.add=a.filter(e=>!o[fe(e)])),this.count=s,this.value=n.source=a,n}}),tl.Definition={type:\"Sequence\",metadata:{generates:!0,changes:!0},params:[{name:\"start\",type:\"number\",required:!0},{name:\"stop\",type:\"number\",required:!0},{name:\"step\",type:\"number\",default:1},{name:\"as\",type:\"string\",default:\"data\"}]},Object(se.z)(tl,Lo,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),i=e.as||\"data\";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Qs(e.start,e.stop,e.step||1).map(e=>{const t={};return t[i]=e,ge(t)}),n.add=t.add.concat(this.value),n}}),Object(se.z)(nl,Lo,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});const rl=[\"unit0\",\"unit1\"];function ol(e){Lo.call(this,Object(se.t)(),e)}function al(e){Lo.call(this,null,e)}il.Definition={type:\"TimeUnit\",metadata:{modifies:!0},params:[{name:\"field\",type:\"field\",required:!0},{name:\"interval\",type:\"boolean\",default:!0},{name:\"units\",type:\"enum\",values:nn,array:!0},{name:\"step\",type:\"number\",default:1},{name:\"maxbins\",type:\"number\",default:40},{name:\"extent\",type:\"date\",array:!0},{name:\"timezone\",type:\"enum\",default:\"local\",values:[\"local\",\"utc\"]},{name:\"as\",type:\"string\",array:!0,length:2,default:rl}]},Object(se.z)(il,Lo,{transform(e,t){const n=e.field,i=!1!==e.interval,r=\"utc\"===e.timezone,o=this._floor(e,t),a=(r?xi:wi)(o.unit).offset,s=e.as||rl,l=s[0],u=s[1],c=o.step;let d=o.start||1/0,h=o.stop||-1/0,f=t.ADD;return(e.modified()||t.modified(Object(se.g)(n)))&&(f=(t=t.reflow(!0)).SOURCE,d=1/0,h=-1/0),t.visit(f,e=>{const t=n(e);let r,s;null==t?(e[l]=null,i&&(e[u]=null)):(e[l]=r=s=o(t),i&&(e[u]=s=a(r,c)),r<d&&(d=r),s>h&&(h=s))}),o.start=d,o.stop=h,t.modifies(i?s:l)},_floor(e,t){const n=\"utc\"===e.timezone,{units:i,step:r}=e.units?{units:e.units,step:e.step||1}:Bi({extent:e.extent||Object(se.q)(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),o=on(i),a=this.value||{},s=(n?Jn:Xn)(o,r);return s.unit=Object(se.V)(o),s.units=o,s.step=r,s.start=a.start,s.stop=a.stop,this.value=s}}),Object(se.z)(ol,Lo,{transform(e,t){const n=t.dataflow,i=e.field,r=this.value,o=e=>r.set(i(e),e);let a=!0;return e.modified(\"field\")||t.modified(i.fields)?(r.clear(),t.visit(t.SOURCE,o)):t.changed()?(t.visit(t.REM,e=>r.delete(i(e))),t.visit(t.ADD,o)):a=!1,this.modified(a),r.empty>n.cleanThreshold&&n.runAfter(r.clean),t.fork()}}),Object(se.z)(al,Lo,{transform(e,t){(!this.value||e.modified(\"field\")||e.modified(\"sort\")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(be(e.sort)):t.source).map(e.field))}});const sl={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,i=t.data;return n&&t.compare(i[n-1],i[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,i=t.data;return n&&t.compare(i[n-1],i[n])?++e:e}}},percent_rank:function(){const e=sl.rank(),t=e.next;return{init:e.init,next:e=>(t(e)-1)/(e.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,i=t.compare;let r=t.index;if(e<r){for(;r+1<n.length&&!i(n[r],n[r+1]);)++r;e=r}return(1+e)/n.length}}},ntile:function(e,t){(t=+t)>0||Object(se.o)(\"ntile num must be greater than zero.\");const n=sl.cume_dist(),i=n.next;return{init:n.init,next:e=>Math.ceil(t*i(e))}},lag:function(e,t){return t=+t||1,{next:n=>{const i=n.index-t;return i>=0?e(n.data[i]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const i=n.index+t,r=n.data;return i<r.length?e(r[i]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return(t=+t)>0||Object(se.o)(\"nth_value nth must be greater than zero.\"),{next:n=>{const i=n.i0+(t-1);return i<n.i1?e(n.data[i]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const i=e(n.data[n.index]);return null!=i?t=i:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:i=>{const r=i.data;return i.index<=n?t:(n=function(e,t,n){for(let i=t.length;n<i;++n){if(null!=e(t[n]))return n}return-1}(e,r,i.index))<0?(n=r.length,t=null):t=e(r[n])}}}};const ll=Object.keys(sl);function ul(e){const t=Object(se.i)(e.ops),n=Object(se.i)(e.fields),i=Object(se.i)(e.params),r=Object(se.i)(e.as),o=this.outputs=[],a=this.windows=[],s={},l={},u=[],c=[];let d=!0;function h(e){Object(se.i)(Object(se.g)(e)).forEach(e=>s[e]=1)}h(e.sort),t.forEach((e,t)=>{const s=n[t],f=Object(se.h)(s),p=Ho(e,f,r[t]);if(h(s),o.push(p),Object(se.w)(sl,e))a.push(function(e,t,n,i){const r=sl[e](t,n);return{init:r.init||se.lb,update:function(e,t){t[i]=r.next(e)}}}(e,n[t],i[t],p));else{if(null==s&&\"count\"!==e&&Object(se.o)(\"Null aggregate field specified.\"),\"count\"===e)return void u.push(p);d=!1;let t=l[f];t||(t=l[f]=[],t.field=s,c.push(t)),t.push(Zo(e,p))}}),(u.length||c.length)&&(this.cell=function(e,t,n){e=e.map(e=>na(e,e.field));const i={num:0,agg:null,store:!1,count:t};if(!n)for(var r=e.length,o=i.agg=Array(r),a=0;a<r;++a)o[a]=new e[a](i);if(i.store)var s=i.data=new is;return i.add=function(e){if(i.num+=1,!n){s&&s.add(e);for(let t=0;t<r;++t)o[t].add(o[t].get(e),e)}},i.rem=function(e){if(i.num-=1,!n){s&&s.rem(e);for(let t=0;t<r;++t)o[t].rem(o[t].get(e),e)}},i.set=function(e){let r,a;for(s&&s.values(),r=0,a=t.length;r<a;++r)e[t[r]]=i.num;if(!n)for(r=0,a=o.length;r<a;++r)o[r].set(e)},i.init=function(){i.num=0,s&&s.reset();for(let e=0;e<r;++e)o[e].init()},i}(c,u,d)),this.inputs=Object.keys(s)}const cl=ul.prototype;function dl(e){Lo.call(this,{},e),this._mlen=0,this._mods=[]}function hl(e,t,n,i){const r=i.sort,o=r&&!i.ignorePeers,a=i.frame||[null,0],s=e.data(n),l=s.length,u=o?Mi(r):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:s,compare:r||Object(se.m)(-1)};t.init();for(let e=0;e<l;++e)fl(c,a,e,l),o&&pl(c,u),t.update(c,s[e])}function fl(e,t,n,i){e.p0=e.i0,e.p1=e.i1,e.i0=null==t[0]?0:Math.max(0,n-Math.abs(t[0])),e.i1=null==t[1]?i:Math.min(i,n+Math.abs(t[1])+1),e.index=n}function pl(e,t){const n=e.i0,i=e.i1-1,r=e.compare,o=e.data,a=o.length-1;n>0&&!r(o[n],o[n-1])&&(e.i0=t.left(o,o[n])),i<a&&!r(o[i],o[i+1])&&(e.i1=t.right(o,o[i]))}cl.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()},cl.update=function(e,t){const n=this.cell,i=this.windows,r=e.data,o=i&&i.length;let a;if(n){for(a=e.p0;a<e.i0;++a)n.rem(r[a]);for(a=e.p1;a<e.i1;++a)n.add(r[a]);n.set(t)}for(a=0;a<o;++a)i[a].update(e,t)},dl.Definition={type:\"Window\",metadata:{modifies:!0},params:[{name:\"sort\",type:\"compare\"},{name:\"groupby\",type:\"field\",array:!0},{name:\"ops\",type:\"enum\",array:!0,values:ll.concat(Xo)},{name:\"params\",type:\"number\",null:!0,array:!0},{name:\"fields\",type:\"field\",null:!0,array:!0},{name:\"as\",type:\"string\",null:!0,array:!0},{name:\"frame\",type:\"number\",null:!0,array:!0,length:2,default:[null,0]},{name:\"ignorePeers\",type:\"boolean\",default:!1}]},Object(se.z)(dl,Lo,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),i=be(e.sort),r=Yo(e.groupby),o=e=>this.group(r(e));let a=this.state;a&&!n||(a=this.state=new ul(e)),n||t.modified(a.inputs)?(this.value={},t.visit(t.SOURCE,e=>o(e).add(e))):(t.visit(t.REM,e=>o(e).remove(e)),t.visit(t.ADD,e=>o(e).add(e)));for(let t=0,n=this._mlen;t<n;++t)hl(this._mods[t],a,i,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(a.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=ss(fe),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});const gl=\"top\",ml=\"left\",vl=\"right\",yl=\"end\",bl=\"row\";var _l=0;function wl(e){return e&&e.gradient}function xl(e,t,n){const i=e.gradient;let r=e.id,o=\"radial\"===i?\"p_\":\"\";return r||(r=e.id=\"gradient_\"+_l++,\"radial\"===i?(e.x1=kl(e.x1,.5),e.y1=kl(e.y1,.5),e.r1=kl(e.r1,0),e.x2=kl(e.x2,.5),e.y2=kl(e.y2,.5),e.r2=kl(e.r2,.5),o=\"p_\"):(e.x1=kl(e.x1,0),e.y1=kl(e.y1,0),e.x2=kl(e.x2,1),e.y2=kl(e.y2,0))),t[r]=e,\"url(\"+(n||\"\")+\"#\"+o+r+\")\"}function kl(e,t){return null!=e?e:t}var Ol=function(e,t){var n,i=[];return n={gradient:\"linear\",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:i,stop:function(e,t){return i.push({offset:e,color:t}),n}}};function El(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Sl(e){this._context=e}Sl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:El(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:El(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var Dl=function(){};function jl(e){this._context=e}jl.prototype={areaStart:Dl,areaEnd:Dl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:El(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Cl(e){this._context=e}Cl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:El(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ml(e,t){this._basis=new Sl(e),this._beta=t}Ml.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var i,r=e[0],o=t[0],a=e[n]-r,s=t[n]-o,l=-1;++l<=n;)i=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(r+i*a),this._beta*t[l]+(1-this._beta)*(o+i*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var Tl=function e(t){function n(e){return 1===t?new Sl(e):new Ml(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function Al(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Fl(e,t){this._context=e,this._k=(1-t)/6}Fl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Al(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Al(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Pl=function e(t){function n(e){return new Fl(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Nl(e,t){this._context=e,this._k=(1-t)/6}Nl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Al(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var zl=function e(t){function n(e){return new Nl(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Rl(e,t){this._context=e,this._k=(1-t)/6}Rl.prototype={areaStart:Dl,areaEnd:Dl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Al(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Il=function e(t){function n(e){return new Rl(e,t)}return n.tension=function(t){return e(+t)},n}(0),Bl=Math.abs,Ll=Math.atan2,$l=Math.cos,Wl=Math.max,Ul=Math.min,Yl=Math.sin,Hl=Math.sqrt,ql=Math.PI,Vl=ql/2,Gl=2*ql;function Xl(e){return e>1?0:e<-1?ql:Math.acos(e)}function Zl(e){return e>=1?Vl:e<=-1?-Vl:Math.asin(e)}function Ql(e,t,n){var i=e._x1,r=e._y1,o=e._x2,a=e._y2;if(e._l01_a>1e-12){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,r=(r*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>1e-12){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/c,a=(a*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(i,r,o,a,e._x2,e._y2)}function Jl(e,t){this._context=e,this._alpha=t}Jl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Ql(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Kl=function e(t){function n(e){return t?new Jl(e,t):new Fl(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function eu(e,t){this._context=e,this._alpha=t}eu.prototype={areaStart:Dl,areaEnd:Dl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ql(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var tu=function e(t){function n(e){return t?new eu(e,t):new Rl(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function nu(e,t){this._context=e,this._alpha=t}nu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ql(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var iu=function e(t){function n(e){return t?new nu(e,t):new Nl(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function ru(e){this._context=e}ru.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var ou=function(e){return new ru(e)};function au(e){this._context=e}au.prototype={areaStart:Dl,areaEnd:Dl,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function su(e){return e<0?-1:1}function lu(e,t,n){var i=e._x1-e._x0,r=t-e._x1,o=(e._y1-e._y0)/(i||r<0&&-0),a=(n-e._y1)/(r||i<0&&-0),s=(o*r+a*i)/(i+r);return(su(o)+su(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function uu(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function cu(e,t,n){var i=e._x0,r=e._y0,o=e._x1,a=e._y1,s=(o-i)/3;e._context.bezierCurveTo(i+s,r+s*t,o-s,a-s*n,o,a)}function du(e){this._context=e}function hu(e){this._context=new fu(e)}function fu(e){this._context=e}function pu(e){this._context=e}function gu(e){var t,n,i=e.length-1,r=new Array(i),o=new Array(i),a=new Array(i);for(r[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<i-1;++t)r[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(r[i-1]=2,o[i-1]=7,a[i-1]=8*e[i-1]+e[i],t=1;t<i;++t)n=r[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(r[i-1]=a[i-1]/o[i-1],t=i-2;t>=0;--t)r[t]=(a[t]-r[t+1])/o[t];for(o[i-1]=(e[i]+r[i-1])/2,t=0;t<i-1;++t)o[t]=2*e[t+1]-r[t+1];return[r,o]}du.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cu(this,this._t0,uu(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,cu(this,uu(this,n=lu(this,e,t)),n);break;default:cu(this,this._t0,n=lu(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(hu.prototype=Object.create(du.prototype)).point=function(e,t){du.prototype.point.call(this,t,e)},fu.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,r,o){this._context.bezierCurveTo(t,e,i,n,o,r)}},pu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var i=gu(e),r=gu(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function mu(e,t){this._context=e,this._t=t}mu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};const vu={basis:{curve:function(e){return new Sl(e)}},\"basis-closed\":{curve:function(e){return new jl(e)}},\"basis-open\":{curve:function(e){return new Cl(e)}},bundle:{curve:Tl,tension:\"beta\",value:.85},cardinal:{curve:Pl,tension:\"tension\",value:0},\"cardinal-open\":{curve:zl,tension:\"tension\",value:0},\"cardinal-closed\":{curve:Il,tension:\"tension\",value:0},\"catmull-rom\":{curve:Kl,tension:\"alpha\",value:.5},\"catmull-rom-closed\":{curve:tu,tension:\"alpha\",value:.5},\"catmull-rom-open\":{curve:iu,tension:\"alpha\",value:.5},linear:{curve:ou},\"linear-closed\":{curve:function(e){return new au(e)}},monotone:{horizontal:function(e){return new hu(e)},vertical:function(e){return new du(e)}},natural:{curve:function(e){return new pu(e)}},step:{curve:function(e){return new mu(e,.5)}},\"step-after\":{curve:function(e){return new mu(e,1)}},\"step-before\":{curve:function(e){return new mu(e,0)}}};function yu(e,t,n){var i=Object(se.w)(vu,e)&&vu[e],r=null;return i&&(r=i.curve||i[t||\"vertical\"],i.tension&&null!=n&&(r=r[i.tension](n))),r}const bu={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},_u=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\\.\\d+)(\\.\\d)/g,/(\\d)([-+])/g,/\\s|,|###/];var wu=function(e){const t=[];let n,i,r,o,a,s,l,u,c,d;const h=e.slice().replace(_u[0],\"###$1\").split(_u[1]).slice(1);for(l=0,c=h.length;l<c;++l){for(n=h[l],i=n.slice(1).trim().replace(_u[2],\"$1###$2\").replace(_u[3],\"$1###$2\").split(_u[4]),a=n.charAt(0),r=[a],u=0,d=i.length;u<d;++u)(o=+i[u])===o&&r.push(o);if(s=bu[a.toLowerCase()],r.length-1>s){const e=r.length;for(u=1,t.push([a].concat(r.slice(u,u+=s))),a=\"M\"===a?\"L\":\"m\"===a?\"l\":a;u<e;u+=s)t.push([a].concat(r.slice(u,u+s)))}else t.push(r)}return t};const xu=Math.PI/180,ku=Math.PI/2,Ou=2*Math.PI,Eu=Math.sqrt(3)/2;var Su={},Du={},ju=[].join;function Cu(e){var t=ju.call(e);if(Du[t])return Du[t];var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=u*a,d=-l*s,h=l*a,f=u*s,p=Math.cos(r),g=Math.sin(r),m=Math.cos(o),v=Math.sin(o),y=.5*(o-r),b=Math.sin(.5*y),_=8/3*b*b/Math.sin(y),w=n+p-_*g,x=i+g+_*p,k=n+m,O=i+v,E=k+_*v,S=O-_*m;return Du[t]=[c*w+d*x,h*w+f*x,c*E+d*S,h*E+f*S,c*k+d*O,h*k+f*O]}var Mu=[\"l\",0,0,0,0,0,0,0];function Tu(e,t,n){var i=Mu[0]=e[0];if(\"a\"===i||\"A\"===i)Mu[1]=t*e[1],Mu[2]=n*e[2],Mu[3]=e[3],Mu[4]=e[4],Mu[5]=e[5],Mu[6]=t*e[6],Mu[7]=n*e[7];else if(\"h\"===i||\"H\"===i)Mu[1]=t*e[1];else if(\"v\"===i||\"V\"===i)Mu[1]=n*e[1];else for(var r=1,o=e.length;r<o;++r)Mu[r]=(r%2==1?t:n)*e[r];return Mu}var Au=function(e,t,n,i,r,o){var a,s,l,u,c,d=null,h=0,f=0,p=0,g=0;null==n&&(n=0),null==i&&(i=0),null==r&&(r=1),null==o&&(o=r),e.beginPath&&e.beginPath();for(var m=0,v=t.length;m<v;++m){switch(a=t[m],1===r&&1===o||(a=Tu(a,r,o)),a[0]){case\"l\":h+=a[1],f+=a[2],e.lineTo(h+n,f+i);break;case\"L\":h=a[1],f=a[2],e.lineTo(h+n,f+i);break;case\"h\":h+=a[1],e.lineTo(h+n,f+i);break;case\"H\":h=a[1],e.lineTo(h+n,f+i);break;case\"v\":f+=a[1],e.lineTo(h+n,f+i);break;case\"V\":f=a[1],e.lineTo(h+n,f+i);break;case\"m\":h+=a[1],f+=a[2],e.moveTo(h+n,f+i);break;case\"M\":h=a[1],f=a[2],e.moveTo(h+n,f+i);break;case\"c\":s=h+a[5],l=f+a[6],p=h+a[3],g=f+a[4],e.bezierCurveTo(h+a[1]+n,f+a[2]+i,p+n,g+i,s+n,l+i),h=s,f=l;break;case\"C\":h=a[5],f=a[6],p=a[3],g=a[4],e.bezierCurveTo(a[1]+n,a[2]+i,p+n,g+i,h+n,f+i);break;case\"s\":s=h+a[3],l=f+a[4],p=2*h-p,g=2*f-g,e.bezierCurveTo(p+n,g+i,h+a[1]+n,f+a[2]+i,s+n,l+i),p=h+a[1],g=f+a[2],h=s,f=l;break;case\"S\":s=a[3],l=a[4],p=2*h-p,g=2*f-g,e.bezierCurveTo(p+n,g+i,a[1]+n,a[2]+i,s+n,l+i),h=s,f=l,p=a[1],g=a[2];break;case\"q\":s=h+a[3],l=f+a[4],p=h+a[1],g=f+a[2],e.quadraticCurveTo(p+n,g+i,s+n,l+i),h=s,f=l;break;case\"Q\":s=a[3],l=a[4],e.quadraticCurveTo(a[1]+n,a[2]+i,s+n,l+i),h=s,f=l,p=a[1],g=a[2];break;case\"t\":s=h+a[1],l=f+a[2],null===d[0].match(/[QqTt]/)?(p=h,g=f):\"t\"===d[0]?(p=2*h-u,g=2*f-c):\"q\"===d[0]&&(p=2*h-p,g=2*f-g),u=p,c=g,e.quadraticCurveTo(p+n,g+i,s+n,l+i),f=l,p=(h=s)+a[1],g=f+a[2];break;case\"T\":s=a[1],l=a[2],p=2*h-p,g=2*f-g,e.quadraticCurveTo(p+n,g+i,s+n,l+i),h=s,f=l;break;case\"a\":Fu(e,h+n,f+i,[a[1],a[2],a[3],a[4],a[5],a[6]+h+n,a[7]+f+i]),h+=a[6],f+=a[7];break;case\"A\":Fu(e,h+n,f+i,[a[1],a[2],a[3],a[4],a[5],a[6]+n,a[7]+i]),h=a[6],f=a[7];break;case\"z\":case\"Z\":e.closePath()}d=a}};function Fu(e,t,n,i){for(var r=function(e,t,n,i,r,o,a,s,l){var u=ju.call(arguments);if(Su[u])return Su[u];var c=a*xu,d=Math.sin(c),h=Math.cos(c),f=h*(s-e)*.5+d*(l-t)*.5,p=h*(l-t)*.5-d*(s-e)*.5,g=f*f/((n=Math.abs(n))*n)+p*p/((i=Math.abs(i))*i);g>1&&(n*=g=Math.sqrt(g),i*=g);var m=h/n,v=d/n,y=-d/i,b=h/i,_=m*s+v*l,w=y*s+b*l,x=m*e+v*t,k=y*e+b*t,O=(x-_)*(x-_)+(k-w)*(k-w),E=1/O-.25;E<0&&(E=0);var S=Math.sqrt(E);o==r&&(S=-S);var D=.5*(_+x)-S*(k-w),j=.5*(w+k)+S*(x-_),C=Math.atan2(w-j,_-D),M=Math.atan2(k-j,x-D),T=M-C;T<0&&1===o?T+=Ou:T>0&&0===o&&(T-=Ou);for(var A=Math.ceil(Math.abs(T/(ku+.001))),F=[],P=0;P<A;++P){var N=C+P*T/A,z=C+(P+1)*T/A;F[P]=[D,j,N,z,n,i,d,h]}return Su[u]=F}(i[5],i[6],i[0],i[1],i[3],i[4],i[2],t,n),o=0;o<r.length;++o){var a=Cu(r[o]);e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5])}}var Pu=.5773502691896257,Nu={circle:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,Ou)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,i=n/2.5;e.moveTo(-n,-i),e.lineTo(-n,i),e.lineTo(-i,i),e.lineTo(-i,n),e.lineTo(i,n),e.lineTo(i,i),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(i,-i),e.lineTo(i,-n),e.lineTo(-i,-n),e.lineTo(-i,-i),e.closePath()}},diamond:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),i=-n/2;e.rect(i,i,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,i=n/7,r=n/2.5,o=n/8;e.moveTo(-i,n),e.lineTo(i,n),e.lineTo(i,-o),e.lineTo(r,-o),e.lineTo(0,-n),e.lineTo(-r,-o),e.lineTo(-i,-o),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,i=Eu*n,r=i-n*Pu,o=n/4;e.moveTo(0,-i-r),e.lineTo(-o,i-r),e.lineTo(o,i-r),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,i=Eu*n,r=i-n*Pu;e.moveTo(0,-i-r),e.lineTo(-n,i-r),e.lineTo(n,i-r),e.closePath()}},\"triangle-up\":{draw:function(e,t){var n=Math.sqrt(t)/2,i=Eu*n;e.moveTo(0,-i),e.lineTo(-n,i),e.lineTo(n,i),e.closePath()}},\"triangle-down\":{draw:function(e,t){var n=Math.sqrt(t)/2,i=Eu*n;e.moveTo(0,i),e.lineTo(-n,-i),e.lineTo(n,-i),e.closePath()}},\"triangle-right\":{draw:function(e,t){var n=Math.sqrt(t)/2,i=Eu*n;e.moveTo(i,0),e.lineTo(-i,-n),e.lineTo(-i,n),e.closePath()}},\"triangle-left\":{draw:function(e,t){var n=Math.sqrt(t)/2,i=Eu*n;e.moveTo(-i,0),e.lineTo(i,-n),e.lineTo(i,n),e.closePath()}},stroke:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function zu(e){return Object(se.w)(Nu,e)?Nu[e]:function(e){if(!Object(se.w)(Ru,e)){var t=wu(e);Ru[e]={draw:function(e,n){Au(e,t,0,0,Math.sqrt(n)/2)}}}return Ru[e]}(e)}var Ru={};const Iu=Math.PI,Bu=2*Iu,Lu=Bu-1e-6;function $u(){this._x0=this._y0=this._x1=this._y1=null,this._=\"\"}function Wu(){return new $u}$u.prototype=Wu.prototype={constructor:$u,moveTo:function(e,t){this._+=\"M\"+(this._x0=this._x1=+e)+\",\"+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+=\"Z\")},lineTo:function(e,t){this._+=\"L\"+(this._x1=+e)+\",\"+(this._y1=+t)},quadraticCurveTo:function(e,t,n,i){this._+=\"Q\"+ +e+\",\"+ +t+\",\"+(this._x1=+n)+\",\"+(this._y1=+i)},bezierCurveTo:function(e,t,n,i,r,o){this._+=\"C\"+ +e+\",\"+ +t+\",\"+ +n+\",\"+ +i+\",\"+(this._x1=+r)+\",\"+(this._y1=+o)},arcTo:function(e,t,n,i,r){e=+e,t=+t,n=+n,i=+i,r=+r;var o=this._x1,a=this._y1,s=n-e,l=i-t,u=o-e,c=a-t,d=u*u+c*c;if(r<0)throw new Error(\"negative radius: \"+r);if(null===this._x1)this._+=\"M\"+(this._x1=e)+\",\"+(this._y1=t);else if(d>1e-6)if(Math.abs(c*s-l*u)>1e-6&&r){var h=n-o,f=i-a,p=s*s+l*l,g=h*h+f*f,m=Math.sqrt(p),v=Math.sqrt(d),y=r*Math.tan((Iu-Math.acos((p+d-g)/(2*m*v)))/2),b=y/v,_=y/m;Math.abs(b-1)>1e-6&&(this._+=\"L\"+(e+b*u)+\",\"+(t+b*c)),this._+=\"A\"+r+\",\"+r+\",0,0,\"+ +(c*h>u*f)+\",\"+(this._x1=e+_*s)+\",\"+(this._y1=t+_*l)}else this._+=\"L\"+(this._x1=e)+\",\"+(this._y1=t);else;},arc:function(e,t,n,i,r,o){e=+e,t=+t,o=!!o;var a=(n=+n)*Math.cos(i),s=n*Math.sin(i),l=e+a,u=t+s,c=1^o,d=o?i-r:r-i;if(n<0)throw new Error(\"negative radius: \"+n);null===this._x1?this._+=\"M\"+l+\",\"+u:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-u)>1e-6)&&(this._+=\"L\"+l+\",\"+u),n&&(d<0&&(d=d%Bu+Bu),d>Lu?this._+=\"A\"+n+\",\"+n+\",0,1,\"+c+\",\"+(e-a)+\",\"+(t-s)+\"A\"+n+\",\"+n+\",0,1,\"+c+\",\"+(this._x1=l)+\",\"+(this._y1=u):d>1e-6&&(this._+=\"A\"+n+\",\"+n+\",0,\"+ +(d>=Iu)+\",\"+c+\",\"+(this._x1=e+n*Math.cos(r))+\",\"+(this._y1=t+n*Math.sin(r))))},rect:function(e,t,n,i){this._+=\"M\"+(this._x0=this._x1=+e)+\",\"+(this._y0=this._y1=+t)+\"h\"+ +n+\"v\"+ +i+\"h\"+-n+\"Z\"},toString:function(){return this._}};var Uu=Wu;const Yu=.448084975506;function Hu(e){return e.x}function qu(e){return e.y}function Vu(e){return e.width}function Gu(e){return e.height}function Xu(e){return\"function\"==typeof e?e:()=>+e}function Zu(e,t,n){return Math.max(t,Math.min(e,n))}var Qu=function(){var e=Hu,t=qu,n=Vu,i=Gu,r=Xu(0),o=r,a=r,s=r,l=null;function u(u,c,d){var h,f=null!=c?c:+e.call(this,u),p=null!=d?d:+t.call(this,u),g=+n.call(this,u),m=+i.call(this,u),v=Math.min(g,m)/2,y=Zu(+r.call(this,u),0,v),b=Zu(+o.call(this,u),0,v),_=Zu(+a.call(this,u),0,v),w=Zu(+s.call(this,u),0,v);if(l||(l=h=Uu()),y<=0&&b<=0&&_<=0&&w<=0)l.rect(f,p,g,m);else{var x=f+g,k=p+m;l.moveTo(f+y,p),l.lineTo(x-b,p),l.bezierCurveTo(x-Yu*b,p,x,p+Yu*b,x,p+b),l.lineTo(x,k-w),l.bezierCurveTo(x,k-Yu*w,x-Yu*w,k,x-w,k),l.lineTo(f+_,k),l.bezierCurveTo(f+Yu*_,k,f,k-Yu*_,f,k-_),l.lineTo(f,p+y),l.bezierCurveTo(f,p+Yu*y,f+Yu*y,p,f+y,p),l.closePath()}if(h)return l=null,h+\"\"||null}return u.x=function(t){return arguments.length?(e=Xu(t),u):e},u.y=function(e){return arguments.length?(t=Xu(e),u):t},u.width=function(e){return arguments.length?(n=Xu(e),u):n},u.height=function(e){return arguments.length?(i=Xu(e),u):i},u.cornerRadius=function(e,t,n,i){return arguments.length?(r=Xu(e),o=null!=t?Xu(t):r,s=null!=n?Xu(n):r,a=null!=i?Xu(i):o,u):r},u.context=function(e){return arguments.length?(l=null==e?null:e,u):l},u},Ju=function(){var e,t,n,i,r,o,a,s,l=null;function u(e,t,n){var i=n/2;if(r){var u=a-t,c=e-o;if(u||c){var d=Math.sqrt(u*u+c*c),h=(u/=d)*s,f=(c/=d)*s,p=Math.atan2(c,u);l.moveTo(o-h,a-f),l.lineTo(e-u*i,t-c*i),l.arc(e,t,i,p-Math.PI,p),l.lineTo(o+h,a+f),l.arc(o,a,s,p,p+Math.PI)}else l.arc(e,t,i,0,Ou);l.closePath()}else r=1;o=e,a=t,s=i}function c(o){var a,s,c,d=o.length,h=!1;for(null==l&&(l=c=Uu()),a=0;a<=d;++a)!(a<d&&i(s=o[a],a,o))===h&&(h=!h)&&(r=0),h&&u(+e(s,a,o),+t(s,a,o),+n(s,a,o));if(c)return l=null,c+\"\"||null}return c.x=function(t){return arguments.length?(e=t,c):e},c.y=function(e){return arguments.length?(t=e,c):t},c.size=function(e){return arguments.length?(n=e,c):n},c.defined=function(e){return arguments.length?(i=e,c):i},c.context=function(e){return arguments.length?(l=null==e?null:e,c):l},c},Ku=function(e){return function(){return e}};function ec(e){return e.innerRadius}function tc(e){return e.outerRadius}function nc(e){return e.startAngle}function ic(e){return e.endAngle}function rc(e){return e&&e.padAngle}function oc(e,t,n,i,r,o,a,s){var l=n-e,u=i-t,c=a-r,d=s-o,h=d*l-c*u;if(!(h*h<1e-12))return[e+(h=(c*(t-o)-d*(e-r))/h)*l,t+h*u]}function ac(e,t,n,i,r,o,a){var s=e-n,l=t-i,u=(a?o:-o)/Hl(s*s+l*l),c=u*l,d=-u*s,h=e+c,f=t+d,p=n+c,g=i+d,m=(h+p)/2,v=(f+g)/2,y=p-h,b=g-f,_=y*y+b*b,w=r-o,x=h*g-p*f,k=(b<0?-1:1)*Hl(Wl(0,w*w*_-x*x)),O=(x*b-y*k)/_,E=(-x*y-b*k)/_,S=(x*b+y*k)/_,D=(-x*y+b*k)/_,j=O-m,C=E-v,M=S-m,T=D-v;return j*j+C*C>M*M+T*T&&(O=S,E=D),{cx:O,cy:E,x01:-c,y01:-d,x11:O*(r/w-1),y11:E*(r/w-1)}}Array.prototype.slice;var sc=function(e){return\"object\"==typeof e&&\"length\"in e?e:Array.from(e)};function lc(e){return e[0]}function uc(e){return e[1]}var cc=function(e,t){var n=Ku(!0),i=null,r=ou,o=null;function a(a){var s,l,u,c=(a=sc(a)).length,d=!1;for(null==i&&(o=r(u=Uu())),s=0;s<=c;++s)!(s<c&&n(l=a[s],s,a))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(l,s,a),+t(l,s,a));if(u)return o=null,u+\"\"||null}return e=\"function\"==typeof e?e:void 0===e?lc:Ku(e),t=\"function\"==typeof t?t:void 0===t?uc:Ku(t),a.x=function(t){return arguments.length?(e=\"function\"==typeof t?t:Ku(+t),a):e},a.y=function(e){return arguments.length?(t=\"function\"==typeof e?e:Ku(+e),a):t},a.defined=function(e){return arguments.length?(n=\"function\"==typeof e?e:Ku(!!e),a):n},a.curve=function(e){return arguments.length?(r=e,null!=i&&(o=r(i)),a):r},a.context=function(e){return arguments.length?(null==e?i=o=null:o=r(i=e),a):i},a},dc=function(e,t,n){var i=null,r=Ku(!0),o=null,a=ou,s=null;function l(l){var u,c,d,h,f,p=(l=sc(l)).length,g=!1,m=new Array(p),v=new Array(p);for(null==o&&(s=a(f=Uu())),u=0;u<=p;++u){if(!(u<p&&r(h=l[u],u,l))===g)if(g=!g)c=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),d=u-1;d>=c;--d)s.point(m[d],v[d]);s.lineEnd(),s.areaEnd()}g&&(m[u]=+e(h,u,l),v[u]=+t(h,u,l),s.point(i?+i(h,u,l):m[u],n?+n(h,u,l):v[u]))}if(f)return s=null,f+\"\"||null}function u(){return cc().defined(r).curve(a).context(o)}return e=\"function\"==typeof e?e:void 0===e?lc:Ku(+e),t=\"function\"==typeof t?t:Ku(void 0===t?0:+t),n=\"function\"==typeof n?n:void 0===n?uc:Ku(+n),l.x=function(t){return arguments.length?(e=\"function\"==typeof t?t:Ku(+t),i=null,l):e},l.x0=function(t){return arguments.length?(e=\"function\"==typeof t?t:Ku(+t),l):e},l.x1=function(e){return arguments.length?(i=null==e?null:\"function\"==typeof e?e:Ku(+e),l):i},l.y=function(e){return arguments.length?(t=\"function\"==typeof e?e:Ku(+e),n=null,l):t},l.y0=function(e){return arguments.length?(t=\"function\"==typeof e?e:Ku(+e),l):t},l.y1=function(e){return arguments.length?(n=null==e?null:\"function\"==typeof e?e:Ku(+e),l):n},l.lineX0=l.lineY0=function(){return u().x(e).y(t)},l.lineY1=function(){return u().x(e).y(n)},l.lineX1=function(){return u().x(i).y(t)},l.defined=function(e){return arguments.length?(r=\"function\"==typeof e?e:Ku(!!e),l):r},l.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),l):a},l.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),l):o},l},hc={draw:function(e,t){var n=Math.sqrt(t/ql);e.moveTo(n,0),e.arc(0,0,n,0,Gl)}},fc=(Math.sqrt(1/3),Math.sin(ql/10)/Math.sin(7*ql/10));Math.sin(Gl/10),Math.cos(Gl/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12);function pc(e,t){return null!=e?e:t}const gc=e=>e.x||0,mc=e=>e.y||0,vc=e=>!(!1===e.defined),yc=function(){var e=ec,t=tc,n=Ku(0),i=null,r=nc,o=ic,a=rc,s=null;function l(){var l,u,c=+e.apply(this,arguments),d=+t.apply(this,arguments),h=r.apply(this,arguments)-Vl,f=o.apply(this,arguments)-Vl,p=Bl(f-h),g=f>h;if(s||(s=l=Uu()),d<c&&(u=d,d=c,c=u),d>1e-12)if(p>Gl-1e-12)s.moveTo(d*$l(h),d*Yl(h)),s.arc(0,0,d,h,f,!g),c>1e-12&&(s.moveTo(c*$l(f),c*Yl(f)),s.arc(0,0,c,f,h,g));else{var m,v,y=h,b=f,_=h,w=f,x=p,k=p,O=a.apply(this,arguments)/2,E=O>1e-12&&(i?+i.apply(this,arguments):Hl(c*c+d*d)),S=Ul(Bl(d-c)/2,+n.apply(this,arguments)),D=S,j=S;if(E>1e-12){var C=Zl(E/c*Yl(O)),M=Zl(E/d*Yl(O));(x-=2*C)>1e-12?(_+=C*=g?1:-1,w-=C):(x=0,_=w=(h+f)/2),(k-=2*M)>1e-12?(y+=M*=g?1:-1,b-=M):(k=0,y=b=(h+f)/2)}var T=d*$l(y),A=d*Yl(y),F=c*$l(w),P=c*Yl(w);if(S>1e-12){var N,z=d*$l(b),R=d*Yl(b),I=c*$l(_),B=c*Yl(_);if(p<ql&&(N=oc(T,A,I,B,z,R,F,P))){var L=T-N[0],$=A-N[1],W=z-N[0],U=R-N[1],Y=1/Yl(Xl((L*W+$*U)/(Hl(L*L+$*$)*Hl(W*W+U*U)))/2),H=Hl(N[0]*N[0]+N[1]*N[1]);D=Ul(S,(c-H)/(Y-1)),j=Ul(S,(d-H)/(Y+1))}}k>1e-12?j>1e-12?(m=ac(I,B,T,A,d,j,g),v=ac(z,R,F,P,d,j,g),s.moveTo(m.cx+m.x01,m.cy+m.y01),j<S?s.arc(m.cx,m.cy,j,Ll(m.y01,m.x01),Ll(v.y01,v.x01),!g):(s.arc(m.cx,m.cy,j,Ll(m.y01,m.x01),Ll(m.y11,m.x11),!g),s.arc(0,0,d,Ll(m.cy+m.y11,m.cx+m.x11),Ll(v.cy+v.y11,v.cx+v.x11),!g),s.arc(v.cx,v.cy,j,Ll(v.y11,v.x11),Ll(v.y01,v.x01),!g))):(s.moveTo(T,A),s.arc(0,0,d,y,b,!g)):s.moveTo(T,A),c>1e-12&&x>1e-12?D>1e-12?(m=ac(F,P,z,R,c,-D,g),v=ac(T,A,I,B,c,-D,g),s.lineTo(m.cx+m.x01,m.cy+m.y01),D<S?s.arc(m.cx,m.cy,D,Ll(m.y01,m.x01),Ll(v.y01,v.x01),!g):(s.arc(m.cx,m.cy,D,Ll(m.y01,m.x01),Ll(m.y11,m.x11),!g),s.arc(0,0,c,Ll(m.cy+m.y11,m.cx+m.x11),Ll(v.cy+v.y11,v.cx+v.x11),g),s.arc(v.cx,v.cy,D,Ll(v.y11,v.x11),Ll(v.y01,v.x01),!g))):s.arc(0,0,c,w,_,g):s.lineTo(F,P)}else s.moveTo(0,0);if(s.closePath(),l)return s=null,l+\"\"||null}return l.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,i=(+r.apply(this,arguments)+ +o.apply(this,arguments))/2-ql/2;return[$l(i)*n,Yl(i)*n]},l.innerRadius=function(t){return arguments.length?(e=\"function\"==typeof t?t:Ku(+t),l):e},l.outerRadius=function(e){return arguments.length?(t=\"function\"==typeof e?e:Ku(+e),l):t},l.cornerRadius=function(e){return arguments.length?(n=\"function\"==typeof e?e:Ku(+e),l):n},l.padRadius=function(e){return arguments.length?(i=null==e?null:\"function\"==typeof e?e:Ku(+e),l):i},l.startAngle=function(e){return arguments.length?(r=\"function\"==typeof e?e:Ku(+e),l):r},l.endAngle=function(e){return arguments.length?(o=\"function\"==typeof e?e:Ku(+e),l):o},l.padAngle=function(e){return arguments.length?(a=\"function\"==typeof e?e:Ku(+e),l):a},l.context=function(e){return arguments.length?(s=null==e?null:e,l):s},l}().startAngle(e=>e.startAngle||0).endAngle(e=>e.endAngle||0).padAngle(e=>e.padAngle||0).innerRadius(e=>e.innerRadius||0).outerRadius(e=>e.outerRadius||0).cornerRadius(e=>e.cornerRadius||0),bc=dc().x(gc).y1(mc).y0(e=>(e.y||0)+(e.height||0)).defined(vc),_c=dc().y(mc).x1(gc).x0(e=>(e.x||0)+(e.width||0)).defined(vc),wc=cc().x(gc).y(mc).defined(vc),xc=Qu().x(gc).y(mc).width(e=>e.width||0).height(e=>e.height||0).cornerRadius(e=>pc(e.cornerRadiusTopLeft,e.cornerRadius)||0,e=>pc(e.cornerRadiusTopRight,e.cornerRadius)||0,e=>pc(e.cornerRadiusBottomRight,e.cornerRadius)||0,e=>pc(e.cornerRadiusBottomLeft,e.cornerRadius)||0),kc=function(e,t){var n=null;function i(){var i;if(n||(n=i=Uu()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+\"\"||null}return e=\"function\"==typeof e?e:Ku(e||hc),t=\"function\"==typeof t?t:Ku(void 0===t?64:+t),i.type=function(t){return arguments.length?(e=\"function\"==typeof t?t:Ku(t),i):e},i.size=function(e){return arguments.length?(t=\"function\"==typeof e?e:Ku(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(e=>zu(e.shape||\"circle\")).size(e=>pc(e.size,64)),Oc=Ju().x(gc).y(mc).defined(vc).size(e=>e.size||1);function Ec(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function Sc(e,t,n,i){return xc.context(e)(t,n,i)}var Dc=1;function jc(){Dc=1}var Cc=function(e,t,n){var i=t.clip,r=e._defs,o=t.clip_id||(t.clip_id=\"clip\"+Dc++),a=r.clipping[o]||(r.clipping[o]={id:o});return Object(se.E)(i)?a.path=i(null):Ec(n)?a.path=Sc(null,n,0,0):(a.width=n.width||0,a.height=n.height||0),\"url(#\"+o+\")\"};function Mc(e){this.clear(),e&&this.union(e)}function Tc(e){this.mark=e,this.bounds=this.bounds||new Mc}function Ac(e){Tc.call(this,e),this.items=this.items||[]}function Fc(e,t){if(\"undefined\"!=typeof document&&document.createElement){const n=document.createElement(\"canvas\");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}Mc.prototype={clone(){return new Mc(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,i){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),i<t?(this.y2=t,this.y1=i):(this.y1=t,this.y2=i),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const i=this.rotatedPoints(e,t,n);return this.clear().add(i[0],i[1]).add(i[2],i[3]).add(i[4],i[5]).add(i[6],i[7])},rotatedPoints(e,t,n){var{x1:i,y1:r,x2:o,y2:a}=this,s=Math.cos(e),l=Math.sin(e),u=t-t*s+n*l,c=n-t*l-n*s;return[s*i-l*r+u,l*i+s*r+c,s*i-l*a+u,l*i+s*a+c,s*o-l*r+u,l*o+s*r+c,s*o-l*a+u,l*o+s*a+c]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}},Object(se.z)(Ac,Tc);const Pc=()=>\"undefined\"!=typeof Image?Image:null;function Nc(e){this._pending=0,this._loader=e||Oo()}function zc(e){e._pending+=1}function Rc(e){e._pending-=1}Nc.prototype={pending(){return this._pending},sanitizeURL(e){var t=this;return zc(t),t._loader.sanitize(e,{context:\"href\"}).then(e=>(Rc(t),e)).catch(()=>(Rc(t),null))},loadImage(e){const t=this,n=Pc();return zc(t),t._loader.sanitize(e,{context:\"image\"}).then(e=>{const i=e.href;if(!i||!n)throw{url:i};const r=new n,o=Object(se.w)(e,\"crossOrigin\")?e.crossOrigin:\"anonymous\";return null!=o&&(r.crossOrigin=o),r.onload=()=>Rc(t),r.onerror=()=>Rc(t),r.src=i,r}).catch(e=>(Rc(t),{complete:!1,width:0,height:0,src:e&&e.url||\"\"}))},ready(){var e=this;return new Promise(t=>{!function n(i){e.pending()?setTimeout(()=>{n(!0)},10):t(i)}(!1)})}};var Ic=function(e,t,n){if(t.stroke&&0!==t.opacity&&0!==t.strokeOpacity){const i=null!=t.strokeWidth?+t.strokeWidth:1;e.expand(i+(n?function(e,t){return e.strokeJoin&&\"miter\"!==e.strokeJoin?0:t}(t,i):0))}return e};const Bc=Ou-1e-8;let Lc,$c,Wc,Uc,Yc,Hc,qc,Vc;const Gc=(e,t)=>Lc.add(e,t),Xc=(e,t)=>Gc($c=e,Wc=t),Zc=e=>Gc(e,Lc.y1),Qc=e=>Gc(Lc.x1,e),Jc=(e,t)=>Yc*e+qc*t,Kc=(e,t)=>Hc*e+Vc*t,ed=(e,t)=>Gc(Jc(e,t),Kc(e,t)),td=(e,t)=>Xc(Jc(e,t),Kc(e,t));var nd=function(e,t){return Lc=e,t?(Uc=t*xu,Yc=Vc=Math.cos(Uc),Hc=Math.sin(Uc),qc=-Hc):(Yc=Vc=1,Uc=Hc=qc=0),id};const id={beginPath(){},closePath(){},moveTo:td,lineTo:td,rect(e,t,n,i){Uc?(ed(e+n,t),ed(e+n,t+i),ed(e,t+i),td(e,t)):(Gc(e+n,t+i),Xc(e,t))},quadraticCurveTo(e,t,n,i){const r=Jc(e,t),o=Kc(e,t),a=Jc(n,i),s=Kc(n,i);rd($c,r,a,Zc),rd(Wc,o,s,Qc),Xc(a,s)},bezierCurveTo(e,t,n,i,r,o){const a=Jc(e,t),s=Kc(e,t),l=Jc(n,i),u=Kc(n,i),c=Jc(r,o),d=Kc(r,o);od($c,a,l,c,Zc),od(Wc,s,u,d,Qc),Xc(c,d)},arc(e,t,n,i,r,o){if(i+=Uc,r+=Uc,$c=n*Math.cos(r)+e,Wc=n*Math.sin(r)+t,Math.abs(r-i)>Bc)Gc(e-n,t-n),Gc(e+n,t+n);else{const a=i=>Gc(n*Math.cos(i)+e,n*Math.sin(i)+t);let s,l;if(a(i),a(r),r!==i)if((i%=Ou)<0&&(i+=Ou),(r%=Ou)<0&&(r+=Ou),r<i&&(o=!o,s=i,i=r,r=s),o)for(r-=Ou,s=i-i%ku,l=0;l<4&&s>r;++l,s-=ku)a(s);else for(s=i-i%ku+ku,l=0;l<4&&s<r;++l,s+=ku)a(s)}}};function rd(e,t,n,i){const r=(e-t)/(e+n-2*t);0<r&&r<1&&i(e+(t-e)*r)}function od(e,t,n,i,r){const o=i-e+3*t-3*n,a=e+n-2*t,s=e-t;let l,u=0,c=0;Math.abs(o)>1e-14?(l=a*a+s*o,l>=0&&(l=Math.sqrt(l),u=(-a+l)/o,c=(-a-l)/o)):u=.5*s/a,0<u&&u<1&&r(ad(u,e,t,n,i)),0<c&&c<1&&r(ad(c,e,t,n,i))}function ad(e,t,n,i,r){const o=1-e,a=o*o,s=e*e;return a*o*t+3*a*e*n+3*o*s*i+s*e*r}var sd=(sd=Fc(1,1))?sd.getContext(\"2d\"):null;const ld=new Mc;function ud(e){return function(t,n){if(!sd)return!0;e(sd,t),ld.clear().union(t.bounds).intersect(n).round();const{x1:i,y1:r,x2:o,y2:a}=ld;for(let e=r;e<=a;++e)for(let t=i;t<=o;++t)if(sd.isPointInPath(t,e))return!0;return!1}}function cd(e,t){return t.contains(e.x||0,e.y||0)}function dd(e,t){const n=e.x||0,i=e.y||0,r=e.width||0,o=e.height||0;return t.intersects(ld.set(n,i,n+r,i+o))}function hd(e,t){const n=e.x||0,i=e.y||0;return fd(t,n,i,null!=e.x2?e.x2:n,null!=e.y2?e.y2:i)}function fd(e,t,n,i,r){const{x1:o,y1:a,x2:s,y2:l}=e,u=i-t,c=r-n;let d,h,f,p,g=0,m=1;for(p=0;p<4;++p){if(0===p&&(d=-u,h=-(o-t)),1===p&&(d=u,h=s-t),2===p&&(d=-c,h=-(a-n)),3===p&&(d=c,h=l-n),Math.abs(d)<1e-10&&h<0)return!1;if(f=h/d,d<0){if(f>m)return!1;f>g&&(g=f)}else if(d>0){if(f<g)return!1;f<m&&(m=f)}}return!0}var pd=function(e,t){e.globalCompositeOperation=t.blend||\"source-over\"},gd=function(e,t){return null==e?t:e};function md(e,t){const n=t.length;for(let i=0;i<n;++i)e.addColorStop(t[i].offset,t[i].color);return e}var vd=function(e,t,n){return wl(n)?function(e,t,n){const i=n.width(),r=n.height();let o;if(\"radial\"===t.gradient)o=e.createRadialGradient(n.x1+gd(t.x1,.5)*i,n.y1+gd(t.y1,.5)*r,Math.max(i,r)*gd(t.r1,0),n.x1+gd(t.x2,.5)*i,n.y1+gd(t.y2,.5)*r,Math.max(i,r)*gd(t.r2,.5));else{const a=gd(t.x1,0),s=gd(t.y1,0),l=gd(t.x2,1),u=gd(t.y2,0);if(a!==l&&s!==u&&i!==r){const n=Fc(Math.ceil(i),Math.ceil(r)),o=n.getContext(\"2d\");return o.scale(i,r),o.fillStyle=md(o.createLinearGradient(a,s,l,u),t.stops),o.fillRect(0,0,i,r),e.createPattern(n,\"no-repeat\")}o=e.createLinearGradient(n.x1+a*i,n.y1+s*r,n.x1+l*i,n.y1+u*r)}return md(o,t.stops)}(e,n,t.bounds):n},yd=function(e,t,n){return(n*=null==t.fillOpacity?1:t.fillOpacity)>0&&(e.globalAlpha=n,e.fillStyle=vd(e,t,t.fill),!0)},bd=[],_d=function(e,t,n){var i=null!=(i=t.strokeWidth)?i:1;return!(i<=0)&&((n*=null==t.strokeOpacity?1:t.strokeOpacity)>0&&(e.globalAlpha=n,e.strokeStyle=vd(e,t,t.stroke),e.lineWidth=i,e.lineCap=t.strokeCap||\"butt\",e.lineJoin=t.strokeJoin||\"miter\",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||bd),e.lineDashOffset=t.strokeDashOffset||0),!0))};function wd(e,t){return e.zindex-t.zindex||e.index-t.index}function xd(e){if(!e.zdirty)return e.zitems;var t,n,i,r=e.items,o=[];for(n=0,i=r.length;n<i;++n)(t=r[n]).index=n,t.zindex&&o.push(t);return e.zdirty=!1,e.zitems=o.sort(wd)}function kd(e,t){var n,i,r=e.items;if(r&&r.length){var o=xd(e);if(o&&o.length){for(n=0,i=r.length;n<i;++n)r[n].zindex||t(r[n]);r=o}for(n=0,i=r.length;n<i;++n)t(r[n])}}function Od(e,t){var n,i,r=e.items;if(!r||!r.length)return null;var o=xd(e);for(o&&o.length&&(r=o),i=r.length;--i>=0;)if(n=t(r[i]))return n;if(r===o)for(i=(r=e.items).length;--i>=0;)if(!r[i].zindex&&(n=t(r[i])))return n;return null}function Ed(e){return function(t,n,i){kd(n,n=>{i&&!i.intersects(n.bounds)||Sd(e,t,n,n)})}}function Sd(e,t,n,i){var r=null==n.opacity?1:n.opacity;0!==r&&(e(t,i)||(pd(t,n),n.fill&&yd(t,n,r)&&t.fill(),n.stroke&&_d(t,n,r)&&t.stroke()))}function Dd(e){return e=e||se.hb,function(t,n,i,r,o,a){return i*=t.pixelRatio,r*=t.pixelRatio,Od(n,n=>{var s=n.bounds;if((!s||s.contains(o,a))&&s)return e(t,n,i,r,o,a)?n:void 0})}}function jd(e,t){return function(n,i,r,o){var a,s,l=Array.isArray(i)?i[0]:i,u=null==t?l.fill:t,c=l.stroke&&n.isPointInStroke;return c&&(a=l.strokeWidth,s=l.strokeCap,n.lineWidth=null!=a?a:1,n.lineCap=null!=s?s:\"butt\"),!e(n,i)&&(u&&n.isPointInPath(r,o)||c&&n.isPointInStroke(r,o))}}function Cd(e){return Dd(jd(e))}function Md(e,t){return\"translate(\"+e+\",\"+t+\")\"}function Td(e){return\"rotate(\"+e+\")\"}function Ad(e){return Md(e.x||0,e.y||0)}var Fd=function(e,t,n){function i(e,n){var i=n.x||0,r=n.y||0,o=n.angle||0;e.translate(i,r),o&&e.rotate(o*=xu),e.beginPath(),t(e,n),o&&e.rotate(-o),e.translate(-i,-r)}return{type:e,tag:\"path\",nested:!1,attr:function(e,n){e(\"transform\",function(e){return Md(e.x||0,e.y||0)+(e.angle?\" \"+Td(e.angle):\"\")}(n)),e(\"d\",t(null,n))},bound:function(e,n){return t(nd(e,n.angle),n),Ic(e,n).translate(n.x||0,n.y||0)},draw:Ed(i),pick:Cd(i),isect:n||ud(i)}},Pd=Fd(\"arc\",(function(e,t){return yc.context(e)(t)}));var Nd=function(e,t,n){function i(e,n){e.beginPath(),t(e,n)}var r,o=jd(i);return{type:e,tag:\"path\",nested:!0,attr:function(e,n){var i=n.mark.items;i.length&&e(\"d\",t(null,i))},bound:function(e,n){var i=n.items;return 0===i.length?e:(t(nd(e),i),Ic(e,i[0]))},draw:(r=i,function(e,t,n){!t.items.length||n&&!n.intersects(t.bounds)||Sd(r,e,t.items[0],t.items)}),pick:function(e,t,n,i,r,a){var s=t.items,l=t.bounds;return!s||!s.length||l&&!l.contains(r,a)?null:(n*=e.pixelRatio,i*=e.pixelRatio,o(e,s,n,i)?s[0]:null)},isect:cd,tip:n}},zd=Nd(\"area\",(function(e,t){const n=t[0],i=n.interpolate||\"linear\";return(\"horizontal\"===n.orient?_c:bc).curve(yu(i,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,i,r=\"horizontal\"===e[0].orient?t[1]:t[0],o=\"horizontal\"===e[0].orient?\"y\":\"x\",a=e.length,s=1/0;--a>=0;)!1!==e[a].defined&&(i=Math.abs(e[a][o]-r))<s&&(s=i,n=e[a]);return n}));function Rd(e,t){e.beginPath(),Ec(t)?Sc(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function Id(e){const t=gd(e.strokeWidth,1);return null!=e.strokeOffset?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function Bd(e,t){const n=Id(t);e(\"d\",Sc(null,t,n,n))}function Ld(e,t,n,i){const r=Id(t);e.beginPath(),Sc(e,t,(n||0)+r,(i||0)+r)}const $d=jd(Ld),Wd=jd(Ld,!1),Ud=jd(Ld,!0);var Yd={type:\"group\",tag:\"g\",nested:!1,attr:function(e,t){e(\"transform\",Ad(t))},bound:function(e,t){if(!t.clip&&t.items){const n=t.items,i=n.length;for(let t=0;t<i;++t)e.union(n[t].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Ic(e,t),e.translate(t.x||0,t.y||0)},draw:function(e,t,n){kd(t,t=>{const i=t.x||0,r=t.y||0,o=t.strokeForeground,a=null==t.opacity?1:t.opacity;(t.stroke||t.fill)&&a&&(Ld(e,t,i,r),pd(e,t),t.fill&&yd(e,t,a)&&e.fill(),t.stroke&&!o&&_d(e,t,a)&&e.stroke()),e.save(),e.translate(i,r),t.clip&&Rd(e,t),n&&n.translate(-i,-r),kd(t,t=>{this.draw(e,t,n)}),n&&n.translate(i,r),e.restore(),o&&t.stroke&&a&&(Ld(e,t,i,r),pd(e,t),_d(e,t,a)&&e.stroke())})},pick:function(e,t,n,i,r,o){if(t.bounds&&!t.bounds.contains(r,o)||!t.items)return null;const a=n*e.pixelRatio,s=i*e.pixelRatio;return Od(t,l=>{let u,c,d;const h=l.bounds;if(h&&!h.contains(r,o))return;c=l.x||0,d=l.y||0;const f=c+(l.width||0),p=d+(l.height||0),g=l.clip;if(g&&(r<c||r>f||o<d||o>p))return;if(e.save(),e.translate(c,d),c=r-c,d=o-d,g&&Ec(l)&&!Ud(e,l,a,s))return e.restore(),null;const m=l.strokeForeground,v=!1!==t.interactive;return v&&m&&l.stroke&&Wd(e,l,a,s)?(e.restore(),l):(u=Od(l,e=>function(e,t,n){return(!1!==e.interactive||\"group\"===e.marktype)&&e.bounds&&e.bounds.contains(t,n)}(e,c,d)?this.pick(e,n,i,c,d):null),!u&&v&&(l.fill||!m&&l.stroke)&&$d(e,l,a,s)&&(u=l),e.restore(),u||null)})},isect:dd,content:function(e,t,n){e(\"clip-path\",t.clip?Cc(n,t,t):null)},background:function(e,t){e(\"class\",\"background\"),e(\"aria-hidden\",!0),Bd(e,t)},foreground:function(e,t){e(\"class\",\"foreground\"),e(\"aria-hidden\",!0),t.strokeForeground?Bd(e,t):e(\"d\",\"\")}},Hd={xmlns:\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",version:\"1.1\"};function qd(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(t=>{e.image=t,e.image.url=e.url})),n}function Vd(e,t){return null!=e.width?e.width:t&&t.width?!1!==e.aspect&&e.height?e.height*t.width/t.height:t.width:0}function Gd(e,t){return null!=e.height?e.height:t&&t.height?!1!==e.aspect&&e.width?e.width*t.height/t.width:t.height:0}function Xd(e,t){return\"center\"===e?t/2:\"right\"===e?t:0}function Zd(e,t){return\"middle\"===e?t/2:\"bottom\"===e?t:0}var Qd={type:\"image\",tag:\"image\",nested:!1,attr:function(e,t,n){const i=qd(t,n),r=Vd(t,i),o=Gd(t,i),a=(t.x||0)-Xd(t.align,r),s=(t.y||0)-Zd(t.baseline,o);e(\"href\",!i.src&&i.toDataURL?i.toDataURL():i.src||\"\",Hd[\"xmlns:xlink\"],\"xlink:href\"),e(\"transform\",Md(a,s)),e(\"width\",r),e(\"height\",o),e(\"preserveAspectRatio\",!1===t.aspect?\"none\":\"xMidYMid\")},bound:function(e,t){const n=t.image,i=Vd(t,n),r=Gd(t,n),o=(t.x||0)-Xd(t.align,i),a=(t.y||0)-Zd(t.baseline,r);return e.set(o,a,o+i,a+r)},draw:function(e,t,n){kd(t,t=>{if(n&&!n.intersects(t.bounds))return;const i=qd(t,this);let r,o,a,s,l=Vd(t,i),u=Gd(t,i),c=(t.x||0)-Xd(t.align,l),d=(t.y||0)-Zd(t.baseline,u);!1!==t.aspect&&(o=i.width/i.height,a=t.width/t.height,o==o&&a==a&&o!==a&&(a<o?(s=l/o,d+=(u-s)/2,u=s):(s=u*o,c+=(l-s)/2,l=s))),(i.complete||i.toDataURL)&&(pd(e,t),e.globalAlpha=null!=(r=t.opacity)?r:1,e.imageSmoothingEnabled=!1!==t.smooth,e.drawImage(i,c,d,l,u))})},pick:Dd(),isect:se.hb,get:qd,xOffset:Xd,yOffset:Zd},Jd=Nd(\"line\",(function(e,t){const n=t[0],i=n.interpolate||\"linear\";return wc.curve(yu(i,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,i,r=Math.pow(e[0].strokeWidth||1,2),o=e.length;--o>=0;)if(!1!==e[o].defined&&(n=e[o].x-t[0])*n+(i=e[o].y-t[1])*i<r)return e[o];return null}));function Kd(e,t){var n=t.path;if(null==n)return!0;var i=t.x||0,r=t.y||0,o=t.scaleX||1,a=t.scaleY||1,s=(t.angle||0)*xu,l=t.pathCache;l&&l.path===n||((t.pathCache=l=wu(n)).path=n),s&&e.rotate&&e.translate?(e.translate(i,r),e.rotate(s),Au(e,l,0,0,o,a),e.rotate(-s),e.translate(-i,-r)):Au(e,l,i,r,o,a)}var eh={type:\"path\",tag:\"path\",nested:!1,attr:function(e,t){var n=t.scaleX||1,i=t.scaleY||1;1===n&&1===i||e(\"vector-effect\",\"non-scaling-stroke\"),e(\"transform\",function(e){return Md(e.x||0,e.y||0)+(e.angle?\" \"+Td(e.angle):\"\")+(e.scaleX||e.scaleY?\" \"+(t=e.scaleX||1,n=e.scaleY||1,\"scale(\"+t+\",\"+n+\")\"):\"\");var t,n}(t)),e(\"d\",t.path)},bound:function(e,t){return Kd(nd(e,t.angle),t)?e.set(0,0,0,0):Ic(e,t,!0)},draw:Ed(Kd),pick:Cd(Kd),isect:ud(Kd)};function th(e,t){e.beginPath(),Sc(e,t)}var nh={type:\"rect\",tag:\"path\",nested:!1,attr:function(e,t){e(\"d\",Sc(null,t))},bound:function(e,t){var n,i;return Ic(e.set(n=t.x||0,i=t.y||0,n+t.width||0,i+t.height||0),t)},draw:Ed(th),pick:Cd(th),isect:dd};function ih(e,t,n){var i,r,o,a;return!(!t.stroke||!_d(e,t,n))&&(i=t.x||0,r=t.y||0,o=null!=t.x2?t.x2:i,a=null!=t.y2?t.y2:r,e.beginPath(),e.moveTo(i,r),e.lineTo(o,a),!0)}var rh={type:\"rule\",tag:\"line\",nested:!1,attr:function(e,t){e(\"transform\",Ad(t)),e(\"x2\",null!=t.x2?t.x2-(t.x||0):0),e(\"y2\",null!=t.y2?t.y2-(t.y||0):0)},bound:function(e,t){var n,i;return Ic(e.set(n=t.x||0,i=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:i),t)},draw:function(e,t,n){kd(t,t=>{if(!n||n.intersects(t.bounds)){var i=null==t.opacity?1:t.opacity;i&&ih(e,t,i)&&(pd(e,t),e.stroke())}})},pick:Dd((function(e,t,n,i){return!!e.isPointInStroke&&(ih(e,t,1)&&e.isPointInStroke(n,i))})),isect:hd},oh=Fd(\"shape\",(function(e,t){return(t.mark.shape||t.shape).context(e)(t)})),ah=Fd(\"symbol\",(function(e,t){return kc.context(e)(t)}),cd);const sh=Object(se.M)();var lh={height:ph,measureWidth:hh,estimateWidth:ch,width:ch,canvas:uh};function uh(e){lh.width=e&&sd?hh:ch}function ch(e,t){return dh(yh(e,t),ph(e))}function dh(e,t){return~~(.8*e.length*t)}function hh(e,t){return ph(e)<=0||!(t=yh(e,t))?0:fh(t,_h(e))}function fh(e,t){const n=`(${t}) ${e}`;let i=sh.get(n);return void 0===i&&(sd.font=t,i=sd.measureText(e).width,sh.set(n,i)),i}function ph(e){return null!=e.fontSize?+e.fontSize||0:11}function gh(e){return null!=e.lineHeight?e.lineHeight:ph(e)+2}function mh(e){return t=e.lineBreak&&e.text&&!Object(se.B)(e.text)?e.text.split(e.lineBreak):e.text,Object(se.B)(t)?t.length>1?t:t[0]:t;var t}function vh(e){const t=mh(e);return(Object(se.B)(t)?t.length-1:0)*gh(e)}function yh(e,t){const n=null==t?\"\":(t+\"\").trim();return e.limit>0&&n.length?function(e,t){var n=+e.limit,i=function(e){if(lh.width===hh){const t=_h(e);return e=>fh(e,t)}{const t=ph(e);return e=>dh(e,t)}}(e);if(i(t)<n)return t;var r,o=e.ellipsis||\"…\",a=\"rtl\"===e.dir,s=0,l=t.length;if(n-=i(o),a){for(;s<l;)r=s+l>>>1,i(t.slice(r))>n?s=r+1:l=r;return o+t.slice(s)}for(;s<l;)r=1+(s+l>>>1),i(t.slice(0,r))<n?s=r:l=r-1;return t.slice(0,s)+o}(e,n):n}function bh(e,t){var n=e.font;return(t&&n?String(n).replace(/\"/g,\"'\"):n)||\"sans-serif\"}function _h(e,t){return(e.fontStyle?e.fontStyle+\" \":\"\")+(e.fontVariant?e.fontVariant+\" \":\"\")+(e.fontWeight?e.fontWeight+\" \":\"\")+ph(e)+\"px \"+bh(e,t)}function wh(e){var t=e.baseline,n=ph(e);return Math.round(\"top\"===t?.79*n:\"middle\"===t?.3*n:\"bottom\"===t?-.21*n:\"line-top\"===t?.29*n+.5*gh(e):\"line-bottom\"===t?.29*n-.5*gh(e):0)}uh(!0);var xh={left:\"start\",center:\"middle\",right:\"end\"},kh=new Mc;function Oh(e){var t,n=e.x||0,i=e.y||0,r=e.radius||0;return r&&(t=(e.theta||0)-ku,n+=r*Math.cos(t),i+=r*Math.sin(t)),kh.x1=n,kh.y1=i,kh}function Eh(e,t,n){var i,r=lh.height(t),o=t.align,a=Oh(t),s=a.x1,l=a.y1,u=t.dx||0,c=(t.dy||0)+wh(t)-Math.round(.8*r),d=mh(t);if(Object(se.B)(d)?(r+=gh(t)*(d.length-1),i=d.reduce((e,n)=>Math.max(e,lh.width(t,n)),0)):i=lh.width(t,d),\"center\"===o?u-=i/2:\"right\"===o&&(u-=i),e.set(u+=s,c+=l,u+i,c+r),t.angle&&!n)e.rotate(t.angle*xu,s,l);else if(2===n)return e.rotatedPoints(t.angle*xu,s,l);return e}var Sh={arc:Pd,area:zd,group:Yd,image:Qd,line:Jd,path:eh,rect:nh,rule:rh,shape:oh,symbol:ah,text:{type:\"text\",tag:\"text\",nested:!1,attr:function(e,t){var n,i=t.dx||0,r=(t.dy||0)+wh(t),o=Oh(t),a=o.x1,s=o.y1,l=t.angle||0;e(\"text-anchor\",xh[t.align]||\"start\"),l?(n=Md(a,s)+\" \"+Td(l),(i||r)&&(n+=\" \"+Md(i,r))):n=Md(a+i,s+r),e(\"transform\",n)},bound:Eh,draw:function(e,t,n){kd(t,t=>{var i,r,o,a,s,l,u,c=null==t.opacity?1:t.opacity;if(!(n&&!n.intersects(t.bounds)||0===c||t.fontSize<=0||null==t.text||0===t.text.length)){if(e.font=_h(t),e.textAlign=t.align||\"left\",r=(i=Oh(t)).x1,o=i.y1,t.angle&&(e.save(),e.translate(r,o),e.rotate(t.angle*xu),r=o=0),r+=t.dx||0,o+=(t.dy||0)+wh(t),l=mh(t),pd(e,t),Object(se.B)(l))for(s=gh(t),a=0;a<l.length;++a)u=yh(t,l[a]),t.fill&&yd(e,t,c)&&e.fillText(u,r,o),t.stroke&&_d(e,t,c)&&e.strokeText(u,r,o),o+=s;else u=yh(t,l),t.fill&&yd(e,t,c)&&e.fillText(u,r,o),t.stroke&&_d(e,t,c)&&e.strokeText(u,r,o);t.angle&&e.restore()}})},pick:Dd((function(e,t,n,i,r,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var a=Oh(t),s=a.x1,l=a.y1,u=Eh(kh,t,1),c=-t.angle*xu,d=Math.cos(c),h=Math.sin(c),f=d*r-h*o+(s-d*s+h*l),p=h*r+d*o+(l-h*s-d*l);return u.contains(f,p)})),isect:function(e,t){var n=Eh(kh,e,2);return fd(t,n[0],n[1],n[2],n[3])||fd(t,n[0],n[1],n[4],n[5])||fd(t,n[4],n[5],n[6],n[7])||fd(t,n[2],n[3],n[6],n[7])}},trail:Nd(\"trail\",(function(e,t){return Oc.context(e)(t)}),(function(e,t){for(var n,i,r=e.length;--r>=0;)if(!1!==e[r].defined&&(n=e[r].x-t[0])*n+(i=e[r].y-t[1])*i<(n=e[r].size||1)*n)return e[r];return null}))},Dh=function(e,t,n){var i=Sh[e.mark.marktype],r=t||i.bound;return i.nested&&(e=e.mark),r(e.bounds||(e.bounds=new Mc),e,n)},jh={mark:null},Ch=function(e,t,n){var i,r,o,a,s=Sh[e.marktype],l=s.bound,u=e.items,c=u&&u.length;if(s.nested)return c?o=u[0]:(jh.mark=e,o=jh),a=Dh(o,l,n),t=t&&t.union(a)||a;if(t=t||e.bounds&&e.bounds.clear()||new Mc,c)for(i=0,r=u.length;i<r;++i)t.union(Dh(u[i],l,n));return e.bounds=t},Mh=[\"marktype\",\"name\",\"role\",\"interactive\",\"clip\",\"items\",\"zindex\",\"x\",\"y\",\"width\",\"height\",\"align\",\"baseline\",\"fill\",\"fillOpacity\",\"opacity\",\"blend\",\"stroke\",\"strokeOpacity\",\"strokeWidth\",\"strokeCap\",\"strokeDash\",\"strokeDashOffset\",\"strokeForeground\",\"strokeOffset\",\"startAngle\",\"endAngle\",\"innerRadius\",\"outerRadius\",\"cornerRadius\",\"padAngle\",\"cornerRadiusTopLeft\",\"cornerRadiusTopRight\",\"cornerRadiusBottomLeft\",\"cornerRadiusBottomRight\",\"interpolate\",\"tension\",\"orient\",\"defined\",\"url\",\"aspect\",\"smooth\",\"path\",\"scaleX\",\"scaleY\",\"x2\",\"y2\",\"size\",\"shape\",\"text\",\"angle\",\"theta\",\"radius\",\"dir\",\"dx\",\"dy\",\"ellipsis\",\"limit\",\"lineBreak\",\"lineHeight\",\"font\",\"fontSize\",\"fontWeight\",\"fontStyle\",\"fontVariant\",\"description\",\"aria\",\"ariaRole\",\"ariaRoleDescription\"];function Th(e,t){return JSON.stringify(e,Mh,t)}function Ah(e){return function e(t){var n,i,r,o=t.marktype,a=t.items;if(a)for(i=0,r=a.length;i<r;++i)n=o?\"mark\":\"group\",a[i][n]=t,a[i].zindex&&(a[i][n].zdirty=!0),\"group\"===(o||n)&&e(a[i]);o&&Ch(t);return t}(\"string\"==typeof e?JSON.parse(e):e)}function Fh(e){arguments.length?this.root=Ah(e):(this.root=Ph({marktype:\"group\",name:\"root\",role:\"frame\"}),this.root.items=[new Ac(this.root)])}function Ph(e,t){const n={bounds:new Mc,clip:!!e.clip,group:t,interactive:!1!==e.interactive,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return null!=e.aria&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function Nh(e,t,n){return!e&&\"undefined\"!=typeof document&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function zh(e,t){t=t.toLowerCase();for(var n=e.childNodes,i=0,r=n.length;i<r;++i)if(n[i].tagName.toLowerCase()===t)return n[i]}function Rh(e,t,n,i){var r,o=e.childNodes[t];return o&&o.tagName.toLowerCase()===n.toLowerCase()||(r=o||null,o=Nh(e.ownerDocument,n,i),e.insertBefore(o,r)),o}function Ih(e,t){for(var n=e.childNodes,i=n.length;i>t;)e.removeChild(n[--i]);return e}function Bh(e){return\"mark-\"+e.marktype+(e.role?\" role-\"+e.role:\"\")+(e.name?\" \"+e.name:\"\")}Fh.prototype={toJSON(e){return Th(this.root,e||0)},mark(e,t,n){var i=Ph(e,t=t||this.root.items[0]);return t.items[n]=i,i.zindex&&(i.group.zdirty=!0),i}};var Lh=function(e,t){var n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]};function $h(e,t){this._active=null,this._handlers={},this._loader=e||Oo(),this._tooltip=t||Wh}function Wh(e,t,n,i){e.element().setAttribute(\"title\",i||\"\")}function Uh(e){this._el=null,this._bgcolor=null,this._loader=new Nc(e)}$h.prototype={initialize(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},scene(e){return arguments.length?(this._scene=e,this):this._scene},on(){},off(){},_handlerIndex(e,t,n){for(let i=e?e.length:0;--i>=0;)if(e[i].type===t&&(!n||e[i].handler===n))return i;return-1},handlers(e){const t=this._handlers,n=[];if(e)n.push.apply(n,t[this.eventName(e)]);else for(const e in t)n.push.apply(n,t[e]);return n},eventName(e){const t=e.indexOf(\".\");return t<0?e:e.slice(0,t)},handleHref(e,t,n){this._loader.sanitize(n,{context:\"href\"}).then(t=>{const n=new MouseEvent(e.type,e),i=Nh(null,\"a\");for(const e in t)i.setAttribute(e,t[e]);i.dispatchEvent(n)}).catch(()=>{})},handleTooltip(e,t,n){if(t&&null!=t.tooltip){t=function(e,t,n,i){var r,o,a=e&&e.mark;if(a&&(r=Sh[a.marktype]).tip){for((o=Lh(t,n))[0]-=i[0],o[1]-=i[1];e=e.mark.group;)o[0]-=e.x||0,o[1]-=e.y||0;e=r.tip(a.items,o)}return e}(t,e,this.canvas(),this._origin);const i=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,i)}},getItemBoundingClientRect(e){const t=this.canvas();if(!t)return;const n=t.getBoundingClientRect(),i=this._origin,r=e.bounds,o=r.width(),a=r.height();let s=r.x1+i[0]+n.left,l=r.y1+i[1]+n.top;for(;e.mark&&(e=e.mark.group);)s+=e.x||0,l+=e.y||0;return{x:s,y:l,width:o,height:a,left:s,top:l,right:s+o,bottom:l+a}}},Uh.prototype={initialize(e,t,n,i,r){return this._el=e,this.resize(t,n,i,r)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},resize(e,t,n,i){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=i||1,this},dirty(){},render(e){var t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},_render(){},renderAsync(e){var t=this.render(e);return this._ready?this._ready.then(()=>t):Promise.resolve(t)},_load(e,t){var n=this,i=n._loader[e](t);if(!n._ready){var r=n._call;n._ready=n._loader.ready().then(e=>{e&&r(),n._ready=null})}return i},sanitizeURL(e){return this._load(\"sanitizeURL\",e)},loadImage(e){return this._load(\"loadImage\",e)}};const Yh=\"dragleave\",Hh=\"mousedown\",qh=\"mousemove\",Vh=\"mouseout\",Gh=\"click\",Xh=[\"keydown\",\"keypress\",\"keyup\",\"dragenter\",Yh,\"dragover\",Hh,\"mouseup\",qh,Vh,\"mouseover\",Gh,\"dblclick\",\"wheel\",\"mousewheel\",\"touchstart\",\"touchmove\",\"touchend\"],Zh=qh,Qh=Vh,Jh=Gh;function Kh(e,t){$h.call(this,e,t),this._down=null,this._touch=null,this._first=!0,this._events={}}function ef(e,t){(e=>\"touchstart\"===e||\"touchmove\"===e||\"touchend\"===e?[\"touchstart\",\"touchmove\",\"touchend\"]:[e])(t).forEach(t=>function(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?n=>e[t](n):n=>e.fire(t,n)))}(e,t))}function tf(e,t,n){return function(i){const r=this._active,o=this.pickEvent(i);o===r||(r&&r.exit||this.fire(n,i),this._active=o,this.fire(t,i)),this.fire(e,i)}}function nf(e){return function(t){this.fire(e,t),this._active=null}}Object(se.z)(Kh,$h,{initialize(e,t,n){return this._canvas=e&&zh(e,\"canvas\"),[Gh,Hh,qh,Vh,Yh].forEach(e=>ef(this,e)),$h.prototype.initialize.call(this,e,t,n)},canvas(){return this._canvas},context(){return this._canvas.getContext(\"2d\")},events:Xh,DOMMouseScroll(e){this.fire(\"mousewheel\",e)},mousemove:tf(qh,\"mouseover\",Vh),dragover:tf(\"dragover\",\"dragenter\",Yh),mouseout:nf(Vh),dragleave:nf(Yh),mousedown(e){this._down=this._active,this.fire(Hh,e)},click(e){this._down===this._active&&(this.fire(Gh,e),this._down=null)},touchstart(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(\"touchstart\",e,!0)},touchmove(e){this.fire(\"touchmove\",e,!0)},touchend(e){this.fire(\"touchend\",e,!0),this._touch=null},fire(e,t,n){const i=n?this._touch:this._active,r=this._handlers[e];if(t.vegaType=e,e===Jh&&i&&i.href?this.handleHref(t,i,i.href):e!==Zh&&e!==Qh||this.handleTooltip(t,i,e!==Qh),r)for(let e=0,n=r.length;e<n;++e)r[e].handler.call(this._obj,t,i)},on(e,t){const n=this.eventName(e),i=this._handlers;return this._handlerIndex(i[n],e,t)<0&&(ef(this,e),(i[n]||(i[n]=[])).push({type:e,handler:t})),this},off(e,t){const n=this.eventName(e),i=this._handlers[n],r=this._handlerIndex(i,e,t);return r>=0&&i.splice(r,1),this},pickEvent(e){const t=Lh(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},pick(e,t,n,i,r){const o=this.context();return Sh[e.marktype].pick.call(this,o,e,t,n,i,r)}});var rf=\"undefined\"!=typeof window&&window.devicePixelRatio||1;function of(e){Uh.call(this,e),this._options={},this._redraw=!1,this._dirty=new Mc,this._tempb=new Mc}const af=Uh.prototype;function sf(e,t){$h.call(this,e,t);const n=this;n._hrefHandler=lf(n,(e,t)=>{t&&t.href&&n.handleHref(e,t,t.href)}),n._tooltipHandler=lf(n,(e,t)=>{n.handleTooltip(e,t,e.type!==Qh)})}Object(se.z)(of,Uh,{initialize(e,t,n,i,r,o){return this._options=o||{},this._canvas=this._options.externalContext?null:Fc(1,1,this._options.type),e&&this._canvas&&(Ih(e,0).appendChild(this._canvas),this._canvas.setAttribute(\"class\",\"marks\")),af.initialize.call(this,e,t,n,i,r)},resize(e,t,n,i){if(af.resize.call(this,e,t,n,i),this._canvas)!function(e,t,n,i,r,o){const a=\"undefined\"!=typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,s=e.getContext(\"2d\"),l=a?rf:r;e.width=t*l,e.height=n*l;for(const e in o)s[e]=o[e];a&&1!==l&&(e.style.width=t+\"px\",e.style.height=n+\"px\"),s.pixelRatio=l,s.setTransform(l,0,0,l,l*i[0],l*i[1])}(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const e=this._options.externalContext;e||Object(se.o)(\"CanvasRenderer is missing a valid canvas or context\"),e.scale(this._scale,this._scale),e.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext(\"2d\"):null)},dirty(e){const t=this._tempb.clear().union(e.bounds);let n=e.mark.group;for(;n;)t.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(t)},_render(e){const t=this.context(),n=this._origin,i=this._width,r=this._height,o=this._dirty,a=(s=n,l=i,u=r,(new Mc).set(0,0,l,u).translate(-s[0],-s[1]));var s,l,u;t.save();const c=this._redraw||o.empty()?(this._redraw=!1,a.expand(1)):function(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-n[0]%1,-n[1]%1),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}(t,a.intersect(o),n);return this.clear(-n[0],-n[1],i,r),this.draw(t,e,c),t.restore(),o.clear(),this},draw(e,t,n){const i=Sh[t.marktype];t.clip&&function(e,t){var n=t.clip;e.save(),Object(se.E)(n)?(e.beginPath(),n(e),e.clip()):Rd(e,t.group)}(e,t),i.draw.call(this,e,t,n),t.clip&&e.restore()},clear(e,t,n,i){const r=this._options,o=this.context();\"pdf\"===r.type||r.externalContext||o.clearRect(e,t,n,i),null!=this._bgcolor&&(o.fillStyle=this._bgcolor,o.fillRect(e,t,n,i))}});const lf=(e,t)=>n=>{let i=n.target.__data__;i=Array.isArray(i)?i[0]:i,n.vegaType=n.type,t.call(e._obj,n,i)};Object(se.z)(sf,$h,{initialize(e,t,n){let i=this._svg;return i&&(i.removeEventListener(Jh,this._hrefHandler),i.removeEventListener(Zh,this._tooltipHandler),i.removeEventListener(Qh,this._tooltipHandler)),this._svg=i=e&&zh(e,\"svg\"),i&&(i.addEventListener(Jh,this._hrefHandler),i.addEventListener(Zh,this._tooltipHandler),i.addEventListener(Qh,this._tooltipHandler)),$h.prototype.initialize.call(this,e,t,n)},canvas(){return this._svg},on(e,t){const n=this.eventName(e),i=this._handlers;if(this._handlerIndex(i[n],e,t)<0){const r={type:e,handler:t,listener:lf(this,t)};(i[n]||(i[n]=[])).push(r),this._svg&&this._svg.addEventListener(n,r.listener)}return this},off(e,t){const n=this.eventName(e),i=this._handlers[n],r=this._handlerIndex(i,e,t);return r>=0&&(this._svg&&this._svg.removeEventListener(n,i[r].listener),i.splice(r,1)),this}});var uf=function(e,t,n){const i=e-t+2*n;return e?i>0?i:1:0};const cf=\"log\",df=\"time\",hf=\"utc\",ff=\"continuous\";const pf=Mi(Ci),gf=pf.right,mf=pf.left;Mi(sa).center;var vf=gf;function yf(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function bf(e,t){switch(arguments.length){case 0:break;case 1:\"function\"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),\"function\"==typeof t?this.interpolator(t):this.range(t)}return this}const _f=Symbol(\"implicit\");function wf(){var e=new Map,t=[],n=[],i=_f;function r(r){var o=r+\"\",a=e.get(o);if(!a){if(i!==_f)return i;e.set(o,a=t.push(r))}return n[(a-1)%n.length]}return r.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;for(const i of n){const n=i+\"\";e.has(n)||e.set(n,t.push(i))}return r},r.range=function(e){return arguments.length?(n=Array.from(e),r):n.slice()},r.unknown=function(e){return arguments.length?(i=e,r):i},r.copy=function(){return wf(t,n).unknown(i)},yf.apply(r,arguments),r}function xf(){const e=wf().unknown(void 0),t=e.domain,n=e.range;let i,r,o=[0,1],a=!1,s=0,l=0,u=.5;function c(){const e=t().length,c=o[1]<o[0],d=o[1-c],h=uf(e,s,l);let f=o[c-0];i=(d-f)/(h||1),a&&(i=Math.floor(i)),f+=(d-f-i*(e-s))*u,r=i*(1-s),a&&(f=Math.round(f),r=Math.round(r));const p=Qs(e).map(e=>f+i*e);return n(c?p.reverse():p)}return delete e.unknown,e.domain=function(e){return arguments.length?(t(e),c()):t()},e.range=function(e){return arguments.length?(o=[+e[0],+e[1]],c()):o.slice()},e.rangeRound=function(e){return o=[+e[0],+e[1]],a=!0,c()},e.bandwidth=function(){return r},e.step=function(){return i},e.round=function(e){return arguments.length?(a=!!e,c()):a},e.padding=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),s=l,c()):s},e.paddingInner=function(e){return arguments.length?(s=Math.max(0,Math.min(1,e)),c()):s},e.paddingOuter=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),c()):l},e.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),c()):u},e.invertRange=function(e){if(null==e[0]||null==e[1])return;const i=o[1]<o[0],a=i?n().reverse():n(),s=a.length-1;let l,u,c,d=+e[0],h=+e[1];return d!=d||h!=h||(h<d&&(c=d,d=h,h=c),h<a[0]||d>o[1-i])?void 0:(l=Math.max(0,gf(a,d)-1),u=d===h?l:gf(a,h)-1,d-a[l]>r+1e-10&&++l,i&&(c=l,l=s-u,u=s-c),l>u?void 0:t().slice(l,u+1))},e.invert=function(t){const n=e.invertRange([t,t]);return n?n[0]:n},e.copy=function(){return xf().domain(t()).range(o).round(a).paddingInner(s).paddingOuter(l).align(u)},c()}var kf=function(e,t,n,i){var r,o=wt(e,t,n);switch((i=kt(null==i?\",f\":i)).type){case\"s\":var a=Math.max(Math.abs(e),Math.abs(t));return null!=i.precision||isNaN(r=Tt(o,a))||(i.precision=r),Ct(i,a);case\"\":case\"e\":case\"g\":case\"p\":case\"r\":null!=i.precision||isNaN(r=At(o,Math.max(Math.abs(e),Math.abs(t))))||(i.precision=r-(\"e\"===i.type));break;case\"f\":case\"%\":null!=i.precision||isNaN(r=Ft(o))||(i.precision=r-2*(\"%\"===i.type))}return jt(i)},Of=Array.prototype.map;function Ef(e){return Of.call(e,se.db)}const Sf=Array.prototype.slice;var Df=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function jf(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Cf(){}var Mf=\"\\\\s*([+-]?\\\\d+)\\\\s*\",Tf=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",Af=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",Ff=/^#([0-9a-f]{3,8})$/,Pf=new RegExp(\"^rgb\\\\(\"+[Mf,Mf,Mf]+\"\\\\)$\"),Nf=new RegExp(\"^rgb\\\\(\"+[Af,Af,Af]+\"\\\\)$\"),zf=new RegExp(\"^rgba\\\\(\"+[Mf,Mf,Mf,Tf]+\"\\\\)$\"),Rf=new RegExp(\"^rgba\\\\(\"+[Af,Af,Af,Tf]+\"\\\\)$\"),If=new RegExp(\"^hsl\\\\(\"+[Tf,Af,Af]+\"\\\\)$\"),Bf=new RegExp(\"^hsla\\\\(\"+[Tf,Af,Af,Tf]+\"\\\\)$\"),Lf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function $f(){return this.rgb().formatHex()}function Wf(){return this.rgb().formatRgb()}function Uf(e){var t,n;return e=(e+\"\").trim().toLowerCase(),(t=Ff.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Yf(t):3===n?new Gf(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Hf(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Hf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Pf.exec(e))?new Gf(t[1],t[2],t[3],1):(t=Nf.exec(e))?new Gf(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=zf.exec(e))?Hf(t[1],t[2],t[3],t[4]):(t=Rf.exec(e))?Hf(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=If.exec(e))?Jf(t[1],t[2]/100,t[3]/100,1):(t=Bf.exec(e))?Jf(t[1],t[2]/100,t[3]/100,t[4]):Lf.hasOwnProperty(e)?Yf(Lf[e]):\"transparent\"===e?new Gf(NaN,NaN,NaN,0):null}function Yf(e){return new Gf(e>>16&255,e>>8&255,255&e,1)}function Hf(e,t,n,i){return i<=0&&(e=t=n=NaN),new Gf(e,t,n,i)}function qf(e){return e instanceof Cf||(e=Uf(e)),e?new Gf((e=e.rgb()).r,e.g,e.b,e.opacity):new Gf}function Vf(e,t,n,i){return 1===arguments.length?qf(e):new Gf(e,t,n,null==i?1:i)}function Gf(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function Xf(){return\"#\"+Qf(this.r)+Qf(this.g)+Qf(this.b)}function Zf(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?\"rgb(\":\"rgba(\")+Math.max(0,Math.min(255,Math.round(this.r)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.g)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?\")\":\", \"+e+\")\")}function Qf(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?\"0\":\"\")+e.toString(16)}function Jf(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new tp(e,t,n,i)}function Kf(e){if(e instanceof tp)return new tp(e.h,e.s,e.l,e.opacity);if(e instanceof Cf||(e=Uf(e)),!e)return new tp;if(e instanceof tp)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),o=Math.max(t,n,i),a=NaN,s=o-r,l=(o+r)/2;return s?(a=t===o?(n-i)/s+6*(n<i):n===o?(i-t)/s+2:(t-n)/s+4,s/=l<.5?o+r:2-o-r,a*=60):s=l>0&&l<1?0:a,new tp(a,s,l,e.opacity)}function ep(e,t,n,i){return 1===arguments.length?Kf(e):new tp(e,t,n,null==i?1:i)}function tp(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function np(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function ip(e,t,n,i,r){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*i+a*r)/6}Df(Cf,Uf,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:$f,formatHex:$f,formatHsl:function(){return Kf(this).formatHsl()},formatRgb:Wf,toString:Wf}),Df(Gf,Vf,jf(Cf,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Gf(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Gf(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xf,formatHex:Xf,formatRgb:Zf,toString:Zf})),Df(tp,ep,jf(Cf,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new tp(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new tp(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new Gf(np(e>=240?e-240:e+120,r,i),np(e,r,i),np(e<120?e+240:e-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?\"hsl(\":\"hsla(\")+(this.h||0)+\", \"+100*(this.s||0)+\"%, \"+100*(this.l||0)+\"%\"+(1===e?\")\":\", \"+e+\")\")}}));var rp=function(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[i],o=e[i+1],a=i>0?e[i-1]:2*r-o,s=i<t-1?e[i+2]:2*o-r;return ip((n-i/t)*t,a,r,o,s)}},op=function(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),r=e[(i+t-1)%t],o=e[i%t],a=e[(i+1)%t],s=e[(i+2)%t];return ip((n-i/t)*t,r,o,a,s)}},ap=e=>()=>e;function sp(e,t){return function(n){return e+n*t}}function lp(e,t){var n=t-e;return n?sp(e,n>180||n<-180?n-360*Math.round(n/360):n):ap(isNaN(e)?t:e)}function up(e){return 1==(e=+e)?cp:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}(t,n,e):ap(isNaN(t)?n:t)}}function cp(e,t){var n=t-e;return n?sp(e,n):ap(isNaN(e)?t:e)}var dp=function e(t){var n=up(t);function i(e,t){var i=n((e=Vf(e)).r,(t=Vf(t)).r),r=n(e.g,t.g),o=n(e.b,t.b),a=cp(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=r(t),e.b=o(t),e.opacity=a(t),e+\"\"}}return i.gamma=e,i}(1);function hp(e){return function(t){var n,i,r=t.length,o=new Array(r),a=new Array(r),s=new Array(r);for(n=0;n<r;++n)i=Vf(t[n]),o[n]=i.r||0,a[n]=i.g||0,s[n]=i.b||0;return o=e(o),a=e(a),s=e(s),i.opacity=1,function(e){return i.r=o(e),i.g=a(e),i.b=s(e),i+\"\"}}}var fp=hp(rp),pp=hp(op),gp=function(e,t){t||(t=[]);var n,i=e?Math.min(t.length,e.length):0,r=t.slice();return function(o){for(n=0;n<i;++n)r[n]=e[n]*(1-o)+t[n]*o;return r}};function mp(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var vp=function(e,t){return(mp(t)?gp:yp)(e,t)};function yp(e,t){var n,i=t?t.length:0,r=e?Math.min(i,e.length):0,o=new Array(r),a=new Array(i);for(n=0;n<r;++n)o[n]=Ep(e[n],t[n]);for(;n<i;++n)a[n]=t[n];return function(e){for(n=0;n<r;++n)a[n]=o[n](e);return a}}var bp=function(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}},_p=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}},wp=function(e,t){var n,i={},r={};for(n in null!==e&&\"object\"==typeof e||(e={}),null!==t&&\"object\"==typeof t||(t={}),t)n in e?i[n]=Ep(e[n],t[n]):r[n]=t[n];return function(e){for(n in i)r[n]=i[n](e);return r}},xp=/[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,kp=new RegExp(xp.source,\"g\");var Op=function(e,t){var n,i,r,o=xp.lastIndex=kp.lastIndex=0,a=-1,s=[],l=[];for(e+=\"\",t+=\"\";(n=xp.exec(e))&&(i=kp.exec(t));)(r=i.index)>o&&(r=t.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:_p(n,i)})),o=kp.lastIndex;return o<t.length&&(r=t.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?function(e){return function(t){return e(t)+\"\"}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,i=0;i<t;++i)s[(n=l[i]).i]=n.x(e);return s.join(\"\")})},Ep=function(e,t){var n,i=typeof t;return null==t||\"boolean\"===i?ap(t):(\"number\"===i?_p:\"string\"===i?(n=Uf(t))?(t=n,dp):Op:t instanceof Uf?dp:t instanceof Date?bp:mp(t)?gp:Array.isArray(t)?yp:\"function\"!=typeof t.valueOf&&\"function\"!=typeof t.toString||isNaN(t)?wp:_p)(e,t)},Sp=function(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}},Dp=function(e){return+e},jp=[0,1];function Cp(e){return e}function Mp(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function Tp(e,t,n){var i=e[0],r=e[1],o=t[0],a=t[1];return r<i?(i=Mp(r,i),o=n(a,o)):(i=Mp(i,r),o=n(o,a)),function(e){return o(i(e))}}function Ap(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),o=new Array(i),a=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<i;)r[a]=Mp(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=vf(e,t,1,i)-1;return o[n](r[n](t))}}function Fp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Pp(){var e,t,n,i,r,o,a=jp,s=jp,l=Ep,u=Cp;function c(){var e,t,n,l=Math.min(a.length,s.length);return u!==Cp&&(e=a[0],t=a[l-1],e>t&&(n=e,e=t,t=n),u=function(n){return Math.max(e,Math.min(t,n))}),i=l>2?Ap:Tp,r=o=null,d}function d(t){return isNaN(t=+t)?n:(r||(r=i(a.map(e),s,l)))(e(u(t)))}return d.invert=function(n){return u(t((o||(o=i(s,a.map(e),_p)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,Dp),c()):a.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),c()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=Sp,c()},d.clamp=function(e){return arguments.length?(u=!!e||Cp,c()):u!==Cp},d.interpolate=function(e){return arguments.length?(l=e,c()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,i){return e=n,t=i,c()}}function Np(){return Pp()(Cp,Cp)}function zp(e){var t=e.domain;return e.ticks=function(e){var n=t();return bt(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var i=t();return kf(i[0],i[i.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var i,r,o=t(),a=0,s=o.length-1,l=o[a],u=o[s],c=10;for(u<l&&(r=l,l=u,u=r,r=a,a=s,s=r);c-- >0;){if((r=_t(l,u,n))===i)return o[a]=l,o[s]=u,t(o);if(r>0)l=Math.floor(l/r)*r,u=Math.ceil(u/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,u=Math.floor(u*r)/r}i=r}return e},e}var Rp=function(e,t){var n,i=0,r=(e=e.slice()).length-1,o=e[i],a=e[r];return a<o&&(n=i,i=r,r=n,n=o,o=a,a=n),e[i]=t.floor(o),e[r]=t.ceil(a),e};function Ip(e){return Math.log(e)}function Bp(e){return Math.exp(e)}function Lp(e){return-Math.log(-e)}function $p(e){return-Math.exp(-e)}function Wp(e){return isFinite(e)?+(\"1e\"+e):e<0?0:e}function Up(e){return function(t){return-e(-t)}}function Yp(e){var t,n,i=e(Ip,Bp),r=i.domain,o=10;function a(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(o),n=function(e){return 10===e?Wp:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(o),r()[0]<0?(t=Up(t),n=Up(n),e(Lp,$p)):e(Ip,Bp),i}return i.base=function(e){return arguments.length?(o=+e,a()):o},i.domain=function(e){return arguments.length?(r(e),a()):r()},i.ticks=function(e){var i,a=r(),s=a[0],l=a[a.length-1];(i=l<s)&&(h=s,s=l,l=h);var u,c,d,h=t(s),f=t(l),p=null==e?10:+e,g=[];if(!(o%1)&&f-h<p){if(h=Math.floor(h),f=Math.ceil(f),s>0){for(;h<=f;++h)for(c=1,u=n(h);c<o;++c)if(!((d=u*c)<s)){if(d>l)break;g.push(d)}}else for(;h<=f;++h)for(c=o-1,u=n(h);c>=1;--c)if(!((d=u*c)<s)){if(d>l)break;g.push(d)}2*g.length<p&&(g=bt(s,l,p))}else g=bt(h,f,Math.min(f-h,p)).map(n);return i?g.reverse():g},i.tickFormat=function(e,r){if(null==r&&(r=10===o?\".0e\":\",\"),\"function\"!=typeof r&&(r=jt(r)),e===1/0)return r;null==e&&(e=10);var a=Math.max(1,o*e/i.ticks().length);return function(e){var i=e/n(Math.round(t(e)));return i*o<o-.5&&(i*=o),i<=a?r(e):\"\"}},i.nice=function(){return r(Rp(r(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},i}function Hp(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function qp(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Vp(e){return e<0?-e*e:e*e}function Gp(e){var t=e(Cp,Cp),n=1;function i(){return 1===n?e(Cp,Cp):.5===n?e(qp,Vp):e(Hp(n),Hp(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,i()):n},zp(t)}function Xp(){var e=Gp(Pp());return e.copy=function(){return Fp(e,Xp()).exponent(e.exponent())},yf.apply(e,arguments),e}function Zp(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Qp(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Jp(e){var t=1,n=e(Zp(t),Qp(t));return n.constant=function(n){return arguments.length?e(Zp(t=+n),Qp(t)):t},zp(n)}function Kp(e){return new Date(e)}function eg(e){return e instanceof Date?+e:+new Date(+e)}function tg(e,t,n,i,r,o,a,s,l){var u=Np(),c=u.invert,d=u.domain,h=l(\".%L\"),f=l(\":%S\"),p=l(\"%I:%M\"),g=l(\"%I %p\"),m=l(\"%a %d\"),v=l(\"%b %d\"),y=l(\"%B\"),b=l(\"%Y\"),_=[[a,1,1e3],[a,5,5e3],[a,15,15e3],[a,30,3e4],[o,1,6e4],[o,5,3e5],[o,15,9e5],[o,30,18e5],[r,1,36e5],[r,3,108e5],[r,6,216e5],[r,12,432e5],[i,1,864e5],[i,2,1728e5],[n,1,6048e5],[t,1,2592e6],[t,3,7776e6],[e,1,31536e6]];function w(s){return(a(s)<s?h:o(s)<s?f:r(s)<s?p:i(s)<s?g:t(s)<s?n(s)<s?m:v:e(s)<s?y:b)(s)}function x(t,n,i){if(null==t&&(t=10),\"number\"==typeof t){var r,o=Math.abs(i-n)/t,a=Mi((function(e){return e[2]})).right(_,o);return a===_.length?(r=wt(n/31536e6,i/31536e6,t),t=e):a?(r=(a=_[o/_[a-1][2]<_[a][2]/o?a-1:a])[1],t=a[0]):(r=Math.max(wt(n,i,t),1),t=s),t.every(r)}return t}return u.invert=function(e){return new Date(c(e))},u.domain=function(e){return arguments.length?d(Array.from(e,eg)):d().map(Kp)},u.ticks=function(e){var t,n=d(),i=n[0],r=n[n.length-1],o=r<i;return o&&(t=i,i=r,r=t),t=(t=x(e,i,r))?t.range(i,r+1):[],o?t.reverse():t},u.tickFormat=function(e,t){return null==t?w:l(t)},u.nice=function(e){var t=d();return(e=x(e,t[0],t[t.length-1]))?d(Rp(t,e)):u},u.copy=function(){return Fp(u,tg(e,t,n,i,r,o,a,s,l))},u}function ng(){var e,t,n,i,r,o=0,a=1,s=Cp,l=!1;function u(t){return isNaN(t=+t)?r:s(0===n?.5:(t=(i(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function c(e){return function(t){var n,i;return arguments.length?([n,i]=t,s=e(n,i),u):[s(0),s(1)]}}return u.domain=function(r){return arguments.length?([o,a]=r,e=i(o=+o),t=i(a=+a),n=e===t?0:1/(t-e),u):[o,a]},u.clamp=function(e){return arguments.length?(l=!!e,u):l},u.interpolator=function(e){return arguments.length?(s=e,u):s},u.range=c(Ep),u.rangeRound=c(Sp),u.unknown=function(e){return arguments.length?(r=e,u):r},function(r){return i=r,e=r(o),t=r(a),n=e===t?0:1/(t-e),u}}function ig(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function rg(){var e=zp(ng()(Cp));return e.copy=function(){return ig(e,rg())},bf.apply(e,arguments)}function og(){var e=Gp(ng());return e.copy=function(){return ig(e,og()).exponent(e.exponent())},bf.apply(e,arguments)}function ag(e,t){void 0===t&&(t=e,e=Ep);for(var n=0,i=t.length-1,r=t[0],o=new Array(i<0?0:i);n<i;)o[n]=e(r,r=t[++n]);return function(e){var t=Math.max(0,Math.min(i-1,Math.floor(e*=i)));return o[t](e-t)}}function sg(){var e,t,n,i,r,o,a,s=0,l=.5,u=1,c=1,d=Cp,h=!1;function f(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(c*e<c*t?i:r),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,i,r;return arguments.length?([n,i,r]=t,d=ag(e,[n,i,r]),f):[d(0),d(.5),d(1)]}}return f.domain=function(a){return arguments.length?([s,l,u]=a,e=o(s=+s),t=o(l=+l),n=o(u=+u),i=e===t?0:.5/(t-e),r=t===n?0:.5/(n-t),c=t<e?-1:1,f):[s,l,u]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(Ep),f.rangeRound=p(Sp),f.unknown=function(e){return arguments.length?(a=e,f):a},function(a){return o=a,e=a(s),t=a(l),n=a(u),i=e===t?0:.5/(t-e),r=t===n?0:.5/(n-t),c=t<e?-1:1,f}}function lg(){var e=Gp(sg());return e.copy=function(){return ig(e,lg()).exponent(e.exponent())},bf.apply(e,arguments)}const ug={};function cg(e,t,n){const i=function(){const n=t();return n.invertRange||(n.invertRange=n.invert?function(e){return function(t){let n,i=t[0],r=t[1];return r<i&&(n=i,i=r,r=n),[e.invert(i),e.invert(r)]}}(n):n.invertExtent?function(e){return function(t){const n=e.range();let i,r,o,a,s=t[0],l=t[1],u=-1;for(l<s&&(r=s,s=l,l=r),o=0,a=n.length;o<a;++o)n[o]>=s&&n[o]<=l&&(u<0&&(u=o),i=o);if(!(u<0))return s=e.invertExtent(n[u]),l=e.invertExtent(n[i]),[void 0===s[0]?s[1]:s[0],void 0===l[1]?l[0]:l[1]]}}(n):void 0),n.type=e,n};return i.metadata=Object(se.eb)(Object(se.i)(n)),i}function dg(e,t,n){return arguments.length>1?(ug[e]=cg(e,t,n),this):hg(e)?ug[e]:void 0}function hg(e){return Object(se.w)(ug,e)}function fg(e,t){const n=ug[e];return n&&n.metadata[t]}function pg(e){return fg(e,ff)}function gg(e){return fg(e,\"discrete\")}function mg(e){return fg(e,\"discretizing\")}function vg(e){return fg(e,cf)}function yg(e){return fg(e,\"interpolating\")}function bg(e){return fg(e,\"quantile\")}dg(\"identity\",(function e(t){var n;function i(e){return isNaN(e=+e)?n:e}return i.invert=i,i.domain=i.range=function(e){return arguments.length?(t=Array.from(e,Dp),i):t.slice()},i.unknown=function(e){return arguments.length?(n=e,i):n},i.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,Dp):[0,1],zp(i)})),dg(\"linear\",(function e(){var t=Np();return t.copy=function(){return Fp(t,e())},yf.apply(t,arguments),zp(t)}),ff),dg(cf,(function e(){var t=Yp(Pp()).domain([1,10]);return t.copy=function(){return Fp(t,e()).base(t.base())},yf.apply(t,arguments),t}),[ff,cf]),dg(\"pow\",Xp,ff),dg(\"sqrt\",(function(){return Xp.apply(null,arguments).exponent(.5)}),ff),dg(\"symlog\",(function e(){var t=Jp(Pp());return t.copy=function(){return Fp(t,e()).constant(t.constant())},yf.apply(t,arguments)}),ff),dg(df,(function(){return yf.apply(tg(ei,ni,pn,hn,ri,ai,li,ci,Hi).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}),[ff,\"temporal\"]),dg(hf,(function(){return yf.apply(tg(hi,pi,On,xn,mi,yi,li,ci,Vi).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}),[ff,\"temporal\"]),dg(\"sequential\",rg,[ff,\"interpolating\"]),dg(\"sequential-linear\",rg,[ff,\"interpolating\"]),dg(\"sequential-log\",(function e(){var t=Yp(ng()).domain([1,10]);return t.copy=function(){return ig(t,e()).base(t.base())},bf.apply(t,arguments)}),[ff,\"interpolating\",cf]),dg(\"sequential-pow\",og,[ff,\"interpolating\"]),dg(\"sequential-sqrt\",(function(){return og.apply(null,arguments).exponent(.5)}),[ff,\"interpolating\"]),dg(\"sequential-symlog\",(function e(){var t=Jp(ng());return t.copy=function(){return ig(t,e()).constant(t.constant())},bf.apply(t,arguments)}),[ff,\"interpolating\"]),dg(\"diverging-linear\",(function e(){var t=zp(sg()(Cp));return t.copy=function(){return ig(t,e())},bf.apply(t,arguments)}),[ff,\"interpolating\"]),dg(\"diverging-log\",(function e(){var t=Yp(sg()).domain([.1,1,10]);return t.copy=function(){return ig(t,e()).base(t.base())},bf.apply(t,arguments)}),[ff,\"interpolating\",cf]),dg(\"diverging-pow\",lg,[ff,\"interpolating\"]),dg(\"diverging-sqrt\",(function(){return lg.apply(null,arguments).exponent(.5)}),[ff,\"interpolating\"]),dg(\"diverging-symlog\",(function e(){var t=Jp(sg());return t.copy=function(){return ig(t,e()).constant(t.constant())},bf.apply(t,arguments)}),[ff,\"interpolating\"]),dg(\"quantile\",(function e(){var t,n=[],i=[],r=[];function o(){var e=0,t=Math.max(1,i.length);for(r=new Array(t-1);++e<t;)r[e-1]=la(n,e/t);return a}function a(e){return isNaN(e=+e)?t:i[vf(r,e)]}return a.invertExtent=function(e){var t=i.indexOf(e);return t<0?[NaN,NaN]:[t>0?r[t-1]:n[0],t<r.length?r[t]:n[n.length-1]]},a.domain=function(e){if(!arguments.length)return n.slice();n=[];for(let t of e)null==t||isNaN(t=+t)||n.push(t);return n.sort(Ci),o()},a.range=function(e){return arguments.length?(i=Array.from(e),o()):i.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return r.slice()},a.copy=function(){return e().domain(n).range(i).unknown(t)},yf.apply(a,arguments)}),[\"discretizing\",\"quantile\"]),dg(\"quantize\",(function e(){var t,n=0,i=1,r=1,o=[.5],a=[0,1];function s(e){return e<=e?a[vf(o,e,0,r)]:t}function l(){var e=-1;for(o=new Array(r);++e<r;)o[e]=((e+1)*i-(e-r)*n)/(r+1);return s}return s.domain=function(e){return arguments.length?([n,i]=e,n=+n,i=+i,l()):[n,i]},s.range=function(e){return arguments.length?(r=(a=Array.from(e)).length-1,l()):a.slice()},s.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,o[0]]:t>=r?[o[r-1],i]:[o[t-1],o[t]]},s.unknown=function(e){return arguments.length?(t=e,s):s},s.thresholds=function(){return o.slice()},s.copy=function(){return e().domain([n,i]).range(a).unknown(t)},yf.apply(zp(s),arguments)}),\"discretizing\"),dg(\"threshold\",(function e(){var t,n=[.5],i=[0,1],r=1;function o(e){return e<=e?i[vf(n,e,0,r)]:t}return o.domain=function(e){return arguments.length?(n=Array.from(e),r=Math.min(n.length,i.length-1),o):n.slice()},o.range=function(e){return arguments.length?(i=Array.from(e),r=Math.min(n.length,i.length-1),o):i.slice()},o.invertExtent=function(e){var t=i.indexOf(e);return[n[t-1],n[t]]},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e().domain(n).range(i).unknown(t)},yf.apply(o,arguments)}),\"discretizing\"),dg(\"bin-ordinal\",(function e(){let t=[],n=[];function i(e){return null==e||e!=e?void 0:n[(vf(t,e)-1)%n.length]}return i.domain=function(e){return arguments.length?(t=Ef(e),i):t.slice()},i.range=function(e){return arguments.length?(n=Sf.call(e),i):n.slice()},i.tickFormat=function(e,n){return kf(t[0],Object(se.V)(t),null==e?10:e,n)},i.copy=function(){return e().domain(i.domain()).range(i.range())},i}),[\"discrete\",\"discretizing\"]),dg(\"ordinal\",wf,\"discrete\"),dg(\"band\",xf,\"discrete\"),dg(\"point\",(function(){return function e(t){const n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return e(n())},t}(xf().paddingInner(1))}),\"discrete\");var _g,wg=function(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}},xg=function(e,t){var n=lp(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}},kg=180/Math.PI,Og={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Eg=function(e,t,n,i,r,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,l/=s),e*i<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(t,e)*kg,skewX:Math.atan(l)*kg,scaleX:a,scaleY:s}};function Sg(e,t,n,i){function r(e){return e.length?e.pop()+\" \":\"\"}return function(o,a){var s=[],l=[];return o=e(o),a=e(a),function(e,i,r,o,a,s){if(e!==r||i!==o){var l=a.push(\"translate(\",null,t,null,n);s.push({i:l-4,x:_p(e,r)},{i:l-2,x:_p(i,o)})}else(r||o)&&a.push(\"translate(\"+r+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(r(n)+\"rotate(\",null,i)-2,x:_p(e,t)})):t&&n.push(r(n)+\"rotate(\"+t+i)}(o.rotate,a.rotate,s,l),function(e,t,n,o){e!==t?o.push({i:n.push(r(n)+\"skewX(\",null,i)-2,x:_p(e,t)}):t&&n.push(r(n)+\"skewX(\"+t+i)}(o.skewX,a.skewX,s,l),function(e,t,n,i,o,a){if(e!==n||t!==i){var s=o.push(r(o)+\"scale(\",null,\",\",null,\")\");a.push({i:s-4,x:_p(e,n)},{i:s-2,x:_p(t,i)})}else 1===n&&1===i||o.push(r(o)+\"scale(\"+n+\",\"+i+\")\")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(e){for(var t,n=-1,i=l.length;++n<i;)s[(t=l[n]).i]=t.x(e);return s.join(\"\")}}}var Dg=Sg((function(e){const t=new(\"function\"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+\"\");return t.isIdentity?Og:Eg(t.a,t.b,t.c,t.d,t.e,t.f)}),\"px, \",\"px)\",\"deg)\"),jg=Sg((function(e){return null==e?Og:(_g||(_g=document.createElementNS(\"http://www.w3.org/2000/svg\",\"g\")),_g.setAttribute(\"transform\",e),(e=_g.transform.baseVal.consolidate())?(e=e.matrix,Eg(e.a,e.b,e.c,e.d,e.e,e.f)):Og)}),\", \",\")\",\")\");function Cg(e){return((e=Math.exp(e))+1/e)/2}var Mg=function e(t,n,i){function r(e,r){var o,a,s=e[0],l=e[1],u=e[2],c=r[0],d=r[1],h=r[2],f=c-s,p=d-l,g=f*f+p*p;if(g<1e-12)a=Math.log(h/u)/t,o=function(e){return[s+e*f,l+e*p,u*Math.exp(t*e*a)]};else{var m=Math.sqrt(g),v=(h*h-u*u+i*g)/(2*u*n*m),y=(h*h-u*u-i*g)/(2*h*n*m),b=Math.log(Math.sqrt(v*v+1)-v),_=Math.log(Math.sqrt(y*y+1)-y);a=(_-b)/t,o=function(e){var i,r=e*a,o=Cg(b),c=u/(n*m)*(o*(i=t*r+b,((i=Math.exp(2*i))-1)/(i+1))-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[s+c*f,l+c*p,u*o/Cg(t*r+b)]}}return o.duration=1e3*a*t/Math.SQRT2,o}return r.rho=function(t){var n=Math.max(.001,+t),i=n*n;return e(n,i,i*i)},r}(Math.SQRT2,2,4);function Tg(e){return function(t,n){var i=e((t=ep(t)).h,(n=ep(n)).h),r=cp(t.s,n.s),o=cp(t.l,n.l),a=cp(t.opacity,n.opacity);return function(e){return t.h=i(e),t.s=r(e),t.l=o(e),t.opacity=a(e),t+\"\"}}}var Ag=Tg(lp),Fg=Tg(cp);const Pg=Math.PI/180,Ng=180/Math.PI;function zg(e){if(e instanceof Ig)return new Ig(e.l,e.a,e.b,e.opacity);if(e instanceof Hg)return qg(e);e instanceof Gf||(e=qf(e));var t,n,i=Wg(e.r),r=Wg(e.g),o=Wg(e.b),a=Bg((.2225045*i+.7168786*r+.0606169*o)/1);return i===r&&r===o?t=n=a:(t=Bg((.4360747*i+.3850649*r+.1430804*o)/.96422),n=Bg((.0139322*i+.0971045*r+.7141733*o)/.82521)),new Ig(116*a-16,500*(t-a),200*(a-n),e.opacity)}function Rg(e,t,n,i){return 1===arguments.length?zg(e):new Ig(e,t,n,null==i?1:i)}function Ig(e,t,n,i){this.l=+e,this.a=+t,this.b=+n,this.opacity=+i}function Bg(e){return e>6/29*(6/29)*(6/29)?Math.pow(e,1/3):e/(6/29*3*(6/29))+4/29}function Lg(e){return e>6/29?e*e*e:6/29*3*(6/29)*(e-4/29)}function $g(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Wg(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Ug(e){if(e instanceof Hg)return new Hg(e.h,e.c,e.l,e.opacity);if(e instanceof Ig||(e=zg(e)),0===e.a&&0===e.b)return new Hg(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Ng;return new Hg(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Yg(e,t,n,i){return 1===arguments.length?Ug(e):new Hg(e,t,n,null==i?1:i)}function Hg(e,t,n,i){this.h=+e,this.c=+t,this.l=+n,this.opacity=+i}function qg(e){if(isNaN(e.h))return new Ig(e.l,0,0,e.opacity);var t=e.h*Pg;return new Ig(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}function Vg(e,t){var n=cp((e=Rg(e)).l,(t=Rg(t)).l),i=cp(e.a,t.a),r=cp(e.b,t.b),o=cp(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=i(t),e.b=r(t),e.opacity=o(t),e+\"\"}}function Gg(e){return function(t,n){var i=e((t=Yg(t)).h,(n=Yg(n)).h),r=cp(t.c,n.c),o=cp(t.l,n.l),a=cp(t.opacity,n.opacity);return function(e){return t.h=i(e),t.c=r(e),t.l=o(e),t.opacity=a(e),t+\"\"}}}Df(Ig,Rg,jf(Cf,{brighter:function(e){return new Ig(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new Ig(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new Gf($g(3.1338561*(t=.96422*Lg(t))-1.6168667*(e=1*Lg(e))-.4906146*(n=.82521*Lg(n))),$g(-.9787684*t+1.9161415*e+.033454*n),$g(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),Df(Hg,Yg,jf(Cf,{brighter:function(e){return new Hg(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new Hg(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return qg(this).rgb()}}));var Xg=Gg(lp),Zg=Gg(cp),Qg=1.97294,Jg=-.90649*Qg,Kg=1.78277*Qg,em=-.6557636667999999;function tm(e){if(e instanceof im)return new im(e.h,e.s,e.l,e.opacity);e instanceof Gf||(e=qf(e));var t=e.r/255,n=e.g/255,i=e.b/255,r=(em*i+Jg*t-Kg*n)/(em+Jg-Kg),o=i-r,a=(Qg*(n-r)- -.29227*o)/-.90649,s=Math.sqrt(a*a+o*o)/(Qg*r*(1-r)),l=s?Math.atan2(a,o)*Ng-120:NaN;return new im(l<0?l+360:l,s,r,e.opacity)}function nm(e,t,n,i){return 1===arguments.length?tm(e):new im(e,t,n,null==i?1:i)}function im(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function rm(e){return function t(n){function i(t,i){var r=e((t=nm(t)).h,(i=nm(i)).h),o=cp(t.s,i.s),a=cp(t.l,i.l),s=cp(t.opacity,i.opacity);return function(e){return t.h=r(e),t.s=o(e),t.l=a(Math.pow(e,n)),t.opacity=s(e),t+\"\"}}return n=+n,i.gamma=t,i}(1)}Df(im,nm,jf(Cf,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new im(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new im(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*Pg,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),i=Math.cos(e),r=Math.sin(e);return new Gf(255*(t+n*(-.14861*i+1.78277*r)),255*(t+n*(-.29227*i+-.90649*r)),255*(t+n*(Qg*i)),this.opacity)}}));var om=rm(lp),am=rm(cp),sm=function(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e(i/(t-1));return n};const lm=[\"clamp\",\"base\",\"constant\",\"exponent\"];function um(e,t){const n=t[0],i=Object(se.V)(t)-n;return function(t){return e(n+t*i)}}function cm(e,t,n){return ag(fm(t||\"rgb\",n),e)}function dm(e,t){const n=new Array(t),i=t+1;for(let r=0;r<t;)n[r]=e(++r/i);return n}function hm(e,t,n){const i=n-t;let r,o,a;return i&&Number.isFinite(i)?(r=(o=e.type).indexOf(\"-\"),o=r<0?o:o.slice(r+1),a=dg(o)().domain([t,n]).range([0,1]),lm.forEach(t=>e[t]?a[t](e[t]()):0),a):Object(se.m)(.5)}function fm(e,t){const n=a[function(e){return\"interpolate\"+e.toLowerCase().split(\"-\").map(e=>e[0].toUpperCase()+e.slice(1)).join(\"\")}(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}function pm(e){const t=e.length/6|0,n=new Array(t);for(let i=0;i<t;)n[i]=\"#\"+e.slice(6*i,6*++i);return n}function gm(e,t){for(const n in e)vm(n,t(e[n]))}const mm={};function vm(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(mm[e]=t,this):mm[e]}gm({category10:\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\",category20:\"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5\",category20b:\"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6\",category20c:\"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9\",tableau10:\"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac\",tableau20:\"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5\",accent:\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\",dark2:\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\",paired:\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\",pastel1:\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\",pastel2:\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\",set1:\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\",set2:\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\",set3:\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\"},pm),gm({blues:\"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90\",greens:\"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429\",greys:\"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e\",oranges:\"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303\",purples:\"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c\",reds:\"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13\",blueGreen:\"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429\",bluePurple:\"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71\",greenBlue:\"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1\",orangeRed:\"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403\",purpleBlue:\"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281\",purpleBlueGreen:\"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353\",purpleRed:\"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a\",redPurple:\"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174\",yellowGreen:\"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034\",yellowOrangeBrown:\"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204\",yellowOrangeRed:\"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225\",blueOrange:\"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07\",brownBlueGreen:\"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147\",purpleGreen:\"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29\",purpleOrange:\"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07\",redBlue:\"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85\",redGrey:\"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434\",yellowGreenBlue:\"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185\",redYellowBlue:\"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695\",redYellowGreen:\"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837\",pinkYellowGreen:\"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419\",spectral:\"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2\",viridis:\"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725\",magma:\"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf\",inferno:\"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4\",plasma:\"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921\",cividis:\"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647\",rainbow:\"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa\",sinebow:\"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040\",turbo:\"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00\",browns:\"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632\",tealBlues:\"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985\",teals:\"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667\",warmGreys:\"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e\",goldGreen:\"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36\",goldOrange:\"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26\",goldRed:\"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e\",lightGreyRed:\"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b\",lightGreyTeal:\"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc\",lightMulti:\"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c\",lightOrange:\"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b\",lightTealBlue:\"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988\",darkBlue:\"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff\",darkGold:\"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff\",darkGreen:\"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa\",darkMulti:\"3737371f5287197d8c29a86995ce3fffe800ffffff\",darkRed:\"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c\"},e=>cm(pm(e)));const ym=e=>Object(se.B)(e)?e.map(e=>String(e)):String(e),bm=(e,t)=>e[1]-t[1],_m=(e,t)=>t[1]-e[1];function wm(e,t,n){let i;return Object(se.F)(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),null!=n&&(t=Math.min(t,Math.floor(Object(se.Y)(e.domain())/n||1)))),Object(se.G)(t)&&(i=t.step,t=t.interval),Object(se.I)(t)&&(t=e.type===df?wi(t):e.type==hf?xi(t):Object(se.o)(\"Only time and utc scales accept interval strings.\"),i&&(t=t.every(i))),t}function xm(e,t,n){let i=e.range(),r=i[0],o=Object(se.V)(i),a=bm;if(r>o&&(i=o,o=r,r=i,a=_m),r=Math.floor(r),o=Math.ceil(o),t=t.map(t=>[t,e(t)]).filter(e=>r<=e[1]&&e[1]<=o).sort(a).map(e=>e[0]),n>0&&t.length>1){const e=[t[0],Object(se.V)(t)];for(;t.length>n&&t.length>=3;)t=t.filter((e,t)=>!(t%2));t.length<3&&(t=e)}return t}function km(e,t){return e.bins?xm(e,e.bins):e.ticks?e.ticks(t):e.domain()}function Om(e,t,n,i,r,o){const a=t.type;let s=ym;if(a===df||r===df)s=e.timeFormat(i);else if(a===hf||r===hf)s=e.utcFormat(i);else if(vg(a)){const r=e.formatFloat(i);if(o||t.bins)s=r;else{const e=Em(t,n,!1);s=t=>e(t)?r(t):\"\"}}else if(t.tickFormat){const r=t.domain();s=e.formatSpan(r[0],r[r.length-1],n,i)}else i&&(s=e.format(i));return s}function Em(e,t,n){const i=km(e,t),r=e.base(),o=Math.log(r),a=Math.max(1,r*t/i.length),s=e=>{let t=e/Math.pow(r,Math.round(Math.log(e)/o));return t*r<r-.5&&(t*=r),t<=a};return n?i.filter(s):s}const Sm={quantile:\"quantiles\",quantize:\"thresholds\",threshold:\"domain\"},Dm={quantile:\"quantiles\",quantize:\"domain\"};function jm(e,t){return e.bins?function(e){const t=e.slice(0,-1);return t.max=Object(se.V)(e),t}(e.bins):e.type===cf?Em(e,t,!0):Sm[e.type]?function(e){const t=[-1/0].concat(e);return t.max=1/0,t}(e[Sm[e.type]]()):km(e,t)}function Cm(e,t,n,i,r,o,a){const s=Dm[t.type]&&o!==df&&o!==hf?function(e,t,n){const i=t[Dm[t.type]](),r=i.length;let o,a=r>1?i[1]-i[0]:i[0];for(o=1;o<r;++o)a=Math.min(a,i[o]-i[o-1]);return e.formatSpan(0,a,30,n)}(e,t,r):Om(e,t,n,r,o,a);return\"symbol\"===i&&(e=>Sm[e.type]||e.bins)(t)?Mm(s):\"discrete\"===i?Am(s):Fm(s)}const Mm=e=>(t,n,i)=>{const r=Tm(i[n+1],Tm(i.max,1/0)),o=Pm(t,e),a=Pm(r,e);return o&&a?o+\" – \"+a:a?\"< \"+a:\"≥ \"+o},Tm=(e,t)=>null!=e?e:t,Am=e=>(t,n)=>n?e(t):null,Fm=e=>t=>e(t),Pm=(e,t)=>Number.isFinite(e)?t(e):null;function Nm(e,t,n,i){const r=i||t.type;return Object(se.I)(n)&&fg(r,\"temporal\")&&(n=n.replace(/%a/g,\"%A\").replace(/%b/g,\"%B\")),n||r!==df?n||r!==hf?Cm(e,t,5,null,n,i,!0):e.utcFormat(\"%A, %d %B %Y, %X UTC\"):e.timeFormat(\"%A, %d %B %Y, %X\")}function zm(e,t,n){n=n||{};const i=Math.max(3,n.maxlen||7),r=Nm(e,t,n.format,n.formatType);if(mg(t.type)){const e=jm(t).slice(1).map(r),n=e.length;return`${n} boundar${1===n?\"y\":\"ies\"}: ${e.join(\", \")}`}if(gg(t.type)){const e=t.domain(),n=e.length;return`${n} value${1===n?\"\":\"s\"}: ${n>i?e.slice(0,i-2).map(r).join(\", \")+\", ending with \"+e.slice(-1).map(r):e.map(r).join(\", \")}`}{const e=t.domain();return`values from ${r(e[0])} to ${r(Object(se.V)(e))}`}}const Rm=(e,t,n)=>({role:e,\"aria-roledescription\":t,\"aria-label\":n||void 0}),Im=Object(se.eb)([\"axis-domain\",\"axis-grid\",\"axis-label\",\"axis-tick\",\"axis-title\",\"legend-band\",\"legend-entry\",\"legend-gradient\",\"legend-label\",\"legend-title\",\"legend-symbol\",\"title\"]),Bm={axis:{desc:\"axis\",caption:function(e){const t=e.datum,n=e.orient,i=t.title?Ym(e):null,r=e.context,o=r.scales[t.scale].value,a=r.dataflow.locale(),s=o.type;return(\"left\"===n||\"right\"===n?\"Y\":\"X\")+\"-axis\"+(i?` titled '${i}'`:\"\")+` for a ${gg(s)?\"discrete\":s} scale with `+zm(a,o,e)}},legend:{desc:\"legend\",caption:function(e){const t=e.datum,n=t.title?Ym(e):null,i=((t.type||\"\")+\" legend\").trim(),r=t.scales,o=Object.keys(r),a=e.context,s=a.scales[r[o[0]]].value,l=a.dataflow.locale();return u=i,(u.length?u[0].toUpperCase()+u.slice(1):u)+(n?` titled '${n}'`:\"\")+\" for \"+function(e){return(e=e.map(e=>e+(\"fill\"===e||\"stroke\"===e?\" color\":\"\"))).length<2?e[0]:e.slice(0,-1).join(\", \")+\" and \"+Object(se.V)(e)}(o)+\" with \"+zm(l,s,e);var u}},\"title-text\":{desc:\"title\",caption:e=>`Title text '${Um(e)}'`},\"title-subtitle\":{desc:\"subtitle\",caption:e=>`Subtitle text '${Um(e)}'`}},Lm={ariaRole:\"role\",ariaRoleDescription:\"aria-roledescription\",description:\"aria-label\"};function $m(e,t){const n=!1===t.aria;if(e(\"aria-hidden\",n||void 0),n||null==t.description)for(const t in Lm)e(Lm[t],void 0);else{const n=t.mark.marktype;e(\"aria-label\",t.description),e(\"role\",t.ariaRole||(\"group\"===n?\"graphics-object\":\"graphics-symbol\")),e(\"aria-roledescription\",t.ariaRoleDescription||n+\" mark\")}}function Wm(e){return!1===e.aria?{\"aria-hidden\":!0}:Im[e.role]?null:Bm[e.role]?function(e,t){try{const n=e.items[0],i=t.caption||(()=>\"\");return Rm(t.role||\"graphics-symbol\",t.desc,n.description||i(n))}catch(e){return null}}(e,Bm[e.role]):function(e){const t=e.marktype,n=\"group\"===t||\"text\"===t||e.items.some(e=>null!=e.description&&!1!==e.aria);return Rm(n?\"graphics-object\":\"graphics-symbol\",t+\" mark container\",e.description)}(e)}function Um(e){return Object(se.i)(e.text).join(\" \")}function Ym(e){try{return Object(se.i)(Object(se.V)(e.items).items[0].text).join(\" \")}catch(e){return null}}const Hm=e=>(e+\"\").replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\");function qm(){let e=\"\",t=\"\",n=\"\";const i=[],r=()=>t=n=\"\",o=(e,n)=>{var i;return null!=n&&(t+=` ${e}=\"${i=n,Hm(i).replace(/\"/g,\"&quot;\").replace(/\\t/g,\"&#x9;\").replace(/\\n/g,\"&#xA;\").replace(/\\r/g,\"&#xD;\")}\"`),a},a={open(s,...l){(o=>{t&&(e+=`${t}>${n}`,r()),i.push(o)})(s),t=\"<\"+s;for(const e of l)for(const t in e)o(t,e[t]);return a},close(){const o=i.pop();return e+=t?t+(n?`>${n}</${o}>`:\"/>\"):`</${o}>`,r(),a},attr:o,text:e=>(n+=Hm(e),a),toString:()=>e};return a}const Vm=e=>function e(t,n){if(t.open(n.tagName),n.hasAttributes()){const e=n.attributes,i=e.length;for(let n=0;n<i;++n)t.attr(e[n].name,e[n].value)}if(n.hasChildNodes()){const i=n.childNodes,r=i.length;for(let n=0;n<r;n++){const r=i[n];3===r.nodeType?t.text(r.nodeValue):e(t,r)}}return t.close()}(qm(),e)+\"\";const Gm={fill:\"fill\",fillOpacity:\"fill-opacity\",stroke:\"stroke\",strokeOpacity:\"stroke-opacity\",strokeWidth:\"stroke-width\",strokeCap:\"stroke-linecap\",strokeJoin:\"stroke-linejoin\",strokeDash:\"stroke-dasharray\",strokeDashOffset:\"stroke-dashoffset\",strokeMiterLimit:\"stroke-miterlimit\",opacity:\"opacity\",blend:\"mix-blend-mode\"},Xm={fill:\"none\",\"stroke-miterlimit\":10},Zm=Hd.xmlns;function Qm(e){Uh.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}const Jm=Uh.prototype;function Km(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function ev(e,t,n){let i,r,o;if(\"radial\"===t.gradient){let i=Rh(e,n++,\"pattern\",Zm);lv(i,{id:\"p_\"+t.id,viewBox:\"0,0,1,1\",width:\"100%\",height:\"100%\",preserveAspectRatio:\"xMidYMid slice\"}),i=Rh(i,0,\"rect\",Zm),lv(i,{width:1,height:1,fill:`url(${cv()}#${t.id})`}),lv(e=Rh(e,n++,\"radialGradient\",Zm),{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else lv(e=Rh(e,n++,\"linearGradient\",Zm),{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(i=0,r=t.stops.length;i<r;++i)o=Rh(e,i,\"stop\",Zm),o.setAttribute(\"offset\",t.stops[i].offset),o.setAttribute(\"stop-color\",t.stops[i].color);return Ih(e,i),n}function tv(e,t,n){let i;return(e=Rh(e,n,\"clipPath\",Zm)).setAttribute(\"id\",t.id),t.path?(i=Rh(e,0,\"path\",Zm),i.setAttribute(\"d\",t.path)):(i=Rh(e,0,\"rect\",Zm),lv(i,{x:0,y:0,width:t.width,height:t.height})),Ih(e,1),n+1}function nv(e,t,n,i,r){let o,a=e._svg;if(!a&&(o=t.ownerDocument,a=Nh(o,i,Zm),e._svg=a,e.mark&&(a.__data__=e,a.__values__={fill:\"default\"},\"g\"===i))){const t=Nh(o,\"path\",Zm);a.appendChild(t),t.__data__=e;const n=Nh(o,\"g\",Zm);a.appendChild(n),n.__data__=e;const i=Nh(o,\"path\",Zm);a.appendChild(i),i.__data__=e,i.__values__={fill:\"default\"}}return(a.ownerSVGElement!==r||function(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}(a,n))&&t.insertBefore(a,n?n.nextSibling:t.firstChild),a}Object(se.z)(Qm,Uh,{initialize(e,t,n,i,r){return this._defs={},this._clearDefs(),e&&(this._svg=Rh(e,0,\"svg\",Zm),lv(this._svg,Hd),this._svg.setAttribute(\"class\",\"marks\"),Ih(e,1),this._root=Rh(this._svg,0,\"g\",Zm),lv(this._root,Xm),Ih(this._svg,1)),this.background(this._bgcolor),Jm.initialize.call(this,e,t,n,i,r)},background(e){return arguments.length&&this._svg&&this._svg.style.setProperty(\"background-color\",e),Jm.background.apply(this,arguments)},resize(e,t,n,i){return Jm.resize.call(this,e,t,n,i),this._svg&&(lv(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute(\"transform\",`translate(${this._origin})`)),this._dirty=[],this},canvas(){return this._svg},svg(){const e=this._svg,t=this._bgcolor;if(!e)return null;let n;t&&(e.removeAttribute(\"style\"),n=Rh(e,0,\"rect\",Zm),lv(n,{width:this._width,height:this._height,fill:t}));const i=Vm(e);return t&&(e.removeChild(n),this._svg.style.setProperty(\"background-color\",t)),i},_render(e){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,e),Ih(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},isDirty(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const e=this._dirty;if(!e.length||!this._dirtyID)return!0;const t=++this._dirtyID;let n,i,r,o,a,s,l;for(a=0,s=e.length;a<s;++a)n=e[a],i=n.mark,i.marktype!==r&&(r=i.marktype,o=Sh[r]),i.zdirty&&i.dirty!==t&&(this._dirtyAll=!1,Km(n,t),i.items.forEach(e=>{e.dirty=t})),i.zdirty||(n.exit?(o.nested&&i.items.length?(l=i.items[0],l._svg&&this._update(o,l._svg,l)):n._svg&&(l=n._svg.parentNode,l&&l.removeChild(n._svg)),n._svg=null):(n=o.nested?i.items[0]:n,n._update!==t&&(n._svg&&n._svg.ownerSVGElement?this._update(o,n._svg,n):(this._dirtyAll=!1,Km(n,t)),n._update=t)));return!this._dirtyAll},mark(e,t,n){if(!this.isDirty(t))return t._svg;const i=this._svg,r=Sh[t.marktype],o=!1===t.interactive?\"none\":null,a=\"g\"===r.tag;let s=null,l=0;const u=nv(t,e,n,\"g\",i);u.setAttribute(\"class\",Bh(t));const c=Wm(t);for(const e in c)uv(u,e,c[e]);a||uv(u,\"pointer-events\",o),uv(u,\"clip-path\",t.clip?Cc(this,t,t.group):null);const d=e=>{const t=this.isDirty(e),n=nv(e,u,s,r.tag,i);t&&(this._update(r,n,e),a&&function(e,t,n){t=t.lastChild.previousSibling;let i,r=0;kd(n,n=>{i=e.mark(t,n,i),++r}),Ih(t,1+r)}(this,n,e)),s=n,++l};return r.nested?t.items.length&&d(t.items[0]):kd(t,d),Ih(u,l),u},_update(e,t,n){iv=t,rv=t.__values__,$m(av,n),e.attr(av,n,this);const i=ov[e.type];i&&i.call(this,e,t,n),iv&&this.style(iv,n)},style(e,t){if(null!=t)for(const n in Gm){let i=\"font\"===n?bh(t):t[n];if(i===rv[n])continue;const r=Gm[n];null==i?e.removeAttribute(r):(wl(i)&&(i=xl(i,this._defs.gradient,cv())),e.setAttribute(r,i+\"\")),rv[n]=i}},defs(){const e=this._svg,t=this._defs;let n=t.el,i=0;for(const r in t.gradient)n||(t.el=n=Rh(e,1,\"defs\",Zm)),i=ev(n,t.gradient[r],i);for(const r in t.clipping)n||(t.el=n=Rh(e,1,\"defs\",Zm)),i=tv(n,t.clipping[r],i);n&&(0===i?(e.removeChild(n),t.el=null):Ih(n,i))},_clearDefs(){const e=this._defs;e.gradient={},e.clipping={}}});let iv=null,rv=null;const ov={group(e,t,n){const i=iv=t.childNodes[2];rv=i.__values__,e.foreground(av,n,this),rv=t.__values__,iv=t.childNodes[1],e.content(av,n,this);const r=iv=t.childNodes[0];e.background(av,n,this);const o=!1===n.mark.interactive?\"none\":null;if(o!==rv.events&&(uv(i,\"pointer-events\",o),uv(r,\"pointer-events\",o),rv.events=o),n.strokeForeground&&n.stroke){const e=n.fill;uv(i,\"display\",null),this.style(r,n),uv(r,\"stroke\",null),e&&(n.fill=null),rv=i.__values__,this.style(i,n),e&&(n.fill=e),iv=null}else uv(i,\"display\",\"none\")},image(e,t,n){!1===n.smooth?(sv(t,\"image-rendering\",\"optimizeSpeed\"),sv(t,\"image-rendering\",\"pixelated\")):sv(t,\"image-rendering\",null)},text(e,t,n){const i=mh(n);let r,o,a,s;Object(se.B)(i)?(o=i.map(e=>yh(n,e)),r=o.join(\"\\n\"),r!==rv.text&&(Ih(t,0),a=t.ownerDocument,s=gh(n),o.forEach((e,i)=>{const r=Nh(a,\"tspan\",Zm);r.__data__=n,r.textContent=e,i&&(r.setAttribute(\"x\",0),r.setAttribute(\"dy\",s)),t.appendChild(r)}),rv.text=r)):(o=yh(n,i),o!==rv.text&&(t.textContent=o,rv.text=o)),uv(t,\"font-family\",bh(n)),uv(t,\"font-size\",ph(n)+\"px\"),uv(t,\"font-style\",n.fontStyle),uv(t,\"font-variant\",n.fontVariant),uv(t,\"font-weight\",n.fontWeight)}};function av(e,t,n){t!==rv[e]&&(n?function(e,t,n,i){null!=n?e.setAttributeNS(i,t,n):e.removeAttributeNS(i,t)}(iv,e,t,n):uv(iv,e,t),rv[e]=t)}function sv(e,t,n){n!==rv[t]&&(null==n?e.style.removeProperty(t):e.style.setProperty(t,n+\"\"),rv[t]=n)}function lv(e,t){for(const n in t)uv(e,n,t[n])}function uv(e,t,n){null!=n?e.setAttribute(t,n):e.removeAttribute(t)}function cv(){let e;return\"undefined\"==typeof window?\"\":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function dv(e){Uh.call(this,e),this._text=null,this._defs={gradient:{},clipping:{}}}Object(se.z)(dv,Uh,{svg(){return this._text},_render(e){const t=qm();t.open(\"svg\",Object(se.p)({},Hd,{class:\"marks\",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const n=this._bgcolor;return n&&\"transparent\"!==n&&\"none\"!==n&&t.open(\"rect\",{width:this._width,height:this._height,fill:n}).close(),t.open(\"g\",Xm,{transform:\"translate(\"+this._origin+\")\"}),this.mark(t,e),t.close(),this.defs(t),this._text=t.close()+\"\",this},mark(e,t){const n=Sh[t.marktype],i=n.tag,r=[$m,n.attr];e.open(\"g\",{class:Bh(t),\"clip-path\":t.clip?Cc(this,t,t.group):null},Wm(t),{\"pointer-events\":\"g\"!==i&&!1===t.interactive?\"none\":null});const o=o=>{const a=this.href(o);if(a&&e.open(\"a\",a),e.open(i,this.attr(t,o,r,\"g\"!==i?i:null)),\"text\"===i){const t=mh(o);if(Object(se.B)(t)){const n={x:0,dy:gh(o)};for(let i=0;i<t.length;++i)e.open(\"tspan\",i?n:null).text(yh(o,t[i])).close()}else e.text(yh(o,t))}else if(\"g\"===i){const i=o.strokeForeground,r=o.fill,a=o.stroke;i&&a&&(o.stroke=null),e.open(\"path\",this.attr(t,o,n.background,\"bgrect\")).close(),e.open(\"g\",this.attr(t,o,n.content)),kd(o,t=>this.mark(e,t)),e.close(),i&&a?(r&&(o.fill=null),o.stroke=a,e.open(\"path\",this.attr(t,o,n.foreground,\"bgrect\")).close(),r&&(o.fill=r)):e.open(\"path\",this.attr(t,o,n.foreground,\"bgfore\")).close()}e.close(),a&&e.close()};return n.nested?t.items&&t.items.length&&o(t.items[0]):kd(t,o),e.close()},href(e){const t=e.href;let n;if(t){if(n=this._hrefs&&this._hrefs[t])return n;this.sanitizeURL(t).then(e=>{e[\"xlink:href\"]=e.href,e.href=null,(this._hrefs||(this._hrefs={}))[t]=e})}return null},attr(e,t,n,i){const r={},o=(e,t,n,i)=>{r[i||e]=t};return Array.isArray(n)?n.forEach(e=>e(o,t,this)):n(o,t,this),i&&function(e,t,n,i,r){if(null==t)return e;\"bgrect\"===i&&!1===n.interactive&&(e[\"pointer-events\"]=\"none\");if(\"bgfore\"===i&&(!1===n.interactive&&(e[\"pointer-events\"]=\"none\"),e.display=\"none\",null!==t.fill))return e;\"image\"===i&&!1===t.smooth&&(e.style=\"image-rendering: optimizeSpeed; image-rendering: pixelated;\");\"text\"===i&&(e[\"font-family\"]=bh(t),e[\"font-size\"]=ph(t)+\"px\",e[\"font-style\"]=t.fontStyle,e[\"font-variant\"]=t.fontVariant,e[\"font-weight\"]=t.fontWeight);for(const n in Gm){let i=t[n];const o=Gm[n];(\"transparent\"!==i||\"fill\"!==o&&\"stroke\"!==o)&&null!=i&&(wl(i)&&(i=xl(i,r.gradient,\"\")),e[o]=i)}}(r,t,e,i,this._defs),r},defs(e){const t=this._defs.gradient,n=this._defs.clipping;if(0!==Object.keys(t).length+Object.keys(n).length){e.open(\"defs\");for(const n in t){const i=t[n],r=i.stops;\"radial\"===i.gradient?(e.open(\"pattern\",{id:\"p_\"+n,viewBox:\"0,0,1,1\",width:\"100%\",height:\"100%\",preserveAspectRatio:\"xMidYMid slice\"}),e.open(\"rect\",{width:\"1\",height:\"1\",fill:\"url(#\"+n+\")\"}).close(),e.close(),e.open(\"radialGradient\",{id:n,fx:i.x1,fy:i.y1,fr:i.r1,cx:i.x2,cy:i.y2,r:i.r2})):e.open(\"linearGradient\",{id:n,x1:i.x1,x2:i.x2,y1:i.y1,y2:i.y2});for(let t=0;t<r.length;++t)e.open(\"stop\",{offset:r[t].offset,\"stop-color\":r[t].color}).close();e.close()}for(const t in n){const i=n[t];e.open(\"clipPath\",{id:t}),i.path?e.open(\"path\",{d:i.path}).close():e.open(\"rect\",{x:0,y:0,width:i.width,height:i.height}).close(),e.close()}e.close()}}});var hv={Canvas:\"canvas\",PNG:\"png\",SVG:\"svg\",None:\"none\"},fv={};function pv(e,t){return e=String(e||\"\").toLowerCase(),arguments.length>1?(fv[e]=t,this):fv[e]}function gv(e,t,n){const i=[],r=(new Mc).union(t),o=e.marktype;return o?mv(e,r,n,i):\"group\"===o?vv(e,r,n,i):Object(se.o)(\"Intersect scene must be mark node or group item.\")}function mv(e,t,n,i){if(function(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(\"group\"===e.marktype||!1!==e.interactive&&(!n||n(e)))}(e,t,n)){const r=e.items,o=e.marktype,a=r.length;let s=0;if(\"group\"===o)for(;s<a;++s)vv(r[s],t,n,i);else for(const e=Sh[o].isect;s<a;++s){const n=r[s];yv(n,t,e)&&i.push(n)}}return i}function vv(e,t,n,i){n&&n(e.mark)&&yv(e,t,Sh.group.isect)&&i.push(e);const r=e.items,o=r&&r.length;if(o){const a=e.x||0,s=e.y||0;t.translate(-a,-s);for(let e=0;e<o;++e)mv(r[e],t,n,i);t.translate(a,s)}return i}function yv(e,t,n){const i=e.bounds;return t.encloses(i)||t.intersects(i)&&n(e,t)}fv.canvas=fv.png={renderer:of,headless:of,handler:Kh},fv.svg={renderer:Qm,headless:dv,handler:sf},fv.none={};const bv=new Mc;var _v=function(e){const t=e.clip;if(Object(se.E)(t))t(nd(bv.clear()));else{if(!t)return;bv.set(0,0,e.group.width,e.group.height)}e.bounds.intersect(bv)};function wv(e,t,n){return e===t||(\"path\"===n?xv(e,t):e instanceof Date&&t instanceof Date?+e==+t:Object(se.F)(e)&&Object(se.F)(t)?Math.abs(e-t)<=1e-9:e&&t&&(Object(se.G)(e)||Object(se.G)(t))?function(e,t){var n,i,r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(r.sort(),o.sort(),i=r.length-1;i>=0;i--)if(r[i]!=o[i])return!1;for(i=r.length-1;i>=0;i--)if(n=r[i],!wv(e[n],t[n],n))return!1;return typeof e==typeof t}(e,t):e==t)}function xv(e,t){return wv(wu(e),wu(t))}function kv(){jc(),_l=0}function Ov(e){Lo.call(this,null,e)}function Ev(e,t,n){return t(e.bounds.clear(),e,n)}Object(se.z)(Ov,Lo,{transform(e,t){const n=t.dataflow,i=e.mark,r=i.marktype,o=Sh[r],a=o.bound;let s,l=i.bounds;if(o.nested)i.items.length&&n.dirty(i.items[0]),l=Ev(i,a),i.items.forEach(e=>{e.bounds.clear().union(l)});else if(\"group\"===r||e.modified())switch(t.visit(t.MOD,e=>n.dirty(e)),l.clear(),i.items.forEach(e=>l.union(Ev(e,a))),i.role){case\"axis\":case\"legend\":case\"title\":t.reflow()}else s=t.changed(t.REM),t.visit(t.ADD,e=>{l.union(Ev(e,a))}),t.visit(t.MOD,e=>{s=s||l.alignsWith(e.bounds),n.dirty(e),l.union(Ev(e,a))}),s&&(l.clear(),i.items.forEach(e=>l.union(e.bounds)));return _v(i),t.modifies(\"bounds\")}});function Sv(e){Lo.call(this,0,e)}function Dv(e){Lo.call(this,null,e)}function jv(e){Lo.call(this,null,e)}Sv.Definition={type:\"Identifier\",metadata:{modifies:!0},params:[{name:\"as\",type:\"string\",required:!0}]},Object(se.z)(Sv,Lo,{transform(e,t){const n=(r=t.dataflow)._signals[\":vega_identifier:\"]||(r._signals[\":vega_identifier:\"]=r.add(0)),i=e.as;var r;let o=n.value;return t.visit(t.ADD,e=>e[i]=e[i]||++o),n.set(this.value=o),t}}),Object(se.z)(Dv,Lo,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,function(e){const t=e.groups,n=e.parent;return t&&1===t.size?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const i=\"group\"===n.marktype?Ac:Tc;return t.visit(t.ADD,e=>i.call(e,n)),(e.modified(\"clip\")||e.modified(\"interactive\"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});const Cv={parity:e=>e.filter((e,t)=>t%2?e.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((e,i)=>i&&Mv(n.bounds,e.bounds,t)?e.opacity=0:(n=e,1))}},Mv=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),Tv=(e,t)=>{for(var n,i=1,r=e.length,o=e[0].bounds;i<r;o=n,++i)if(Mv(o,n=e[i].bounds,t))return!0},Av=e=>{var t=e.bounds;return t.width()>1&&t.height()>1},Fv=e=>(e.forEach(e=>e.opacity=1),e),Pv=(e,t)=>e.reflow(t.modified()).modifies(\"opacity\");function Nv(e){Lo.call(this,null,e)}Object(se.z)(jv,Lo,{transform(e,t){const n=Cv[e.method]||Cv.parity,i=e.separation||0;let r,o,a=t.materialize(t.SOURCE).source;if(!a||!a.length)return;if(!e.method)return e.modified(\"method\")&&(Fv(a),t=Pv(t,e)),t;if(a=a.filter(Av),!a.length)return;if(e.sort&&(a=a.slice().sort(e.sort)),r=Fv(a),t=Pv(t,e),r.length>=3&&Tv(r,i)){do{r=n(r,i)}while(r.length>=3&&Tv(r,i));r.length<3&&!Object(se.V)(a).opacity&&(r.length>1&&(Object(se.V)(r).opacity=0),Object(se.V)(a).opacity=1)}var s,l,u,c,d;e.boundScale&&e.boundTolerance>=0&&(s=e.boundScale,l=e.boundOrient,u=+e.boundTolerance,c=s.range(),d=new Mc,l===gl||\"bottom\"===l?d.set(c[0],-1/0,c[1],1/0):d.set(-1/0,c[0],1/0,c[1]),d.expand(u||1),o=e=>d.encloses(e.bounds),a.forEach(e=>{o(e)||(e.opacity=0)}));const h=r[0].mark.bounds.clear();return a.forEach(e=>{e.opacity&&h.union(e.bounds)}),t}}),Object(se.z)(Nv,Lo,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,e=>n.dirty(e)),t.fields&&t.fields.zindex){var i=t.source&&t.source[0];i&&(i.mark.zdirty=!0)}}});const zv=new Mc;function Rv(e,t,n){return e[t]===n?0:(e[t]=n,1)}function Iv(e){var t=e.items[0].orient;return t===ml||t===vl}function Bv(e,t,n,i){var r,o,a=t.items[0],s=a.datum,l=null!=a.translate?a.translate:.5,u=a.orient,c=function(e){var t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}(s),d=a.range,h=a.offset,f=a.position,p=a.minExtent,g=a.maxExtent,m=s.title&&a.items[c[2]].items[0],v=a.titlePadding,y=a.bounds,b=m&&vh(m),_=0,w=0;switch(zv.clear().union(y),y.clear(),(r=c[0])>-1&&y.union(a.items[r].bounds),(r=c[1])>-1&&y.union(a.items[r].bounds),u){case gl:_=f||0,w=-h,o=Math.max(p,Math.min(g,-y.y1)),y.add(0,-o).add(d,0),m&&Lv(e,m,o,v,b,0,-1,y);break;case ml:_=-h,w=f||0,o=Math.max(p,Math.min(g,-y.x1)),y.add(-o,0).add(0,d),m&&Lv(e,m,o,v,b,1,-1,y);break;case vl:_=n+h,w=f||0,o=Math.max(p,Math.min(g,y.x2)),y.add(0,0).add(o,d),m&&Lv(e,m,o,v,b,1,1,y);break;case\"bottom\":_=f||0,w=i+h,o=Math.max(p,Math.min(g,y.y2)),y.add(0,0).add(d,o),m&&Lv(e,m,o,v,0,0,1,y);break;default:_=a.x,w=a.y}return Ic(y.translate(_,w),a),Rv(a,\"x\",_+l)|Rv(a,\"y\",w+l)&&(a.bounds=zv,e.dirty(a),a.bounds=y,e.dirty(a)),a.mark.bounds.clear().union(y)}function Lv(e,t,n,i,r,o,a,s){const l=t.bounds;if(t.auto){const s=a*(n+r+i);let u=0,c=0;e.dirty(t),o?u=(t.x||0)-(t.x=s):c=(t.y||0)-(t.y=s),t.mark.bounds.clear().union(l.translate(-u,-c)),e.dirty(t)}s.union(l)}const $v=(e,t)=>Math.floor(Math.min(e,t)),Wv=(e,t)=>Math.ceil(Math.max(e,t));function Uv(e){return(new Mc).set(0,0,e.width||0,e.height||0)}function Yv(e){var t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function Hv(e,t,n){var i=Object(se.G)(e)?e[t]:e;return null!=i?i:void 0!==n?n:0}function qv(e){return e<0?Math.ceil(-e):0}function Vv(e,t,n){var i,r,o,a,s,l,u,c,d,h,f,p=!n.nodirty,g=\"flush\"===n.bounds?Uv:Yv,m=zv.set(0,0,0,0),v=Hv(n.align,\"column\"),y=Hv(n.align,bl),b=Hv(n.padding,\"column\"),_=Hv(n.padding,bl),w=n.columns||t.length,x=w<=0?1:Math.ceil(t.length/w),k=t.length,O=Array(k),E=Array(w),S=0,D=Array(k),j=Array(x),C=0,M=Array(k),T=Array(k),A=Array(k);for(r=0;r<w;++r)E[r]=0;for(r=0;r<x;++r)j[r]=0;for(r=0;r<k;++r)l=t[r],s=A[r]=g(l),l.x=l.x||0,M[r]=0,l.y=l.y||0,T[r]=0,o=r%w,a=~~(r/w),S=Math.max(S,u=Math.ceil(s.x2)),C=Math.max(C,c=Math.ceil(s.y2)),E[o]=Math.max(E[o],u),j[a]=Math.max(j[a],c),O[r]=b+qv(s.x1),D[r]=_+qv(s.y1),p&&e.dirty(t[r]);for(r=0;r<k;++r)r%w==0&&(O[r]=0),r<w&&(D[r]=0);if(\"each\"===v)for(o=1;o<w;++o){for(f=0,r=o;r<k;r+=w)f<O[r]&&(f=O[r]);for(r=o;r<k;r+=w)O[r]=f+E[o-1]}else if(\"all\"===v){for(f=0,r=0;r<k;++r)r%w&&f<O[r]&&(f=O[r]);for(r=0;r<k;++r)r%w&&(O[r]=f+S)}else for(v=!1,o=1;o<w;++o)for(r=o;r<k;r+=w)O[r]+=E[o-1];if(\"each\"===y)for(a=1;a<x;++a){for(f=0,i=(r=a*w)+w;r<i;++r)f<D[r]&&(f=D[r]);for(r=a*w;r<i;++r)D[r]=f+j[a-1]}else if(\"all\"===y){for(f=0,r=w;r<k;++r)f<D[r]&&(f=D[r]);for(r=w;r<k;++r)D[r]=f+C}else for(y=!1,a=1;a<x;++a)for(i=(r=a*w)+w;r<i;++r)D[r]+=j[a-1];for(d=0,r=0;r<k;++r)d=O[r]+(r%w?d:0),M[r]+=d-t[r].x;for(o=0;o<w;++o)for(h=0,r=o;r<k;r+=w)h+=D[r],T[r]+=h-t[r].y;if(v&&Hv(n.center,\"column\")&&x>1)for(r=0;r<k;++r)(d=(s=\"all\"===v?S:E[r%w])-A[r].x2-t[r].x-M[r])>0&&(M[r]+=d/2);if(y&&Hv(n.center,bl)&&1!==w)for(r=0;r<k;++r)(h=(s=\"all\"===y?C:j[~~(r/w)])-A[r].y2-t[r].y-T[r])>0&&(T[r]+=h/2);for(r=0;r<k;++r)m.union(A[r].translate(M[r],T[r]));switch(d=Hv(n.anchor,\"x\"),h=Hv(n.anchor,\"y\"),Hv(n.anchor,\"column\")){case yl:d-=m.width();break;case\"middle\":d-=m.width()/2}switch(Hv(n.anchor,bl)){case yl:h-=m.height();break;case\"middle\":h-=m.height()/2}for(d=Math.round(d),h=Math.round(h),m.clear(),r=0;r<k;++r)t[r].mark.bounds.clear();for(r=0;r<k;++r)(l=t[r]).x+=M[r]+=d,l.y+=T[r]+=h,m.union(l.mark.bounds.union(l.bounds.translate(M[r],T[r]))),p&&e.dirty(l);return m}function Gv(e,t){return\"x1\"===t?e.x||0:\"y1\"===t?e.y||0:\"x2\"===t?(e.x||0)+(e.width||0):\"y2\"===t?(e.y||0)+(e.height||0):void 0}function Xv(e,t){return e.bounds[t]}function Zv(e,t,n,i,r,o,a,s,l,u,c,d,h,f){var p,g,m,v,y,b,_,w,x,k=n.length,O=0,E=0;if(!k)return O;for(p=c;p<k;p+=d)n[p]&&(O=a(O,l(n[p],u)));if(!t.length)return O;for(t.length>r&&(e.warn(\"Grid headers exceed limit: \"+r),t=t.slice(0,r)),O+=o,g=0,v=t.length;g<v;++g)e.dirty(t[g]),t[g].mark.bounds.clear();for(p=c,g=0,v=t.length;g<v;++g,p+=d){for(y=(b=t[g]).mark.bounds,m=p;m>=0&&null==(_=n[m]);m-=h);s?(w=null==f?_.x:Math.round(_.bounds.x1+f*_.bounds.width()),x=O):(w=O,x=null==f?_.y:Math.round(_.bounds.y1+f*_.bounds.height())),y.union(b.bounds.translate(w-(b.x||0),x-(b.y||0))),b.x=w,b.y=x,e.dirty(b),E=a(E,y[u])}return E}function Qv(e,t,n,i,r,o){if(t){e.dirty(t);var a=n,s=n;i?a=Math.round(r.x1+o*r.width()):s=Math.round(r.y1+o*r.height()),t.bounds.translate(a-(t.x||0),s-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=a,t.y=s,e.dirty(t)}}function Jv(e,t,n,i,r,o,a){const s=function(e,t){const n=e[t]||{};return(t,i)=>null!=n[t]?n[t]:null!=e[t]?e[t]:i}(n,t),l=(d=e,h=s(\"offset\",0),f=-1/0,d.forEach(e=>{null!=e.offset&&(f=Math.max(f,e.offset))}),f>-1/0?f:h),u=s(\"anchor\",\"start\"),c=u===yl?1:\"middle\"===u?.5:0;var d,h,f;const p={align:\"each\",bounds:s(\"bounds\",\"flush\"),columns:\"vertical\"===s(\"direction\")?1:e.length,padding:s(\"margin\",8),center:s(\"center\"),nodirty:!0};switch(t){case ml:p.anchor={x:Math.floor(i.x1)-l,column:yl,y:c*(a||i.height()+2*i.y1),row:u};break;case vl:p.anchor={x:Math.ceil(i.x2)+l,y:c*(a||i.height()+2*i.y1),row:u};break;case gl:p.anchor={y:Math.floor(r.y1)-l,row:yl,x:c*(o||r.width()+2*r.x1),column:u};break;case\"bottom\":p.anchor={y:Math.ceil(r.y2)+l,x:c*(o||r.width()+2*r.x1),column:u};break;case\"top-left\":p.anchor={x:l,y:l};break;case\"top-right\":p.anchor={x:o-l,y:l,column:yl};break;case\"bottom-left\":p.anchor={x:l,y:a-l,row:yl};break;case\"bottom-right\":p.anchor={x:o-l,y:a-l,column:yl,row:yl}}return p}function Kv(e,t){var n,i,r,o,a=t.items[0],s=a.datum,l=a.orient,u=a.bounds,c=a.x,d=a.y;return a._bounds?a._bounds.clear().union(u):a._bounds=u.clone(),u.clear(),function(e,t,n){var i=t.padding,r=i-n.x,o=i-n.y;if(t.datum.title){var a=t.items[1].items[0],s=a.anchor,l=t.titlePadding||0,u=i-a.x,c=i-a.y;switch(a.orient){case ml:r+=Math.ceil(a.bounds.width())+l;break;case vl:case\"bottom\":break;default:o+=a.bounds.height()+l}switch((r||o)&&ty(e,n,r,o),a.orient){case ml:c+=ey(t,n,a,s,1,1);break;case vl:u+=ey(t,n,a,yl,0,0)+l,c+=ey(t,n,a,s,1,1);break;case\"bottom\":u+=ey(t,n,a,s,0,0),c+=ey(t,n,a,yl,-1,0,1)+l;break;default:u+=ey(t,n,a,s,0,0)}(u||c)&&ty(e,a,u,c),(u=Math.round(a.bounds.x1-i))<0&&(ty(e,n,-u,0),ty(e,a,-u,0))}else(r||o)&&ty(e,n,r,o)}(e,a,a.items[0].items[0]),u=function(e,t){return e.items.forEach(e=>t.union(e.bounds)),t.x1=e.padding,t.y1=e.padding,t}(a,u),n=2*a.padding,i=2*a.padding,u.empty()||(n=Math.ceil(u.width()+n),i=Math.ceil(u.height()+i)),\"symbol\"===s.type&&(r=a.items[0].items[0].items[0].items,o=r.reduce((e,t)=>(e[t.column]=Math.max(t.bounds.x2-t.x,e[t.column]||0),e),{}),r.forEach(e=>{e.width=o[e.column],e.height=e.bounds.y2-e.y})),\"none\"!==l&&(a.x=c=0,a.y=d=0),a.width=n,a.height=i,Ic(u.set(c,d,c+n,d+i),a),a.mark.bounds.clear().union(u),a}function ey(e,t,n,i,r,o,a){const s=\"symbol\"!==e.datum.type,l=n.datum.vgrad,u=(!s||!o&&l||a?t:t.items[0]).bounds[r?\"y2\":\"x2\"]-e.padding,c=l&&o?u:0,d=l&&o?0:u,h=r<=0?0:vh(n);return Math.round(\"start\"===i?c:i===yl?d-h:.5*(u-h))}function ty(e,t,n,i){t.x+=n,t.y+=i,t.bounds.translate(n,i),t.mark.bounds.translate(n,i),e.dirty(t)}function ny(e){Lo.call(this,null,e)}function iy(e){Lo.call(this,null,e)}function ry(e){Lo.call(this,null,e)}function oy(){return ge({})}function ay(e){Lo.call(this,null,e)}function sy(e){Lo.call(this,[],e)}Object(se.z)(ny,Lo,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(t=>{e.layout&&function(e,t,n){var i,r,o,a,s,l,u,c=function(e){for(var t,n,i=e.items,r=i.length,o=0,a={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};o<r;++o)if(n=(t=i[o]).items,\"group\"===t.marktype)switch(t.role){case\"axis\":case\"legend\":case\"title\":break;case\"row-header\":a.rowheaders.push(...n);break;case\"row-footer\":a.rowfooters.push(...n);break;case\"column-header\":a.colheaders.push(...n);break;case\"column-footer\":a.colfooters.push(...n);break;case\"row-title\":a.rowtitle=n[0];break;case\"column-title\":a.coltitle=n[0];break;default:a.marks.push(...n)}return a}(t),d=c.marks,h=\"flush\"===n.bounds?Gv:Xv,f=n.offset,p=n.columns||d.length,g=p<=0?1:Math.ceil(d.length/p),m=g*p;const v=Vv(e,d,n);v.empty()&&v.set(0,0,0,0),c.rowheaders&&(l=Hv(n.headerBand,bl,null),i=Zv(e,c.rowheaders,d,p,g,-Hv(f,\"rowHeader\"),$v,0,h,\"x1\",0,p,1,l)),c.colheaders&&(l=Hv(n.headerBand,\"column\",null),r=Zv(e,c.colheaders,d,p,p,-Hv(f,\"columnHeader\"),$v,1,h,\"y1\",0,1,p,l)),c.rowfooters&&(l=Hv(n.footerBand,bl,null),o=Zv(e,c.rowfooters,d,p,g,Hv(f,\"rowFooter\"),Wv,0,h,\"x2\",p-1,p,1,l)),c.colfooters&&(l=Hv(n.footerBand,\"column\",null),a=Zv(e,c.colfooters,d,p,p,Hv(f,\"columnFooter\"),Wv,1,h,\"y2\",m-p,1,p,l)),c.rowtitle&&(s=Hv(n.titleAnchor,bl),u=Hv(f,\"rowTitle\"),u=s===yl?o+u:i-u,l=Hv(n.titleBand,bl,.5),Qv(e,c.rowtitle,u,0,v,l)),c.coltitle&&(s=Hv(n.titleAnchor,\"column\"),u=Hv(f,\"columnTitle\"),u=s===yl?a+u:r-u,l=Hv(n.titleBand,\"column\",.5),Qv(e,c.coltitle,u,1,v,l))}(n,t,e.layout),function(e,t,n){var i,r,o,a,s,l=t.items,u=Math.max(0,t.width||0),c=Math.max(0,t.height||0),d=(new Mc).set(0,0,u,c),h=d.clone(),f=d.clone(),p=[];for(a=0,s=l.length;a<s;++a)switch((r=l[a]).role){case\"axis\":(Iv(r)?h:f).union(Bv(e,r,u,c));break;case\"title\":i=r;break;case\"legend\":p.push(Kv(e,r));break;case\"frame\":case\"scope\":case\"row-header\":case\"row-footer\":case\"row-title\":case\"column-header\":case\"column-footer\":case\"column-title\":h.union(r.bounds),f.union(r.bounds);break;default:d.union(r.bounds)}if(p.length){const t={};p.forEach(e=>{\"none\"!==(o=e.orient||vl)&&(t[o]||(t[o]=[])).push(e)});for(const i in t){const r=t[i];Vv(e,r,Jv(r,i,n.legends,h,f,u,c))}p.forEach(t=>{const i=t.bounds;if(i.equals(t._bounds)||(t.bounds=t._bounds,e.dirty(t),t.bounds=i,e.dirty(t)),n.autosize&&\"fit\"===n.autosize.type)switch(t.orient){case ml:case vl:d.add(i.x1,0).add(i.x2,0);break;case gl:case\"bottom\":d.add(0,i.y1).add(0,i.y2)}else d.union(i)})}d.union(h).union(f),i&&d.union(function(e,t,n,i,r){var o,a=t.items[0],s=a.frame,l=a.orient,u=a.anchor,c=a.offset,d=a.padding,h=a.items[0].items[0],f=a.items[1]&&a.items[1].items[0],p=l===ml||l===vl?i:n,g=0,m=0,v=0,y=0,b=0;if(\"group\"!==s?l===ml?(g=r.y2,p=r.y1):l===vl?(g=r.y1,p=r.y2):(g=r.x1,p=r.x2):l===ml&&(g=i,p=0),o=\"start\"===u?g:u===yl?p:(g+p)/2,f&&f.text){switch(l){case gl:case\"bottom\":b=h.bounds.height()+d;break;case ml:y=h.bounds.width()+d;break;case vl:y=-h.bounds.width()-d}zv.clear().union(f.bounds),zv.translate(y-(f.x||0),b-(f.y||0)),Rv(f,\"x\",y)|Rv(f,\"y\",b)&&(e.dirty(f),f.bounds.clear().union(zv),f.mark.bounds.clear().union(zv),e.dirty(f)),zv.clear().union(f.bounds)}else zv.clear();switch(zv.union(h.bounds),l){case gl:m=o,v=r.y1-zv.height()-c;break;case ml:m=r.x1-zv.width()-c,v=o;break;case vl:m=r.x2+zv.width()+c,v=o;break;case\"bottom\":m=o,v=r.y2+c;break;default:m=a.x,v=a.y}return Rv(a,\"x\",m)|Rv(a,\"y\",v)&&(zv.translate(m,v),e.dirty(a),a.bounds.clear().union(zv),t.bounds.clear().union(zv),e.dirty(a)),a.bounds}(e,i,u,c,d));t.clip&&d.set(0,0,t.width||0,t.height||0);!function(e,t,n,i){const r=i.autosize||{},o=r.type;if(e._autosize<1||!o)return;let a=e._width,s=e._height,l=Math.max(0,t.width||0),u=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,t.height||0),d=Math.max(0,Math.ceil(-n.y1));const h=Math.max(0,Math.ceil(n.x2-l)),f=Math.max(0,Math.ceil(n.y2-c));if(\"padding\"===r.contains){const t=e.padding();a-=t.left+t.right,s-=t.top+t.bottom}\"none\"===o?(u=0,d=0,l=a,c=s):\"fit\"===o?(l=Math.max(0,a-u-h),c=Math.max(0,s-d-f)):\"fit-x\"===o?(l=Math.max(0,a-u-h),s=c+d+f):\"fit-y\"===o?(a=l+u+h,c=Math.max(0,s-d-f)):\"pad\"===o&&(a=l+u+h,s=c+d+f);e._resizeView(a,s,l,c,[u,d],r.resize)}(e,t,d,n)}(n,t,e)}),(i=e.mark.group)&&\"legend-entry\"!==i.mark.role?t.reflow():t;var i}}),Object(se.z)(iy,Lo,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),i=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=this.value,o=e.scale,a=wm(o,null==e.count?e.values?e.values.length:10:e.count,e.minstep),s=e.format||Om(n,o,a,e.formatSpecifier,e.formatType,!!e.values),l=e.values?xm(o,e.values,a):km(o,a);return r&&(i.rem=r),r=l.map((e,t)=>ge({index:t/(l.length-1||1),value:e,label:s(e)})),e.extra&&r.length&&r.push(ge({index:-1,extra:{value:r[0].value},label:\"\"})),i.source=r,i.add=r,this.value=r,i}}),Object(se.z)(ry,Lo,{transform(e,t){var n=t.dataflow,i=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.item||oy,o=e.key||fe,a=this.value;return Object(se.B)(i.encode)&&(i.encode=null),a&&(e.modified(\"key\")||t.modified(o))&&Object(se.o)(\"DataJoin does not support modified key function or fields.\"),a||(t=t.addAll(),this.value=a=function(e){const t=Object(se.t)().test(e=>e.exit);return t.lookup=n=>t.get(e(n)),t}(o)),t.visit(t.ADD,e=>{const t=o(e);let n=a.get(t);n?n.exit?(a.empty--,i.add.push(n)):i.mod.push(n):(n=r(e),a.set(t,n),i.add.push(n)),n.datum=e,n.exit=!1}),t.visit(t.MOD,e=>{const t=o(e),n=a.get(t);n&&(n.datum=e,i.mod.push(n))}),t.visit(t.REM,e=>{const t=o(e),n=a.get(t);e!==n.datum||n.exit||(i.rem.push(n),n.exit=!0,++a.empty)}),t.changed(t.ADD_MOD)&&i.modifies(\"datum\"),(t.clean()||e.clean&&a.empty>n.cleanThreshold)&&n.runAfter(a.clean),i}}),Object(se.z)(ay,Lo,{transform(e,t){var n=t.fork(t.ADD_REM),i=e.mod||!1,r=e.encoders,o=t.encode;if(Object(se.B)(o)){if(!n.changed()&&!o.every(e=>r[e]))return t.StopPropagation;o=o[0],n.encode=null}var a=\"enter\"===o,s=r.update||se.s,l=r.enter||se.s,u=r.exit||se.s,c=(o&&!a?r[o]:s)||se.s;if(t.changed(t.ADD)&&(t.visit(t.ADD,t=>{l(t,e),s(t,e)}),n.modifies(l.output),n.modifies(s.output),c!==se.s&&c!==s&&(t.visit(t.ADD,t=>{c(t,e)}),n.modifies(c.output))),t.changed(t.REM)&&u!==se.s&&(t.visit(t.REM,t=>{u(t,e)}),n.modifies(u.output)),a||c!==se.s){var d=t.MOD|(e.modified()?t.REFLOW:0);a?(t.visit(d,t=>{var r=l(t,e)||i;(c(t,e)||r)&&n.mod.push(t)}),n.mod.length&&n.modifies(l.output)):t.visit(d,t=>{(c(t,e)||i)&&n.mod.push(t)}),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}}),Object(se.z)(sy,Lo,{transform(e,t){if(null!=this.value&&!e.modified())return t.StopPropagation;var n,i,r,o,a,s=t.dataflow.locale(),l=t.fork(t.NO_SOURCE|t.NO_FIELDS),u=this.value,c=e.type||\"symbol\",d=e.scale,h=+e.limit,f=wm(d,null==e.count?5:e.count,e.minstep),p=!!e.values||\"symbol\"===c,g=e.format||Cm(s,d,f,c,e.formatSpecifier,e.formatType,p),m=e.values||jm(d,f);return u&&(l.rem=u),\"symbol\"===c?(h&&m.length>h?(t.dataflow.warn(\"Symbol legend count exceeds limit, filtering items.\"),u=m.slice(0,h-1),a=!0):u=m,Object(se.E)(r=e.size)?(e.values||0!==d(u[0])||(u=u.slice(1)),o=u.reduce((t,n)=>Math.max(t,r(n,e)),0)):r=Object(se.m)(o=r||8),u=u.map((t,n)=>ge({index:n,label:g(t,n,u),value:t,offset:o,size:r(t,e)})),a&&(a=m[u.length],u.push(ge({index:u.length,label:`…${m.length-u.length} entries`,value:a,offset:o,size:r(a,e)})))):\"gradient\"===c?(n=d.domain(),i=hm(d,n[0],Object(se.V)(n)),m.length<3&&!e.values&&n[0]!==Object(se.V)(n)&&(m=[n[0],Object(se.V)(n)]),u=m.map((e,t)=>ge({index:t,label:g(e,t,m),value:e,perc:i(e)}))):(r=m.length-1,i=function(e){const t=e.domain(),n=t.length-1;let i=+t[0],r=+Object(se.V)(t),o=r-i;if(\"threshold\"===e.type){const e=n?o/n:.1;i-=e,r+=e,o=r-i}return e=>(e-i)/o}(d),u=m.map((e,t)=>ge({index:t,label:g(e,t,m),value:e,perc:t?i(e):0,perc2:t===r?1:i(m[t+1])}))),l.source=u,l.add=u,this.value=u,l}});const ly=e=>e.source.x,uy=e=>e.source.y,cy=e=>e.target.x,dy=e=>e.target.y;function hy(e){Lo.call(this,{},e)}hy.Definition={type:\"LinkPath\",metadata:{modifies:!0},params:[{name:\"sourceX\",type:\"field\",default:\"source.x\"},{name:\"sourceY\",type:\"field\",default:\"source.y\"},{name:\"targetX\",type:\"field\",default:\"target.x\"},{name:\"targetY\",type:\"field\",default:\"target.y\"},{name:\"orient\",type:\"enum\",default:\"vertical\",values:[\"horizontal\",\"vertical\",\"radial\"]},{name:\"shape\",type:\"enum\",default:\"line\",values:[\"line\",\"arc\",\"curve\",\"diagonal\",\"orthogonal\"]},{name:\"require\",type:\"signal\"},{name:\"as\",type:\"string\",default:\"path\"}]},Object(se.z)(hy,Lo,{transform(e,t){var n=e.sourceX||ly,i=e.sourceY||uy,r=e.targetX||cy,o=e.targetY||dy,a=e.as||\"path\",s=e.orient||\"vertical\",l=e.shape||\"line\",u=my.get(l+\"-\"+s)||my.get(l);return u||Object(se.o)(\"LinkPath unsupported type: \"+e.shape+(e.orient?\"-\"+e.orient:\"\")),t.visit(t.SOURCE,e=>{e[a]=u(n(e),i(e),r(e),o(e))}),t.reflow(e.modified()).modifies(a)}});const fy=(e,t,n,i)=>\"M\"+e+\",\"+t+\"L\"+n+\",\"+i,py=(e,t,n,i)=>{var r=n-e,o=i-t,a=Math.sqrt(r*r+o*o)/2;return\"M\"+e+\",\"+t+\"A\"+a+\",\"+a+\" \"+180*Math.atan2(o,r)/Math.PI+\" 0 1 \"+n+\",\"+i},gy=(e,t,n,i)=>{const r=n-e,o=i-t,a=.2*(r+o),s=.2*(o-r);return\"M\"+e+\",\"+t+\"C\"+(e+a)+\",\"+(t+s)+\" \"+(n+s)+\",\"+(i-a)+\" \"+n+\",\"+i},my=Object(se.t)({line:fy,\"line-radial\":(e,t,n,i)=>fy(t*Math.cos(e),t*Math.sin(e),i*Math.cos(n),i*Math.sin(n)),arc:py,\"arc-radial\":(e,t,n,i)=>py(t*Math.cos(e),t*Math.sin(e),i*Math.cos(n),i*Math.sin(n)),curve:gy,\"curve-radial\":(e,t,n,i)=>gy(t*Math.cos(e),t*Math.sin(e),i*Math.cos(n),i*Math.sin(n)),\"orthogonal-horizontal\":(e,t,n,i)=>\"M\"+e+\",\"+t+\"V\"+i+\"H\"+n,\"orthogonal-vertical\":(e,t,n,i)=>\"M\"+e+\",\"+t+\"H\"+n+\"V\"+i,\"orthogonal-radial\":(e,t,n,i)=>{const r=Math.cos(e),o=Math.sin(e),a=Math.cos(n),s=Math.sin(n);return\"M\"+t*r+\",\"+t*o+\"A\"+t+\",\"+t+\" 0 0,\"+((Math.abs(n-e)>Math.PI?n<=e:n>e)?1:0)+\" \"+t*a+\",\"+t*s+\"L\"+i*a+\",\"+i*s},\"diagonal-horizontal\":(e,t,n,i)=>{const r=(e+n)/2;return\"M\"+e+\",\"+t+\"C\"+r+\",\"+t+\" \"+r+\",\"+i+\" \"+n+\",\"+i},\"diagonal-vertical\":(e,t,n,i)=>{const r=(t+i)/2;return\"M\"+e+\",\"+t+\"C\"+e+\",\"+r+\" \"+n+\",\"+r+\" \"+n+\",\"+i},\"diagonal-radial\":(e,t,n,i)=>{const r=Math.cos(e),o=Math.sin(e),a=Math.cos(n),s=Math.sin(n),l=(t+i)/2;return\"M\"+t*r+\",\"+t*o+\"C\"+l*r+\",\"+l*o+\" \"+l*a+\",\"+l*s+\" \"+i*a+\",\"+i*s}});function vy(e,t){let n=0;if(void 0===t)for(let t of e)(t=+t)&&(n+=t);else{let i=-1;for(let r of e)(r=+t(r,++i,e))&&(n+=r)}return n}function yy(e){Lo.call(this,null,e)}yy.Definition={type:\"Pie\",metadata:{modifies:!0},params:[{name:\"field\",type:\"field\"},{name:\"startAngle\",type:\"number\",default:0},{name:\"endAngle\",type:\"number\",default:6.283185307179586},{name:\"sort\",type:\"boolean\",default:!1},{name:\"as\",type:\"string\",array:!0,length:2,default:[\"startAngle\",\"endAngle\"]}]},Object(se.z)(yy,Lo,{transform(e,t){var n,i,r,o=e.as||[\"startAngle\",\"endAngle\"],a=o[0],s=o[1],l=e.field||se.P,u=e.startAngle||0,c=null!=e.endAngle?e.endAngle:2*Math.PI,d=t.source,h=d.map(l),f=h.length,p=u,g=(c-u)/vy(h),m=Qs(f);for(e.sort&&m.sort((e,t)=>h[e]-h[t]),n=0;n<f;++n)r=h[m[n]],(i=d[m[n]])[a]=p,i[s]=p+=r*g;return this.value=h,t.reflow(e.modified()).modifies(o)}});function by(e){return pg(e)&&\"sequential\"!==e}const _y=Object(se.eb)([\"set\",\"modified\",\"clear\",\"type\",\"scheme\",\"schemeExtent\",\"schemeCount\",\"domain\",\"domainMin\",\"domainMid\",\"domainMax\",\"domainRaw\",\"domainImplicit\",\"nice\",\"zero\",\"bins\",\"range\",\"rangeStep\",\"round\",\"reverse\",\"interpolate\",\"interpolateGamma\"]);function wy(e){Lo.call(this,null,e),this.modified(!0)}function xy(e,t,n){vg(e)&&(Math.abs(t.reduce((e,t)=>e+(t<0?-1:t>0?1:0),0))!==t.length&&n.warn(\"Log scale domain includes zero: \"+Object(se.ab)(t)));return t}function ky(e,t,n){return Object(se.E)(e)&&(t||n)?um(e,Oy(t||[0,1],n)):e}function Oy(e,t){return t?e.slice().reverse():e}function Ey(e){Lo.call(this,null,e)}Object(se.z)(wy,Lo,{transform(e,t){var n=t.dataflow,i=this.value,r=function(e){var t,n=e.type,i=\"\";if(\"sequential\"===n)return\"sequential-linear\";(function(e){const t=e.type;return pg(t)&&t!==df&&t!==hf&&(e.scheme||e.range&&e.range.length&&e.range.every(se.I))})(e)&&(t=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(null!=e.domainMid):0,i=2===t?\"sequential-\":3===t?\"diverging-\":\"\");return(i+n||\"linear\").toLowerCase()}(e);for(r in i&&r===i.type||(this.value=i=dg(r)()),e)if(!_y[r]){if(\"padding\"===r&&by(i.type))continue;Object(se.E)(i[r])?i[r](e[r]):n.warn(\"Unsupported scale property: \"+r)}return function(e,t,n){var i=e.type,r=t.round||!1,o=t.range;if(null!=t.rangeStep)o=function(e,t,n){\"band\"!==e&&\"point\"!==e&&Object(se.o)(\"Only band and point scales support rangeStep.\");var i=(null!=t.paddingOuter?t.paddingOuter:t.padding)||0,r=\"point\"===e?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0;return[0,t.rangeStep*uf(n,r,i)]}(i,t,n);else if(t.scheme&&(o=function(e,t,n){var i,r,o=t.schemeExtent;Object(se.B)(t.scheme)?r=cm(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),(r=vm(i))||Object(se.o)(\"Unrecognized scheme name: \"+t.scheme));return n=\"threshold\"===e?n+1:\"bin-ordinal\"===e?n-1:\"quantile\"===e||\"quantize\"===e?+t.schemeCount||5:n,yg(e)?ky(r,o,t.reverse):Object(se.E)(r)?dm(ky(r,o),n):\"ordinal\"===e?r:r.slice(0,n)}(i,t,n),Object(se.E)(o))){if(e.interpolator)return e.interpolator(o);Object(se.o)(`Scale type ${i} does not support interpolating color schemes.`)}if(o&&yg(i))return e.interpolator(cm(Oy(o,t.reverse),t.interpolate,t.interpolateGamma));o&&t.interpolate&&e.interpolate?e.interpolate(fm(t.interpolate,t.interpolateGamma)):Object(se.E)(e.round)?e.round(r):Object(se.E)(e.rangeRound)&&e.interpolate(r?Sp:Ep);o&&e.range(Oy(o,t.reverse))}(i,e,function(e,t,n){let i=t.bins;if(i&&!Object(se.B)(i)){const t=e.domain(),n=t[0],r=Object(se.V)(t),o=i.step;let a=null==i.start?n:i.start,s=null==i.stop?r:i.stop;o||Object(se.o)(\"Scale bins parameter missing step property.\"),a<n&&(a=o*Math.ceil(n/o)),s>r&&(s=o*Math.floor(r/o)),i=Qs(a,s+o/2,o)}i?e.bins=i:e.bins&&delete e.bins;\"bin-ordinal\"===e.type&&(i?t.domain||t.domainRaw||(e.domain(i),n=i.length):e.bins=e.domain());return n}(i,e,function(e,t,n){var i=function(e,t,n){return t?(e.domain(xy(e.type,t,n)),t.length):-1}(e,t.domainRaw,n);if(i>-1)return i;var r,o,a=t.domain,s=e.type,l=t.zero||void 0===t.zero&&function(e){const t=e.type;return!e.bins&&(\"linear\"===t||\"pow\"===t||\"sqrt\"===t)}(e);if(!a)return 0;by(s)&&t.padding&&a[0]!==Object(se.V)(a)&&(a=function(e,t,n,i,r,o){var a=Math.abs(Object(se.V)(n)-n[0]),s=a/(a-2*i),l=e===cf?Object(se.nb)(t,null,s):\"sqrt\"===e?Object(se.ob)(t,null,s,.5):\"pow\"===e?Object(se.ob)(t,null,s,r||1):\"symlog\"===e?Object(se.pb)(t,null,s,o||1):Object(se.mb)(t,null,s);return(t=t.slice())[0]=l[0],t[t.length-1]=l[1],t}(s,a,t.range,t.padding,t.exponent,t.constant));if((l||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(r=(a=a.slice()).length-1||1,l&&(a[0]>0&&(a[0]=0),a[r]<0&&(a[r]=0)),null!=t.domainMin&&(a[0]=t.domainMin),null!=t.domainMax&&(a[r]=t.domainMax),null!=t.domainMid)){const e=(o=t.domainMid)>a[r]?r+1:o<a[0]?0:r;e!==r&&n.warn(\"Scale domainMid exceeds domain min or max.\",o),a.splice(e,0,o)}e.domain(xy(s,a,n)),\"ordinal\"===s&&e.unknown(t.domainImplicit?_f:void 0);t.nice&&e.nice&&e.nice(!0!==t.nice&&wm(e,t.nice)||null);return a.length}(i,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),Object(se.z)(Ey,Lo,{transform(e,t){const n=e.modified(\"sort\")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified(\"datum\");return n&&t.source.sort(be(e.sort)),this.modified(n),t}});const Sy=[\"y0\",\"y1\"];function Dy(e){Lo.call(this,null,e)}function jy(e,t,n,i,r){for(var o,a=(t-e.sum)/2,s=e.length,l=0;l<s;++l)(o=e[l])[i]=a,o[r]=a+=Math.abs(n(o))}function Cy(e,t,n,i,r){for(var o,a=1/e.sum,s=0,l=e.length,u=0,c=0;u<l;++u)(o=e[u])[i]=s,o[r]=s=a*(c+=Math.abs(n(o)))}function My(e,t,n,i,r){for(var o,a,s=0,l=0,u=e.length,c=0;c<u;++c)(o=+n(a=e[c]))<0?(a[i]=l,a[r]=l+=o):(a[i]=s,a[r]=s+=o)}function Ty(){}Dy.Definition={type:\"Stack\",metadata:{modifies:!0},params:[{name:\"field\",type:\"field\"},{name:\"groupby\",type:\"field\",array:!0},{name:\"sort\",type:\"compare\"},{name:\"offset\",type:\"enum\",default:\"zero\",values:[\"zero\",\"center\",\"normalize\"]},{name:\"as\",type:\"string\",array:!0,length:2,default:Sy}]},Object(se.z)(Dy,Lo,{transform(e,t){var n,i,r,o,a=e.as||Sy,s=a[0],l=a[1],u=be(e.sort),c=e.field||se.P,d=\"center\"===e.offset?jy:\"normalize\"===e.offset?Cy:My;for(n=function(e,t,n,i){var r,o,a,s,l,u,c,d,h,f=[],p=e=>e(l);if(null==t)f.push(e.slice());else for(r={},o=0,a=e.length;o<a;++o)l=e[o],u=t.map(p),(c=r[u])||(r[u]=c=[],f.push(c)),c.push(l);for(u=0,h=0,s=f.length;u<s;++u){for(c=f[u],o=0,d=0,a=c.length;o<a;++o)d+=Math.abs(i(c[o]));c.sum=d,d>h&&(h=d),n&&c.sort(n)}return f.max=h,f}(t.source,e.groupby,u,c),i=0,r=n.length,o=n.max;i<r;++i)d(n[i],o,c,s,l);return t.reflow(e.modified()).modifies(a)}});const Ay=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];var Fy=function(){var e=1,t=1,n=a;function i(e,t){return t.map(t=>r(e,t))}function r(i,r){var a=[],s=[];return function(n,i,r){var a,s,l,u,c,d,h=new Array,f=new Array;a=s=-1,u=n[0]>=i,Ay[u<<1].forEach(p);for(;++a<e-1;)l=u,u=n[a+1]>=i,Ay[l|u<<1].forEach(p);Ay[u<<0].forEach(p);for(;++s<t-1;){for(a=-1,u=n[s*e+e]>=i,c=n[s*e]>=i,Ay[u<<1|c<<2].forEach(p);++a<e-1;)l=u,u=n[s*e+e+a+1]>=i,d=c,c=n[s*e+a+1]>=i,Ay[l|u<<1|c<<2|d<<3].forEach(p);Ay[u|c<<3].forEach(p)}a=-1,c=n[s*e]>=i,Ay[c<<2].forEach(p);for(;++a<e-1;)d=c,c=n[s*e+a+1]>=i,Ay[c<<2|d<<3].forEach(p);function p(e){var t,n,i=[e[0][0]+a,e[0][1]+s],l=[e[1][0]+a,e[1][1]+s],u=o(i),c=o(l);(t=f[u])?(n=h[c])?(delete f[t.end],delete h[n.start],t===n?(t.ring.push(l),r(t.ring)):h[t.start]=f[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete f[t.end],t.ring.push(l),f[t.end=c]=t):(t=h[c])?(n=f[u])?(delete h[t.start],delete f[n.end],t===n?(t.ring.push(l),r(t.ring)):h[n.start]=f[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete h[t.start],t.ring.unshift(i),h[t.start=u]=t):h[u]=f[c]={start:u,end:c,ring:[i,l]}}Ay[c<<3].forEach(p)}(i,r,e=>{n(e,i,r),function(e){var t=0,n=e.length,i=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];for(;++t<n;)i+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return i}(e)>0?a.push([e]):s.push(e)}),s.forEach(e=>{for(var t,n=0,i=a.length;n<i;++n)if(-1!==Py((t=a[n])[0],e))return void t.push(e)}),{type:\"MultiPolygon\",value:r,coordinates:a}}function o(t){return 2*t[0]+t[1]*(e+1)*4}function a(n,i,r){n.forEach(n=>{var o,a=n[0],s=n[1],l=0|a,u=0|s,c=i[u*e+l];a>0&&a<e&&l===a&&(o=i[u*e+l-1],n[0]=a+(r-o)/(c-o)-.5),s>0&&s<t&&u===s&&(o=i[(u-1)*e+l],n[1]=s+(r-o)/(c-o)-.5)})}return i.contour=r,i.size=function(n){if(!arguments.length)return[e,t];var r=Math.floor(n[0]),o=Math.floor(n[1]);return r>=0&&o>=0||Object(se.o)(\"invalid size\"),e=r,t=o,i},i.smooth=function(e){return arguments.length?(n=e?a:Ty,i):n===a},i};function Py(e,t){for(var n,i=-1,r=t.length;++i<r;)if(n=Ny(e,t[i]))return n;return 0}function Ny(e,t){for(var n=t[0],i=t[1],r=-1,o=0,a=e.length,s=a-1;o<a;s=o++){var l=e[o],u=l[0],c=l[1],d=e[s],h=d[0],f=d[1];if(zy(l,d,t))return 0;c>i!=f>i&&n<(h-u)*(i-c)/(f-c)+u&&(r=-r)}return r}function zy(e,t,n){var i,r,o,a;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])==(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&(r=e[i=+(e[0]===t[0])],o=n[i],a=t[i],r<=o&&o<=a||a<=o&&o<=r)}var Ry=function(e,t,n){return function(i){var r=Object(se.q)(i),o=n?Math.min(r[0],0):r[0],a=r[1],s=a-o,l=t?wt(o,a,e):s/(e+1);return Qs(l,a,l)}};function Iy(e){Lo.call(this,null,e)}function By(e,t,n,i,r){const o=e.x1||0,a=e.y1||0,s=t*n<0;function l(e){e.forEach(u)}function u(e){s&&e.reverse(),e.forEach(c)}function c(e){e[0]=(e[0]-o)*t+i,e[1]=(e[1]-a)*n+r}return function(e){return e.coordinates.forEach(l),e}}function Ly(e,t,n){const i=e>=0?e:da(t,n);return Math.round((Math.sqrt(4*i*i+1)-1)/2)}function $y(e){return Object(se.E)(e)?e:Object(se.m)(+e)}Iy.Definition={type:\"Isocontour\",metadata:{generates:!0},params:[{name:\"field\",type:\"field\"},{name:\"thresholds\",type:\"number\",array:!0},{name:\"levels\",type:\"number\"},{name:\"nice\",type:\"boolean\",default:!1},{name:\"resolve\",type:\"enum\",values:[\"shared\",\"independent\"],default:\"independent\"},{name:\"zero\",type:\"boolean\",default:!0},{name:\"smooth\",type:\"boolean\",default:!0},{name:\"scale\",type:\"number\",expr:!0},{name:\"translate\",type:\"number\",array:!0,expr:!0},{name:\"as\",type:\"string\",null:!0,default:\"contour\"}]},Object(se.z)(Iy,Lo,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=t.materialize(t.SOURCE).source,r=e.field||se.y,o=Fy().smooth(!1!==e.smooth),a=e.thresholds||function(e,t,n){const i=Ry(n.levels||10,n.nice,!1!==n.zero);return\"shared\"!==n.resolve?i:i(e.map(e=>ra(t(e).values)))}(i,r,e),s=null===e.as?null:e.as||\"contour\",l=[];return i.forEach(t=>{const n=r(t),i=o.size([n.width,n.height])(n.values,Object(se.B)(a)?a:a(n.values));!function(e,t,n,i){let r=i.scale||t.scale,o=i.translate||t.translate;Object(se.E)(r)&&(r=r(n,i));Object(se.E)(o)&&(o=o(n,i));if((1===r||null==r)&&!o)return;const a=(Object(se.F)(r)?r:r[0])||1,s=(Object(se.F)(r)?r:r[1])||1,l=o&&o[0]||0,u=o&&o[1]||0;e.forEach(By(t,a,s,l,u))}(i,n,t,e),i.forEach(e=>{l.push(ve(t,ge(null!=s?{[s]:e}:e)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});var Wy=function(){var e=e=>e[0],t=e=>e[1],n=se.P,i=[-1,-1],r=960,o=500,a=2;function s(s,l){const u=Ly(i[0],s,e)>>a,c=Ly(i[1],s,t)>>a,d=u?u+2:0,h=c?c+2:0,f=2*d+(r>>a),p=2*h+(o>>a),g=new Float32Array(f*p),m=new Float32Array(f*p);let v=g;s.forEach(i=>{const r=d+(+e(i)>>a),o=h+(+t(i)>>a);r>=0&&r<f&&o>=0&&o<p&&(g[r+o*f]+=+n(i))}),u>0&&c>0?(Uy(f,p,g,m,u),Yy(f,p,m,g,c),Uy(f,p,g,m,u),Yy(f,p,m,g,c),Uy(f,p,g,m,u),Yy(f,p,m,g,c)):u>0?(Uy(f,p,g,m,u),Uy(f,p,m,g,u),Uy(f,p,g,m,u),v=m):c>0&&(Yy(f,p,g,m,c),Yy(f,p,m,g,c),Yy(f,p,g,m,c),v=m);const y=l?Math.pow(2,-2*a):1/vy(v);for(let e=0,t=f*p;e<t;++e)v[e]*=y;return{values:v,scale:1<<a,width:f,height:p,x1:d,y1:h,x2:d+(r>>a),y2:h+(o>>a)}}return s.x=function(t){return arguments.length?(e=$y(t),s):e},s.y=function(e){return arguments.length?(t=$y(e),s):t},s.weight=function(e){return arguments.length?(n=$y(e),s):n},s.size=function(e){if(!arguments.length)return[r,o];var t=+e[0],n=+e[1];return t>=0&&n>=0||Object(se.o)(\"invalid size\"),r=t,o=n,s},s.cellSize=function(e){return arguments.length?((e=+e)>=1||Object(se.o)(\"invalid cell size\"),a=Math.floor(Math.log(e)/Math.LN2),s):1<<a},s.bandwidth=function(e){return arguments.length?(1===(e=Object(se.i)(e)).length&&(e=[+e[0],+e[0]]),2!==e.length&&Object(se.o)(\"invalid bandwidth\"),i=e,s):i},s};function Uy(e,t,n,i,r){const o=1+(r<<1);for(let a=0;a<t;++a)for(let t=0,s=0;t<e+r;++t)t<e&&(s+=n[t+a*e]),t>=r&&(t>=o&&(s-=n[t-o+a*e]),i[t-r+a*e]=s/Math.min(t+1,e-1+o-t,o))}function Yy(e,t,n,i,r){const o=1+(r<<1);for(let a=0;a<e;++a)for(let s=0,l=0;s<t+r;++s)s<t&&(l+=n[a+s*e]),s>=r&&(s>=o&&(l-=n[a+(s-o)*e]),i[a+(s-r)*e]=l/Math.min(s+1,t-1+o-s,o))}function Hy(e){Lo.call(this,null,e)}Hy.Definition={type:\"KDE2D\",metadata:{generates:!0},params:[{name:\"size\",type:\"number\",array:!0,length:2,required:!0},{name:\"x\",type:\"field\",required:!0},{name:\"y\",type:\"field\",required:!0},{name:\"weight\",type:\"field\"},{name:\"groupby\",type:\"field\",array:!0},{name:\"cellSize\",type:\"number\"},{name:\"bandwidth\",type:\"number\",array:!0,length:2},{name:\"counts\",type:\"boolean\",default:!1},{name:\"as\",type:\"string\",default:\"grid\"}]};const qy=[\"x\",\"y\",\"weight\",\"size\",\"cellSize\",\"bandwidth\"];function Vy(e,t){return qy.forEach(n=>null!=t[n]?e[n](t[n]):0),e}function Gy(e){Lo.call(this,null,e)}Object(se.z)(Hy,Lo,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,i=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=function(e,t){var n,i,r,o,a,s,l=[],u=e=>e(o);if(null==t)l.push(e);else for(n={},i=0,r=e.length;i<r;++i)o=e[i],a=t.map(u),(s=n[a])||(n[a]=s=[],s.dims=a,l.push(s)),s.push(o);return l}(t.materialize(t.SOURCE).source,e.groupby),o=(e.groupby||[]).map(se.h),a=Vy(Wy(),e),s=e.as||\"grid\";return n=r.map(t=>ge(function(e,t){for(let n=0;n<o.length;++n)e[o[n]]=t[n];return e}({[s]:a(t,e.counts)},t.dims))),this.value&&(i.rem=this.value),this.value=i.source=i.add=n,i}}),Gy.Definition={type:\"Contour\",metadata:{generates:!0},params:[{name:\"size\",type:\"number\",array:!0,length:2,required:!0},{name:\"values\",type:\"number\",array:!0},{name:\"x\",type:\"field\"},{name:\"y\",type:\"field\"},{name:\"weight\",type:\"field\"},{name:\"cellSize\",type:\"number\"},{name:\"bandwidth\",type:\"number\"},{name:\"count\",type:\"number\"},{name:\"nice\",type:\"boolean\",default:!1},{name:\"thresholds\",type:\"number\",array:!0},{name:\"smooth\",type:\"boolean\",default:!0}]},Object(se.z)(Gy,Lo,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,i,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=Fy().smooth(!1!==e.smooth),a=e.values,s=e.thresholds||Ry(e.count||10,e.nice,!!a),l=e.size;return a||(a=t.materialize(t.SOURCE).source,i=By(n=Vy(Wy(),e)(a,!0),n.scale||1,n.scale||1,0,0),l=[n.width,n.height],a=n.values),s=Object(se.B)(s)?s:s(a),a=o.size(l)(a,s),i&&a.forEach(i),this.value&&(r.rem=this.value),this.value=r.source=r.add=(a||[]).map(ge),r}});function Xy(e){Lo.call(this,null,e)}Xy.Definition={type:\"GeoJSON\",metadata:{},params:[{name:\"fields\",type:\"field\",array:!0,length:2},{name:\"geojson\",type:\"field\"}]},Object(se.z)(Xy,Lo,{transform(e,t){var n,i=this._features,r=this._points,o=e.fields,a=o&&o[0],s=o&&o[1],l=e.geojson||!o&&se.y,u=t.ADD;n=e.modified()||t.changed(t.REM)||t.modified(Object(se.g)(l))||a&&t.modified(Object(se.g)(a))||s&&t.modified(Object(se.g)(s)),this.value&&!n||(u=t.SOURCE,this._features=i=[],this._points=r=[]),l&&t.visit(u,e=>i.push(l(e))),a&&s&&(t.visit(u,e=>{var t=a(e),n=s(e);null!=t&&null!=n&&(t=+t)===t&&(n=+n)===n&&r.push([t,n])}),i=i.concat({type:\"Feature\",geometry:{type:\"MultiPoint\",coordinates:r}})),this.value={type:\"FeatureCollection\",features:i}}});var Zy=e=>e;function Qy(e,t){e&&Ky.hasOwnProperty(e.type)&&Ky[e.type](e,t)}var Jy={Feature:function(e,t){Qy(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)Qy(n[i].geometry,t)}},Ky={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){eb(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)eb(n[i],t,0)},Polygon:function(e,t){tb(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)tb(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)Qy(n[i],t)}};function eb(e,t,n){var i,r=-1,o=e.length-n;for(t.lineStart();++r<o;)i=e[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function tb(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)eb(e[n],t,1);t.polygonEnd()}var nb=function(e,t){e&&Jy.hasOwnProperty(e.type)?Jy[e.type](e,t):Qy(e,t)};class ib{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let n=0;for(let i=0;i<this._n&&i<32;i++){const r=t[i],o=e+r,a=Math.abs(e)<Math.abs(r)?e-(o-r):r-(o-e);a&&(t[n++]=a),e=o}return t[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let t,n,i,r=this._n,o=0;if(r>0){for(o=e[--r];r>0&&(t=o,n=e[--r],o=t+n,i=n-(o-t),!i););r>0&&(i<0&&e[r-1]<0||i>0&&e[r-1]>0)&&(n=2*i,t=o+n,n==t-o&&(o=t))}return o}}var rb=Math.PI,ob=rb/2,ab=rb/4,sb=2*rb,lb=180/rb,ub=rb/180,cb=Math.abs,db=Math.atan,hb=Math.atan2,fb=Math.cos,pb=Math.ceil,gb=Math.exp,mb=(Math.floor,Math.hypot),vb=Math.log,yb=Math.pow,bb=Math.sin,_b=Math.sign||function(e){return e>0?1:e<0?-1:0},wb=Math.sqrt,xb=Math.tan;function kb(e){return e>1?0:e<-1?rb:Math.acos(e)}function Ob(e){return e>1?ob:e<-1?-ob:Math.asin(e)}function Eb(){}var Sb,Db,jb,Cb,Mb=new ib,Tb=new ib,Ab={point:Eb,lineStart:Eb,lineEnd:Eb,polygonStart:function(){Ab.lineStart=Fb,Ab.lineEnd=zb},polygonEnd:function(){Ab.lineStart=Ab.lineEnd=Ab.point=Eb,Mb.add(cb(Tb)),Tb=new ib},result:function(){var e=Mb/2;return Mb=new ib,e}};function Fb(){Ab.point=Pb}function Pb(e,t){Ab.point=Nb,Sb=jb=e,Db=Cb=t}function Nb(e,t){Tb.add(Cb*e-jb*t),jb=e,Cb=t}function zb(){Nb(Sb,Db)}var Rb=Ab,Ib=1/0,Bb=Ib,Lb=-Ib,$b=Lb;var Wb,Ub,Yb,Hb,qb={point:function(e,t){e<Ib&&(Ib=e);e>Lb&&(Lb=e);t<Bb&&(Bb=t);t>$b&&($b=t)},lineStart:Eb,lineEnd:Eb,polygonStart:Eb,polygonEnd:Eb,result:function(){var e=[[Ib,Bb],[Lb,$b]];return Lb=$b=-(Bb=Ib=1/0),e}},Vb=0,Gb=0,Xb=0,Zb=0,Qb=0,Jb=0,Kb=0,e_=0,t_=0,n_={point:i_,lineStart:r_,lineEnd:s_,polygonStart:function(){n_.lineStart=l_,n_.lineEnd=u_},polygonEnd:function(){n_.point=i_,n_.lineStart=r_,n_.lineEnd=s_},result:function(){var e=t_?[Kb/t_,e_/t_]:Jb?[Zb/Jb,Qb/Jb]:Xb?[Vb/Xb,Gb/Xb]:[NaN,NaN];return Vb=Gb=Xb=Zb=Qb=Jb=Kb=e_=t_=0,e}};function i_(e,t){Vb+=e,Gb+=t,++Xb}function r_(){n_.point=o_}function o_(e,t){n_.point=a_,i_(Yb=e,Hb=t)}function a_(e,t){var n=e-Yb,i=t-Hb,r=wb(n*n+i*i);Zb+=r*(Yb+e)/2,Qb+=r*(Hb+t)/2,Jb+=r,i_(Yb=e,Hb=t)}function s_(){n_.point=i_}function l_(){n_.point=c_}function u_(){d_(Wb,Ub)}function c_(e,t){n_.point=d_,i_(Wb=Yb=e,Ub=Hb=t)}function d_(e,t){var n=e-Yb,i=t-Hb,r=wb(n*n+i*i);Zb+=r*(Yb+e)/2,Qb+=r*(Hb+t)/2,Jb+=r,Kb+=(r=Hb*e-Yb*t)*(Yb+e),e_+=r*(Hb+t),t_+=3*r,i_(Yb=e,Hb=t)}var h_=n_;function f_(e){this._context=e}f_.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,sb)}},result:Eb};var p_,g_,m_,v_,y_,b_=new ib,__={point:Eb,lineStart:function(){__.point=w_},lineEnd:function(){p_&&x_(g_,m_),__.point=Eb},polygonStart:function(){p_=!0},polygonEnd:function(){p_=null},result:function(){var e=+b_;return b_=new ib,e}};function w_(e,t){__.point=x_,g_=v_=e,m_=y_=t}function x_(e,t){v_-=e,y_-=t,b_.add(wb(v_*v_+y_*y_)),v_=e,y_=t}var k_=__;function O_(){this._string=[]}function E_(e){return\"m0,\"+e+\"a\"+e+\",\"+e+\" 0 1,1 0,\"+-2*e+\"a\"+e+\",\"+e+\" 0 1,1 0,\"+2*e+\"z\"}O_.prototype={_radius:4.5,_circle:E_(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push(\"Z\"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push(\"M\",e,\",\",t),this._point=1;break;case 1:this._string.push(\"L\",e,\",\",t);break;default:null==this._circle&&(this._circle=E_(this._radius)),this._string.push(\"M\",e,\",\",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join(\"\");return this._string=[],e}return null}};var S_=function(e,t){var n,i,r=4.5;function o(e){return e&&(\"function\"==typeof r&&i.pointRadius(+r.apply(this,arguments)),nb(e,n(i))),i.result()}return o.area=function(e){return nb(e,n(Rb)),Rb.result()},o.measure=function(e){return nb(e,n(k_)),k_.result()},o.bounds=function(e){return nb(e,n(qb)),qb.result()},o.centroid=function(e){return nb(e,n(h_)),h_.result()},o.projection=function(t){return arguments.length?(n=null==t?(e=null,Zy):(e=t).stream,o):e},o.context=function(e){return arguments.length?(i=null==e?(t=null,new O_):new f_(t=e),\"function\"!=typeof r&&i.pointRadius(r),o):t},o.pointRadius=function(e){return arguments.length?(r=\"function\"==typeof e?e:(i.pointRadius(+e),+e),o):r},o.projection(e).context(t)},D_=function(){var e,t=[];return{point:function(t,n,i){e.push([t,n,i])},lineStart:function(){t.push(e=[])},lineEnd:Eb,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}},j_=function(e,t){return cb(e[0]-t[0])<1e-6&&cb(e[1]-t[1])<1e-6};function C_(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}var M_=function(e,t,n,i,r){var o,a,s=[],l=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,i=e[0],a=e[t];if(j_(i,a)){if(!i[2]&&!a[2]){for(r.lineStart(),o=0;o<t;++o)r.point((i=e[o])[0],i[1]);return void r.lineEnd()}a[0]+=2e-6}s.push(n=new C_(i,e,null,!0)),l.push(n.o=new C_(i,null,n,!1)),s.push(n=new C_(a,e,null,!1)),l.push(n.o=new C_(a,null,n,!0))}})),s.length){for(l.sort(t),T_(s),T_(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;for(var u,c,d=s[0];;){for(var h=d,f=!0;h.v;)if((h=h.n)===d)return;u=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(f)for(o=0,a=u.length;o<a;++o)r.point((c=u[o])[0],c[1]);else i(h.x,h.n.x,1,r);h=h.n}else{if(f)for(u=h.p.z,o=u.length-1;o>=0;--o)r.point((c=u[o])[0],c[1]);else i(h.x,h.p.x,-1,r);h=h.p}u=(h=h.o).z,f=!f}while(!h.v);r.lineEnd()}}};function T_(e){if(t=e.length){for(var t,n,i=0,r=e[0];++i<t;)r.n=n=e[i],n.p=r,r=n;r.n=n=e[0],n.p=r}}function A_(e){return[hb(e[1],e[0]),Ob(e[2])]}function F_(e){var t=e[0],n=e[1],i=fb(n);return[i*fb(t),i*bb(t),bb(n)]}function P_(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function N_(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function z_(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function R_(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function I_(e){var t=wb(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function B_(e){return cb(e[0])<=rb?e[0]:_b(e[0])*((cb(e[0])+rb)%sb-rb)}function L_(e){return Array.from(function*(e){for(const t of e)yield*t}(e))}var $_=function(e,t,n,i){return function(r){var o,a,s,l=t(r),u=D_(),c=t(u),d=!1,h={point:f,lineStart:g,lineEnd:m,polygonStart:function(){h.point=v,h.lineStart=y,h.lineEnd=b,a=[],o=[]},polygonEnd:function(){h.point=f,h.lineStart=g,h.lineEnd=m,a=L_(a);var e=function(e,t){var n=B_(t),i=t[1],r=bb(i),o=[bb(n),-fb(n),0],a=0,s=0,l=new ib;1===r?i=ob+1e-6:-1===r&&(i=-ob-1e-6);for(var u=0,c=e.length;u<c;++u)if(h=(d=e[u]).length)for(var d,h,f=d[h-1],p=B_(f),g=f[1]/2+ab,m=bb(g),v=fb(g),y=0;y<h;++y,p=_,m=x,v=k,f=b){var b=d[y],_=B_(b),w=b[1]/2+ab,x=bb(w),k=fb(w),O=_-p,E=O>=0?1:-1,S=E*O,D=S>rb,j=m*x;if(l.add(hb(j*E*bb(S),v*k+j*fb(S))),a+=D?O+E*sb:O,D^p>=n^_>=n){var C=N_(F_(f),F_(b));I_(C);var M=N_(o,C);I_(M);var T=(D^O>=0?-1:1)*Ob(M[2]);(i>T||i===T&&(C[0]||C[1]))&&(s+=D^O>=0?1:-1)}}return(a<-1e-6||a<1e-6&&l<-1e-12)^1&s}(o,i);a.length?(d||(r.polygonStart(),d=!0),M_(a,U_,e,n,r)):e&&(d||(r.polygonStart(),d=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),d&&(r.polygonEnd(),d=!1),a=o=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function f(t,n){e(t,n)&&r.point(t,n)}function p(e,t){l.point(e,t)}function g(){h.point=p,l.lineStart()}function m(){h.point=f,l.lineEnd()}function v(e,t){s.push([e,t]),c.point(e,t)}function y(){c.lineStart(),s=[]}function b(){v(s[0][0],s[0][1]),c.lineEnd();var e,t,n,i,l=c.clean(),h=u.result(),f=h.length;if(s.pop(),o.push(s),s=null,f)if(1&l){if((t=(n=h[0]).length-1)>0){for(d||(r.polygonStart(),d=!0),r.lineStart(),e=0;e<t;++e)r.point((i=n[e])[0],i[1]);r.lineEnd()}}else f>1&&2&l&&h.push(h.pop().concat(h.shift())),a.push(h.filter(W_))}return h}};function W_(e){return e.length>1}function U_(e,t){return((e=e.x)[0]<0?e[1]-ob-1e-6:ob-e[1])-((t=t.x)[0]<0?t[1]-ob-1e-6:ob-t[1])}var Y_=$_((function(){return!0}),(function(e){var t,n=NaN,i=NaN,r=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?rb:-rb,l=cb(o-n);cb(l-rb)<1e-6?(e.point(n,i=(i+a)/2>0?ob:-ob),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(s,i),e.point(o,i),t=0):r!==s&&l>=rb&&(cb(n-r)<1e-6&&(n-=1e-6*r),cb(o-s)<1e-6&&(o-=1e-6*s),i=function(e,t,n,i){var r,o,a=bb(e-n);return cb(a)>1e-6?db((bb(t)*(o=fb(i))*bb(n)-bb(i)*(r=fb(t))*bb(e))/(r*o*a)):(t+i)/2}(n,i,o,a),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(s,i),t=0),e.point(n=o,i=a),r=s},lineEnd:function(){e.lineEnd(),n=i=NaN},clean:function(){return 2-t}}}),(function(e,t,n,i){var r;if(null==e)r=n*ob,i.point(-rb,r),i.point(0,r),i.point(rb,r),i.point(rb,0),i.point(rb,-r),i.point(0,-r),i.point(-rb,-r),i.point(-rb,0),i.point(-rb,r);else if(cb(e[0]-t[0])>1e-6){var o=e[0]<t[0]?rb:-rb;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(t[0],t[1])}),[-rb,-ob]);var H_=function(e,t){function n(n,i){return n=e(n,i),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,i){return(n=t.invert(n,i))&&e.invert(n[0],n[1])}),n};function q_(e,t){return[cb(e)>rb?e+Math.round(-e/sb)*sb:e,t]}function V_(e,t,n){return(e%=sb)?t||n?H_(X_(e),Z_(t,n)):X_(e):t||n?Z_(t,n):q_}function G_(e){return function(t,n){return[(t+=e)>rb?t-sb:t<-rb?t+sb:t,n]}}function X_(e){var t=G_(e);return t.invert=G_(-e),t}function Z_(e,t){var n=fb(e),i=bb(e),r=fb(t),o=bb(t);function a(e,t){var a=fb(t),s=fb(e)*a,l=bb(e)*a,u=bb(t),c=u*n+s*i;return[hb(l*r-c*o,s*n-u*i),Ob(c*r+l*o)]}return a.invert=function(e,t){var a=fb(t),s=fb(e)*a,l=bb(e)*a,u=bb(t),c=u*r-l*o;return[hb(l*r+u*o,s*n+c*i),Ob(c*n-s*i)]},a}q_.invert=q_;function Q_(e,t,n,i,r,o){if(n){var a=fb(t),s=bb(t),l=i*n;null==r?(r=t+i*sb,o=t-l/2):(r=J_(a,r),o=J_(a,o),(i>0?r<o:r>o)&&(r+=i*sb));for(var u,c=r;i>0?c>o:c<o;c-=l)u=A_([a,-s*fb(c),-s*bb(c)]),e.point(u[0],u[1])}}function J_(e,t){(t=F_(t))[0]-=e,I_(t);var n=kb(-t[1]);return((-t[2]<0?-n:n)+sb-1e-6)%sb}var K_=function(e){var t=fb(e),n=6*ub,i=t>0,r=cb(t)>1e-6;function o(e,n){return fb(e)*fb(n)>t}function a(e,n,i){var r=[1,0,0],o=N_(F_(e),F_(n)),a=P_(o,o),s=o[0],l=a-s*s;if(!l)return!i&&e;var u=t*a/l,c=-t*s/l,d=N_(r,o),h=R_(r,u);z_(h,R_(o,c));var f=d,p=P_(h,f),g=P_(f,f),m=p*p-g*(P_(h,h)-1);if(!(m<0)){var v=wb(m),y=R_(f,(-p-v)/g);if(z_(y,h),y=A_(y),!i)return y;var b,_=e[0],w=n[0],x=e[1],k=n[1];w<_&&(b=_,_=w,w=b);var O=w-_,E=cb(O-rb)<1e-6;if(!E&&k<x&&(b=x,x=k,k=b),E||O<1e-6?E?x+k>0^y[1]<(cb(y[0]-_)<1e-6?x:k):x<=y[1]&&y[1]<=k:O>rb^(_<=y[0]&&y[0]<=w)){var S=R_(f,(-p+v)/g);return z_(S,h),[y,A_(S)]}}}function s(t,n){var r=i?e:rb-e,o=0;return t<-r?o|=1:t>r&&(o|=2),n<-r?o|=4:n>r&&(o|=8),o}return $_(o,(function(e){var t,n,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(d,h){var f,p=[d,h],g=o(d,h),m=i?g?0:s(d,h):g?s(d+(d<0?rb:-rb),h):0;if(!t&&(u=l=g)&&e.lineStart(),g!==l&&(!(f=a(t,p))||j_(t,f)||j_(p,f))&&(p[2]=1),g!==l)c=0,g?(e.lineStart(),f=a(p,t),e.point(f[0],f[1])):(f=a(t,p),e.point(f[0],f[1],2),e.lineEnd()),t=f;else if(r&&t&&i^g){var v;m&n||!(v=a(p,t,!0))||(c=0,i?(e.lineStart(),e.point(v[0][0],v[0][1]),e.point(v[1][0],v[1][1]),e.lineEnd()):(e.point(v[1][0],v[1][1]),e.lineEnd(),e.lineStart(),e.point(v[0][0],v[0][1],3)))}!g||t&&j_(t,p)||e.point(p[0],p[1]),t=p,l=g,n=m},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return c|(u&&l)<<1}}}),(function(t,i,r,o){Q_(o,e,n,r,t,i)}),i?[0,-e]:[-rb,e-rb])};function ew(e,t,n,i){function r(r,o){return e<=r&&r<=n&&t<=o&&o<=i}function o(r,o,s,u){var c=0,d=0;if(null==r||(c=a(r,s))!==(d=a(o,s))||l(r,o)<0^s>0)do{u.point(0===c||3===c?e:n,c>1?i:t)}while((c=(c+s+4)%4)!==d);else u.point(o[0],o[1])}function a(i,r){return cb(i[0]-e)<1e-6?r>0?0:3:cb(i[0]-n)<1e-6?r>0?2:1:cb(i[1]-t)<1e-6?r>0?1:0:r>0?3:2}function s(e,t){return l(e.x,t.x)}function l(e,t){var n=a(e,1),i=a(t,1);return n!==i?n-i:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){var l,u,c,d,h,f,p,g,m,v,y,b=a,_=D_(),w={point:x,lineStart:function(){w.point=k,u&&u.push(c=[]);v=!0,m=!1,p=g=NaN},lineEnd:function(){l&&(k(d,h),f&&m&&_.rejoin(),l.push(_.result()));w.point=x,m&&b.lineEnd()},polygonStart:function(){b=_,l=[],u=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,r=u.length;n<r;++n)for(var o,a,s=u[n],l=1,c=s.length,d=s[0],h=d[0],f=d[1];l<c;++l)o=h,a=f,d=s[l],h=d[0],f=d[1],a<=i?f>i&&(h-o)*(i-a)>(f-a)*(e-o)&&++t:f<=i&&(h-o)*(i-a)<(f-a)*(e-o)&&--t;return t}(),n=y&&t,r=(l=L_(l)).length;(n||r)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),r&&M_(l,s,t,o,a),a.polygonEnd());b=a,l=u=c=null}};function x(e,t){r(e,t)&&b.point(e,t)}function k(o,a){var s=r(o,a);if(u&&c.push([o,a]),v)d=o,h=a,f=s,v=!1,s&&(b.lineStart(),b.point(o,a));else if(s&&m)b.point(o,a);else{var l=[p=Math.max(-1e9,Math.min(1e9,p)),g=Math.max(-1e9,Math.min(1e9,g))],_=[o=Math.max(-1e9,Math.min(1e9,o)),a=Math.max(-1e9,Math.min(1e9,a))];!function(e,t,n,i,r,o){var a,s=e[0],l=e[1],u=0,c=1,d=t[0]-s,h=t[1]-l;if(a=n-s,d||!(a>0)){if(a/=d,d<0){if(a<u)return;a<c&&(c=a)}else if(d>0){if(a>c)return;a>u&&(u=a)}if(a=r-s,d||!(a<0)){if(a/=d,d<0){if(a>c)return;a>u&&(u=a)}else if(d>0){if(a<u)return;a<c&&(c=a)}if(a=i-l,h||!(a>0)){if(a/=h,h<0){if(a<u)return;a<c&&(c=a)}else if(h>0){if(a>c)return;a>u&&(u=a)}if(a=o-l,h||!(a<0)){if(a/=h,h<0){if(a>c)return;a>u&&(u=a)}else if(h>0){if(a<u)return;a<c&&(c=a)}return u>0&&(e[0]=s+u*d,e[1]=l+u*h),c<1&&(t[0]=s+c*d,t[1]=l+c*h),!0}}}}}(l,_,e,t,n,i)?s&&(b.lineStart(),b.point(o,a),y=!1):(m||(b.lineStart(),b.point(l[0],l[1])),b.point(_[0],_[1]),s||b.lineEnd(),y=!1)}p=o,g=a,m=s}return w}}function tw(e){return function(t){var n=new nw;for(var i in e)n[i]=e[i];return n.stream=t,n}}function nw(){}function iw(e,t,n){var i=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=i&&e.clipExtent(null),nb(n,e.stream(qb)),t(qb.result()),null!=i&&e.clipExtent(i),e}function rw(e,t,n){return iw(e,(function(n){var i=t[1][0]-t[0][0],r=t[1][1]-t[0][1],o=Math.min(i/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),a=+t[0][0]+(i-o*(n[1][0]+n[0][0]))/2,s=+t[0][1]+(r-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([a,s])}),n)}function ow(e,t,n){return rw(e,[[0,0],t],n)}function aw(e,t,n){return iw(e,(function(n){var i=+t,r=i/(n[1][0]-n[0][0]),o=(i-r*(n[1][0]+n[0][0]))/2,a=-r*n[0][1];e.scale(150*r).translate([o,a])}),n)}function sw(e,t,n){return iw(e,(function(n){var i=+t,r=i/(n[1][1]-n[0][1]),o=-r*n[0][0],a=(i-r*(n[1][1]+n[0][1]))/2;e.scale(150*r).translate([o,a])}),n)}nw.prototype={constructor:nw,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var lw=fb(30*ub),uw=function(e,t){return+t?function(e,t){function n(i,r,o,a,s,l,u,c,d,h,f,p,g,m){var v=u-i,y=c-r,b=v*v+y*y;if(b>4*t&&g--){var _=a+h,w=s+f,x=l+p,k=wb(_*_+w*w+x*x),O=Ob(x/=k),E=cb(cb(x)-1)<1e-6||cb(o-d)<1e-6?(o+d)/2:hb(w,_),S=e(E,O),D=S[0],j=S[1],C=D-i,M=j-r,T=y*C-v*M;(T*T/b>t||cb((v*C+y*M)/b-.5)>.3||a*h+s*f+l*p<lw)&&(n(i,r,o,a,s,l,D,j,E,_/=k,w/=k,x,g,m),m.point(D,j),n(D,j,E,_,w,x,u,c,d,h,f,p,g,m))}}return function(t){var i,r,o,a,s,l,u,c,d,h,f,p,g={point:m,lineStart:v,lineEnd:b,polygonStart:function(){t.polygonStart(),g.lineStart=_},polygonEnd:function(){t.polygonEnd(),g.lineStart=v}};function m(n,i){n=e(n,i),t.point(n[0],n[1])}function v(){c=NaN,g.point=y,t.lineStart()}function y(i,r){var o=F_([i,r]),a=e(i,r);n(c,d,u,h,f,p,c=a[0],d=a[1],u=i,h=o[0],f=o[1],p=o[2],16,t),t.point(c,d)}function b(){g.point=m,t.lineEnd()}function _(){v(),g.point=w,g.lineEnd=x}function w(e,t){y(i=e,t),r=c,o=d,a=h,s=f,l=p,g.point=y}function x(){n(c,d,u,h,f,p,r,o,i,a,s,l,16,t),g.lineEnd=b,b()}return g}}(e,t):function(e){return tw({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)};var cw=tw({point:function(e,t){this.stream.point(e*ub,t*ub)}});function dw(e,t,n,i,r,o){if(!o)return function(e,t,n,i,r){function o(o,a){return[t+e*(o*=i),n-e*(a*=r)]}return o.invert=function(o,a){return[(o-t)/e*i,(n-a)/e*r]},o}(e,t,n,i,r);var a=fb(o),s=bb(o),l=a*e,u=s*e,c=a/e,d=s/e,h=(s*n-a*t)/e,f=(s*t+a*n)/e;function p(e,o){return[l*(e*=i)-u*(o*=r)+t,n-u*e-l*o]}return p.invert=function(e,t){return[i*(c*e-d*t+h),r*(f-d*e-c*t)]},p}function hw(e){return fw((function(){return e}))()}function fw(e){var t,n,i,r,o,a,s,l,u,c,d=150,h=480,f=250,p=0,g=0,m=0,v=0,y=0,b=0,_=1,w=1,x=null,k=Y_,O=null,E=Zy,S=.5;function D(e){return l(e[0]*ub,e[1]*ub)}function j(e){return(e=l.invert(e[0],e[1]))&&[e[0]*lb,e[1]*lb]}function C(){var e=dw(d,0,0,_,w,b).apply(null,t(p,g)),i=dw(d,h-e[0],f-e[1],_,w,b);return n=V_(m,v,y),s=H_(t,i),l=H_(n,s),a=uw(s,S),M()}function M(){return u=c=null,D}return D.stream=function(e){return u&&c===e?u:u=cw(function(e){return tw({point:function(t,n){var i=e(t,n);return this.stream.point(i[0],i[1])}})}(n)(k(a(E(c=e)))))},D.preclip=function(e){return arguments.length?(k=e,x=void 0,M()):k},D.postclip=function(e){return arguments.length?(E=e,O=i=r=o=null,M()):E},D.clipAngle=function(e){return arguments.length?(k=+e?K_(x=e*ub):(x=null,Y_),M()):x*lb},D.clipExtent=function(e){return arguments.length?(E=null==e?(O=i=r=o=null,Zy):ew(O=+e[0][0],i=+e[0][1],r=+e[1][0],o=+e[1][1]),M()):null==O?null:[[O,i],[r,o]]},D.scale=function(e){return arguments.length?(d=+e,C()):d},D.translate=function(e){return arguments.length?(h=+e[0],f=+e[1],C()):[h,f]},D.center=function(e){return arguments.length?(p=e[0]%360*ub,g=e[1]%360*ub,C()):[p*lb,g*lb]},D.rotate=function(e){return arguments.length?(m=e[0]%360*ub,v=e[1]%360*ub,y=e.length>2?e[2]%360*ub:0,C()):[m*lb,v*lb,y*lb]},D.angle=function(e){return arguments.length?(b=e%360*ub,C()):b*lb},D.reflectX=function(e){return arguments.length?(_=e?-1:1,C()):_<0},D.reflectY=function(e){return arguments.length?(w=e?-1:1,C()):w<0},D.precision=function(e){return arguments.length?(a=uw(s,S=e*e),M()):wb(S)},D.fitExtent=function(e,t){return rw(D,e,t)},D.fitSize=function(e,t){return ow(D,e,t)},D.fitWidth=function(e,t){return aw(D,e,t)},D.fitHeight=function(e,t){return sw(D,e,t)},function(){return t=e.apply(this,arguments),D.invert=t.invert&&j,C()}}function pw(e){var t=0,n=rb/3,i=fw(e),r=i(t,n);return r.parallels=function(e){return arguments.length?i(t=e[0]*ub,n=e[1]*ub):[t*lb,n*lb]},r}function gw(e,t){var n=bb(e),i=(n+bb(t))/2;if(cb(i)<1e-6)return function(e){var t=fb(e);function n(e,n){return[e*t,bb(n)/t]}return n.invert=function(e,n){return[e/t,Ob(n*t)]},n}(e);var r=1+n*(2*i-n),o=wb(r)/i;function a(e,t){var n=wb(r-2*i*bb(t))/i;return[n*bb(e*=i),o-n*fb(e)]}return a.invert=function(e,t){var n=o-t,a=hb(e,cb(n))*_b(n);return n*i<0&&(a-=rb*_b(e)*_b(n)),[a/i,Ob((r-(e*e+n*n)*i*i)/(2*i))]},a}var mw=function(){return pw(gw).scale(155.424).center([0,33.6442])},vw=function(){return mw().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};function yw(e){return function(t,n){var i=fb(t),r=fb(n),o=e(i*r);return o===1/0?[2,0]:[o*r*bb(t),o*bb(n)]}}function bw(e){return function(t,n){var i=wb(t*t+n*n),r=e(i),o=bb(r),a=fb(r);return[hb(t*o,i*a),Ob(i&&n*o/i)]}}var _w=yw((function(e){return wb(2/(1+e))}));_w.invert=bw((function(e){return 2*Ob(e/2)}));var ww=yw((function(e){return(e=kb(e))&&e/bb(e)}));ww.invert=bw((function(e){return e}));function xw(e,t){return[e,vb(xb((ob+t)/2))]}xw.invert=function(e,t){return[e,2*db(gb(t))-ob]};function kw(e){var t,n,i,r=hw(e),o=r.center,a=r.scale,s=r.translate,l=r.clipExtent,u=null;function c(){var o=rb*a(),s=r(function(e){function t(t){return(t=e(t[0]*ub,t[1]*ub))[0]*=lb,t[1]*=lb,t}return e=V_(e[0]*ub,e[1]*ub,e.length>2?e[2]*ub:0),t.invert=function(t){return(t=e.invert(t[0]*ub,t[1]*ub))[0]*=lb,t[1]*=lb,t},t}(r.rotate()).invert([0,0]));return l(null==u?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:e===xw?[[Math.max(s[0]-o,u),t],[Math.min(s[0]+o,n),i]]:[[u,Math.max(s[1]-o,t)],[n,Math.min(s[1]+o,i)]])}return r.scale=function(e){return arguments.length?(a(e),c()):a()},r.translate=function(e){return arguments.length?(s(e),c()):s()},r.center=function(e){return arguments.length?(o(e),c()):o()},r.clipExtent=function(e){return arguments.length?(null==e?u=t=n=i=null:(u=+e[0][0],t=+e[0][1],n=+e[1][0],i=+e[1][1]),c()):null==u?null:[[u,t],[n,i]]},c()}function Ow(e){return xb((ob+e)/2)}function Ew(e,t){var n=fb(e),i=e===t?bb(e):vb(n/fb(t))/vb(Ow(t)/Ow(e)),r=n*yb(Ow(e),i)/i;if(!i)return xw;function o(e,t){r>0?t<1e-6-ob&&(t=1e-6-ob):t>ob-1e-6&&(t=ob-1e-6);var n=r/yb(Ow(t),i);return[n*bb(i*e),r-n*fb(i*e)]}return o.invert=function(e,t){var n=r-t,o=_b(i)*wb(e*e+n*n),a=hb(e,cb(n))*_b(n);return n*i<0&&(a-=rb*_b(e)*_b(n)),[a/i,2*db(yb(r/o,1/i))-ob]},o}function Sw(e,t){return[e,t]}Sw.invert=Sw;function Dw(e,t){var n=fb(e),i=e===t?bb(e):(n-fb(t))/(t-e),r=n/i+e;if(cb(i)<1e-6)return Sw;function o(e,t){var n=r-t,o=i*e;return[n*bb(o),r-n*fb(o)]}return o.invert=function(e,t){var n=r-t,o=hb(e,cb(n))*_b(n);return n*i<0&&(o-=rb*_b(e)*_b(n)),[o/i,r-_b(i)*wb(e*e+n*n)]},o}var jw=1.340264,Cw=-.081106,Mw=893e-6,Tw=.003796,Aw=wb(3)/2;function Fw(e,t){var n=Ob(Aw*bb(t)),i=n*n,r=i*i*i;return[e*fb(n)/(Aw*(jw+3*Cw*i+r*(7*Mw+9*Tw*i))),n*(jw+Cw*i+r*(Mw+Tw*i))]}Fw.invert=function(e,t){for(var n,i=t,r=i*i,o=r*r*r,a=0;a<12&&(o=(r=(i-=n=(i*(jw+Cw*r+o*(Mw+Tw*r))-t)/(jw+3*Cw*r+o*(7*Mw+9*Tw*r)))*i)*r*r,!(cb(n)<1e-12));++a);return[Aw*e*(jw+3*Cw*r+o*(7*Mw+9*Tw*r))/fb(i),Ob(bb(i)/Aw)]};function Pw(e,t){var n=fb(t),i=fb(e)*n;return[n*bb(e)/i,bb(t)/i]}Pw.invert=bw(db);function Nw(e,t){var n=t*t,i=n*n;return[e*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),t*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}Nw.invert=function(e,t){var n,i=t,r=25;do{var o=i*i,a=o*o;i-=n=(i*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-t)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(cb(n)>1e-6&&--r>0);return[e/(.8707+(o=i*i)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),i]};function zw(e,t){return[fb(t)*bb(e),bb(t)]}zw.invert=bw(Ob);function Rw(e,t){var n=fb(t),i=1+fb(e)*n;return[n*bb(e)/i,bb(t)/i]}Rw.invert=bw((function(e){return 2*db(e)}));function Iw(e,t){return[vb(xb((ob+t)/2)),-e]}Iw.invert=function(e,t){return[-t,2*db(gb(e))-ob]};var Bw=Math.abs,Lw=(Math.atan,Math.atan2,Math.ceil,Math.cos),$w=(Math.exp,Math.floor,Math.log,Math.max,Math.min,Math.pow,Math.round,Math.sign,Math.sin),Ww=(Math.tan,Math.PI),Uw=Ww/2,Yw=(Math.SQRT1_2,qw(2));qw(Ww);function Hw(e){return e>1?Uw:e<-1?-Uw:Math.asin(e)}function qw(e){return e>0?Math.sqrt(e):0}function Vw(e,t){var n,i=e*$w(t),r=30;do{t-=n=(t+$w(t)-i)/(1+Lw(t))}while(Bw(n)>1e-6&&--r>0);return t/2}var Gw=function(e,t,n){function i(i,r){return[e*i*Lw(r=Vw(n,r)),t*$w(r)]}return i.invert=function(i,r){return r=Hw(r/t),[i/(e*Lw(r)),Hw((2*r+$w(2*r))/n)]},i}(Yw/Uw,Yw,Ww);const Xw=S_(),Zw=[\"clipAngle\",\"clipExtent\",\"scale\",\"translate\",\"center\",\"rotate\",\"parallels\",\"precision\",\"reflectX\",\"reflectY\",\"coefficient\",\"distance\",\"fraction\",\"lobes\",\"parallel\",\"radius\",\"ratio\",\"spacing\",\"tilt\"];function Qw(e,t){return function n(){const i=t();return i.type=e,i.path=S_().projection(i),i.copy=i.copy||function(){const e=n();return Zw.forEach(t=>{i[t]&&e[t](i[t]())}),e.path.pointRadius(i.path.pointRadius()),e},i}}function Jw(e,t){if(!e||\"string\"!=typeof e)throw new Error(\"Projection type must be a name string.\");return e=e.toLowerCase(),arguments.length>1?(ex[e]=Qw(e,t),this):ex[e]||null}function Kw(e){return e&&e.path||Xw}const ex={albers:vw,albersusa:function(){var e,t,n,i,r,o,a=vw(),s=mw().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=mw().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(e,t){o=[e,t]}};function c(e){var t=e[0],a=e[1];return o=null,n.point(t,a),o||(i.point(t,a),o)||(r.point(t,a),o)}function d(){return e=t=null,c}return c.invert=function(e){var t=a.scale(),n=a.translate(),i=(e[0]-n[0])/t,r=(e[1]-n[1])/t;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?s:r>=.166&&r<.234&&i>=-.214&&i<-.115?l:a).invert(e)},c.stream=function(n){return e&&t===n?e:(i=[a.stream(t=n),s.stream(n),l.stream(n)],r=i.length,e={point:function(e,t){for(var n=-1;++n<r;)i[n].point(e,t)},sphere:function(){for(var e=-1;++e<r;)i[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)i[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)i[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)i[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)i[e].polygonEnd()}});var i,r},c.precision=function(e){return arguments.length?(a.precision(e),s.precision(e),l.precision(e),d()):a.precision()},c.scale=function(e){return arguments.length?(a.scale(e),s.scale(.35*e),l.scale(e),c.translate(a.translate())):a.scale()},c.translate=function(e){if(!arguments.length)return a.translate();var t=a.scale(),o=+e[0],c=+e[1];return n=a.translate(e).clipExtent([[o-.455*t,c-.238*t],[o+.455*t,c+.238*t]]).stream(u),i=s.translate([o-.307*t,c+.201*t]).clipExtent([[o-.425*t+1e-6,c+.12*t+1e-6],[o-.214*t-1e-6,c+.234*t-1e-6]]).stream(u),r=l.translate([o-.205*t,c+.212*t]).clipExtent([[o-.214*t+1e-6,c+.166*t+1e-6],[o-.115*t-1e-6,c+.234*t-1e-6]]).stream(u),d()},c.fitExtent=function(e,t){return rw(c,e,t)},c.fitSize=function(e,t){return ow(c,e,t)},c.fitWidth=function(e,t){return aw(c,e,t)},c.fitHeight=function(e,t){return sw(c,e,t)},c.scale(1070)},azimuthalequalarea:function(){return hw(_w).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return hw(ww).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return pw(Ew).scale(109.5).parallels([30,30])},conicequalarea:mw,conicequidistant:function(){return pw(Dw).scale(131.154).center([0,13.9389])},equalEarth:function(){return hw(Fw).scale(177.158)},equirectangular:function(){return hw(Sw).scale(152.63)},gnomonic:function(){return hw(Pw).scale(144.049).clipAngle(60)},identity:function(){var e,t,n,i,r,o,a,s=1,l=0,u=0,c=1,d=1,h=0,f=null,p=1,g=1,m=tw({point:function(e,t){var n=b([e,t]);this.stream.point(n[0],n[1])}}),v=Zy;function y(){return p=s*c,g=s*d,o=a=null,b}function b(n){var i=n[0]*p,r=n[1]*g;if(h){var o=r*e-i*t;i=i*e+r*t,r=o}return[i+l,r+u]}return b.invert=function(n){var i=n[0]-l,r=n[1]-u;if(h){var o=r*e+i*t;i=i*e-r*t,r=o}return[i/p,r/g]},b.stream=function(e){return o&&a===e?o:o=m(v(a=e))},b.postclip=function(e){return arguments.length?(v=e,f=n=i=r=null,y()):v},b.clipExtent=function(e){return arguments.length?(v=null==e?(f=n=i=r=null,Zy):ew(f=+e[0][0],n=+e[0][1],i=+e[1][0],r=+e[1][1]),y()):null==f?null:[[f,n],[i,r]]},b.scale=function(e){return arguments.length?(s=+e,y()):s},b.translate=function(e){return arguments.length?(l=+e[0],u=+e[1],y()):[l,u]},b.angle=function(n){return arguments.length?(t=bb(h=n%360*ub),e=fb(h),y()):h*lb},b.reflectX=function(e){return arguments.length?(c=e?-1:1,y()):c<0},b.reflectY=function(e){return arguments.length?(d=e?-1:1,y()):d<0},b.fitExtent=function(e,t){return rw(b,e,t)},b.fitSize=function(e,t){return ow(b,e,t)},b.fitWidth=function(e,t){return aw(b,e,t)},b.fitHeight=function(e,t){return sw(b,e,t)},b},mercator:function(){return kw(xw).scale(961/sb)},mollweide:function(){return hw(Gw).scale(169.529)},naturalEarth1:function(){return hw(Nw).scale(175.295)},orthographic:function(){return hw(zw).scale(249.5).clipAngle(90.000001)},stereographic:function(){return hw(Rw).scale(250).clipAngle(142)},transversemercator:function(){var e=kw(Iw),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)}};for(const e in ex)Jw(e,ex[e]);function tx(e){Lo.call(this,null,e)}function nx(e){Lo.call(this,null,e)}function ix(e){Lo.call(this,null,e)}function rx(e,t,n){var i=Qs(e,t-1e-6,n).concat(t);return function(e){return i.map((function(t){return[e,t]}))}}function ox(e,t,n){var i=Qs(e,t-1e-6,n).concat(t);return function(e){return i.map((function(t){return[t,e]}))}}function ax(){var e,t,n,i,r,o,a,s,l,u,c,d,h=10,f=h,p=90,g=360,m=2.5;function v(){return{type:\"MultiLineString\",coordinates:y()}}function y(){return Qs(pb(i/p)*p,n,p).map(c).concat(Qs(pb(s/g)*g,a,g).map(d)).concat(Qs(pb(t/h)*h,e,h).filter((function(e){return cb(e%p)>1e-6})).map(l)).concat(Qs(pb(o/f)*f,r,f).filter((function(e){return cb(e%g)>1e-6})).map(u))}return v.lines=function(){return y().map((function(e){return{type:\"LineString\",coordinates:e}}))},v.outline=function(){return{type:\"Polygon\",coordinates:[c(i).concat(d(a).slice(1),c(n).reverse().slice(1),d(s).reverse().slice(1))]}},v.extent=function(e){return arguments.length?v.extentMajor(e).extentMinor(e):v.extentMinor()},v.extentMajor=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],i>n&&(e=i,i=n,n=e),s>a&&(e=s,s=a,a=e),v.precision(m)):[[i,s],[n,a]]},v.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],o=+n[0][1],r=+n[1][1],t>e&&(n=t,t=e,e=n),o>r&&(n=o,o=r,r=n),v.precision(m)):[[t,o],[e,r]]},v.step=function(e){return arguments.length?v.stepMajor(e).stepMinor(e):v.stepMinor()},v.stepMajor=function(e){return arguments.length?(p=+e[0],g=+e[1],v):[p,g]},v.stepMinor=function(e){return arguments.length?(h=+e[0],f=+e[1],v):[h,f]},v.precision=function(h){return arguments.length?(m=+h,l=rx(o,r,90),u=ox(t,e,m),c=rx(s,a,90),d=ox(i,n,m),v):m},v.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function sx(e){Lo.call(this,[],e),this.generator=ax()}function lx(e){Lo.call(this,null,e)}function ux(e){if(!Object(se.E)(e))return!1;const t=Object(se.eb)(Object(se.g)(e));return t.$x||t.$y||t.$value||t.$max}function cx(e){Lo.call(this,null,e),this.modified(!0)}function dx(e,t,n){Object(se.E)(e[t])&&e[t](n)}tx.Definition={type:\"GeoPath\",metadata:{modifies:!0},params:[{name:\"projection\",type:\"projection\"},{name:\"field\",type:\"field\"},{name:\"pointRadius\",type:\"number\",expr:!0},{name:\"as\",type:\"string\",default:\"path\"}]},Object(se.z)(tx,Lo,{transform(e,t){var n=t.fork(t.ALL),i=this.value,r=e.field||se.y,o=e.as||\"path\",a=n.SOURCE;!i||e.modified()?(this.value=i=Kw(e.projection),n.materialize().reflow()):a=r===se.y||t.modified(r.fields)?n.ADD_MOD:n.ADD;var s=function(e,t){var n=e.pointRadius();e.context(null),null!=t&&e.pointRadius(t);return n}(i,e.pointRadius);return n.visit(a,e=>e[o]=i(r(e))),i.pointRadius(s),n.modifies(o)}}),nx.Definition={type:\"GeoPoint\",metadata:{modifies:!0},params:[{name:\"projection\",type:\"projection\",required:!0},{name:\"fields\",type:\"field\",array:!0,required:!0,length:2},{name:\"as\",type:\"string\",array:!0,length:2,default:[\"x\",\"y\"]}]},Object(se.z)(nx,Lo,{transform(e,t){var n,i=e.projection,r=e.fields[0],o=e.fields[1],a=e.as||[\"x\",\"y\"],s=a[0],l=a[1];function u(e){var t=i([r(e),o(e)]);t?(e[s]=t[0],e[l]=t[1]):(e[s]=void 0,e[l]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,u):(n=t.modified(r.fields)||t.modified(o.fields),t.visit(n?t.ADD_MOD:t.ADD,u)),t.modifies(a)}}),ix.Definition={type:\"GeoShape\",metadata:{modifies:!0,nomod:!0},params:[{name:\"projection\",type:\"projection\"},{name:\"field\",type:\"field\",default:\"datum\"},{name:\"pointRadius\",type:\"number\",expr:!0},{name:\"as\",type:\"string\",default:\"shape\"}]},Object(se.z)(ix,Lo,{transform(e,t){var n=t.fork(t.ALL),i=this.value,r=e.as||\"shape\",o=n.ADD;return i&&!e.modified()||(this.value=i=function(e,t,n){var i=null==n?n=>e(t(n)):i=>{var r=e.pointRadius(),o=e.pointRadius(n)(t(i));return e.pointRadius(r),o};return i.context=t=>(e.context(t),i),i}(Kw(e.projection),e.field||Object(se.u)(\"datum\"),e.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,e=>e[r]=i),n.modifies(r)}}),sx.Definition={type:\"Graticule\",metadata:{changes:!0,generates:!0},params:[{name:\"extent\",type:\"array\",array:!0,length:2,content:{type:\"number\",array:!0,length:2}},{name:\"extentMajor\",type:\"array\",array:!0,length:2,content:{type:\"number\",array:!0,length:2}},{name:\"extentMinor\",type:\"array\",array:!0,length:2,content:{type:\"number\",array:!0,length:2}},{name:\"step\",type:\"number\",array:!0,length:2},{name:\"stepMajor\",type:\"number\",array:!0,length:2,default:[90,360]},{name:\"stepMinor\",type:\"number\",array:!0,length:2,default:[10,10]},{name:\"precision\",type:\"number\",default:2.5}]},Object(se.z)(sx,Lo,{transform(e,t){var n,i=this.value,r=this.generator;if(!i.length||e.modified())for(var o in e)Object(se.E)(r[o])&&r[o](e[o]);return n=r(),i.length?t.mod.push(ye(i[0],n)):t.add.push(ge(n)),i[0]=n,t}}),lx.Definition={type:\"heatmap\",metadata:{modifies:!0},params:[{name:\"field\",type:\"field\"},{name:\"color\",type:\"string\",expr:!0},{name:\"opacity\",type:\"number\",expr:!0},{name:\"resolve\",type:\"enum\",values:[\"shared\",\"independent\"],default:\"independent\"},{name:\"as\",type:\"string\",default:\"image\"}]},Object(se.z)(lx,Lo,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,i=\"shared\"===e.resolve,r=e.field||se.y,o=function(e,t){let n;Object(se.E)(e)?(n=n=>e(n,t),n.dep=ux(e)):e?n=Object(se.m)(e):(n=e=>e.$value/e.$max||0,n.dep=!0);return n}(e.opacity,e),a=function(e,t){let n;Object(se.E)(e)?(n=n=>Vf(e(n,t)),n.dep=ux(e)):n=Object(se.m)(Vf(e||\"#888\"));return n}(e.color,e),s=e.as||\"image\",l={$x:0,$y:0,$value:0,$max:i?ra(n.map(e=>ra(r(e).values))):0};return n.forEach(e=>{const t=r(e),n=Object(se.p)({},e,l);i||(n.$max=ra(t.values||[])),e[s]=function(e,t,n,i){const r=e.width,o=e.height,a=e.x1||0,s=e.y1||0,l=e.x2||r,u=e.y2||o,c=e.values,d=c?e=>c[e]:se.lb,h=Fc(l-a,u-s),f=h.getContext(\"2d\"),p=f.getImageData(0,0,l-a,u-s),g=p.data;for(let e=s,o=0;e<u;++e){t.$y=e-s;for(let s=a,u=e*r;s<l;++s,o+=4){t.$x=s-a,t.$value=d(s+u);const e=n(t);g[o+0]=e.r,g[o+1]=e.g,g[o+2]=e.b,g[o+3]=~~(255*i(t))}}return f.putImageData(p,0,0),h}(t,n,a.dep?a:Object(se.m)(a(n)),o.dep?o:Object(se.m)(o(n)))}),t.reflow(!0).modifies(s)}}),Object(se.z)(cx,Lo,{transform(e,t){let n=this.value;return!n||e.modified(\"type\")?(this.value=n=function(e){var t=Jw((e||\"mercator\").toLowerCase());t||Object(se.o)(\"Unrecognized projection type: \"+e);return t()}(e.type),Zw.forEach(t=>{null!=e[t]&&dx(n,t,e[t])})):Zw.forEach(t=>{e.modified(t)&&dx(n,t,e[t])}),null!=e.pointRadius&&n.path.pointRadius(e.pointRadius),e.fit&&function(e,t){var n=function(e){return 1===(e=Object(se.i)(e)).length?e[0]:{type:\"FeatureCollection\",features:e.reduce((e,t)=>e.concat(function(e){return\"FeatureCollection\"===e.type?e.features:Object(se.i)(e).filter(e=>null!=e).map(e=>\"Feature\"===e.type?e:{type:\"Feature\",geometry:e})}(t)),[])}}(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function hx(e,t,n,i){if(isNaN(t)||isNaN(n))return e;var r,o,a,s,l,u,c,d,h,f=e._root,p={data:i},g=e._x0,m=e._y0,v=e._x1,y=e._y1;if(!f)return e._root=p,e;for(;f.length;)if((u=t>=(o=(g+v)/2))?g=o:v=o,(c=n>=(a=(m+y)/2))?m=a:y=a,r=f,!(f=f[d=c<<1|u]))return r[d]=p,e;if(s=+e._x.call(null,f.data),l=+e._y.call(null,f.data),t===s&&n===l)return p.next=f,r?r[d]=p:e._root=p,e;do{r=r?r[d]=new Array(4):e._root=new Array(4),(u=t>=(o=(g+v)/2))?g=o:v=o,(c=n>=(a=(m+y)/2))?m=a:y=a}while((d=c<<1|u)==(h=(l>=a)<<1|s>=o));return r[h]=f,r[d]=p,e}var fx=function(e,t,n,i,r){this.node=e,this.x0=t,this.y0=n,this.x1=i,this.y1=r};function px(e){return e[0]}function gx(e){return e[1]}function mx(e,t,n){var i=new vx(null==t?px:t,null==n?gx:n,NaN,NaN,NaN,NaN);return null==e?i:i.addAll(e)}function vx(e,t,n,i,r,o){this._x=e,this._y=t,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function yx(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var bx=mx.prototype=vx.prototype;bx.copy=function(){var e,t,n=new vx(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=yx(i),n;for(e=[{source:i,target:n._root=new Array(4)}];i=e.pop();)for(var r=0;r<4;++r)(t=i.source[r])&&(t.length?e.push({source:t,target:i.target[r]=new Array(4)}):i.target[r]=yx(t));return n},bx.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return hx(this.cover(t,n),t,n,e)},bx.addAll=function(e){var t,n,i,r,o=e.length,a=new Array(o),s=new Array(o),l=1/0,u=1/0,c=-1/0,d=-1/0;for(n=0;n<o;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(r=+this._y.call(null,t))||(a[n]=i,s[n]=r,i<l&&(l=i),i>c&&(c=i),r<u&&(u=r),r>d&&(d=r));if(l>c||u>d)return this;for(this.cover(l,u).cover(c,d),n=0;n<o;++n)hx(this,a[n],s[n],e[n]);return this},bx.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(e))+1,o=(i=Math.floor(t))+1;else{for(var a,s,l=r-n||1,u=this._root;n>e||e>=r||i>t||t>=o;)switch(s=(t<i)<<1|e<n,(a=new Array(4))[s]=u,u=a,l*=2,s){case 0:r=n+l,o=i+l;break;case 1:n=r-l,o=i+l;break;case 2:r=n+l,i=o-l;break;case 3:n=r-l,i=o-l}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this},bx.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},bx.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},bx.find=function(e,t,n){var i,r,o,a,s,l,u,c=this._x0,d=this._y0,h=this._x1,f=this._y1,p=[],g=this._root;for(g&&p.push(new fx(g,c,d,h,f)),null==n?n=1/0:(c=e-n,d=t-n,h=e+n,f=t+n,n*=n);l=p.pop();)if(!(!(g=l.node)||(r=l.x0)>h||(o=l.y0)>f||(a=l.x1)<c||(s=l.y1)<d))if(g.length){var m=(r+a)/2,v=(o+s)/2;p.push(new fx(g[3],m,v,a,s),new fx(g[2],r,v,m,s),new fx(g[1],m,o,a,v),new fx(g[0],r,o,m,v)),(u=(t>=v)<<1|e>=m)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-u],p[p.length-1-u]=l)}else{var y=e-+this._x.call(null,g.data),b=t-+this._y.call(null,g.data),_=y*y+b*b;if(_<n){var w=Math.sqrt(n=_);c=e-w,d=t-w,h=e+w,f=t+w,i=g.data}}return i},bx.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,i,r,o,a,s,l,u,c,d,h,f=this._root,p=this._x0,g=this._y0,m=this._x1,v=this._y1;if(!f)return this;if(f.length)for(;;){if((u=o>=(s=(p+m)/2))?p=s:m=s,(c=a>=(l=(g+v)/2))?g=l:v=l,t=f,!(f=f[d=c<<1|u]))return this;if(!f.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(n=t,h=d)}for(;f.data!==e;)if(i=f,!(f=f.next))return this;return(r=f.next)&&delete f.next,i?(r?i.next=r:delete i.next,this):t?(r?t[d]=r:delete t[d],(f=t[0]||t[1]||t[2]||t[3])&&f===(t[3]||t[2]||t[1]||t[0])&&!f.length&&(n?n[h]=f:this._root=f),this):(this._root=r,this)},bx.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},bx.root=function(){return this._root},bx.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},bx.visit=function(e){var t,n,i,r,o,a,s=[],l=this._root;for(l&&s.push(new fx(l,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(l=t.node,i=t.x0,r=t.y0,o=t.x1,a=t.y1)&&l.length){var u=(i+o)/2,c=(r+a)/2;(n=l[3])&&s.push(new fx(n,u,c,o,a)),(n=l[2])&&s.push(new fx(n,i,c,u,a)),(n=l[1])&&s.push(new fx(n,u,r,o,c)),(n=l[0])&&s.push(new fx(n,i,r,u,c))}return this},bx.visitAfter=function(e){var t,n=[],i=[];for(this._root&&n.push(new fx(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var r=t.node;if(r.length){var o,a=t.x0,s=t.y0,l=t.x1,u=t.y1,c=(a+l)/2,d=(s+u)/2;(o=r[0])&&n.push(new fx(o,a,s,c,d)),(o=r[1])&&n.push(new fx(o,c,s,l,d)),(o=r[2])&&n.push(new fx(o,a,d,c,u)),(o=r[3])&&n.push(new fx(o,c,d,l,u))}i.push(t)}for(;t=i.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},bx.x=function(e){return arguments.length?(this._x=e,this):this._x},bx.y=function(e){return arguments.length?(this._y=e,this):this._y};var _x=function(e){return function(){return e}},wx=function(e){return 1e-6*(e()-.5)};function xx(e){return e.x+e.vx}function kx(e){return e.y+e.vy}var Ox={value:()=>{}};function Ex(){for(var e,t=0,n=arguments.length,i={};t<n;++t){if(!(e=arguments[t]+\"\")||e in i||/[\\s.]/.test(e))throw new Error(\"illegal type: \"+e);i[e]=[]}return new Sx(i)}function Sx(e){this._=e}function Dx(e,t){return e.trim().split(/^|\\s+/).map((function(e){var n=\"\",i=e.indexOf(\".\");if(i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),e&&!t.hasOwnProperty(e))throw new Error(\"unknown type: \"+e);return{type:e,name:n}}))}function jx(e,t){for(var n,i=0,r=e.length;i<r;++i)if((n=e[i]).name===t)return n.value}function Cx(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=Ox,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}Sx.prototype=Ex.prototype={constructor:Sx,on:function(e,t){var n,i=this._,r=Dx(e+\"\",i),o=-1,a=r.length;if(!(arguments.length<2)){if(null!=t&&\"function\"!=typeof t)throw new Error(\"invalid callback: \"+t);for(;++o<a;)if(n=(e=r[o]).type)i[n]=Cx(i[n],e.name,t);else if(null==t)for(n in i)i[n]=Cx(i[n],e.name,null);return this}for(;++o<a;)if((n=(e=r[o]).type)&&(n=jx(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Sx(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error(\"unknown type: \"+e);for(o=0,n=(i=this._[e]).length;o<n;++o)i[o].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error(\"unknown type: \"+e);for(var i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)}};var Mx,Tx,Ax=Ex,Fx=0,Px=0,Nx=0,zx=0,Rx=0,Ix=0,Bx=\"object\"==typeof performance&&performance.now?performance:Date,Lx=\"object\"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function $x(){return Rx||(Lx(Wx),Rx=Bx.now()+Ix)}function Wx(){Rx=0}function Ux(){this._call=this._time=this._next=null}function Yx(e,t,n){var i=new Ux;return i.restart(e,t,n),i}function Hx(){Rx=(zx=Bx.now())+Ix,Fx=Px=0;try{!function(){$x(),++Fx;for(var e,t=Mx;t;)(e=Rx-t._time)>=0&&t._call.call(null,e),t=t._next;--Fx}()}finally{Fx=0,function(){var e,t,n=Mx,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Mx=t);Tx=e,Vx(i)}(),Rx=0}}function qx(){var e=Bx.now(),t=e-zx;t>1e3&&(Ix-=t,zx=e)}function Vx(e){Fx||(Px&&(Px=clearTimeout(Px)),e-Rx>24?(e<1/0&&(Px=setTimeout(Hx,e-Bx.now()-Ix)),Nx&&(Nx=clearInterval(Nx))):(Nx||(zx=Bx.now(),Nx=setInterval(qx,1e3)),Fx=1,Lx(Hx)))}Ux.prototype=Yx.prototype={constructor:Ux,restart:function(e,t,n){if(\"function\"!=typeof e)throw new TypeError(\"callback is not a function\");n=(null==n?$x():+n)+(null==t?0:+t),this._next||Tx===this||(Tx?Tx._next=this:Mx=this,Tx=this),this._call=e,this._time=n,Vx()},stop:function(){this._call&&(this._call=null,this._time=1/0,Vx())}};function Gx(e){return e.x}function Xx(e){return e.y}var Zx=Math.PI*(3-Math.sqrt(5));function Qx(e){return e.index}function Jx(e,t){var n=e.get(t);if(!n)throw new Error(\"node not found: \"+t);return n}const Kx={center:function(e,t){var n,i=1;function r(){var r,o,a=n.length,s=0,l=0;for(r=0;r<a;++r)s+=(o=n[r]).x,l+=o.y;for(s=(s/a-e)*i,l=(l/a-t)*i,r=0;r<a;++r)(o=n[r]).x-=s,o.y-=l}return null==e&&(e=0),null==t&&(t=0),r.initialize=function(e){n=e},r.x=function(t){return arguments.length?(e=+t,r):e},r.y=function(e){return arguments.length?(t=+e,r):t},r.strength=function(e){return arguments.length?(i=+e,r):i},r},collide:function(e){var t,n,i,r=1,o=1;function a(){for(var e,a,l,u,c,d,h,f=t.length,p=0;p<o;++p)for(a=mx(t,xx,kx).visitAfter(s),e=0;e<f;++e)l=t[e],d=n[l.index],h=d*d,u=l.x+l.vx,c=l.y+l.vy,a.visit(g);function g(e,t,n,o,a){var s=e.data,f=e.r,p=d+f;if(!s)return t>u+p||o<u-p||n>c+p||a<c-p;if(s.index>l.index){var g=u-s.x-s.vx,m=c-s.y-s.vy,v=g*g+m*m;v<p*p&&(0===g&&(v+=(g=wx(i))*g),0===m&&(v+=(m=wx(i))*m),v=(p-(v=Math.sqrt(v)))/v*r,l.vx+=(g*=v)*(p=(f*=f)/(h+f)),l.vy+=(m*=v)*p,s.vx-=g*(p=1-p),s.vy-=m*p)}}}function s(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function l(){if(t){var i,r,o=t.length;for(n=new Array(o),i=0;i<o;++i)r=t[i],n[r.index]=+e(r,i,t)}}return\"function\"!=typeof e&&(e=_x(null==e?1:+e)),a.initialize=function(e,n){t=e,i=n,l()},a.iterations=function(e){return arguments.length?(o=+e,a):o},a.strength=function(e){return arguments.length?(r=+e,a):r},a.radius=function(t){return arguments.length?(e=\"function\"==typeof t?t:_x(+t),l(),a):e},a},nbody:function(){var e,t,n,i,r,o=_x(-30),a=1,s=1/0,l=.81;function u(n){var r,o=e.length,a=mx(e,Gx,Xx).visitAfter(d);for(i=n,r=0;r<o;++r)t=e[r],a.visit(h)}function c(){if(e){var t,n,i=e.length;for(r=new Array(i),t=0;t<i;++t)n=e[t],r[n.index]=+o(n,t,e)}}function d(e){var t,n,i,o,a,s=0,l=0;if(e.length){for(i=o=a=0;a<4;++a)(t=e[a])&&(n=Math.abs(t.value))&&(s+=t.value,l+=n,i+=n*t.x,o+=n*t.y);e.x=i/l,e.y=o/l}else{(t=e).x=t.data.x,t.y=t.data.y;do{s+=r[t.data.index]}while(t=t.next)}e.value=s}function h(e,o,u,c){if(!e.value)return!0;var d=e.x-t.x,h=e.y-t.y,f=c-o,p=d*d+h*h;if(f*f/l<p)return p<s&&(0===d&&(p+=(d=wx(n))*d),0===h&&(p+=(h=wx(n))*h),p<a&&(p=Math.sqrt(a*p)),t.vx+=d*e.value*i/p,t.vy+=h*e.value*i/p),!0;if(!(e.length||p>=s)){(e.data!==t||e.next)&&(0===d&&(p+=(d=wx(n))*d),0===h&&(p+=(h=wx(n))*h),p<a&&(p=Math.sqrt(a*p)));do{e.data!==t&&(f=r[e.data.index]*i/p,t.vx+=d*f,t.vy+=h*f)}while(e=e.next)}}return u.initialize=function(t,i){e=t,n=i,c()},u.strength=function(e){return arguments.length?(o=\"function\"==typeof e?e:_x(+e),c(),u):o},u.distanceMin=function(e){return arguments.length?(a=e*e,u):Math.sqrt(a)},u.distanceMax=function(e){return arguments.length?(s=e*e,u):Math.sqrt(s)},u.theta=function(e){return arguments.length?(l=e*e,u):Math.sqrt(l)},u},link:function(e){var t,n,i,r,o,a,s=Qx,l=function(e){return 1/Math.min(r[e.source.index],r[e.target.index])},u=_x(30),c=1;function d(i){for(var r=0,s=e.length;r<c;++r)for(var l,u,d,h,f,p,g,m=0;m<s;++m)u=(l=e[m]).source,h=(d=l.target).x+d.vx-u.x-u.vx||wx(a),f=d.y+d.vy-u.y-u.vy||wx(a),h*=p=((p=Math.sqrt(h*h+f*f))-n[m])/p*i*t[m],f*=p,d.vx-=h*(g=o[m]),d.vy-=f*g,u.vx+=h*(g=1-g),u.vy+=f*g}function h(){if(i){var a,l,u=i.length,c=e.length,d=new Map(i.map((e,t)=>[s(e,t,i),e]));for(a=0,r=new Array(u);a<c;++a)(l=e[a]).index=a,\"object\"!=typeof l.source&&(l.source=Jx(d,l.source)),\"object\"!=typeof l.target&&(l.target=Jx(d,l.target)),r[l.source.index]=(r[l.source.index]||0)+1,r[l.target.index]=(r[l.target.index]||0)+1;for(a=0,o=new Array(c);a<c;++a)l=e[a],o[a]=r[l.source.index]/(r[l.source.index]+r[l.target.index]);t=new Array(c),f(),n=new Array(c),p()}}function f(){if(i)for(var n=0,r=e.length;n<r;++n)t[n]=+l(e[n],n,e)}function p(){if(i)for(var t=0,r=e.length;t<r;++t)n[t]=+u(e[t],t,e)}return null==e&&(e=[]),d.initialize=function(e,t){i=e,a=t,h()},d.links=function(t){return arguments.length?(e=t,h(),d):e},d.id=function(e){return arguments.length?(s=e,d):s},d.iterations=function(e){return arguments.length?(c=+e,d):c},d.strength=function(e){return arguments.length?(l=\"function\"==typeof e?e:_x(+e),f(),d):l},d.distance=function(e){return arguments.length?(u=\"function\"==typeof e?e:_x(+e),p(),d):u},d},x:function(e){var t,n,i,r=_x(.1);function o(e){for(var r,o=0,a=t.length;o<a;++o)(r=t[o]).vx+=(i[o]-r.x)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),i=new Array(a),o=0;o<a;++o)n[o]=isNaN(i[o]=+e(t[o],o,t))?0:+r(t[o],o,t)}}return\"function\"!=typeof e&&(e=_x(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(r=\"function\"==typeof e?e:_x(+e),a(),o):r},o.x=function(t){return arguments.length?(e=\"function\"==typeof t?t:_x(+t),a(),o):e},o},y:function(e){var t,n,i,r=_x(.1);function o(e){for(var r,o=0,a=t.length;o<a;++o)(r=t[o]).vy+=(i[o]-r.y)*n[o]*e}function a(){if(t){var o,a=t.length;for(n=new Array(a),i=new Array(a),o=0;o<a;++o)n[o]=isNaN(i[o]=+e(t[o],o,t))?0:+r(t[o],o,t)}}return\"function\"!=typeof e&&(e=_x(null==e?0:+e)),o.initialize=function(e){t=e,a()},o.strength=function(e){return arguments.length?(r=\"function\"==typeof e?e:_x(+e),a(),o):r},o.y=function(t){return arguments.length?(e=\"function\"==typeof t?t:_x(+t),a(),o):e},o}},ek=[\"alpha\",\"alphaMin\",\"alphaTarget\",\"velocityDecay\",\"forces\"],tk=[\"static\",\"iterations\"],nk=[\"x\",\"y\",\"vx\",\"vy\"];function ik(e){Lo.call(this,null,e)}function rk(e,t,n,i){var r,o,a,s,l=Object(se.i)(t.forces);for(r=0,o=ek.length;r<o;++r)\"forces\"!==(a=ek[r])&&t.modified(a)&&e[a](t[a]);for(r=0,o=l.length;r<o;++r)s=\"forces\"+r,(a=n||t.modified(\"forces\",r)?ak(l[r]):i&&ok(l[r],i)?e.force(s):null)&&e.force(s,a);for(o=e.numForces||0;r<o;++r)e.force(\"forces\"+r,null);return e.numForces=l.length,e}function ok(e,t){var n,i;for(n in e)if(Object(se.E)(i=e[n])&&t.modified(Object(se.g)(i)))return 1;return 0}function ak(e){var t,n;for(n in Object(se.w)(Kx,e.force)||Object(se.o)(\"Unrecognized force: \"+e.force),t=Kx[e.force](),e)Object(se.E)(t[n])&&sk(t[n],e[n],e);return t}function sk(e,t,n){e(Object(se.E)(t)?e=>t(e,n):t)}ik.Definition={type:\"Force\",metadata:{modifies:!0},params:[{name:\"static\",type:\"boolean\",default:!1},{name:\"restart\",type:\"boolean\",default:!1},{name:\"iterations\",type:\"number\",default:300},{name:\"alpha\",type:\"number\",default:1},{name:\"alphaMin\",type:\"number\",default:.001},{name:\"alphaTarget\",type:\"number\",default:0},{name:\"velocityDecay\",type:\"number\",default:.4},{name:\"forces\",type:\"param\",array:!0,params:[{key:{force:\"center\"},params:[{name:\"x\",type:\"number\",default:0},{name:\"y\",type:\"number\",default:0}]},{key:{force:\"collide\"},params:[{name:\"radius\",type:\"number\",expr:!0},{name:\"strength\",type:\"number\",default:.7},{name:\"iterations\",type:\"number\",default:1}]},{key:{force:\"nbody\"},params:[{name:\"strength\",type:\"number\",default:-30},{name:\"theta\",type:\"number\",default:.9},{name:\"distanceMin\",type:\"number\",default:1},{name:\"distanceMax\",type:\"number\"}]},{key:{force:\"link\"},params:[{name:\"links\",type:\"data\"},{name:\"id\",type:\"field\"},{name:\"distance\",type:\"number\",default:30,expr:!0},{name:\"strength\",type:\"number\",expr:!0},{name:\"iterations\",type:\"number\",default:1}]},{key:{force:\"x\"},params:[{name:\"strength\",type:\"number\",default:.1},{name:\"x\",type:\"field\"}]},{key:{force:\"y\"},params:[{name:\"strength\",type:\"number\",default:.1},{name:\"y\",type:\"field\"}]}]},{name:\"as\",type:\"string\",array:!0,modify:!1,default:nk}]},Object(se.z)(ik,Lo,{transform(e,t){var n,i,r=this.value,o=t.changed(t.ADD_REM),a=e.modified(ek),s=e.iterations||300;if(r?(o&&(t.modifies(\"index\"),r.nodes(t.source)),(a||t.changed(t.MOD))&&rk(r,e,0,t)):(this.value=r=function(e,t){const n=function(e){var t,n=1,i=.001,r=1-Math.pow(i,1/300),o=0,a=.6,s=new Map,l=Yx(d),u=Ax(\"tick\",\"end\"),c=function(){let e=1;return()=>(e=(1664525*e+1013904223)%4294967296)/4294967296}();function d(){h(),u.call(\"tick\",t),n<i&&(l.stop(),u.call(\"end\",t))}function h(i){var l,u,c=e.length;void 0===i&&(i=1);for(var d=0;d<i;++d)for(n+=(o-n)*r,s.forEach((function(e){e(n)})),l=0;l<c;++l)null==(u=e[l]).fx?u.x+=u.vx*=a:(u.x=u.fx,u.vx=0),null==u.fy?u.y+=u.vy*=a:(u.y=u.fy,u.vy=0);return t}function f(){for(var t,n=0,i=e.length;n<i;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var r=10*Math.sqrt(.5+n),o=n*Zx;t.x=r*Math.cos(o),t.y=r*Math.sin(o)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(e,c),t}return null==e&&(e=[]),f(),t={tick:h,restart:function(){return l.restart(d),t},stop:function(){return l.stop(),t},nodes:function(n){return arguments.length?(e=n,f(),s.forEach(p),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(i=+e,t):i},alphaDecay:function(e){return arguments.length?(r=+e,t):+r},alphaTarget:function(e){return arguments.length?(o=+e,t):o},velocityDecay:function(e){return arguments.length?(a=1-e,t):1-a},randomSource:function(e){return arguments.length?(c=e,s.forEach(p),t):c},force:function(e,n){return arguments.length>1?(null==n?s.delete(e):s.set(e,p(n)),t):s.get(e)},find:function(t,n,i){var r,o,a,s,l,u=0,c=e.length;for(null==i?i=1/0:i*=i,u=0;u<c;++u)(a=(r=t-(s=e[u]).x)*r+(o=n-s.y)*o)<i&&(l=s,i=a);return l},on:function(e,n){return arguments.length>1?(u.on(e,n),t):u.on(e)}}}(e),i=n.stop,r=n.restart;let o=!1;return n.stopped=()=>o,n.restart=()=>(o=!1,r()),n.stop=()=>(o=!0,i()),rk(n,t,!0).on(\"end\",()=>o=!0)}(t.source,e),r.on(\"tick\",(n=t.dataflow,i=this,()=>n.touch(i).run())),e.static||(o=!0,r.tick()),t.modifies(\"index\")),a||o||e.modified(tk)||t.changed()&&e.restart)if(r.alpha(Math.max(r.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(r.alphaMin(),1/s)),e.static)for(r.stop();--s>=0;)r.tick();else if(r.stopped()&&r.restart(),!o)return t.StopPropagation;return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let e,t=this._argops,s=0,l=t.length;s<l;++s)if(e=t[s],\"forces\"===e.name&&\"link\"===e.op._argval.force)for(var i,r=e.op._argops,o=0,a=r.length;o<a;++o)if(\"links\"===r[o].name&&(i=r[o].op.source)){n.pulse(i,n.changeset().reflow());break}return t.reflow(e.modified()).modifies(nk)}});var lk=function(e,t,n){var i={};return e.each(e=>{var r=e.data;n(r)&&(i[t(r)]=e)}),e.lookup=i,e};function uk(e){var t=0,n=e.children,i=n&&n.length;if(i)for(;--i>=0;)t+=n[i].value;else t=1;e.value=t}function ck(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=hk)):void 0===t&&(t=dk);for(var n,i,r,o,a,s=new gk(e),l=[s];n=l.pop();)if((r=t(n.data))&&(a=(r=Array.from(r)).length))for(n.children=r,o=a-1;o>=0;--o)l.push(i=r[o]=new gk(r[o])),i.parent=n,i.depth=n.depth+1;return s.eachBefore(pk)}function dk(e){return e.children}function hk(e){return Array.isArray(e)?e[1]:null}function fk(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function pk(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function gk(e){this.data=e,this.depth=this.height=0,this.parent=null}function mk(e){Lo.call(this,null,e)}gk.prototype=ck.prototype={constructor:gk,count:function(){return this.eachAfter(uk)},each:function(e,t){let n=-1;for(const i of this)e.call(t,i,++n,this);return this},eachAfter:function(e,t){for(var n,i,r,o=this,a=[o],s=[],l=-1;o=a.pop();)if(s.push(o),n=o.children)for(i=0,r=n.length;i<r;++i)a.push(n[i]);for(;o=s.pop();)e.call(t,o,++l,this);return this},eachBefore:function(e,t){for(var n,i,r=this,o=[r],a=-1;r=o.pop();)if(e.call(t,r,++a,this),n=r.children)for(i=n.length-1;i>=0;--i)o.push(n[i]);return this},find:function(e,t){let n=-1;for(const i of this)if(e.call(t,i,++n,this))return i},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,i=t.children,r=i&&i.length;--r>=0;)n+=i[r].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),i=t.ancestors(),r=null;e=n.pop(),t=i.pop();for(;e===t;)r=e,e=n.pop(),t=i.pop();return r}(t,e),i=[t];t!==n;)t=t.parent,i.push(t);for(var r=i.length;e!==n;)i.splice(r,0,e),e=e.parent;return i},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return ck(this).eachBefore(fk)},[Symbol.iterator]:function*(){var e,t,n,i,r=this,o=[r];do{for(e=o.reverse(),o=[];r=e.pop();)if(yield r,t=r.children)for(n=0,i=t.length;n<i;++n)o.push(t[n])}while(o.length)}},mk.Definition={type:\"Nest\",metadata:{treesource:!0,changes:!0},params:[{name:\"keys\",type:\"field\",array:!0},{name:\"generate\",type:\"boolean\"}]};const vk=e=>e.values;function yk(){const e=[],t={entries:t=>function t(n,i){if(++i>e.length)return n;const r=[];for(const e in n)r.push({key:e,values:t(n[e],i)});return r}(function t(n,i){if(i>=e.length)return n;const r=n.length,o=e[i++],a={},s={};let l,u,c,d=-1;for(;++d<r;)l=o(u=n[d])+\"\",(c=a[l])?c.push(u):a[l]=[u];for(l in a)s[l]=t(a[l],i);return s}(t,0),0),key:n=>(e.push(n),t)};return t}function bk(e){Lo.call(this,null,e)}Object(se.z)(mk,Lo,{transform(e,t){t.source||Object(se.o)(\"Nest transform requires an upstream data source.\");var n=e.generate,i=e.modified(),r=t.clone(),o=this.value;return(!o||i||t.changed())&&(o&&o.each(e=>{e.children&&he(e.data)&&r.rem.push(e.data)}),this.value=o=ck({values:Object(se.i)(e.keys).reduce((e,t)=>(e.key(t),e),yk()).entries(r.source)},vk),n&&o.each(e=>{e.children&&(e=ge(e.data),r.add.push(e),r.source.push(e))}),lk(o,fe,fe)),r.source.root=o,r}});const _k=(e,t)=>e.parent===t.parent?1:2;Object(se.z)(bk,Lo,{transform(e,t){t.source&&t.source.root||Object(se.o)(this.constructor.name+\" transform requires a backing tree data source.\");const n=this.layout(e.method),i=this.fields,r=t.source.root,o=e.as||i;e.field?r.sum(e.field):r.count(),e.sort&&r.sort(be(e.sort,e=>e.data)),function(e,t,n){for(let i,r=0,o=t.length;r<o;++r)i=t[r],i in n&&e[i](n[i])}(n,this.params,e),n.separation&&n.separation(!1!==e.separation?_k:se.P);try{this.value=n(r)}catch(e){Object(se.o)(e)}return r.each(e=>function(e,t,n){const i=e.data,r=t.length-1;for(let o=0;o<r;++o)i[n[o]]=e[t[o]];i[n[r]]=e.children?e.children.length:0}(e,i,o)),t.reflow(e.modified()).modifies(o).modifies(\"leaf\")}});var wk=function(e){for(var t,n,i=0,r=(e=function(e){for(var t,n,i=e.length;i;)n=Math.random()*i--|0,t=e[i],e[i]=e[n],e[n]=t;return e}(Array.from(e))).length,o=[];i<r;)t=e[i],n&&Ok(n,t)?++i:(n=Sk(o=xk(o,t)),i=0);return n};function xk(e,t){var n,i;if(Ek(t,e))return[t];for(n=0;n<e.length;++n)if(kk(t,e[n])&&Ek(Dk(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(i=n+1;i<e.length;++i)if(kk(Dk(e[n],e[i]),t)&&kk(Dk(e[n],t),e[i])&&kk(Dk(e[i],t),e[n])&&Ek(jk(e[n],e[i],t),e))return[e[n],e[i],t];throw new Error}function kk(e,t){var n=e.r-t.r,i=t.x-e.x,r=t.y-e.y;return n<0||n*n<i*i+r*r}function Ok(e,t){var n=e.r-t.r+1e-9*Math.max(e.r,t.r,1),i=t.x-e.x,r=t.y-e.y;return n>0&&n*n>i*i+r*r}function Ek(e,t){for(var n=0;n<t.length;++n)if(!Ok(e,t[n]))return!1;return!0}function Sk(e){switch(e.length){case 1:return{x:(t=e[0]).x,y:t.y,r:t.r};case 2:return Dk(e[0],e[1]);case 3:return jk(e[0],e[1],e[2])}var t}function Dk(e,t){var n=e.x,i=e.y,r=e.r,o=t.x,a=t.y,s=t.r,l=o-n,u=a-i,c=s-r,d=Math.sqrt(l*l+u*u);return{x:(n+o+l/d*c)/2,y:(i+a+u/d*c)/2,r:(d+r+s)/2}}function jk(e,t,n){var i=e.x,r=e.y,o=e.r,a=t.x,s=t.y,l=t.r,u=n.x,c=n.y,d=n.r,h=i-a,f=i-u,p=r-s,g=r-c,m=l-o,v=d-o,y=i*i+r*r-o*o,b=y-a*a-s*s+l*l,_=y-u*u-c*c+d*d,w=f*p-h*g,x=(p*_-g*b)/(2*w)-i,k=(g*m-p*v)/w,O=(f*b-h*_)/(2*w)-r,E=(h*v-f*m)/w,S=k*k+E*E-1,D=2*(o+x*k+O*E),j=x*x+O*O-o*o,C=-(S?(D+Math.sqrt(D*D-4*S*j))/(2*S):j/D);return{x:i+x+k*C,y:r+O+E*C,r:C}}function Ck(e,t,n){var i,r,o,a,s=e.x-t.x,l=e.y-t.y,u=s*s+l*l;u?(r=t.r+n.r,r*=r,a=e.r+n.r,r>(a*=a)?(i=(u+a-r)/(2*u),o=Math.sqrt(Math.max(0,a/u-i*i)),n.x=e.x-i*s-o*l,n.y=e.y-i*l+o*s):(i=(u+r-a)/(2*u),o=Math.sqrt(Math.max(0,r/u-i*i)),n.x=t.x+i*s-o*l,n.y=t.y+i*l+o*s)):(n.x=t.x+n.r,n.y=t.y)}function Mk(e,t){var n=e.r+t.r-1e-6,i=t.x-e.x,r=t.y-e.y;return n>0&&n*n>i*i+r*r}function Tk(e){var t=e._,n=e.next._,i=t.r+n.r,r=(t.x*n.r+n.x*t.r)/i,o=(t.y*n.r+n.y*t.r)/i;return r*r+o*o}function Ak(e){this._=e,this.next=null,this.previous=null}function Fk(e){if(!(o=(t=e,e=\"object\"==typeof t&&\"length\"in t?t:Array.from(t)).length))return 0;var t,n,i,r,o,a,s,l,u,c,d,h;if((n=e[0]).x=0,n.y=0,!(o>1))return n.r;if(i=e[1],n.x=-i.r,i.x=n.r,i.y=0,!(o>2))return n.r+i.r;Ck(i,n,r=e[2]),n=new Ak(n),i=new Ak(i),r=new Ak(r),n.next=r.previous=i,i.next=n.previous=r,r.next=i.previous=n;e:for(l=3;l<o;++l){Ck(n._,i._,r=e[l]),r=new Ak(r),u=i.next,c=n.previous,d=i._.r,h=n._.r;do{if(d<=h){if(Mk(u._,r._)){i=u,n.next=i,i.previous=n,--l;continue e}d+=u._.r,u=u.next}else{if(Mk(c._,r._)){(n=c).next=i,i.previous=n,--l;continue e}h+=c._.r,c=c.previous}}while(u!==c.next);for(r.previous=n,r.next=i,n.next=i.previous=i=r,a=Tk(n);(r=r.next)!==i;)(s=Tk(r))<a&&(n=r,a=s);i=n.next}for(n=[i._],r=i;(r=r.next)!==i;)n.push(r._);for(r=wk(n),l=0;l<o;++l)(n=e[l]).x-=r.x,n.y-=r.y;return r.r}function Pk(e){return null==e?null:Nk(e)}function Nk(e){if(\"function\"!=typeof e)throw new Error;return e}function zk(){return 0}var Rk=function(e){return function(){return e}};function Ik(e){return Math.sqrt(e.value)}function Bk(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function Lk(e,t){return function(n){if(i=n.children){var i,r,o,a=i.length,s=e(n)*t||0;if(s)for(r=0;r<a;++r)i[r].r+=s;if(o=Fk(i),s)for(r=0;r<a;++r)i[r].r-=s;n.r=o+s}}}function $k(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}const Wk=[\"x\",\"y\",\"r\",\"depth\",\"children\"];function Uk(e){bk.call(this,e)}Uk.Definition={type:\"Pack\",metadata:{tree:!0,modifies:!0},params:[{name:\"field\",type:\"field\"},{name:\"sort\",type:\"compare\"},{name:\"padding\",type:\"number\",default:0},{name:\"radius\",type:\"field\",default:null},{name:\"size\",type:\"number\",array:!0,length:2},{name:\"as\",type:\"string\",array:!0,length:Wk.length,default:Wk}]},Object(se.z)(Uk,bk,{layout:function(){var e=null,t=1,n=1,i=zk;function r(r){return r.x=t/2,r.y=n/2,e?r.eachBefore(Bk(e)).eachAfter(Lk(i,.5)).eachBefore($k(1)):r.eachBefore(Bk(Ik)).eachAfter(Lk(zk,1)).eachAfter(Lk(i,r.r/Math.min(t,n))).eachBefore($k(Math.min(t,n)/(2*r.r))),r}return r.radius=function(t){return arguments.length?(e=Pk(t),r):e},r.size=function(e){return arguments.length?(t=+e[0],n=+e[1],r):[t,n]},r.padding=function(e){return arguments.length?(i=\"function\"==typeof e?e:Rk(+e),r):i},r},params:[\"radius\",\"size\",\"padding\"],fields:Wk});var Yk=function(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)},Hk=function(e,t,n,i,r){for(var o,a=e.children,s=-1,l=a.length,u=e.value&&(i-t)/e.value;++s<l;)(o=a[s]).y0=n,o.y1=r,o.x0=t,o.x1=t+=o.value*u};const qk=[\"x0\",\"y0\",\"x1\",\"y1\",\"depth\",\"children\"];function Vk(e){bk.call(this,e)}Vk.Definition={type:\"Partition\",metadata:{tree:!0,modifies:!0},params:[{name:\"field\",type:\"field\"},{name:\"sort\",type:\"compare\"},{name:\"padding\",type:\"number\",default:0},{name:\"round\",type:\"boolean\",default:!1},{name:\"size\",type:\"number\",array:!0,length:2},{name:\"as\",type:\"string\",array:!0,length:qk.length,default:qk}]},Object(se.z)(Vk,bk,{layout:function(){var e=1,t=1,n=0,i=!1;function r(r){var o=r.height+1;return r.x0=r.y0=n,r.x1=e,r.y1=t/o,r.eachBefore(function(e,t){return function(i){i.children&&Hk(i,i.x0,e*(i.depth+1)/t,i.x1,e*(i.depth+2)/t);var r=i.x0,o=i.y0,a=i.x1-n,s=i.y1-n;a<r&&(r=a=(r+a)/2),s<o&&(o=s=(o+s)/2),i.x0=r,i.y0=o,i.x1=a,i.y1=s}}(t,o)),i&&r.eachBefore(Yk),r}return r.round=function(e){return arguments.length?(i=!!e,r):i},r.size=function(n){return arguments.length?(e=+n[0],t=+n[1],r):[e,t]},r.padding=function(e){return arguments.length?(n=+e,r):n},r},params:[\"size\",\"round\",\"padding\"],fields:qk});var Gk={depth:-1},Xk={};function Zk(e){return e.id}function Qk(e){return e.parentId}var Jk=function(){var e=Zk,t=Qk;function n(n){var i,r,o,a,s,l,u,c=Array.from(n),d=c.length,h=new Map;for(r=0;r<d;++r)i=c[r],s=c[r]=new gk(i),null!=(l=e(i,r,n))&&(l+=\"\")&&(u=s.id=l,h.set(u,h.has(u)?Xk:s)),null!=(l=t(i,r,n))&&(l+=\"\")&&(s.parent=l);for(r=0;r<d;++r)if(l=(s=c[r]).parent){if(!(a=h.get(l)))throw new Error(\"missing: \"+l);if(a===Xk)throw new Error(\"ambiguous: \"+l);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error(\"multiple roots\");o=s}if(!o)throw new Error(\"no root\");if(o.parent=Gk,o.eachBefore((function(e){e.depth=e.parent.depth+1,--d})).eachBefore(pk),o.parent=null,d>0)throw new Error(\"cycle\");return o}return n.id=function(t){return arguments.length?(e=Nk(t),n):e},n.parentId=function(e){return arguments.length?(t=Nk(e),n):t},n};function Kk(e){Lo.call(this,null,e)}function eO(e,t){return e.parent===t.parent?1:2}function tO(e){var t=e.children;return t?t[0]:e.t}function nO(e){var t=e.children;return t?t[t.length-1]:e.t}function iO(e,t,n){var i=n/(t.i-e.i);t.c-=i,t.s+=n,e.c+=i,t.z+=n,t.m+=n}function rO(e,t,n){return e.a.parent===t.parent?e.a:n}function oO(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}Kk.Definition={type:\"Stratify\",metadata:{treesource:!0},params:[{name:\"key\",type:\"field\",required:!0},{name:\"parentKey\",type:\"field\",required:!0}]},Object(se.z)(Kk,Lo,{transform(e,t){t.source||Object(se.o)(\"Stratify transform requires an upstream data source.\");let n=this.value;const i=e.modified(),r=t.fork(t.ALL).materialize(t.SOURCE),o=!n||i||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return r.source=r.source.slice(),o&&(n=r.source.length?lk(Jk().id(e.key).parentId(e.parentKey)(r.source),e.key,se.hb):lk(Jk()([{}]),e.key,e.key)),r.source.root=this.value=n,r}}),oO.prototype=Object.create(gk.prototype);function aO(e,t){return e.parent===t.parent?1:2}function sO(e,t){return e+t.x}function lO(e,t){return Math.max(e,t.y)}var uO={tidy:function(){var e=eO,t=1,n=1,i=null;function r(r){var l=function(e){for(var t,n,i,r,o,a=new oO(e,0),s=[a];t=s.pop();)if(i=t._.children)for(t.children=new Array(o=i.length),r=o-1;r>=0;--r)s.push(n=t.children[r]=new oO(i[r],r)),n.parent=t;return(a.parent=new oO(null,0)).children=[a],a}(r);if(l.eachAfter(o),l.parent.m=-l.z,l.eachBefore(a),i)r.eachBefore(s);else{var u=r,c=r,d=r;r.eachBefore((function(e){e.x<u.x&&(u=e),e.x>c.x&&(c=e),e.depth>d.depth&&(d=e)}));var h=u===c?1:e(u,c)/2,f=h-u.x,p=t/(c.x+h+f),g=n/(d.depth||1);r.eachBefore((function(e){e.x=(e.x+f)*p,e.y=e.depth*g}))}return r}function o(t){var n=t.children,i=t.parent.children,r=t.i?i[t.i-1]:null;if(n){!function(e){for(var t,n=0,i=0,r=e.children,o=r.length;--o>=0;)(t=r[o]).z+=n,t.m+=n,n+=t.s+(i+=t.c)}(t);var o=(n[0].z+n[n.length-1].z)/2;r?(t.z=r.z+e(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+e(t._,r._));t.parent.A=function(t,n,i){if(n){for(var r,o=t,a=t,s=n,l=o.parent.children[0],u=o.m,c=a.m,d=s.m,h=l.m;s=nO(s),o=tO(o),s&&o;)l=tO(l),(a=nO(a)).a=t,(r=s.z+d-o.z-u+e(s._,o._))>0&&(iO(rO(s,t,i),t,r),u+=r,c+=r),d+=s.m,u+=o.m,h+=l.m,c+=a.m;s&&!nO(a)&&(a.t=s,a.m+=d-c),o&&!tO(l)&&(l.t=o,l.m+=u-h,i=t)}return i}(t,r,t.parent.A||i[0])}function a(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function s(e){e.x*=t,e.y=e.depth*n}return r.separation=function(t){return arguments.length?(e=t,r):e},r.size=function(e){return arguments.length?(i=!1,t=+e[0],n=+e[1],r):i?null:[t,n]},r.nodeSize=function(e){return arguments.length?(i=!0,t=+e[0],n=+e[1],r):i?[t,n]:null},r},cluster:function(){var e=aO,t=1,n=1,i=!1;function r(r){var o,a=0;r.eachAfter((function(t){var n=t.children;n?(t.x=function(e){return e.reduce(sO,0)/e.length}(n),t.y=function(e){return 1+e.reduce(lO,0)}(n)):(t.x=o?a+=e(t,o):0,t.y=0,o=t)}));var s=function(e){for(var t;t=e.children;)e=t[0];return e}(r),l=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(r),u=s.x-e(s,l)/2,c=l.x+e(l,s)/2;return r.eachAfter(i?function(e){e.x=(e.x-r.x)*t,e.y=(r.y-e.y)*n}:function(e){e.x=(e.x-u)/(c-u)*t,e.y=(1-(r.y?e.y/r.y:1))*n})}return r.separation=function(t){return arguments.length?(e=t,r):e},r.size=function(e){return arguments.length?(i=!1,t=+e[0],n=+e[1],r):i?null:[t,n]},r.nodeSize=function(e){return arguments.length?(i=!0,t=+e[0],n=+e[1],r):i?[t,n]:null},r}};const cO=[\"x\",\"y\",\"depth\",\"children\"];function dO(e){bk.call(this,e)}function hO(e){Lo.call(this,[],e)}dO.Definition={type:\"Tree\",metadata:{tree:!0,modifies:!0},params:[{name:\"field\",type:\"field\"},{name:\"sort\",type:\"compare\"},{name:\"method\",type:\"enum\",default:\"tidy\",values:[\"tidy\",\"cluster\"]},{name:\"size\",type:\"number\",array:!0,length:2},{name:\"nodeSize\",type:\"number\",array:!0,length:2},{name:\"separation\",type:\"boolean\",default:!0},{name:\"as\",type:\"string\",array:!0,length:cO.length,default:cO}]},Object(se.z)(dO,bk,{layout(e){var t=e||\"tidy\";if(Object(se.w)(uO,t))return uO[t]();Object(se.o)(\"Unrecognized Tree layout method: \"+t)},params:[\"size\",\"nodeSize\"],fields:cO}),hO.Definition={type:\"TreeLinks\",metadata:{tree:!0,generates:!0,changes:!0},params:[]},Object(se.z)(hO,Lo,{transform(e,t){const n=this.value,i=t.source&&t.source.root,r=t.fork(t.NO_SOURCE),o={};return i||Object(se.o)(\"TreeLinks transform requires a tree data source.\"),t.changed(t.ADD_REM)?(r.rem=n,t.visit(t.SOURCE,e=>o[fe(e)]=1),i.each(e=>{const t=e.data,n=e.parent&&e.parent.data;n&&o[fe(t)]&&o[fe(n)]&&r.add.push(ge({source:n,target:t}))}),this.value=r.add):t.changed(t.MOD)&&(t.visit(t.MOD,e=>o[fe(e)]=1),n.forEach(e=>{(o[fe(e.source)]||o[fe(e.target)])&&r.mod.push(e)})),r}});var fO=function(e,t,n,i,r){for(var o,a=e.children,s=-1,l=a.length,u=e.value&&(r-n)/e.value;++s<l;)(o=a[s]).x0=t,o.x1=i,o.y0=n,o.y1=n+=o.value*u},pO=(1+Math.sqrt(5))/2;function gO(e,t,n,i,r,o){for(var a,s,l,u,c,d,h,f,p,g,m,v=[],y=t.children,b=0,_=0,w=y.length,x=t.value;b<w;){l=r-n,u=o-i;do{c=y[_++].value}while(!c&&_<w);for(d=h=c,m=c*c*(g=Math.max(u/l,l/u)/(x*e)),p=Math.max(h/m,m/d);_<w;++_){if(c+=s=y[_].value,s<d&&(d=s),s>h&&(h=s),m=c*c*g,(f=Math.max(h/m,m/d))>p){c-=s;break}p=f}v.push(a={value:c,dice:l<u,children:y.slice(b,_)}),a.dice?Hk(a,n,i,r,x?i+=u*c/x:o):fO(a,n,i,x?n+=l*c/x:r,o),x-=c,b=_}return v}var mO=function e(t){function n(e,n,i,r,o){gO(t,e,n,i,r,o)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(pO),vO=function e(t){function n(e,n,i,r,o){if((a=e._squarify)&&a.ratio===t)for(var a,s,l,u,c,d=-1,h=a.length,f=e.value;++d<h;){for(l=(s=a[d]).children,u=s.value=0,c=l.length;u<c;++u)s.value+=l[u].value;s.dice?Hk(s,n,i,r,f?i+=(o-i)*s.value/f:o):fO(s,n,i,f?n+=(r-n)*s.value/f:r,o),f-=s.value}else e._squarify=a=gO(t,e,n,i,r,o),a.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(pO);const yO={binary:function(e,t,n,i,r){var o,a,s=e.children,l=s.length,u=new Array(l+1);for(u[0]=a=o=0;o<l;++o)u[o+1]=a+=s[o].value;!function e(t,n,i,r,o,a,l){if(t>=n-1){var c=s[t];return c.x0=r,c.y0=o,c.x1=a,void(c.y1=l)}var d=u[t],h=i/2+d,f=t+1,p=n-1;for(;f<p;){var g=f+p>>>1;u[g]<h?f=g+1:p=g}h-u[f-1]<u[f]-h&&t+1<f&&--f;var m=u[f]-d,v=i-m;if(a-r>l-o){var y=i?(r*v+a*m)/i:a;e(t,f,m,r,o,y,l),e(f,n,v,y,o,a,l)}else{var b=i?(o*v+l*m)/i:l;e(t,f,m,r,o,a,b),e(f,n,v,r,b,a,l)}}(0,l,e.value,t,n,i,r)},dice:Hk,slice:fO,slicedice:function(e,t,n,i,r){(1&e.depth?fO:Hk)(e,t,n,i,r)},squarify:mO,resquarify:vO},bO=[\"x0\",\"y0\",\"x1\",\"y1\",\"depth\",\"children\"];function _O(e){bk.call(this,e)}_O.Definition={type:\"Treemap\",metadata:{tree:!0,modifies:!0},params:[{name:\"field\",type:\"field\"},{name:\"sort\",type:\"compare\"},{name:\"method\",type:\"enum\",default:\"squarify\",values:[\"squarify\",\"resquarify\",\"binary\",\"dice\",\"slice\",\"slicedice\"]},{name:\"padding\",type:\"number\",default:0},{name:\"paddingInner\",type:\"number\",default:0},{name:\"paddingOuter\",type:\"number\",default:0},{name:\"paddingTop\",type:\"number\",default:0},{name:\"paddingRight\",type:\"number\",default:0},{name:\"paddingBottom\",type:\"number\",default:0},{name:\"paddingLeft\",type:\"number\",default:0},{name:\"ratio\",type:\"number\",default:1.618033988749895},{name:\"round\",type:\"boolean\",default:!1},{name:\"size\",type:\"number\",array:!0,length:2},{name:\"as\",type:\"string\",array:!0,length:bO.length,default:bO}]},Object(se.z)(_O,bk,{layout(){const e=function(){var e=mO,t=!1,n=1,i=1,r=[0],o=zk,a=zk,s=zk,l=zk,u=zk;function c(e){return e.x0=e.y0=0,e.x1=n,e.y1=i,e.eachBefore(d),r=[0],t&&e.eachBefore(Yk),e}function d(t){var n=r[t.depth],i=t.x0+n,c=t.y0+n,d=t.x1-n,h=t.y1-n;d<i&&(i=d=(i+d)/2),h<c&&(c=h=(c+h)/2),t.x0=i,t.y0=c,t.x1=d,t.y1=h,t.children&&(n=r[t.depth+1]=o(t)/2,i+=u(t)-n,c+=a(t)-n,(d-=s(t)-n)<i&&(i=d=(i+d)/2),(h-=l(t)-n)<c&&(c=h=(c+h)/2),e(t,i,c,d,h))}return c.round=function(e){return arguments.length?(t=!!e,c):t},c.size=function(e){return arguments.length?(n=+e[0],i=+e[1],c):[n,i]},c.tile=function(t){return arguments.length?(e=Nk(t),c):e},c.padding=function(e){return arguments.length?c.paddingInner(e).paddingOuter(e):c.paddingInner()},c.paddingInner=function(e){return arguments.length?(o=\"function\"==typeof e?e:Rk(+e),c):o},c.paddingOuter=function(e){return arguments.length?c.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):c.paddingTop()},c.paddingTop=function(e){return arguments.length?(a=\"function\"==typeof e?e:Rk(+e),c):a},c.paddingRight=function(e){return arguments.length?(s=\"function\"==typeof e?e:Rk(+e),c):s},c.paddingBottom=function(e){return arguments.length?(l=\"function\"==typeof e?e:Rk(+e),c):l},c.paddingLeft=function(e){return arguments.length?(u=\"function\"==typeof e?e:Rk(+e),c):u},c}();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{Object(se.w)(yO,t)?e.tile(yO[t]):Object(se.o)(\"Unrecognized Treemap layout method: \"+t)},e},params:[\"method\",\"ratio\",\"size\",\"round\",\"padding\",\"paddingInner\",\"paddingOuter\",\"paddingTop\",\"paddingRight\",\"paddingBottom\",\"paddingLeft\"],fields:bO});var wO=function(e,t){var n,i,r,o,a,s,l=[],u=function(e){return e(o)};if(null==t)l.push(e);else for(n={},i=0,r=e.length;i<r;++i)o=e[i],(s=n[a=t.map(u)])||(n[a]=s=[],s.dims=a,l.push(s)),s.push(o);return l};function xO(e){Lo.call(this,null,e)}xO.Definition={type:\"Loess\",metadata:{generates:!0},params:[{name:\"x\",type:\"field\",required:!0},{name:\"y\",type:\"field\",required:!0},{name:\"groupby\",type:\"field\",array:!0},{name:\"bandwidth\",type:\"number\",default:.3},{name:\"as\",type:\"string\",array:!0}]},Object(se.z)(xO,Lo,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const i=t.materialize(t.SOURCE).source,r=wO(i,e.groupby),o=(e.groupby||[]).map(se.h),a=o.length,s=e.as||[Object(se.h)(e.x),Object(se.h)(e.y)],l=[];r.forEach(t=>{Qa(t,e.x,e.y,e.bandwidth||.3).forEach(e=>{const n={};for(let e=0;e<a;++e)n[o[e]]=t.dims[e];n[s[0]]=e[0],n[s[1]]=e[1],l.push(ge(n))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});const kO={linear:Ua,log:Ya,exp:Ha,pow:qa,quad:Va,poly:Ga};function OO(e){Lo.call(this,null,e)}OO.Definition={type:\"Regression\",metadata:{generates:!0},params:[{name:\"x\",type:\"field\",required:!0},{name:\"y\",type:\"field\",required:!0},{name:\"groupby\",type:\"field\",array:!0},{name:\"method\",type:\"string\",default:\"linear\",values:Object.keys(kO)},{name:\"order\",type:\"number\",default:3},{name:\"extent\",type:\"number\",array:!0,length:2},{name:\"params\",type:\"boolean\",default:!1},{name:\"as\",type:\"string\",array:!0}]},Object(se.z)(OO,Lo,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const i=t.materialize(t.SOURCE).source,r=wO(i,e.groupby),o=(e.groupby||[]).map(se.h),a=e.method||\"linear\",s=e.order||3,l=((e,t)=>\"poly\"===e?t:\"quad\"===e?2:1)(a,s),u=e.as||[Object(se.h)(e.x),Object(se.h)(e.y)],c=kO[a],d=[];let h=e.extent;Object(se.w)(kO,a)||Object(se.o)(\"Invalid regression method: \"+a),null!=h&&\"log\"===a&&h[0]<=0&&(t.dataflow.warn(\"Ignoring extent with values <= 0 for log regression.\"),h=null),r.forEach(n=>{if(n.length<=l)return void t.dataflow.warn(\"Skipping regression with more parameters than data points.\");const i=c(n,e.x,e.y,s);if(e.params)return void d.push(ge({keys:n.dims,coef:i.coef,rSquared:i.rSquared}));const r=h||Object(se.q)(n,e.x),f=e=>{const t={};for(let e=0;e<o.length;++e)t[o[e]]=n.dims[e];t[u[0]]=e[0],t[u[1]]=e[1],d.push(ge(t))};\"linear\"===a?r.forEach(e=>f([e,i.predict(e)])):ts(i.predict,r,25,200).forEach(f)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=d}return n}});const EO=Math.pow(2,-52),SO=new Uint32Array(512);class DO{static from(e,t=NO,n=zO){const i=e.length,r=new Float64Array(2*i);for(let o=0;o<i;o++){const i=e[o];r[2*o]=t(i),r[2*o+1]=n(i)}return new DO(r)}constructor(e){const t=e.length>>1;if(t>0&&\"number\"!=typeof e[0])throw new Error(\"Expected coords to contain numbers.\");this.coords=e;const n=Math.max(2*t-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:n,_hullTri:i,_hullHash:r}=this,o=e.length>>1;let a=1/0,s=1/0,l=-1/0,u=-1/0;for(let t=0;t<o;t++){const n=e[2*t],i=e[2*t+1];n<a&&(a=n),i<s&&(s=i),n>l&&(l=n),i>u&&(u=i),this._ids[t]=t}const c=(a+l)/2,d=(s+u)/2;let h,f,p,g=1/0;for(let t=0;t<o;t++){const n=jO(c,d,e[2*t],e[2*t+1]);n<g&&(h=t,g=n)}const m=e[2*h],v=e[2*h+1];g=1/0;for(let t=0;t<o;t++){if(t===h)continue;const n=jO(m,v,e[2*t],e[2*t+1]);n<g&&n>0&&(f=t,g=n)}let y=e[2*f],b=e[2*f+1],_=1/0;for(let t=0;t<o;t++){if(t===h||t===f)continue;const n=AO(m,v,y,b,e[2*t],e[2*t+1]);n<_&&(p=t,_=n)}let w=e[2*p],x=e[2*p+1];if(_===1/0){for(let t=0;t<o;t++)this._dists[t]=e[2*t]-e[0]||e[2*t+1]-e[1];FO(this._ids,this._dists,0,o-1);const t=new Uint32Array(o);let n=0;for(let e=0,i=-1/0;e<o;e++){const r=this._ids[e];this._dists[r]>i&&(t[n++]=r,i=this._dists[r])}return this.hull=t.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(MO(m,v,y,b,w,x)){const e=f,t=y,n=b;f=p,y=w,b=x,p=e,w=t,x=n}const k=function(e,t,n,i,r,o){const a=n-e,s=i-t,l=r-e,u=o-t,c=a*a+s*s,d=l*l+u*u,h=.5/(a*u-s*l);return{x:e+(u*c-s*d)*h,y:t+(a*d-l*c)*h}}(m,v,y,b,w,x);this._cx=k.x,this._cy=k.y;for(let t=0;t<o;t++)this._dists[t]=jO(e[2*t],e[2*t+1],k.x,k.y);FO(this._ids,this._dists,0,o-1),this._hullStart=h;let O=3;n[h]=t[p]=f,n[f]=t[h]=p,n[p]=t[f]=h,i[h]=0,i[f]=1,i[p]=2,r.fill(-1),r[this._hashKey(m,v)]=h,r[this._hashKey(y,b)]=f,r[this._hashKey(w,x)]=p,this.trianglesLen=0,this._addTriangle(h,f,p,-1,-1,-1);for(let o,a,s=0;s<this._ids.length;s++){const l=this._ids[s],u=e[2*l],c=e[2*l+1];if(s>0&&Math.abs(u-o)<=EO&&Math.abs(c-a)<=EO)continue;if(o=u,a=c,l===h||l===f||l===p)continue;let d=0;for(let e=0,t=this._hashKey(u,c);e<this._hashSize&&(d=r[(t+e)%this._hashSize],-1===d||d===n[d]);e++);d=t[d];let g,m=d;for(;g=n[m],!MO(u,c,e[2*m],e[2*m+1],e[2*g],e[2*g+1]);)if(m=g,m===d){m=-1;break}if(-1===m)continue;let v=this._addTriangle(m,l,n[m],-1,-1,i[m]);i[l]=this._legalize(v+2),i[m]=v,O++;let y=n[m];for(;g=n[y],MO(u,c,e[2*y],e[2*y+1],e[2*g],e[2*g+1]);)v=this._addTriangle(y,l,g,i[l],-1,i[y]),i[l]=this._legalize(v+2),n[y]=y,O--,y=g;if(m===d)for(;g=t[m],MO(u,c,e[2*g],e[2*g+1],e[2*m],e[2*m+1]);)v=this._addTriangle(g,l,m,-1,i[m],i[g]),this._legalize(v+2),i[g]=v,n[m]=m,O--,m=g;this._hullStart=t[l]=m,n[m]=t[y]=l,n[l]=y,r[this._hashKey(u,c)]=l,r[this._hashKey(e[2*m],e[2*m+1])]=m}this.hull=new Uint32Array(O);for(let e=0,t=this._hullStart;e<O;e++)this.hull[e]=t,t=n[t];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(function(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:n,coords:i}=this;let r=0,o=0;for(;;){const a=n[e],s=e-e%3;if(o=s+(e+2)%3,-1===a){if(0===r)break;e=SO[--r];continue}const l=a-a%3,u=s+(e+1)%3,c=l+(a+2)%3,d=t[o],h=t[e],f=t[u],p=t[c];if(TO(i[2*d],i[2*d+1],i[2*h],i[2*h+1],i[2*f],i[2*f+1],i[2*p],i[2*p+1])){t[e]=p,t[a]=d;const i=n[c];if(-1===i){let t=this._hullStart;do{if(this._hullTri[t]===c){this._hullTri[t]=e;break}t=this._hullPrev[t]}while(t!==this._hullStart)}this._link(e,i),this._link(a,n[o]),this._link(o,c);const s=l+(a+1)%3;r<SO.length&&(SO[r++]=s)}else{if(0===r)break;e=SO[--r]}}return o}_link(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}_addTriangle(e,t,n,i,r,o){const a=this.trianglesLen;return this._triangles[a]=e,this._triangles[a+1]=t,this._triangles[a+2]=n,this._link(a,i),this._link(a+1,r),this._link(a+2,o),this.trianglesLen+=3,a}}function jO(e,t,n,i){const r=e-n,o=t-i;return r*r+o*o}function CO(e,t,n,i,r,o){const a=(i-t)*(r-e),s=(n-e)*(o-t);return Math.abs(a-s)>=33306690738754716e-32*Math.abs(a+s)?a-s:0}function MO(e,t,n,i,r,o){return(CO(r,o,e,t,n,i)||CO(e,t,n,i,r,o)||CO(n,i,r,o,e,t))<0}function TO(e,t,n,i,r,o,a,s){const l=e-a,u=t-s,c=n-a,d=i-s,h=r-a,f=o-s,p=c*c+d*d,g=h*h+f*f;return l*(d*g-p*f)-u*(c*g-p*h)+(l*l+u*u)*(c*f-d*h)<0}function AO(e,t,n,i,r,o){const a=n-e,s=i-t,l=r-e,u=o-t,c=a*a+s*s,d=l*l+u*u,h=.5/(a*u-s*l),f=(u*c-s*d)*h,p=(a*d-l*c)*h;return f*f+p*p}function FO(e,t,n,i){if(i-n<=20)for(let r=n+1;r<=i;r++){const i=e[r],o=t[i];let a=r-1;for(;a>=n&&t[e[a]]>o;)e[a+1]=e[a--];e[a+1]=i}else{let r=n+1,o=i;PO(e,n+i>>1,r),t[e[n]]>t[e[i]]&&PO(e,n,i),t[e[r]]>t[e[i]]&&PO(e,r,i),t[e[n]]>t[e[r]]&&PO(e,n,r);const a=e[r],s=t[a];for(;;){do{r++}while(t[e[r]]<s);do{o--}while(t[e[o]]>s);if(o<r)break;PO(e,r,o)}e[n+1]=e[o],e[o]=a,i-r+1>=o-n?(FO(e,t,r,i),FO(e,t,n,o-1)):(FO(e,t,n,o-1),FO(e,t,r,i))}}function PO(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function NO(e){return e[0]}function zO(e){return e[1]}class RO{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=\"\"}moveTo(e,t){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+=\"Z\")}lineTo(e,t){this._+=`L${this._x1=+e},${this._y1=+t}`}arc(e,t,n){const i=(e=+e)+(n=+n),r=t=+t;if(n<0)throw new Error(\"negative radius\");null===this._x1?this._+=`M${i},${r}`:(Math.abs(this._x1-i)>1e-6||Math.abs(this._y1-r)>1e-6)&&(this._+=\"L\"+i+\",\"+r),n&&(this._+=`A${n},${n},0,1,1,${e-n},${t}A${n},${n},0,1,1,${this._x1=i},${this._y1=r}`)}rect(e,t,n,i){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${+n}v${+i}h${-n}Z`}value(){return this._||null}}class IO{constructor(){this._=[]}moveTo(e,t){this._.push([e,t])}closePath(){this._.push(this._[0].slice())}lineTo(e,t){this._.push([e,t])}value(){return this._.length?this._:null}}class BO{constructor(e,[t,n,i,r]=[0,0,960,500]){if(!((i=+i)>=(t=+t)&&(r=+r)>=(n=+n)))throw new Error(\"invalid bounds\");this.delaunay=e,this._circumcenters=new Float64Array(2*e.points.length),this.vectors=new Float64Array(2*e.points.length),this.xmax=i,this.xmin=t,this.ymax=r,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:t,triangles:n},vectors:i}=this,r=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let t,i,o=0,a=0,s=n.length;o<s;o+=3,a+=2){const s=2*n[o],l=2*n[o+1],u=2*n[o+2],c=e[s],d=e[s+1],h=e[l],f=e[l+1],p=e[u],g=e[u+1],m=h-c,v=f-d,y=p-c,b=g-d,_=m*m+v*v,w=y*y+b*b,x=2*(m*b-v*y);if(x)if(Math.abs(x)<1e-8)t=(c+p)/2,i=(d+g)/2;else{const e=1/x;t=c+(b*_-v*w)*e,i=d+(m*w-y*_)*e}else t=(c+p)/2-1e8*b,i=(d+g)/2+1e8*y;r[a]=t,r[a+1]=i}let o,a,s,l=t[t.length-1],u=4*l,c=e[2*l],d=e[2*l+1];i.fill(0);for(let n=0;n<t.length;++n)l=t[n],o=u,a=c,s=d,u=4*l,c=e[2*l],d=e[2*l+1],i[o+2]=i[u]=s-d,i[o+3]=i[u+1]=c-a}render(e){const t=null==e?e=new RO:void 0,{delaunay:{halfedges:n,inedges:i,hull:r},circumcenters:o,vectors:a}=this;if(r.length<=1)return null;for(let t=0,i=n.length;t<i;++t){const i=n[t];if(i<t)continue;const r=2*Math.floor(t/3),a=2*Math.floor(i/3),s=o[r],l=o[r+1],u=o[a],c=o[a+1];this._renderSegment(s,l,u,c,e)}let s,l=r[r.length-1];for(let t=0;t<r.length;++t){s=l,l=r[t];const n=2*Math.floor(i[l]/3),u=o[n],c=o[n+1],d=4*s,h=this._project(u,c,a[d+2],a[d+3]);h&&this._renderSegment(u,c,h[0],h[1],e)}return t&&t.value()}renderBounds(e){const t=null==e?e=new RO:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(e,t){const n=null==t?t=new RO:void 0,i=this._clip(e);if(null===i||!i.length)return;t.moveTo(i[0],i[1]);let r=i.length;for(;i[0]===i[r-2]&&i[1]===i[r-1]&&r>1;)r-=2;for(let e=2;e<r;e+=2)i[e]===i[e-2]&&i[e+1]===i[e-1]||t.lineTo(i[e],i[e+1]);return t.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let t=0,n=e.length/2;t<n;++t){const e=this.cellPolygon(t);e&&(e.index=t,yield e)}}cellPolygon(e){const t=new IO;return this.renderCell(e,t),t.value()}_renderSegment(e,t,n,i,r){let o;const a=this._regioncode(e,t),s=this._regioncode(n,i);0===a&&0===s?(r.moveTo(e,t),r.lineTo(n,i)):(o=this._clipSegment(e,t,n,i,a,s))&&(r.moveTo(o[0],o[1]),r.lineTo(o[2],o[3]))}contains(e,t,n){return(t=+t)==t&&(n=+n)==n&&this.delaunay._step(e,t,n)===e}*neighbors(e){const t=this._clip(e);if(t)for(const n of this.delaunay.neighbors(e)){const e=this._clip(n);if(e)e:for(let i=0,r=t.length;i<r;i+=2)for(let o=0,a=e.length;o<a;o+=2)if(t[i]==e[o]&&t[i+1]==e[o+1]&&t[(i+2)%r]==e[(o+a-2)%a]&&t[(i+3)%r]==e[(o+a-1)%a]){yield n;break e}}}_cell(e){const{circumcenters:t,delaunay:{inedges:n,halfedges:i,triangles:r}}=this,o=n[e];if(-1===o)return null;const a=[];let s=o;do{const n=Math.floor(s/3);if(a.push(t[2*n],t[2*n+1]),s=s%3==2?s-2:s+1,r[s]!==e)break;s=i[s]}while(s!==o&&-1!==s);return a}_clip(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const t=this._cell(e);if(null===t)return null;const{vectors:n}=this,i=4*e;return n[i]||n[i+1]?this._clipInfinite(e,t,n[i],n[i+1],n[i+2],n[i+3]):this._clipFinite(e,t)}_clipFinite(e,t){const n=t.length;let i,r,o,a,s,l=null,u=t[n-2],c=t[n-1],d=this._regioncode(u,c);for(let h=0;h<n;h+=2)if(i=u,r=c,u=t[h],c=t[h+1],o=d,d=this._regioncode(u,c),0===o&&0===d)a=s,s=0,l?l.push(u,c):l=[u,c];else{let t,n,h,f,p;if(0===o){if(null===(t=this._clipSegment(i,r,u,c,o,d)))continue;[n,h,f,p]=t}else{if(null===(t=this._clipSegment(u,c,i,r,d,o)))continue;[f,p,n,h]=t,a=s,s=this._edgecode(n,h),a&&s&&this._edge(e,a,s,l,l.length),l?l.push(n,h):l=[n,h]}a=s,s=this._edgecode(f,p),a&&s&&this._edge(e,a,s,l,l.length),l?l.push(f,p):l=[f,p]}if(l)a=s,s=this._edgecode(l[0],l[1]),a&&s&&this._edge(e,a,s,l,l.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return l}_clipSegment(e,t,n,i,r,o){for(;;){if(0===r&&0===o)return[e,t,n,i];if(r&o)return null;let a,s,l=r||o;8&l?(a=e+(n-e)*(this.ymax-t)/(i-t),s=this.ymax):4&l?(a=e+(n-e)*(this.ymin-t)/(i-t),s=this.ymin):2&l?(s=t+(i-t)*(this.xmax-e)/(n-e),a=this.xmax):(s=t+(i-t)*(this.xmin-e)/(n-e),a=this.xmin),r?(e=a,t=s,r=this._regioncode(e,t)):(n=a,i=s,o=this._regioncode(n,i))}}_clipInfinite(e,t,n,i,r,o){let a,s=Array.from(t);if((a=this._project(s[0],s[1],n,i))&&s.unshift(a[0],a[1]),(a=this._project(s[s.length-2],s[s.length-1],r,o))&&s.push(a[0],a[1]),s=this._clipFinite(e,s))for(let t,n=0,i=s.length,r=this._edgecode(s[i-2],s[i-1]);n<i;n+=2)t=r,r=this._edgecode(s[n],s[n+1]),t&&r&&(n=this._edge(e,t,r,s,n),i=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(e,t,n,i,r){for(;t!==n;){let n,o;switch(t){case 5:t=4;continue;case 4:t=6,n=this.xmax,o=this.ymin;break;case 6:t=2;continue;case 2:t=10,n=this.xmax,o=this.ymax;break;case 10:t=8;continue;case 8:t=9,n=this.xmin,o=this.ymax;break;case 9:t=1;continue;case 1:t=5,n=this.xmin,o=this.ymin}i[r]===n&&i[r+1]===o||!this.contains(e,n,o)||(i.splice(r,0,n,o),r+=2)}if(i.length>4)for(let e=0;e<i.length;e+=2){const t=(e+2)%i.length,n=(e+4)%i.length;(i[e]===i[t]&&i[t]===i[n]||i[e+1]===i[t+1]&&i[t+1]===i[n+1])&&(i.splice(t,2),e-=2)}return r}_project(e,t,n,i){let r,o,a,s=1/0;if(i<0){if(t<=this.ymin)return null;(r=(this.ymin-t)/i)<s&&(a=this.ymin,o=e+(s=r)*n)}else if(i>0){if(t>=this.ymax)return null;(r=(this.ymax-t)/i)<s&&(a=this.ymax,o=e+(s=r)*n)}if(n>0){if(e>=this.xmax)return null;(r=(this.xmax-e)/n)<s&&(o=this.xmax,a=t+(s=r)*i)}else if(n<0){if(e<=this.xmin)return null;(r=(this.xmin-e)/n)<s&&(o=this.xmin,a=t+(s=r)*i)}return[o,a]}_edgecode(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}}const LO=2*Math.PI,$O=Math.pow;function WO(e){return e[0]}function UO(e){return e[1]}function YO(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class HO{static from(e,t=WO,n=UO,i){return new HO(\"length\"in e?function(e,t,n,i){const r=e.length,o=new Float64Array(2*r);for(let a=0;a<r;++a){const r=e[a];o[2*a]=t.call(i,r,a,e),o[2*a+1]=n.call(i,r,a,e)}return o}(e,t,n,i):Float64Array.from(function*(e,t,n,i){let r=0;for(const o of e)yield t.call(i,o,r,e),yield n.call(i,o,r,e),++r}(e,t,n,i)))}constructor(e){this._delaunator=new DO(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){const{triangles:t,coords:n}=e;for(let e=0;e<t.length;e+=3){const i=2*t[e],r=2*t[e+1],o=2*t[e+2];if((n[o]-n[i])*(n[r+1]-n[i+1])-(n[r]-n[i])*(n[o+1]-n[i+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},(e,t)=>t).sort((e,n)=>t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]);const e=this.collinear[0],n=this.collinear[this.collinear.length-1],i=[t[2*e],t[2*e+1],t[2*n],t[2*n+1]],r=1e-8*Math.hypot(i[3]-i[1],i[2]-i[0]);for(let e=0,n=t.length/2;e<n;++e){const n=YO(t[2*e],t[2*e+1],r);t[2*e]=n[0],t[2*e+1]=n[1]}this._delaunator=new DO(t)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,r=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let e=0,t=n.length;e<t;++e){const t=r[e%3==2?e-2:e+1];-1!==n[e]&&-1!==o[t]||(o[t]=e)}for(let e=0,t=i.length;e<t;++e)a[i[e]]=e;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],this.triangles[1]=i[1],this.triangles[2]=i[1],o[i[0]]=1,2===i.length&&(o[i[1]]=0))}voronoi(e){return new BO(this,e)}*neighbors(e){const{inedges:t,hull:n,_hullIndex:i,halfedges:r,triangles:o,collinear:a}=this;if(a){const t=a.indexOf(e);return t>0&&(yield a[t-1]),void(t<a.length-1&&(yield a[t+1]))}const s=t[e];if(-1===s)return;let l=s,u=-1;do{if(yield u=o[l],l=l%3==2?l-2:l+1,o[l]!==e)return;if(l=r[l],-1===l){const t=n[(i[e]+1)%n.length];return void(t!==u&&(yield t))}}while(l!==s)}find(e,t,n=0){if((e=+e)!=e||(t=+t)!=t)return-1;const i=n;let r;for(;(r=this._step(n,e,t))>=0&&r!==n&&r!==i;)n=r;return r}_step(e,t,n){const{inedges:i,hull:r,_hullIndex:o,halfedges:a,triangles:s,points:l}=this;if(-1===i[e]||!l.length)return(e+1)%(l.length>>1);let u=e,c=$O(t-l[2*e],2)+$O(n-l[2*e+1],2);const d=i[e];let h=d;do{let i=s[h];const d=$O(t-l[2*i],2)+$O(n-l[2*i+1],2);if(d<c&&(c=d,u=i),h=h%3==2?h-2:h+1,s[h]!==e)break;if(h=a[h],-1===h){if(h=r[(o[e]+1)%r.length],h!==i&&$O(t-l[2*h],2)+$O(n-l[2*h+1],2)<c)return h;break}}while(h!==d);return u}render(e){const t=null==e?e=new RO:void 0,{points:n,halfedges:i,triangles:r}=this;for(let t=0,o=i.length;t<o;++t){const o=i[t];if(o<t)continue;const a=2*r[t],s=2*r[o];e.moveTo(n[a],n[a+1]),e.lineTo(n[s],n[s+1])}return this.renderHull(e),t&&t.value()}renderPoints(e,t=2){const n=null==e?e=new RO:void 0,{points:i}=this;for(let n=0,r=i.length;n<r;n+=2){const r=i[n],o=i[n+1];e.moveTo(r+t,o),e.arc(r,o,t,0,LO)}return n&&n.value()}renderHull(e){const t=null==e?e=new RO:void 0,{hull:n,points:i}=this,r=2*n[0],o=n.length;e.moveTo(i[r],i[r+1]);for(let t=1;t<o;++t){const r=2*n[t];e.lineTo(i[r],i[r+1])}return e.closePath(),t&&t.value()}hullPolygon(){const e=new IO;return this.renderHull(e),e.value()}renderTriangle(e,t){const n=null==t?t=new RO:void 0,{points:i,triangles:r}=this,o=2*r[e*=3],a=2*r[e+1],s=2*r[e+2];return t.moveTo(i[o],i[o+1]),t.lineTo(i[a],i[a+1]),t.lineTo(i[s],i[s+1]),t.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:e}=this;for(let t=0,n=e.length/3;t<n;++t)yield this.trianglePolygon(t)}trianglePolygon(e){const t=new IO;return this.renderTriangle(e,t),t.value()}}function qO(e){Lo.call(this,null,e)}qO.Definition={type:\"Voronoi\",metadata:{modifies:!0},params:[{name:\"x\",type:\"field\",required:!0},{name:\"y\",type:\"field\",required:!0},{name:\"size\",type:\"number\",array:!0,length:2},{name:\"extent\",type:\"array\",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:\"number\",array:!0,length:2}},{name:\"as\",type:\"string\",default:\"path\"}]};const VO=[-1e5,-1e5,1e5,1e5];function GO(e){const t=e[0][0],n=e[0][1];let i=e.length-1;for(;e[i][0]===t&&e[i][1]===n;--i);return\"M\"+e.slice(0,i+1).join(\"L\")+\"Z\"}Object(se.z)(qO,Lo,{transform(e,t){const n=e.as||\"path\",i=t.source;if(!i||!i.length)return t;let r=e.size;r=r?[0,0,r[0],r[1]]:(r=e.extent)?[r[0][0],r[0][1],r[1][0],r[1][1]]:VO;const o=this.value=HO.from(i,e.x,e.y).voronoi(r);for(let e=0,t=i.length;e<t;++e){const t=o.cellPolygon(e);i[e][n]=t?GO(t):null}return t.reflow(e.modified()).modifies(n)}});var XO=Math.PI/180,ZO=function(){var e,t,n,i,r,o,a,s=[256,256],l=eE,u=[],c=Math.random,d={};function h(e,t,n){for(var i,r,o,a,u,d=t.x,h=t.y,f=Math.sqrt(s[0]*s[0]+s[1]*s[1]),p=l(s),g=c()<.5?1:-1,m=-g;(i=p(m+=g))&&(r=~~i[0],o=~~i[1],!(Math.min(Math.abs(r),Math.abs(o))>=f));)if(t.x=d+r,t.y=h+o,!(t.x+t.x0<0||t.y+t.y0<0||t.x+t.x1>s[0]||t.y+t.y1>s[1]||n&&JO(t,e,s[0])||n&&(u=n,!((a=t).x+a.x1>u[0].x&&a.x+a.x0<u[1].x&&a.y+a.y1>u[0].y&&a.y+a.y0<u[1].y)))){for(var v,y=t.sprite,b=t.width>>5,_=s[0]>>5,w=t.x-(b<<4),x=127&w,k=32-x,O=t.y1-t.y0,E=(t.y+t.y0)*_+(w>>5),S=0;S<O;S++){v=0;for(var D=0;D<=b;D++)e[E+D]|=v<<k|(D<b?(v=y[S*b+D])>>>x:0);E+=_}return t.sprite=null,!0}return!1}return d.layout=function(){for(var l=function(e){e.width=e.height=1;var t=Math.sqrt(e.getContext(\"2d\").getImageData(0,0,1,1).data.length>>2);e.width=2048/t,e.height=2048/t;var n=e.getContext(\"2d\");return n.fillStyle=n.strokeStyle=\"red\",n.textAlign=\"center\",{context:n,ratio:t}}(Fc()),d=function(e){var t=[],n=-1;for(;++n<e;)t[n]=0;return t}((s[0]>>5)*s[1]),f=null,p=u.length,g=-1,m=[],v=u.map(s=>({text:e(s),font:t(s),style:i(s),weight:r(s),rotate:o(s),size:~~(n(s)+1e-14),padding:a(s),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:s})).sort((e,t)=>t.size-e.size);++g<p;){var y=v[g];y.x=s[0]*(c()+.5)>>1,y.y=s[1]*(c()+.5)>>1,QO(l,y,v,g),y.hasText&&h(d,y,f)&&(m.push(y),f?KO(f,y):f=[{x:y.x+y.x0,y:y.y+y.y0},{x:y.x+y.x1,y:y.y+y.y1}],y.x-=s[0]>>1,y.y-=s[1]>>1)}return m},d.words=function(e){return arguments.length?(u=e,d):u},d.size=function(e){return arguments.length?(s=[+e[0],+e[1]],d):s},d.font=function(e){return arguments.length?(t=tE(e),d):t},d.fontStyle=function(e){return arguments.length?(i=tE(e),d):i},d.fontWeight=function(e){return arguments.length?(r=tE(e),d):r},d.rotate=function(e){return arguments.length?(o=tE(e),d):o},d.text=function(t){return arguments.length?(e=tE(t),d):e},d.spiral=function(e){return arguments.length?(l=nE[e]||e,d):l},d.fontSize=function(e){return arguments.length?(n=tE(e),d):n},d.padding=function(e){return arguments.length?(a=tE(e),d):a},d.random=function(e){return arguments.length?(c=e,d):c},d};function QO(e,t,n,i){if(!t.sprite){var r=e.context,o=e.ratio;r.clearRect(0,0,2048/o,2048/o);var a,s,l,u,c,d=0,h=0,f=0,p=n.length;for(--i;++i<p;){if(t=n[i],r.save(),r.font=t.style+\" \"+t.weight+\" \"+~~((t.size+1)/o)+\"px \"+t.font,a=r.measureText(t.text+\"m\").width*o,l=t.size<<1,t.rotate){var g=Math.sin(t.rotate*XO),m=Math.cos(t.rotate*XO),v=a*m,y=a*g,b=l*m,_=l*g;a=Math.max(Math.abs(v+_),Math.abs(v-_))+31>>5<<5,l=~~Math.max(Math.abs(y+b),Math.abs(y-b))}else a=a+31>>5<<5;if(l>f&&(f=l),d+a>=2048&&(d=0,h+=f,f=0),h+l>=2048)break;r.translate((d+(a>>1))/o,(h+(l>>1))/o),t.rotate&&r.rotate(t.rotate*XO),r.fillText(t.text,0,0),t.padding&&(r.lineWidth=2*t.padding,r.strokeText(t.text,0,0)),r.restore(),t.width=a,t.height=l,t.xoff=d,t.yoff=h,t.x1=a>>1,t.y1=l>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,d+=a}for(var w=r.getImageData(0,0,2048/o,2048/o).data,x=[];--i>=0;)if((t=n[i]).hasText){for(s=(a=t.width)>>5,l=t.y1-t.y0,u=0;u<l*s;u++)x[u]=0;if(null==(d=t.xoff))return;h=t.yoff;var k=0,O=-1;for(c=0;c<l;c++){for(u=0;u<a;u++){var E=s*c+(u>>5),S=w[2048*(h+c)+(d+u)<<2]?1<<31-u%32:0;x[E]|=S,k|=S}k?O=c:(t.y0++,l--,c--,h++)}t.y1=t.y0+O,t.sprite=x.slice(0,(t.y1-t.y0)*s)}}}function JO(e,t,n){n>>=5;for(var i,r=e.sprite,o=e.width>>5,a=e.x-(o<<4),s=127&a,l=32-s,u=e.y1-e.y0,c=(e.y+e.y0)*n+(a>>5),d=0;d<u;d++){i=0;for(var h=0;h<=o;h++)if((i<<l|(h<o?(i=r[d*o+h])>>>s:0))&t[c+h])return!0;c+=n}return!1}function KO(e,t){var n=e[0],i=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>i.x&&(i.x=t.x+t.x1),t.y+t.y1>i.y&&(i.y=t.y+t.y1)}function eE(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function tE(e){return\"function\"==typeof e?e:function(){return e}}var nE={archimedean:eE,rectangular:function(e){var t=4*e[0]/e[1],n=0,i=0;return function(e){var r=e<0?-1:1;switch(Math.sqrt(1+4*r*e)-r&3){case 0:n+=t;break;case 1:i+=4;break;case 2:n-=t;break;default:i-=4}return[n,i]}}},iE=[\"x\",\"y\",\"font\",\"fontSize\",\"fontStyle\",\"fontWeight\",\"angle\"],rE=[\"text\",\"font\",\"rotate\",\"fontSize\",\"fontStyle\",\"fontWeight\"];function oE(e){Lo.call(this,ZO(),e)}oE.Definition={type:\"Wordcloud\",metadata:{modifies:!0},params:[{name:\"size\",type:\"number\",array:!0,length:2},{name:\"font\",type:\"string\",expr:!0,default:\"sans-serif\"},{name:\"fontStyle\",type:\"string\",expr:!0,default:\"normal\"},{name:\"fontWeight\",type:\"string\",expr:!0,default:\"normal\"},{name:\"fontSize\",type:\"number\",expr:!0,default:14},{name:\"fontSizeRange\",type:\"number\",array:\"nullable\",default:[10,50]},{name:\"rotate\",type:\"number\",expr:!0,default:0},{name:\"text\",type:\"field\"},{name:\"spiral\",type:\"string\",values:[\"archimedean\",\"rectangular\"]},{name:\"padding\",type:\"number\",expr:!0},{name:\"as\",type:\"string\",array:!0,length:7,default:iE}]},Object(se.z)(oE,Lo,{transform(e,t){!e.size||e.size[0]&&e.size[1]||Object(se.o)(\"Wordcloud size dimensions must be non-zero.\");const n=e.modified();if(!(n||t.changed(t.ADD_REM)||rE.some((function(n){var i=e[n];return Object(se.E)(i)&&t.modified(i.fields)}))))return;const i=t.materialize(t.SOURCE).source,r=this.value,o=e.as||iE;let a,s=e.fontSize||14;if(Object(se.E)(s)?a=e.fontSizeRange:s=Object(se.m)(s),a){const e=s,t=dg(\"sqrt\")().domain(Object(se.q)(i,e)).range(a);s=n=>t(e(n))}i.forEach(e=>{e[o[0]]=NaN,e[o[1]]=NaN,e[o[3]]=0});const l=r.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||\"archimedean\").rotate(e.rotate||0).font(e.font||\"sans-serif\").fontStyle(e.fontStyle||\"normal\").fontWeight(e.fontWeight||\"normal\").fontSize(s).random(fa).layout(),u=r.size(),c=u[0]>>1,d=u[1]>>1,h=l.length;for(let e,t,n=0;n<h;++n)e=l[n],t=e.datum,t[o[0]]=e.x+c,t[o[1]]=e.y+d,t[o[2]]=e.font,t[o[3]]=e.size,t[o[4]]=e.style,t[o[5]]=e.weight,t[o[6]]=e.rotate;return t.reflow(n).modifies(o)}});const aE=e=>new Uint8Array(e),sE=e=>new Uint16Array(e),lE=e=>new Uint32Array(e);function uE(e,t,n){const i=(t<257?aE:t<65537?sE:lE)(e);return n&&i.set(n),i}var cE=function(e,t,n){const i=1<<t;return{one:i,zero:~i,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(e,t){const n=this.bisect(this.range,e.value),r=e.index,o=n[0],a=n[1],s=r.length;let l;for(l=0;l<o;++l)t[r[l]]|=i;for(l=a;l<s;++l)t[r[l]]|=i;return this}}};function dE(){let e=lE(0),t=[],n=0;return{insert:function(i,r,o){if(!r.length)return[];const a=n,s=r.length,l=lE(s);let u,c,d,h=Array(s);for(d=0;d<s;++d)h[d]=i(r[d]),l[d]=d;if(h=function(e,t){return e.sort.call(t,(t,n)=>{const i=e[t],r=e[n];return i<r?-1:i>r?1:0}),function(e,t){return Array.from(t,t=>e[t])}(e,t)}(h,l),a)u=t,c=e,t=Array(a+s),e=lE(a+s),function(e,t,n,i,r,o,a,s,l){let u,c=0,d=0;for(u=0;c<i&&d<a;++u)t[c]<r[d]?(s[u]=t[c],l[u]=n[c++]):(s[u]=r[d],l[u]=o[d++]+e);for(;c<i;++c,++u)s[u]=t[c],l[u]=n[c];for(;d<a;++d,++u)s[u]=r[d],l[u]=o[d]+e}(o,u,c,a,h,l,s,t,e);else{if(o>0)for(d=0;d<s;++d)l[d]+=o;t=h,e=l}return n=a+s,{index:l,value:h}},remove:function(i,r){const o=n;let a,s,l;for(s=0;!r[e[s]]&&s<o;++s);for(l=s;s<o;++s)r[a=e[s]]||(e[l]=a,t[l]=t[s],++l);n=o-i},bisect:function(e,i){let r;return i?r=i.length:(i=t,r=n),[mf(i,e[0],0,r),gf(i,e[1],0,r)]},reindex:function(t){for(let i=0,r=n;i<r;++i)e[i]=t[e[i]]},index:()=>e,size:()=>n}}function hE(e){Lo.call(this,function(){let e=8,t=[],n=lE(0),i=uE(0,e),r=uE(0,e);return{data:()=>t,seen:()=>n=function(e,t,n){return e.length>=t?e:((n=n||new e.constructor(t)).set(e),n)}(n,t.length),add(e){for(let n,i=0,r=t.length,o=e.length;i<o;++i)n=e[i],n._index=r++,t.push(n)},remove(e,n){const o=t.length,a=Array(o-e),s=t;let l,u,c;for(u=0;!n[u]&&u<o;++u)a[u]=t[u],s[u]=u;for(c=u;u<o;++u)l=t[u],n[u]?s[u]=-1:(s[u]=c,i[c]=i[u],r[c]=r[u],a[c]=l,l._index=c++),i[u]=0;return t=a,s},size:()=>t.length,curr:()=>i,prev:()=>r,reset:e=>r[e]=i[e],all:()=>e<257?255:e<65537?65535:4294967295,set(e,t){i[e]|=t},clear(e,t){i[e]&=~t},resize(t,n){(t>i.length||n>e)&&(e=Math.max(n,e),i=uE(t,e,i),r=uE(t,e))}}}(),e),this._indices=null,this._dims=null}function fE(e){Lo.call(this,null,e)}hE.Definition={type:\"CrossFilter\",metadata:{},params:[{name:\"fields\",type:\"field\",array:!0,required:!0},{name:\"query\",type:\"array\",array:!0,required:!0,content:{type:\"number\",array:!0,length:2}}]},Object(se.z)(hE,Lo,{transform(e,t){return this._dims?e.modified(\"fields\")||e.fields.some(e=>t.modified(e.fields))?this.reinit(e,t):this.eval(e,t):this.init(e,t)},init(e,t){const n=e.fields,i=e.query,r=this._indices={},o=this._dims=[],a=i.length;let s,l,u=0;for(;u<a;++u)s=n[u].fname,l=r[s]||(r[s]=dE()),o.push(cE(l,u,i[u]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),i=e.fields,r=e.query,o=this._indices,a=this._dims,s=this.value,l=s.curr(),u=s.prev(),c=s.all(),d=n.rem=n.add,h=n.mod,f=r.length,p={};let g,m,v,y,b,_,w,x,k;if(u.set(l),t.rem.length&&(b=this.remove(e,t,n)),t.add.length&&s.add(t.add),t.mod.length)for(_={},y=t.mod,w=0,x=y.length;w<x;++w)_[y[w]._index]=1;for(w=0;w<f;++w)k=i[w],(!a[w]||e.modified(\"fields\",w)||t.modified(k.fields))&&(v=k.fname,(g=p[v])||(o[v]=m=dE(),p[v]=g=m.insert(k,t.source,0)),a[w]=cE(m,w,r[w]).onAdd(g,l));for(w=0,x=s.data().length;w<x;++w)b[w]||(u[w]!==l[w]?d.push(w):_[w]&&l[w]!==c&&h.push(w));return s.mask=(1<<f)-1,n},eval(e,t){const n=t.materialize().fork(),i=this._dims.length;let r=0;return t.rem.length&&(this.remove(e,t,n),r|=(1<<i)-1),e.modified(\"query\")&&!e.modified(\"fields\")&&(r|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),r|=(1<<i)-1),t.mod.length&&(this.modify(t,n),r|=(1<<i)-1),this.value.mask=r,n},insert(e,t,n){const i=t.add,r=this.value,o=this._dims,a=this._indices,s=e.fields,l={},u=n.add,c=r.size()+i.length,d=o.length;let h,f,p,g=r.size();r.resize(c,d),r.add(i);const m=r.curr(),v=r.prev(),y=r.all();for(h=0;h<d;++h)f=s[h].fname,p=l[f]||(l[f]=a[f].insert(s[h],i,g)),o[h].onAdd(p,m);for(;g<c;++g)v[g]=y,m[g]!==y&&u.push(g)},modify(e,t){const n=t.mod,i=this.value,r=i.curr(),o=i.all(),a=e.mod;let s,l,u;for(s=0,l=a.length;s<l;++s)u=a[s]._index,r[u]!==o&&n.push(u)},remove(e,t,n){const i=this._indices,r=this.value,o=r.curr(),a=r.prev(),s=r.all(),l={},u=n.rem,c=t.rem;let d,h,f,p;for(d=0,h=c.length;d<h;++d)f=c[d]._index,l[f]=1,a[f]=p=o[f],o[f]=s,p!==s&&u.push(f);for(f in i)i[f].remove(h,l);return this.reindex(t,h,l),l},reindex(e,t,n){const i=this._indices,r=this.value;e.runAfter(()=>{const e=r.remove(t,n);for(const t in i)i[t].reindex(e)})},update(e,t,n){const i=this._dims,r=e.query,o=t.stamp,a=i.length;let s,l,u=0;for(n.filters=0,l=0;l<a;++l)e.modified(\"query\",l)&&(s=l,++u);if(1===u)u=i[s].one,this.incrementOne(i[s],r[s],n.add,n.rem);else for(l=0,u=0;l<a;++l)e.modified(\"query\",l)&&(u|=i[l].one,this.incrementAll(i[l],r[l],o,n.add),n.rem=n.add);return u},incrementAll(e,t,n,i){const r=this.value,o=r.seen(),a=r.curr(),s=r.prev(),l=e.index(),u=e.bisect(e.range),c=e.bisect(t),d=c[0],h=c[1],f=u[0],p=u[1],g=e.one;let m,v,y;if(d<f)for(m=d,v=Math.min(f,h);m<v;++m)y=l[m],o[y]!==n&&(s[y]=a[y],o[y]=n,i.push(y)),a[y]^=g;else if(d>f)for(m=f,v=Math.min(d,p);m<v;++m)y=l[m],o[y]!==n&&(s[y]=a[y],o[y]=n,i.push(y)),a[y]^=g;if(h>p)for(m=Math.max(d,p),v=h;m<v;++m)y=l[m],o[y]!==n&&(s[y]=a[y],o[y]=n,i.push(y)),a[y]^=g;else if(h<p)for(m=Math.max(f,h),v=p;m<v;++m)y=l[m],o[y]!==n&&(s[y]=a[y],o[y]=n,i.push(y)),a[y]^=g;e.range=t.slice()},incrementOne(e,t,n,i){const r=this.value.curr(),o=e.index(),a=e.bisect(e.range),s=e.bisect(t),l=s[0],u=s[1],c=a[0],d=a[1],h=e.one;let f,p,g;if(l<c)for(f=l,p=Math.min(c,u);f<p;++f)g=o[f],r[g]^=h,n.push(g);else if(l>c)for(f=c,p=Math.min(l,d);f<p;++f)g=o[f],r[g]^=h,i.push(g);if(u>d)for(f=Math.max(l,d),p=u;f<p;++f)g=o[f],r[g]^=h,n.push(g);else if(u<d)for(f=Math.max(c,u),p=d;f<p;++f)g=o[f],r[g]^=h,i.push(g);e.range=t.slice()}}),fE.Definition={type:\"ResolveFilter\",metadata:{},params:[{name:\"ignore\",type:\"number\",required:!0,description:\"A bit mask indicating which filters to ignore.\"},{name:\"filter\",type:\"object\",required:!0,description:\"Per-tuple filter bitmaps from a CrossFilter transform.\"}]},Object(se.z)(fE,Lo,{transform(e,t){const n=~(e.ignore||0),i=e.filter,r=i.mask;if(0==(r&n))return t.StopPropagation;const o=t.fork(t.ALL),a=i.data(),s=i.curr(),l=i.prev(),u=e=>s[e]&n?null:a[e];return o.filter(o.MOD,u),r&r-1?(o.filter(o.ADD,e=>{const t=s[e]&n;return!t&&t^l[e]&n?a[e]:null}),o.filter(o.REM,e=>{const t=s[e]&n;return t&&!(t^t^l[e]&n)?a[e]:null})):(o.filter(o.ADD,u),o.filter(o.REM,e=>(s[e]&n)===r?a[e]:null)),o.filter(o.SOURCE,e=>u(e._index))}});var pE=n(142);function gE(e,t){e&&(null==t?e.removeAttribute(\"aria-label\"):e.setAttribute(\"aria-label\",t))}function mE(e,t){const n=e.globalCursor()?\"undefined\"!=typeof document&&document.body:e.container();if(n)return null==t?n.style.removeProperty(\"cursor\"):n.style.cursor=t}function vE(e,t){var n=e._runtime.data;return Object(se.w)(n,t)||Object(se.o)(\"Unrecognized data set: \"+t),n[t]}function yE(e,t){_e(t)||Object(se.o)(\"Second argument to changes must be a changeset.\");var n=vE(this,e);return n.modified=!0,this.pulse(n.input,t)}function bE(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function _E(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function wE(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}var xE=function(e,t,n){var i,r,o,a=e._renderer,s=a&&a.canvas();return s&&(o=wE(e),r=t.changedTouches?t.changedTouches[0]:t,(i=Lh(r,s))[0]-=o[0],i[1]-=o[1]),t.dataflow=e,t.item=n,t.vega=function(e,t,n){var i=t?\"group\"===t.mark.marktype?t:t.mark.group:null;function r(e){var n,r=i;if(e)for(n=t;n;n=n.mark.group)if(n.mark.name===e){r=n;break}return r&&r.mark&&r.mark.interactive?r:{}}function o(e){if(!e)return n;Object(se.I)(e)&&(e=r(e));for(var t=n.slice();e;)t[0]-=e.x||0,t[1]-=e.y||0,e=e.mark&&e.mark.group;return t}return{view:Object(se.m)(e),item:Object(se.m)(t||{}),group:r,xy:o,x:function(e){return o(e)[0]},y:function(e){return o(e)[1]}}}(e,n,i),t};const kE={trap:!1};function OE(e,t,n){const i=e._eventConfig&&e._eventConfig[t];return!(!1===i||Object(se.G)(i)&&!i[n])||(e.warn(`Blocked ${t} ${n} event listener.`),!1)}function EE(e){return e.item}function SE(e){return e.item.mark.source}function DE(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}var jE=function(e,t,n){var i=document.createElement(e);for(var r in t)i.setAttribute(r,t[r]);return null!=n&&(i.textContent=n),i};var CE=function(e,t,n){if(!t)return;const i=n.param;let r=n.state;return r||(r=n.state={elements:null,active:!1,set:null,update:t=>{t!==e.signal(i.signal)&&e.runAsync(null,()=>{r.source=!0,e.signal(i.signal,t)})}},i.debounce&&(r.update=Object(se.n)(i.debounce,r.update))),function(e,t,n,i){const r=jE(\"div\",{class:\"vega-bind\"}),o=\"radio\"===n.input?r:r.appendChild(jE(\"label\"));o.appendChild(jE(\"span\",{class:\"vega-bind-name\"},n.name||n.signal)),t.appendChild(r);let a=ME;switch(n.input){case\"checkbox\":a=TE;break;case\"select\":a=AE;break;case\"radio\":a=FE;break;case\"range\":a=PE}a(e,o,n,i)}(r,t,i,e.signal(i.signal)),r.active||(e.on(e._signals[i.signal],null,()=>{r.source?r.source=!1:r.set(e.signal(i.signal))}),r.active=!0),r};function ME(e,t,n,i){const r=jE(\"input\");for(const e in n)\"signal\"!==e&&\"element\"!==e&&r.setAttribute(\"input\"===e?\"type\":e,n[e]);r.setAttribute(\"name\",n.signal),r.value=i,t.appendChild(r),r.addEventListener(\"input\",()=>e.update(r.value)),e.elements=[r],e.set=e=>r.value=e}function TE(e,t,n,i){const r={type:\"checkbox\",name:n.signal};i&&(r.checked=!0);const o=jE(\"input\",r);t.appendChild(o),o.addEventListener(\"change\",()=>e.update(o.checked)),e.elements=[o],e.set=e=>o.checked=!!e||null}function AE(e,t,n,i){const r=jE(\"select\",{name:n.signal}),o=n.labels||[];n.options.forEach((e,t)=>{const n={value:e};NE(e,i)&&(n.selected=!0),r.appendChild(jE(\"option\",n,(o[t]||e)+\"\"))}),t.appendChild(r),r.addEventListener(\"change\",()=>{e.update(n.options[r.selectedIndex])}),e.elements=[r],e.set=e=>{for(let t=0,i=n.options.length;t<i;++t)if(NE(n.options[t],e))return void(r.selectedIndex=t)}}function FE(e,t,n,i){const r=jE(\"span\",{class:\"vega-bind-radio\"}),o=n.labels||[];t.appendChild(r),e.elements=n.options.map((t,a)=>{const s={type:\"radio\",name:n.signal,value:t};NE(t,i)&&(s.checked=!0);const l=jE(\"input\",s);l.addEventListener(\"change\",()=>e.update(t));const u=jE(\"label\",{},(o[a]||t)+\"\");return u.prepend(l),r.appendChild(u),l}),e.set=t=>{const n=e.elements,i=n.length;for(let e=0;e<i;++e)NE(n[e].value,t)&&(n[e].checked=!0)}}function PE(e,t,n,i){i=void 0!==i?i:(+n.max+ +n.min)/2;const r=null!=n.max?n.max:Math.max(100,+i)||100,o=n.min||Math.min(0,r,+i)||0,a=n.step||wt(o,r,100),s=jE(\"input\",{type:\"range\",name:n.signal,min:o,max:r,step:a});s.value=i;const l=jE(\"span\",{},+i);t.appendChild(s),t.appendChild(l);const u=()=>{l.textContent=s.value,e.update(+s.value)};s.addEventListener(\"input\",u),s.addEventListener(\"change\",u),e.elements=[s],e.set=e=>{s.value=e,l.textContent=e}}function NE(e,t){return e===t||e+\"\"==t+\"\"}var zE=function(e,t,n,i,r,o){return(t=t||new i(e.loader())).initialize(n,bE(e),_E(e),wE(e),r,o).background(e.background())},RE=function(e,t){return t?function(){try{t.apply(this,arguments)}catch(t){e.error(t)}}:null};function IE(e,t){if(\"string\"==typeof t){if(\"undefined\"==typeof document)return e.error(\"DOM document instance not found.\"),null;if(!(t=document.querySelector(t)))return e.error(\"Signal bind element not found: \"+t),null}if(t)try{t.innerHTML=\"\"}catch(n){t=null,e.error(n)}return t}const BE=e=>+e||0;var LE=function(e){return Object(se.G)(e)?{top:BE(e.top),bottom:BE(e.bottom),left:BE(e.left),right:BE(e.right)}:(e=>({top:e,bottom:e,left:e,right:e}))(BE(e))},$E=async function(e,t,n,i){const r=pv(t),o=r&&r.headless;return o||Object(se.o)(\"Unrecognized renderer type: \"+t),await e.runAsync(),zE(e,null,null,o,n,i).renderAsync(e._scenegraph.root)};function WE(e){const t=this.context.data[e];return t?t.values.value:[]}const UE=e=>function(t,n){return this.context.dataflow.locale()[e](n)(t)},YE=UE(\"format\"),HE=UE(\"timeFormat\"),qE=UE(\"utcFormat\"),VE=UE(\"timeParse\"),GE=UE(\"utcParse\"),XE=new Date(2e3,0,1);function ZE(e,t,n){return Number.isInteger(e)&&Number.isInteger(t)?(XE.setYear(2e3),XE.setMonth(e),XE.setDate(t),HE.call(this,XE,n)):\"\"}function QE(e){this.type=e}var JE,KE,eS,tS,nS;QE.prototype.visit=function(e){let t,n,i;if(e(this))return 1;for(t=function(e){switch(e.type){case\"ArrayExpression\":return e.elements;case\"BinaryExpression\":case\"LogicalExpression\":return[e.left,e.right];case\"CallExpression\":return[e.callee].concat(e.arguments);case\"ConditionalExpression\":return[e.test,e.consequent,e.alternate];case\"MemberExpression\":return[e.object,e.property];case\"ObjectExpression\":return e.properties;case\"Property\":return[e.key,e.value];case\"UnaryExpression\":return[e.argument];case\"Identifier\":case\"Literal\":case\"RawCode\":default:return[]}}(this),n=0,i=t.length;n<i;++n)if(t[n].visit(e))return 1};(JE={})[1]=\"Boolean\",JE[2]=\"<end>\",JE[3]=\"Identifier\",JE[4]=\"Keyword\",JE[5]=\"Null\",JE[6]=\"Numeric\",JE[7]=\"Punctuator\",JE[8]=\"String\",JE[9]=\"RegularExpression\";var iS=\"ILLEGAL\",rS=new RegExp(\"[\\\\xAA\\\\xB5\\\\xBA\\\\xC0-\\\\xD6\\\\xD8-\\\\xF6\\\\xF8-\\\\u02C1\\\\u02C6-\\\\u02D1\\\\u02E0-\\\\u02E4\\\\u02EC\\\\u02EE\\\\u0370-\\\\u0374\\\\u0376\\\\u0377\\\\u037A-\\\\u037D\\\\u037F\\\\u0386\\\\u0388-\\\\u038A\\\\u038C\\\\u038E-\\\\u03A1\\\\u03A3-\\\\u03F5\\\\u03F7-\\\\u0481\\\\u048A-\\\\u052F\\\\u0531-\\\\u0556\\\\u0559\\\\u0561-\\\\u0587\\\\u05D0-\\\\u05EA\\\\u05F0-\\\\u05F2\\\\u0620-\\\\u064A\\\\u066E\\\\u066F\\\\u0671-\\\\u06D3\\\\u06D5\\\\u06E5\\\\u06E6\\\\u06EE\\\\u06EF\\\\u06FA-\\\\u06FC\\\\u06FF\\\\u0710\\\\u0712-\\\\u072F\\\\u074D-\\\\u07A5\\\\u07B1\\\\u07CA-\\\\u07EA\\\\u07F4\\\\u07F5\\\\u07FA\\\\u0800-\\\\u0815\\\\u081A\\\\u0824\\\\u0828\\\\u0840-\\\\u0858\\\\u08A0-\\\\u08B2\\\\u0904-\\\\u0939\\\\u093D\\\\u0950\\\\u0958-\\\\u0961\\\\u0971-\\\\u0980\\\\u0985-\\\\u098C\\\\u098F\\\\u0990\\\\u0993-\\\\u09A8\\\\u09AA-\\\\u09B0\\\\u09B2\\\\u09B6-\\\\u09B9\\\\u09BD\\\\u09CE\\\\u09DC\\\\u09DD\\\\u09DF-\\\\u09E1\\\\u09F0\\\\u09F1\\\\u0A05-\\\\u0A0A\\\\u0A0F\\\\u0A10\\\\u0A13-\\\\u0A28\\\\u0A2A-\\\\u0A30\\\\u0A32\\\\u0A33\\\\u0A35\\\\u0A36\\\\u0A38\\\\u0A39\\\\u0A59-\\\\u0A5C\\\\u0A5E\\\\u0A72-\\\\u0A74\\\\u0A85-\\\\u0A8D\\\\u0A8F-\\\\u0A91\\\\u0A93-\\\\u0AA8\\\\u0AAA-\\\\u0AB0\\\\u0AB2\\\\u0AB3\\\\u0AB5-\\\\u0AB9\\\\u0ABD\\\\u0AD0\\\\u0AE0\\\\u0AE1\\\\u0B05-\\\\u0B0C\\\\u0B0F\\\\u0B10\\\\u0B13-\\\\u0B28\\\\u0B2A-\\\\u0B30\\\\u0B32\\\\u0B33\\\\u0B35-\\\\u0B39\\\\u0B3D\\\\u0B5C\\\\u0B5D\\\\u0B5F-\\\\u0B61\\\\u0B71\\\\u0B83\\\\u0B85-\\\\u0B8A\\\\u0B8E-\\\\u0B90\\\\u0B92-\\\\u0B95\\\\u0B99\\\\u0B9A\\\\u0B9C\\\\u0B9E\\\\u0B9F\\\\u0BA3\\\\u0BA4\\\\u0BA8-\\\\u0BAA\\\\u0BAE-\\\\u0BB9\\\\u0BD0\\\\u0C05-\\\\u0C0C\\\\u0C0E-\\\\u0C10\\\\u0C12-\\\\u0C28\\\\u0C2A-\\\\u0C39\\\\u0C3D\\\\u0C58\\\\u0C59\\\\u0C60\\\\u0C61\\\\u0C85-\\\\u0C8C\\\\u0C8E-\\\\u0C90\\\\u0C92-\\\\u0CA8\\\\u0CAA-\\\\u0CB3\\\\u0CB5-\\\\u0CB9\\\\u0CBD\\\\u0CDE\\\\u0CE0\\\\u0CE1\\\\u0CF1\\\\u0CF2\\\\u0D05-\\\\u0D0C\\\\u0D0E-\\\\u0D10\\\\u0D12-\\\\u0D3A\\\\u0D3D\\\\u0D4E\\\\u0D60\\\\u0D61\\\\u0D7A-\\\\u0D7F\\\\u0D85-\\\\u0D96\\\\u0D9A-\\\\u0DB1\\\\u0DB3-\\\\u0DBB\\\\u0DBD\\\\u0DC0-\\\\u0DC6\\\\u0E01-\\\\u0E30\\\\u0E32\\\\u0E33\\\\u0E40-\\\\u0E46\\\\u0E81\\\\u0E82\\\\u0E84\\\\u0E87\\\\u0E88\\\\u0E8A\\\\u0E8D\\\\u0E94-\\\\u0E97\\\\u0E99-\\\\u0E9F\\\\u0EA1-\\\\u0EA3\\\\u0EA5\\\\u0EA7\\\\u0EAA\\\\u0EAB\\\\u0EAD-\\\\u0EB0\\\\u0EB2\\\\u0EB3\\\\u0EBD\\\\u0EC0-\\\\u0EC4\\\\u0EC6\\\\u0EDC-\\\\u0EDF\\\\u0F00\\\\u0F40-\\\\u0F47\\\\u0F49-\\\\u0F6C\\\\u0F88-\\\\u0F8C\\\\u1000-\\\\u102A\\\\u103F\\\\u1050-\\\\u1055\\\\u105A-\\\\u105D\\\\u1061\\\\u1065\\\\u1066\\\\u106E-\\\\u1070\\\\u1075-\\\\u1081\\\\u108E\\\\u10A0-\\\\u10C5\\\\u10C7\\\\u10CD\\\\u10D0-\\\\u10FA\\\\u10FC-\\\\u1248\\\\u124A-\\\\u124D\\\\u1250-\\\\u1256\\\\u1258\\\\u125A-\\\\u125D\\\\u1260-\\\\u1288\\\\u128A-\\\\u128D\\\\u1290-\\\\u12B0\\\\u12B2-\\\\u12B5\\\\u12B8-\\\\u12BE\\\\u12C0\\\\u12C2-\\\\u12C5\\\\u12C8-\\\\u12D6\\\\u12D8-\\\\u1310\\\\u1312-\\\\u1315\\\\u1318-\\\\u135A\\\\u1380-\\\\u138F\\\\u13A0-\\\\u13F4\\\\u1401-\\\\u166C\\\\u166F-\\\\u167F\\\\u1681-\\\\u169A\\\\u16A0-\\\\u16EA\\\\u16EE-\\\\u16F8\\\\u1700-\\\\u170C\\\\u170E-\\\\u1711\\\\u1720-\\\\u1731\\\\u1740-\\\\u1751\\\\u1760-\\\\u176C\\\\u176E-\\\\u1770\\\\u1780-\\\\u17B3\\\\u17D7\\\\u17DC\\\\u1820-\\\\u1877\\\\u1880-\\\\u18A8\\\\u18AA\\\\u18B0-\\\\u18F5\\\\u1900-\\\\u191E\\\\u1950-\\\\u196D\\\\u1970-\\\\u1974\\\\u1980-\\\\u19AB\\\\u19C1-\\\\u19C7\\\\u1A00-\\\\u1A16\\\\u1A20-\\\\u1A54\\\\u1AA7\\\\u1B05-\\\\u1B33\\\\u1B45-\\\\u1B4B\\\\u1B83-\\\\u1BA0\\\\u1BAE\\\\u1BAF\\\\u1BBA-\\\\u1BE5\\\\u1C00-\\\\u1C23\\\\u1C4D-\\\\u1C4F\\\\u1C5A-\\\\u1C7D\\\\u1CE9-\\\\u1CEC\\\\u1CEE-\\\\u1CF1\\\\u1CF5\\\\u1CF6\\\\u1D00-\\\\u1DBF\\\\u1E00-\\\\u1F15\\\\u1F18-\\\\u1F1D\\\\u1F20-\\\\u1F45\\\\u1F48-\\\\u1F4D\\\\u1F50-\\\\u1F57\\\\u1F59\\\\u1F5B\\\\u1F5D\\\\u1F5F-\\\\u1F7D\\\\u1F80-\\\\u1FB4\\\\u1FB6-\\\\u1FBC\\\\u1FBE\\\\u1FC2-\\\\u1FC4\\\\u1FC6-\\\\u1FCC\\\\u1FD0-\\\\u1FD3\\\\u1FD6-\\\\u1FDB\\\\u1FE0-\\\\u1FEC\\\\u1FF2-\\\\u1FF4\\\\u1FF6-\\\\u1FFC\\\\u2071\\\\u207F\\\\u2090-\\\\u209C\\\\u2102\\\\u2107\\\\u210A-\\\\u2113\\\\u2115\\\\u2119-\\\\u211D\\\\u2124\\\\u2126\\\\u2128\\\\u212A-\\\\u212D\\\\u212F-\\\\u2139\\\\u213C-\\\\u213F\\\\u2145-\\\\u2149\\\\u214E\\\\u2160-\\\\u2188\\\\u2C00-\\\\u2C2E\\\\u2C30-\\\\u2C5E\\\\u2C60-\\\\u2CE4\\\\u2CEB-\\\\u2CEE\\\\u2CF2\\\\u2CF3\\\\u2D00-\\\\u2D25\\\\u2D27\\\\u2D2D\\\\u2D30-\\\\u2D67\\\\u2D6F\\\\u2D80-\\\\u2D96\\\\u2DA0-\\\\u2DA6\\\\u2DA8-\\\\u2DAE\\\\u2DB0-\\\\u2DB6\\\\u2DB8-\\\\u2DBE\\\\u2DC0-\\\\u2DC6\\\\u2DC8-\\\\u2DCE\\\\u2DD0-\\\\u2DD6\\\\u2DD8-\\\\u2DDE\\\\u2E2F\\\\u3005-\\\\u3007\\\\u3021-\\\\u3029\\\\u3031-\\\\u3035\\\\u3038-\\\\u303C\\\\u3041-\\\\u3096\\\\u309D-\\\\u309F\\\\u30A1-\\\\u30FA\\\\u30FC-\\\\u30FF\\\\u3105-\\\\u312D\\\\u3131-\\\\u318E\\\\u31A0-\\\\u31BA\\\\u31F0-\\\\u31FF\\\\u3400-\\\\u4DB5\\\\u4E00-\\\\u9FCC\\\\uA000-\\\\uA48C\\\\uA4D0-\\\\uA4FD\\\\uA500-\\\\uA60C\\\\uA610-\\\\uA61F\\\\uA62A\\\\uA62B\\\\uA640-\\\\uA66E\\\\uA67F-\\\\uA69D\\\\uA6A0-\\\\uA6EF\\\\uA717-\\\\uA71F\\\\uA722-\\\\uA788\\\\uA78B-\\\\uA78E\\\\uA790-\\\\uA7AD\\\\uA7B0\\\\uA7B1\\\\uA7F7-\\\\uA801\\\\uA803-\\\\uA805\\\\uA807-\\\\uA80A\\\\uA80C-\\\\uA822\\\\uA840-\\\\uA873\\\\uA882-\\\\uA8B3\\\\uA8F2-\\\\uA8F7\\\\uA8FB\\\\uA90A-\\\\uA925\\\\uA930-\\\\uA946\\\\uA960-\\\\uA97C\\\\uA984-\\\\uA9B2\\\\uA9CF\\\\uA9E0-\\\\uA9E4\\\\uA9E6-\\\\uA9EF\\\\uA9FA-\\\\uA9FE\\\\uAA00-\\\\uAA28\\\\uAA40-\\\\uAA42\\\\uAA44-\\\\uAA4B\\\\uAA60-\\\\uAA76\\\\uAA7A\\\\uAA7E-\\\\uAAAF\\\\uAAB1\\\\uAAB5\\\\uAAB6\\\\uAAB9-\\\\uAABD\\\\uAAC0\\\\uAAC2\\\\uAADB-\\\\uAADD\\\\uAAE0-\\\\uAAEA\\\\uAAF2-\\\\uAAF4\\\\uAB01-\\\\uAB06\\\\uAB09-\\\\uAB0E\\\\uAB11-\\\\uAB16\\\\uAB20-\\\\uAB26\\\\uAB28-\\\\uAB2E\\\\uAB30-\\\\uAB5A\\\\uAB5C-\\\\uAB5F\\\\uAB64\\\\uAB65\\\\uABC0-\\\\uABE2\\\\uAC00-\\\\uD7A3\\\\uD7B0-\\\\uD7C6\\\\uD7CB-\\\\uD7FB\\\\uF900-\\\\uFA6D\\\\uFA70-\\\\uFAD9\\\\uFB00-\\\\uFB06\\\\uFB13-\\\\uFB17\\\\uFB1D\\\\uFB1F-\\\\uFB28\\\\uFB2A-\\\\uFB36\\\\uFB38-\\\\uFB3C\\\\uFB3E\\\\uFB40\\\\uFB41\\\\uFB43\\\\uFB44\\\\uFB46-\\\\uFBB1\\\\uFBD3-\\\\uFD3D\\\\uFD50-\\\\uFD8F\\\\uFD92-\\\\uFDC7\\\\uFDF0-\\\\uFDFB\\\\uFE70-\\\\uFE74\\\\uFE76-\\\\uFEFC\\\\uFF21-\\\\uFF3A\\\\uFF41-\\\\uFF5A\\\\uFF66-\\\\uFFBE\\\\uFFC2-\\\\uFFC7\\\\uFFCA-\\\\uFFCF\\\\uFFD2-\\\\uFFD7\\\\uFFDA-\\\\uFFDC]\"),oS=new RegExp(\"[\\\\xAA\\\\xB5\\\\xBA\\\\xC0-\\\\xD6\\\\xD8-\\\\xF6\\\\xF8-\\\\u02C1\\\\u02C6-\\\\u02D1\\\\u02E0-\\\\u02E4\\\\u02EC\\\\u02EE\\\\u0300-\\\\u0374\\\\u0376\\\\u0377\\\\u037A-\\\\u037D\\\\u037F\\\\u0386\\\\u0388-\\\\u038A\\\\u038C\\\\u038E-\\\\u03A1\\\\u03A3-\\\\u03F5\\\\u03F7-\\\\u0481\\\\u0483-\\\\u0487\\\\u048A-\\\\u052F\\\\u0531-\\\\u0556\\\\u0559\\\\u0561-\\\\u0587\\\\u0591-\\\\u05BD\\\\u05BF\\\\u05C1\\\\u05C2\\\\u05C4\\\\u05C5\\\\u05C7\\\\u05D0-\\\\u05EA\\\\u05F0-\\\\u05F2\\\\u0610-\\\\u061A\\\\u0620-\\\\u0669\\\\u066E-\\\\u06D3\\\\u06D5-\\\\u06DC\\\\u06DF-\\\\u06E8\\\\u06EA-\\\\u06FC\\\\u06FF\\\\u0710-\\\\u074A\\\\u074D-\\\\u07B1\\\\u07C0-\\\\u07F5\\\\u07FA\\\\u0800-\\\\u082D\\\\u0840-\\\\u085B\\\\u08A0-\\\\u08B2\\\\u08E4-\\\\u0963\\\\u0966-\\\\u096F\\\\u0971-\\\\u0983\\\\u0985-\\\\u098C\\\\u098F\\\\u0990\\\\u0993-\\\\u09A8\\\\u09AA-\\\\u09B0\\\\u09B2\\\\u09B6-\\\\u09B9\\\\u09BC-\\\\u09C4\\\\u09C7\\\\u09C8\\\\u09CB-\\\\u09CE\\\\u09D7\\\\u09DC\\\\u09DD\\\\u09DF-\\\\u09E3\\\\u09E6-\\\\u09F1\\\\u0A01-\\\\u0A03\\\\u0A05-\\\\u0A0A\\\\u0A0F\\\\u0A10\\\\u0A13-\\\\u0A28\\\\u0A2A-\\\\u0A30\\\\u0A32\\\\u0A33\\\\u0A35\\\\u0A36\\\\u0A38\\\\u0A39\\\\u0A3C\\\\u0A3E-\\\\u0A42\\\\u0A47\\\\u0A48\\\\u0A4B-\\\\u0A4D\\\\u0A51\\\\u0A59-\\\\u0A5C\\\\u0A5E\\\\u0A66-\\\\u0A75\\\\u0A81-\\\\u0A83\\\\u0A85-\\\\u0A8D\\\\u0A8F-\\\\u0A91\\\\u0A93-\\\\u0AA8\\\\u0AAA-\\\\u0AB0\\\\u0AB2\\\\u0AB3\\\\u0AB5-\\\\u0AB9\\\\u0ABC-\\\\u0AC5\\\\u0AC7-\\\\u0AC9\\\\u0ACB-\\\\u0ACD\\\\u0AD0\\\\u0AE0-\\\\u0AE3\\\\u0AE6-\\\\u0AEF\\\\u0B01-\\\\u0B03\\\\u0B05-\\\\u0B0C\\\\u0B0F\\\\u0B10\\\\u0B13-\\\\u0B28\\\\u0B2A-\\\\u0B30\\\\u0B32\\\\u0B33\\\\u0B35-\\\\u0B39\\\\u0B3C-\\\\u0B44\\\\u0B47\\\\u0B48\\\\u0B4B-\\\\u0B4D\\\\u0B56\\\\u0B57\\\\u0B5C\\\\u0B5D\\\\u0B5F-\\\\u0B63\\\\u0B66-\\\\u0B6F\\\\u0B71\\\\u0B82\\\\u0B83\\\\u0B85-\\\\u0B8A\\\\u0B8E-\\\\u0B90\\\\u0B92-\\\\u0B95\\\\u0B99\\\\u0B9A\\\\u0B9C\\\\u0B9E\\\\u0B9F\\\\u0BA3\\\\u0BA4\\\\u0BA8-\\\\u0BAA\\\\u0BAE-\\\\u0BB9\\\\u0BBE-\\\\u0BC2\\\\u0BC6-\\\\u0BC8\\\\u0BCA-\\\\u0BCD\\\\u0BD0\\\\u0BD7\\\\u0BE6-\\\\u0BEF\\\\u0C00-\\\\u0C03\\\\u0C05-\\\\u0C0C\\\\u0C0E-\\\\u0C10\\\\u0C12-\\\\u0C28\\\\u0C2A-\\\\u0C39\\\\u0C3D-\\\\u0C44\\\\u0C46-\\\\u0C48\\\\u0C4A-\\\\u0C4D\\\\u0C55\\\\u0C56\\\\u0C58\\\\u0C59\\\\u0C60-\\\\u0C63\\\\u0C66-\\\\u0C6F\\\\u0C81-\\\\u0C83\\\\u0C85-\\\\u0C8C\\\\u0C8E-\\\\u0C90\\\\u0C92-\\\\u0CA8\\\\u0CAA-\\\\u0CB3\\\\u0CB5-\\\\u0CB9\\\\u0CBC-\\\\u0CC4\\\\u0CC6-\\\\u0CC8\\\\u0CCA-\\\\u0CCD\\\\u0CD5\\\\u0CD6\\\\u0CDE\\\\u0CE0-\\\\u0CE3\\\\u0CE6-\\\\u0CEF\\\\u0CF1\\\\u0CF2\\\\u0D01-\\\\u0D03\\\\u0D05-\\\\u0D0C\\\\u0D0E-\\\\u0D10\\\\u0D12-\\\\u0D3A\\\\u0D3D-\\\\u0D44\\\\u0D46-\\\\u0D48\\\\u0D4A-\\\\u0D4E\\\\u0D57\\\\u0D60-\\\\u0D63\\\\u0D66-\\\\u0D6F\\\\u0D7A-\\\\u0D7F\\\\u0D82\\\\u0D83\\\\u0D85-\\\\u0D96\\\\u0D9A-\\\\u0DB1\\\\u0DB3-\\\\u0DBB\\\\u0DBD\\\\u0DC0-\\\\u0DC6\\\\u0DCA\\\\u0DCF-\\\\u0DD4\\\\u0DD6\\\\u0DD8-\\\\u0DDF\\\\u0DE6-\\\\u0DEF\\\\u0DF2\\\\u0DF3\\\\u0E01-\\\\u0E3A\\\\u0E40-\\\\u0E4E\\\\u0E50-\\\\u0E59\\\\u0E81\\\\u0E82\\\\u0E84\\\\u0E87\\\\u0E88\\\\u0E8A\\\\u0E8D\\\\u0E94-\\\\u0E97\\\\u0E99-\\\\u0E9F\\\\u0EA1-\\\\u0EA3\\\\u0EA5\\\\u0EA7\\\\u0EAA\\\\u0EAB\\\\u0EAD-\\\\u0EB9\\\\u0EBB-\\\\u0EBD\\\\u0EC0-\\\\u0EC4\\\\u0EC6\\\\u0EC8-\\\\u0ECD\\\\u0ED0-\\\\u0ED9\\\\u0EDC-\\\\u0EDF\\\\u0F00\\\\u0F18\\\\u0F19\\\\u0F20-\\\\u0F29\\\\u0F35\\\\u0F37\\\\u0F39\\\\u0F3E-\\\\u0F47\\\\u0F49-\\\\u0F6C\\\\u0F71-\\\\u0F84\\\\u0F86-\\\\u0F97\\\\u0F99-\\\\u0FBC\\\\u0FC6\\\\u1000-\\\\u1049\\\\u1050-\\\\u109D\\\\u10A0-\\\\u10C5\\\\u10C7\\\\u10CD\\\\u10D0-\\\\u10FA\\\\u10FC-\\\\u1248\\\\u124A-\\\\u124D\\\\u1250-\\\\u1256\\\\u1258\\\\u125A-\\\\u125D\\\\u1260-\\\\u1288\\\\u128A-\\\\u128D\\\\u1290-\\\\u12B0\\\\u12B2-\\\\u12B5\\\\u12B8-\\\\u12BE\\\\u12C0\\\\u12C2-\\\\u12C5\\\\u12C8-\\\\u12D6\\\\u12D8-\\\\u1310\\\\u1312-\\\\u1315\\\\u1318-\\\\u135A\\\\u135D-\\\\u135F\\\\u1380-\\\\u138F\\\\u13A0-\\\\u13F4\\\\u1401-\\\\u166C\\\\u166F-\\\\u167F\\\\u1681-\\\\u169A\\\\u16A0-\\\\u16EA\\\\u16EE-\\\\u16F8\\\\u1700-\\\\u170C\\\\u170E-\\\\u1714\\\\u1720-\\\\u1734\\\\u1740-\\\\u1753\\\\u1760-\\\\u176C\\\\u176E-\\\\u1770\\\\u1772\\\\u1773\\\\u1780-\\\\u17D3\\\\u17D7\\\\u17DC\\\\u17DD\\\\u17E0-\\\\u17E9\\\\u180B-\\\\u180D\\\\u1810-\\\\u1819\\\\u1820-\\\\u1877\\\\u1880-\\\\u18AA\\\\u18B0-\\\\u18F5\\\\u1900-\\\\u191E\\\\u1920-\\\\u192B\\\\u1930-\\\\u193B\\\\u1946-\\\\u196D\\\\u1970-\\\\u1974\\\\u1980-\\\\u19AB\\\\u19B0-\\\\u19C9\\\\u19D0-\\\\u19D9\\\\u1A00-\\\\u1A1B\\\\u1A20-\\\\u1A5E\\\\u1A60-\\\\u1A7C\\\\u1A7F-\\\\u1A89\\\\u1A90-\\\\u1A99\\\\u1AA7\\\\u1AB0-\\\\u1ABD\\\\u1B00-\\\\u1B4B\\\\u1B50-\\\\u1B59\\\\u1B6B-\\\\u1B73\\\\u1B80-\\\\u1BF3\\\\u1C00-\\\\u1C37\\\\u1C40-\\\\u1C49\\\\u1C4D-\\\\u1C7D\\\\u1CD0-\\\\u1CD2\\\\u1CD4-\\\\u1CF6\\\\u1CF8\\\\u1CF9\\\\u1D00-\\\\u1DF5\\\\u1DFC-\\\\u1F15\\\\u1F18-\\\\u1F1D\\\\u1F20-\\\\u1F45\\\\u1F48-\\\\u1F4D\\\\u1F50-\\\\u1F57\\\\u1F59\\\\u1F5B\\\\u1F5D\\\\u1F5F-\\\\u1F7D\\\\u1F80-\\\\u1FB4\\\\u1FB6-\\\\u1FBC\\\\u1FBE\\\\u1FC2-\\\\u1FC4\\\\u1FC6-\\\\u1FCC\\\\u1FD0-\\\\u1FD3\\\\u1FD6-\\\\u1FDB\\\\u1FE0-\\\\u1FEC\\\\u1FF2-\\\\u1FF4\\\\u1FF6-\\\\u1FFC\\\\u200C\\\\u200D\\\\u203F\\\\u2040\\\\u2054\\\\u2071\\\\u207F\\\\u2090-\\\\u209C\\\\u20D0-\\\\u20DC\\\\u20E1\\\\u20E5-\\\\u20F0\\\\u2102\\\\u2107\\\\u210A-\\\\u2113\\\\u2115\\\\u2119-\\\\u211D\\\\u2124\\\\u2126\\\\u2128\\\\u212A-\\\\u212D\\\\u212F-\\\\u2139\\\\u213C-\\\\u213F\\\\u2145-\\\\u2149\\\\u214E\\\\u2160-\\\\u2188\\\\u2C00-\\\\u2C2E\\\\u2C30-\\\\u2C5E\\\\u2C60-\\\\u2CE4\\\\u2CEB-\\\\u2CF3\\\\u2D00-\\\\u2D25\\\\u2D27\\\\u2D2D\\\\u2D30-\\\\u2D67\\\\u2D6F\\\\u2D7F-\\\\u2D96\\\\u2DA0-\\\\u2DA6\\\\u2DA8-\\\\u2DAE\\\\u2DB0-\\\\u2DB6\\\\u2DB8-\\\\u2DBE\\\\u2DC0-\\\\u2DC6\\\\u2DC8-\\\\u2DCE\\\\u2DD0-\\\\u2DD6\\\\u2DD8-\\\\u2DDE\\\\u2DE0-\\\\u2DFF\\\\u2E2F\\\\u3005-\\\\u3007\\\\u3021-\\\\u302F\\\\u3031-\\\\u3035\\\\u3038-\\\\u303C\\\\u3041-\\\\u3096\\\\u3099\\\\u309A\\\\u309D-\\\\u309F\\\\u30A1-\\\\u30FA\\\\u30FC-\\\\u30FF\\\\u3105-\\\\u312D\\\\u3131-\\\\u318E\\\\u31A0-\\\\u31BA\\\\u31F0-\\\\u31FF\\\\u3400-\\\\u4DB5\\\\u4E00-\\\\u9FCC\\\\uA000-\\\\uA48C\\\\uA4D0-\\\\uA4FD\\\\uA500-\\\\uA60C\\\\uA610-\\\\uA62B\\\\uA640-\\\\uA66F\\\\uA674-\\\\uA67D\\\\uA67F-\\\\uA69D\\\\uA69F-\\\\uA6F1\\\\uA717-\\\\uA71F\\\\uA722-\\\\uA788\\\\uA78B-\\\\uA78E\\\\uA790-\\\\uA7AD\\\\uA7B0\\\\uA7B1\\\\uA7F7-\\\\uA827\\\\uA840-\\\\uA873\\\\uA880-\\\\uA8C4\\\\uA8D0-\\\\uA8D9\\\\uA8E0-\\\\uA8F7\\\\uA8FB\\\\uA900-\\\\uA92D\\\\uA930-\\\\uA953\\\\uA960-\\\\uA97C\\\\uA980-\\\\uA9C0\\\\uA9CF-\\\\uA9D9\\\\uA9E0-\\\\uA9FE\\\\uAA00-\\\\uAA36\\\\uAA40-\\\\uAA4D\\\\uAA50-\\\\uAA59\\\\uAA60-\\\\uAA76\\\\uAA7A-\\\\uAAC2\\\\uAADB-\\\\uAADD\\\\uAAE0-\\\\uAAEF\\\\uAAF2-\\\\uAAF6\\\\uAB01-\\\\uAB06\\\\uAB09-\\\\uAB0E\\\\uAB11-\\\\uAB16\\\\uAB20-\\\\uAB26\\\\uAB28-\\\\uAB2E\\\\uAB30-\\\\uAB5A\\\\uAB5C-\\\\uAB5F\\\\uAB64\\\\uAB65\\\\uABC0-\\\\uABEA\\\\uABEC\\\\uABED\\\\uABF0-\\\\uABF9\\\\uAC00-\\\\uD7A3\\\\uD7B0-\\\\uD7C6\\\\uD7CB-\\\\uD7FB\\\\uF900-\\\\uFA6D\\\\uFA70-\\\\uFAD9\\\\uFB00-\\\\uFB06\\\\uFB13-\\\\uFB17\\\\uFB1D-\\\\uFB28\\\\uFB2A-\\\\uFB36\\\\uFB38-\\\\uFB3C\\\\uFB3E\\\\uFB40\\\\uFB41\\\\uFB43\\\\uFB44\\\\uFB46-\\\\uFBB1\\\\uFBD3-\\\\uFD3D\\\\uFD50-\\\\uFD8F\\\\uFD92-\\\\uFDC7\\\\uFDF0-\\\\uFDFB\\\\uFE00-\\\\uFE0F\\\\uFE20-\\\\uFE2D\\\\uFE33\\\\uFE34\\\\uFE4D-\\\\uFE4F\\\\uFE70-\\\\uFE74\\\\uFE76-\\\\uFEFC\\\\uFF10-\\\\uFF19\\\\uFF21-\\\\uFF3A\\\\uFF3F\\\\uFF41-\\\\uFF5A\\\\uFF66-\\\\uFFBE\\\\uFFC2-\\\\uFFC7\\\\uFFCA-\\\\uFFCF\\\\uFFD2-\\\\uFFD7\\\\uFFDA-\\\\uFFDC]\");function aS(e,t){if(!e)throw new Error(\"ASSERT: \"+t)}function sS(e){return e>=48&&e<=57}function lS(e){return\"0123456789abcdefABCDEF\".indexOf(e)>=0}function uS(e){return\"01234567\".indexOf(e)>=0}function cS(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function dS(e){return 10===e||13===e||8232===e||8233===e}function hS(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&rS.test(String.fromCharCode(e))}function fS(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&oS.test(String.fromCharCode(e))}var pS={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function gS(){for(var e;eS<tS&&(cS(e=KE.charCodeAt(eS))||dS(e));)++eS}function mS(e){var t,n,i,r=0;for(n=\"u\"===e?4:2,t=0;t<n;++t)eS<tS&&lS(KE[eS])?(i=KE[eS++],r=16*r+\"0123456789abcdef\".indexOf(i.toLowerCase())):AS({},\"Unexpected token %0\",iS);return String.fromCharCode(r)}function vS(){var e,t,n,i;for(t=0,\"}\"===(e=KE[eS])&&AS({},\"Unexpected token %0\",iS);eS<tS&&lS(e=KE[eS++]);)t=16*t+\"0123456789abcdef\".indexOf(e.toLowerCase());return(t>1114111||\"}\"!==e)&&AS({},\"Unexpected token %0\",iS),t<=65535?String.fromCharCode(t):(n=55296+(t-65536>>10),i=56320+(t-65536&1023),String.fromCharCode(n,i))}function yS(){var e,t;for(e=KE.charCodeAt(eS++),t=String.fromCharCode(e),92===e&&(117!==KE.charCodeAt(eS)&&AS({},\"Unexpected token %0\",iS),++eS,(e=mS(\"u\"))&&\"\\\\\"!==e&&hS(e.charCodeAt(0))||AS({},\"Unexpected token %0\",iS),t=e);eS<tS&&fS(e=KE.charCodeAt(eS));)++eS,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==KE.charCodeAt(eS)&&AS({},\"Unexpected token %0\",iS),++eS,(e=mS(\"u\"))&&\"\\\\\"!==e&&fS(e.charCodeAt(0))||AS({},\"Unexpected token %0\",iS),t+=e);return t}function bS(){var e,t;return e=eS,{type:1===(t=92===KE.charCodeAt(eS)?yS():function(){var e,t;for(e=eS++;eS<tS;){if(92===(t=KE.charCodeAt(eS)))return eS=e,yS();if(!fS(t))break;++eS}return KE.slice(e,eS)}()).length?3:pS.hasOwnProperty(t)?4:\"null\"===t?5:\"true\"===t||\"false\"===t?1:3,value:t,start:e,end:eS}}function _S(){var e,t,n,i,r=eS,o=KE.charCodeAt(eS),a=KE[eS];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++eS,{type:7,value:String.fromCharCode(o),start:r,end:eS};default:if(61===(e=KE.charCodeAt(eS+1)))switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return eS+=2,{type:7,value:String.fromCharCode(o)+String.fromCharCode(e),start:r,end:eS};case 33:case 61:return eS+=2,61===KE.charCodeAt(eS)&&++eS,{type:7,value:KE.slice(r,eS),start:r,end:eS}}}return\">>>=\"===(i=KE.substr(eS,4))?{type:7,value:i,start:r,end:eS+=4}:\">>>\"===(n=i.substr(0,3))||\"<<=\"===n||\">>=\"===n?{type:7,value:n,start:r,end:eS+=3}:a===(t=n.substr(0,2))[1]&&\"+-<>&|\".indexOf(a)>=0||\"=>\"===t?{type:7,value:t,start:r,end:eS+=2}:\"<>=!+-*%&|^/\".indexOf(a)>=0?{type:7,value:a,start:r,end:++eS}:void AS({},\"Unexpected token %0\",iS)}function wS(){var e,t,n;if(aS(sS((n=KE[eS]).charCodeAt(0))||\".\"===n,\"Numeric literal must start with a decimal digit or a decimal point\"),t=eS,e=\"\",\".\"!==n){if(e=KE[eS++],n=KE[eS],\"0\"===e){if(\"x\"===n||\"X\"===n)return++eS,function(e){for(var t=\"\";eS<tS&&lS(KE[eS]);)t+=KE[eS++];return 0===t.length&&AS({},\"Unexpected token %0\",iS),hS(KE.charCodeAt(eS))&&AS({},\"Unexpected token %0\",iS),{type:6,value:parseInt(\"0x\"+t,16),start:e,end:eS}}(t);if(uS(n))return function(e){for(var t=\"0\"+KE[eS++];eS<tS&&uS(KE[eS]);)t+=KE[eS++];return(hS(KE.charCodeAt(eS))||sS(KE.charCodeAt(eS)))&&AS({},\"Unexpected token %0\",iS),{type:6,value:parseInt(t,8),octal:!0,start:e,end:eS}}(t);n&&sS(n.charCodeAt(0))&&AS({},\"Unexpected token %0\",iS)}for(;sS(KE.charCodeAt(eS));)e+=KE[eS++];n=KE[eS]}if(\".\"===n){for(e+=KE[eS++];sS(KE.charCodeAt(eS));)e+=KE[eS++];n=KE[eS]}if(\"e\"===n||\"E\"===n)if(e+=KE[eS++],\"+\"!==(n=KE[eS])&&\"-\"!==n||(e+=KE[eS++]),sS(KE.charCodeAt(eS)))for(;sS(KE.charCodeAt(eS));)e+=KE[eS++];else AS({},\"Unexpected token %0\",iS);return hS(KE.charCodeAt(eS))&&AS({},\"Unexpected token %0\",iS),{type:6,value:parseFloat(e),start:t,end:eS}}function xS(){var e,t,n,i;return nS=null,gS(),e=eS,t=function(){var e,t,n,i;for(aS(\"/\"===(e=KE[eS]),\"Regular expression literal must start with a slash\"),t=KE[eS++],n=!1,i=!1;eS<tS;)if(t+=e=KE[eS++],\"\\\\\"===e)dS((e=KE[eS++]).charCodeAt(0))&&AS({},\"Invalid regular expression: missing /\"),t+=e;else if(dS(e.charCodeAt(0)))AS({},\"Invalid regular expression: missing /\");else if(n)\"]\"===e&&(n=!1);else{if(\"/\"===e){i=!0;break}\"[\"===e&&(n=!0)}return i||AS({},\"Invalid regular expression: missing /\"),{value:t.substr(1,t.length-2),literal:t}}(),n=function(){var e,t,n;for(t=\"\",n=\"\";eS<tS&&fS((e=KE[eS]).charCodeAt(0));)++eS,\"\\\\\"===e&&eS<tS?AS({},\"Unexpected token %0\",iS):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&AS({},\"Invalid regular expression\",n),{value:n,literal:t}}(),i=function(e,t){var n=e;t.indexOf(\"u\")>=0&&(n=n.replace(/\\\\u\\{([0-9a-fA-F]+)\\}/g,(e,t)=>{if(parseInt(t,16)<=1114111)return\"x\";AS({},\"Invalid regular expression\")}).replace(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,\"x\"));try{new RegExp(n)}catch(e){AS({},\"Invalid regular expression\")}try{return new RegExp(e,t)}catch(e){return null}}(t.value,n.value),{literal:t.literal+n.literal,value:i,regex:{pattern:t.value,flags:n.value},start:e,end:eS}}function kS(){var e;return gS(),eS>=tS?{type:2,start:eS,end:eS}:hS(e=KE.charCodeAt(eS))?bS():40===e||41===e||59===e?_S():39===e||34===e?function(){var e,t,n,i,r=\"\",o=!1;for(aS(\"'\"===(e=KE[eS])||'\"'===e,\"String literal must starts with a quote\"),t=eS,++eS;eS<tS;){if((n=KE[eS++])===e){e=\"\";break}if(\"\\\\\"===n)if((n=KE[eS++])&&dS(n.charCodeAt(0)))\"\\r\"===n&&\"\\n\"===KE[eS]&&++eS;else switch(n){case\"u\":case\"x\":\"{\"===KE[eS]?(++eS,r+=vS()):r+=mS(n);break;case\"n\":r+=\"\\n\";break;case\"r\":r+=\"\\r\";break;case\"t\":r+=\"\\t\";break;case\"b\":r+=\"\\b\";break;case\"f\":r+=\"\\f\";break;case\"v\":r+=\"\\v\";break;default:uS(n)?(0!==(i=\"01234567\".indexOf(n))&&(o=!0),eS<tS&&uS(KE[eS])&&(o=!0,i=8*i+\"01234567\".indexOf(KE[eS++]),\"0123\".indexOf(n)>=0&&eS<tS&&uS(KE[eS])&&(i=8*i+\"01234567\".indexOf(KE[eS++]))),r+=String.fromCharCode(i)):r+=n}else{if(dS(n.charCodeAt(0)))break;r+=n}}return\"\"!==e&&AS({},\"Unexpected token %0\",iS),{type:8,value:r,octal:o,start:t,end:eS}}():46===e?sS(KE.charCodeAt(eS+1))?wS():_S():sS(e)?wS():_S()}function OS(){var e;return eS=(e=nS).end,nS=kS(),eS=e.end,e}function ES(){var e;e=eS,nS=kS(),eS=e}function SS(e,t,n){var i=new QE(\"||\"===e||\"&&\"===e?\"LogicalExpression\":\"BinaryExpression\");return i.operator=e,i.left=t,i.right=n,i}function DS(e,t){var n=new QE(\"CallExpression\");return n.callee=e,n.arguments=t,n}function jS(e){var t=new QE(\"Identifier\");return t.name=e,t}function CS(e){var t=new QE(\"Literal\");return t.value=e.value,t.raw=KE.slice(e.start,e.end),e.regex&&(\"//\"===t.raw&&(t.raw=\"/(?:)/\"),t.regex=e.regex),t}function MS(e,t,n){var i=new QE(\"MemberExpression\");return i.computed=\"[\"===e,i.object=t,i.property=n,i.computed||(n.member=!0),i}function TS(e,t,n){var i=new QE(\"Property\");return i.key=t,i.value=n,i.kind=e,i}function AS(e,t){var n,i=Array.prototype.slice.call(arguments,2),r=t.replace(/%(\\d)/g,(e,t)=>(aS(t<i.length,\"Message reference must be in range\"),i[t]));throw(n=new Error(r)).index=eS,n.description=r,n}function FS(e){2===e.type&&AS(e,\"Unexpected end of input\"),6===e.type&&AS(e,\"Unexpected number\"),8===e.type&&AS(e,\"Unexpected string\"),3===e.type&&AS(e,\"Unexpected identifier\"),4===e.type&&AS(e,\"Unexpected reserved word\"),AS(e,\"Unexpected token %0\",e.value)}function PS(e){var t=OS();7===t.type&&t.value===e||FS(t)}function NS(e){return 7===nS.type&&nS.value===e}function zS(e){return 4===nS.type&&nS.value===e}function RS(){var e=[];for(eS=nS.start,PS(\"[\");!NS(\"]\");)NS(\",\")?(OS(),e.push(null)):(e.push(XS()),NS(\"]\")||PS(\",\"));return OS(),function(e){var t=new QE(\"ArrayExpression\");return t.elements=e,t}(e)}function IS(){var e;return eS=nS.start,8===(e=OS()).type||6===e.type?(e.octal&&AS(e,\"Octal literals are not allowed in strict mode.\"),CS(e)):jS(e.value)}function BS(){var e,t,n;return eS=nS.start,3===(e=nS).type?(n=IS(),PS(\":\"),TS(\"init\",n,XS())):2!==e.type&&7!==e.type?(t=IS(),PS(\":\"),TS(\"init\",t,XS())):void FS(e)}function LS(){var e,t,n=[],i={},r=String;for(eS=nS.start,PS(\"{\");!NS(\"}\");)t=\"$\"+(\"Identifier\"===(e=BS()).key.type?e.key.name:r(e.key.value)),Object.prototype.hasOwnProperty.call(i,t)?AS({},\"Duplicate data property in object literal not allowed in strict mode\"):i[t]=!0,n.push(e),NS(\"}\")||PS(\",\");return PS(\"}\"),function(e){var t=new QE(\"ObjectExpression\");return t.properties=e,t}(n)}var $S={if:1};function WS(){var e,t,n;if(NS(\"(\"))return function(){var e;return PS(\"(\"),e=ZS(),PS(\")\"),e}();if(NS(\"[\"))return RS();if(NS(\"{\"))return LS();if(e=nS.type,eS=nS.start,3===e||$S[nS.value])n=jS(OS().value);else if(8===e||6===e)nS.octal&&AS(nS,\"Octal literals are not allowed in strict mode.\"),n=CS(OS());else{if(4===e)throw new Error(\"Disabled.\");1===e?((t=OS()).value=\"true\"===t.value,n=CS(t)):5===e?((t=OS()).value=null,n=CS(t)):NS(\"/\")||NS(\"/=\")?(n=CS(xS()),ES()):FS(OS())}return n}function US(){var e=[];if(PS(\"(\"),!NS(\")\"))for(;eS<tS&&(e.push(XS()),!NS(\")\"));)PS(\",\");return PS(\")\"),e}function YS(){return PS(\".\"),eS=nS.start,function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e=OS())||FS(e),jS(e.value);var e}function HS(){var e;return PS(\"[\"),e=ZS(),PS(\"]\"),e}function qS(){var e=function(){var e;for(e=WS();;)if(NS(\".\"))e=MS(\".\",e,YS());else if(NS(\"(\"))e=DS(e,US());else{if(!NS(\"[\"))break;e=MS(\"[\",e,HS())}return e}();if(7===nS.type&&(NS(\"++\")||NS(\"--\")))throw new Error(\"Disabled.\");return e}function VS(){var e,t,n,i,r;if(7!==nS.type&&4!==nS.type)t=qS();else{if(NS(\"++\")||NS(\"--\"))throw new Error(\"Disabled.\");if(NS(\"+\")||NS(\"-\")||NS(\"~\")||NS(\"!\"))e=OS(),t=VS(),n=e.value,i=t,(r=new QE(\"UnaryExpression\")).operator=n,r.argument=i,r.prefix=!0,t=r;else{if(zS(\"delete\")||zS(\"void\")||zS(\"typeof\"))throw new Error(\"Disabled.\");t=qS()}}return t}function GS(e){var t=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case\"||\":t=1;break;case\"&&\":t=2;break;case\"|\":t=3;break;case\"^\":t=4;break;case\"&\":t=5;break;case\"==\":case\"!=\":case\"===\":case\"!==\":t=6;break;case\"<\":case\">\":case\"<=\":case\">=\":case\"instanceof\":case\"in\":t=7;break;case\"<<\":case\">>\":case\">>>\":t=8;break;case\"+\":case\"-\":t=9;break;case\"*\":case\"/\":case\"%\":t=11}return t}function XS(){var e,t;return e=function(){var e,t,n,i,r,o,a,s,l,u;if(e=nS,l=VS(),0===(r=GS(i=nS)))return l;for(i.prec=r,OS(),t=[e,nS],o=[l,i,a=VS()];(r=GS(nS))>0;){for(;o.length>2&&r<=o[o.length-2].prec;)a=o.pop(),s=o.pop().value,l=o.pop(),t.pop(),n=SS(s,l,a),o.push(n);(i=OS()).prec=r,o.push(i),t.push(nS),n=VS(),o.push(n)}for(n=o[u=o.length-1],t.pop();u>1;)t.pop(),n=SS(o[u-1].value,o[u-2],n),u-=2;return n}(),NS(\"?\")&&(OS(),t=XS(),PS(\":\"),e=function(e,t,n){var i=new QE(\"ConditionalExpression\");return i.test=e,i.consequent=t,i.alternate=n,i}(e,t,XS())),e}function ZS(){var e=XS();if(NS(\",\"))throw new Error(\"Disabled.\");return e}var QS=function(e){eS=0,tS=(KE=e).length,nS=null,ES();var t=ZS();if(2!==nS.type)throw new Error(\"Unexpect token after expression.\");return t},JS={NaN:\"NaN\",E:\"Math.E\",LN2:\"Math.LN2\",LN10:\"Math.LN10\",LOG2E:\"Math.LOG2E\",LOG10E:\"Math.LOG10E\",PI:\"Math.PI\",SQRT1_2:\"Math.SQRT1_2\",SQRT2:\"Math.SQRT2\",MIN_VALUE:\"Number.MIN_VALUE\",MAX_VALUE:\"Number.MAX_VALUE\"},KS=function(e){function t(t,n,i){return r=>function(t,n,i,r){let o=e(n[0]);return i&&(o=i+\"(\"+o+\")\",0===i.lastIndexOf(\"new \",0)&&(o=\"(\"+o+\")\")),o+\".\"+t+(r<0?\"\":0===r?\"()\":\"(\"+n.slice(1).map(e).join(\",\")+\")\")}(t,r,n,i)}const n=\"new Date\";return{isNaN:\"Number.isNaN\",isFinite:\"Number.isFinite\",abs:\"Math.abs\",acos:\"Math.acos\",asin:\"Math.asin\",atan:\"Math.atan\",atan2:\"Math.atan2\",ceil:\"Math.ceil\",cos:\"Math.cos\",exp:\"Math.exp\",floor:\"Math.floor\",log:\"Math.log\",max:\"Math.max\",min:\"Math.min\",pow:\"Math.pow\",random:\"Math.random\",round:\"Math.round\",sin:\"Math.sin\",sqrt:\"Math.sqrt\",tan:\"Math.tan\",clamp:function(t){t.length<3&&Object(se.o)(\"Missing arguments to clamp function.\"),t.length>3&&Object(se.o)(\"Too many arguments to clamp function.\");const n=t.map(e);return\"Math.max(\"+n[1]+\", Math.min(\"+n[2]+\",\"+n[0]+\"))\"},now:\"Date.now\",utc:\"Date.UTC\",datetime:n,date:t(\"getDate\",n,0),day:t(\"getDay\",n,0),year:t(\"getFullYear\",n,0),month:t(\"getMonth\",n,0),hours:t(\"getHours\",n,0),minutes:t(\"getMinutes\",n,0),seconds:t(\"getSeconds\",n,0),milliseconds:t(\"getMilliseconds\",n,0),time:t(\"getTime\",n,0),timezoneoffset:t(\"getTimezoneOffset\",n,0),utcdate:t(\"getUTCDate\",n,0),utcday:t(\"getUTCDay\",n,0),utcyear:t(\"getUTCFullYear\",n,0),utcmonth:t(\"getUTCMonth\",n,0),utchours:t(\"getUTCHours\",n,0),utcminutes:t(\"getUTCMinutes\",n,0),utcseconds:t(\"getUTCSeconds\",n,0),utcmilliseconds:t(\"getUTCMilliseconds\",n,0),length:t(\"length\",null,-1),join:t(\"join\",null),indexof:t(\"indexOf\",null),lastindexof:t(\"lastIndexOf\",null),slice:t(\"slice\",null),reverse:function(t){return\"(\"+e(t[0])+\").slice().reverse()\"},parseFloat:\"parseFloat\",parseInt:\"parseInt\",upper:t(\"toUpperCase\",\"String\",0),lower:t(\"toLowerCase\",\"String\",0),substring:t(\"substring\",\"String\"),split:t(\"split\",\"String\"),replace:t(\"replace\",\"String\"),trim:t(\"trim\",\"String\",0),regexp:\"RegExp\",test:t(\"test\",\"RegExp\"),if:function(t){t.length<3&&Object(se.o)(\"Missing arguments to if function.\"),t.length>3&&Object(se.o)(\"Too many arguments to if function.\");const n=t.map(e);return\"(\"+n[0]+\"?\"+n[1]+\":\"+n[2]+\")\"}}};function eD(e,t,n,i){\"Literal\"!==t[0].type&&Object(se.o)(\"First argument to data functions must be a string literal.\");const r=t[0].value,o=\":\"+r;if(!Object(se.w)(o,i))try{i[o]=n.getData(r).tuplesRef()}catch(e){}}function tD(e,t,n,i){if(\"Literal\"===t[0].type)nD(n,i,t[0].value);else for(e in n.scales)nD(n,i,e)}function nD(e,t,n){const i=\"%\"+n;if(!Object(se.w)(t,i))try{t[i]=e.scaleRef(n)}catch(e){}}function iD(e,t){let n;return Object(se.E)(e)?e:Object(se.I)(e)?(n=t.scales[e])&&n.value:void 0}function rD(e,t,n){t.__bandwidth=e=>e&&e.bandwidth?e.bandwidth():0,n._bandwidth=tD,n._range=tD,n._scale=tD;const i=t=>\"_[\"+(\"Literal\"===t.type?Object(se.ab)(\"%\"+t.value):Object(se.ab)(\"%\")+\"+\"+e(t))+\"]\";return{_bandwidth:e=>`this.__bandwidth(${i(e[0])})`,_range:e=>i(e[0])+\".range()\",_scale:t=>`${i(t[0])}(${e(t[1])})`}}var oD,aD,sD,lD,uD,cD=new ib,dD=new ib,hD={point:Eb,lineStart:Eb,lineEnd:Eb,polygonStart:function(){cD=new ib,hD.lineStart=fD,hD.lineEnd=pD},polygonEnd:function(){var e=+cD;dD.add(e<0?sb+e:e),this.lineStart=this.lineEnd=this.point=Eb},sphere:function(){dD.add(sb)}};function fD(){hD.point=gD}function pD(){mD(oD,aD)}function gD(e,t){hD.point=mD,oD=e,aD=t,sD=e*=ub,lD=fb(t=(t*=ub)/2+ab),uD=bb(t)}function mD(e,t){var n=(e*=ub)-sD,i=n>=0?1:-1,r=i*n,o=fb(t=(t*=ub)/2+ab),a=bb(t),s=uD*a,l=lD*o+s*fb(r),u=s*i*bb(r);cD.add(hb(u,l)),sD=e,lD=o,uD=a}var vD,yD,bD,_D,wD,xD,kD,OD,ED,SD,DD,jD={point:CD,lineStart:TD,lineEnd:AD,polygonStart:function(){jD.point=FD,jD.lineStart=PD,jD.lineEnd=ND,ED=new ib,hD.polygonStart()},polygonEnd:function(){hD.polygonEnd(),jD.point=CD,jD.lineStart=TD,jD.lineEnd=AD,cD<0?(vD=-(bD=180),yD=-(_D=90)):ED>1e-6?_D=90:ED<-1e-6&&(yD=-90),DD[0]=vD,DD[1]=bD},sphere:function(){vD=-(bD=180),yD=-(_D=90)}};function CD(e,t){SD.push(DD=[vD=e,bD=e]),t<yD&&(yD=t),t>_D&&(_D=t)}function MD(e,t){var n=F_([e*ub,t*ub]);if(OD){var i=N_(OD,n),r=N_([i[1],-i[0],0],i);I_(r),r=A_(r);var o,a=e-wD,s=a>0?1:-1,l=r[0]*lb*s,u=cb(a)>180;u^(s*wD<l&&l<s*e)?(o=r[1]*lb)>_D&&(_D=o):u^(s*wD<(l=(l+360)%360-180)&&l<s*e)?(o=-r[1]*lb)<yD&&(yD=o):(t<yD&&(yD=t),t>_D&&(_D=t)),u?e<wD?zD(vD,e)>zD(vD,bD)&&(bD=e):zD(e,bD)>zD(vD,bD)&&(vD=e):bD>=vD?(e<vD&&(vD=e),e>bD&&(bD=e)):e>wD?zD(vD,e)>zD(vD,bD)&&(bD=e):zD(e,bD)>zD(vD,bD)&&(vD=e)}else SD.push(DD=[vD=e,bD=e]);t<yD&&(yD=t),t>_D&&(_D=t),OD=n,wD=e}function TD(){jD.point=MD}function AD(){DD[0]=vD,DD[1]=bD,jD.point=CD,OD=null}function FD(e,t){if(OD){var n=e-wD;ED.add(cb(n)>180?n+(n>0?360:-360):n)}else xD=e,kD=t;hD.point(e,t),MD(e,t)}function PD(){hD.lineStart()}function ND(){FD(xD,kD),hD.lineEnd(),cb(ED)>1e-6&&(vD=-(bD=180)),DD[0]=vD,DD[1]=bD,OD=null}function zD(e,t){return(t-=e)<0?t+360:t}function RD(e,t){return e[0]-t[0]}function ID(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var BD,LD,$D,WD,UD,YD,HD,qD,VD,GD,XD,ZD,QD,JD,KD,ej,tj={sphere:Eb,point:nj,lineStart:rj,lineEnd:sj,polygonStart:function(){tj.lineStart=lj,tj.lineEnd=uj},polygonEnd:function(){tj.lineStart=rj,tj.lineEnd=sj}};function nj(e,t){e*=ub;var n=fb(t*=ub);ij(n*fb(e),n*bb(e),bb(t))}function ij(e,t,n){++BD,$D+=(e-$D)/BD,WD+=(t-WD)/BD,UD+=(n-UD)/BD}function rj(){tj.point=oj}function oj(e,t){e*=ub;var n=fb(t*=ub);JD=n*fb(e),KD=n*bb(e),ej=bb(t),tj.point=aj,ij(JD,KD,ej)}function aj(e,t){e*=ub;var n=fb(t*=ub),i=n*fb(e),r=n*bb(e),o=bb(t),a=hb(wb((a=KD*o-ej*r)*a+(a=ej*i-JD*o)*a+(a=JD*r-KD*i)*a),JD*i+KD*r+ej*o);LD+=a,YD+=a*(JD+(JD=i)),HD+=a*(KD+(KD=r)),qD+=a*(ej+(ej=o)),ij(JD,KD,ej)}function sj(){tj.point=nj}function lj(){tj.point=cj}function uj(){dj(ZD,QD),tj.point=nj}function cj(e,t){ZD=e,QD=t,e*=ub,t*=ub,tj.point=dj;var n=fb(t);JD=n*fb(e),KD=n*bb(e),ej=bb(t),ij(JD,KD,ej)}function dj(e,t){e*=ub;var n=fb(t*=ub),i=n*fb(e),r=n*bb(e),o=bb(t),a=KD*o-ej*r,s=ej*i-JD*o,l=JD*r-KD*i,u=mb(a,s,l),c=Ob(u),d=u&&-c/u;VD.add(d*a),GD.add(d*s),XD.add(d*l),LD+=c,YD+=c*(JD+(JD=i)),HD+=c*(KD+(KD=r)),qD+=c*(ej+(ej=o)),ij(JD,KD,ej)}function hj(e,t){return function(n,i,r){if(n){const t=iD(n,(r||this).context);return t&&t.path[e](i)}return t(i)}}const fj=hj(\"area\",(function(e){return dD=new ib,nb(e,hD),2*dD})),pj=hj(\"bounds\",(function(e){var t,n,i,r,o,a,s;if(_D=bD=-(vD=yD=1/0),SD=[],nb(e,jD),n=SD.length){for(SD.sort(RD),t=1,o=[i=SD[0]];t<n;++t)ID(i,(r=SD[t])[0])||ID(i,r[1])?(zD(i[0],r[1])>zD(i[0],i[1])&&(i[1]=r[1]),zD(r[0],i[1])>zD(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(a=-1/0,t=0,i=o[n=o.length-1];t<=n;i=r,++t)r=o[t],(s=zD(i[1],r[0]))>a&&(a=s,vD=r[0],bD=i[1])}return SD=DD=null,vD===1/0||yD===1/0?[[NaN,NaN],[NaN,NaN]]:[[vD,yD],[bD,_D]]})),gj=hj(\"centroid\",(function(e){BD=LD=$D=WD=UD=YD=HD=qD=0,VD=new ib,GD=new ib,XD=new ib,nb(e,tj);var t=+VD,n=+GD,i=+XD,r=mb(t,n,i);return r<1e-12&&(t=YD,n=HD,i=qD,LD<1e-6&&(t=$D,n=WD,i=UD),(r=mb(t,n,i))<1e-12)?[NaN,NaN]:[hb(n,t)*lb,Ob(i/r)*lb]}));function mj(e,t,n){try{e[t].apply(e,[\"EXPRESSION\"].concat([].slice.call(n)))}catch(t){e.warn(t)}return n[n.length-1]}function vj(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function yj(e){const t=Vf(e);return.2126*vj(t.r)+.7152*vj(t.g)+.0722*vj(t.b)}function bj(e,t){return e===t||e!=e&&t!=t||(Object(se.B)(e)?!(!Object(se.B)(t)||e.length!==t.length)&&function(e,t){for(let n=0,i=e.length;n<i;++n)if(!bj(e[n],t[n]))return!1;return!0}(e,t):!(!Object(se.G)(e)||!Object(se.G)(t))&&_j(e,t))}function _j(e,t){for(const n in e)if(!bj(e[n],t[n]))return!1;return!0}function wj(e){return t=>_j(e,t)}const xj=e=>e.data;function kj(e,t){const n=WE.call(t,e);return n.root&&n.root.lookup||{}}const Oj=()=>\"undefined\"!=typeof window&&window||null;function Ej(e,t){for(var n,i,r=t.fields,o=t.values,a=r.length,s=0;s<a;++s)if((i=r[s]).getter=se.u.getter||Object(se.u)(i.field),n=i.getter(e),Object(se.D)(n)&&(n=Object(se.db)(n)),Object(se.D)(o[s])&&(o[s]=Object(se.db)(o[s])),Object(se.D)(o[s][0])&&(o[s]=o[s].map(se.db)),\"E\"===i.type){if(Object(se.B)(o[s])?o[s].indexOf(n)<0:n!==o[s])return!1}else if(\"R\"===i.type){if(!Object(se.A)(n,o[s]))return!1}else if(\"R-RE\"===i.type){if(!Object(se.A)(n,o[s],!0,!1))return!1}else if(\"R-E\"===i.type){if(!Object(se.A)(n,o[s],!1,!1))return!1}else if(\"R-LE\"===i.type&&!Object(se.A)(n,o[s],!1,!0))return!1;return!0}var Sj={E_union:function(e,t){if(!e.length)return t;for(var n=0,i=t.length;n<i;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(e=>t.indexOf(e)>=0):t},R_union:function(e,t){var n=Object(se.db)(t[0]),i=Object(se.db)(t[1]);return n>i&&(n=t[1],i=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<i&&(e[1]=i),e):[n,i]},R_intersect:function(e,t){var n=Object(se.db)(t[0]),i=Object(se.db)(t[1]);return n>i&&(n=t[1],i=t[0]),e.length?i<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>i&&(e[1]=i),e):[n,i]}};function Dj(e,t,n,i){\"Literal\"!==t[0].type&&Object(se.o)(\"First argument to selection functions must be a string literal.\");const r=t[0].value,o=\":\"+r;\"intersect\"!==(t.length>=2&&Object(se.V)(t).value)||Object(se.w)(i,\"@unit\")||(i[\"@unit\"]=n.getData(r).indataRef(n,\"unit\")),Object(se.w)(i,o)||(i[o]=n.getData(r).tuplesRef())}const jj={random:()=>fa(),cumulativeNormal:Oa,cumulativeLogNormal:Ma,cumulativeUniform:za,densityNormal:ka,densityLogNormal:Ca,densityUniform:Na,quantileNormal:Ea,quantileLogNormal:Ta,quantileUniform:Ra,sampleNormal:xa,sampleLogNormal:ja,sampleUniform:Pa,isArray:se.B,isBoolean:se.C,isDate:se.D,isDefined:e=>void 0!==e,isNumber:se.F,isObject:se.G,isRegExp:se.H,isString:se.I,isTuple:he,isValid:e=>null!=e&&e==e,toBoolean:se.bb,toDate:se.cb,toNumber:se.db,toString:se.fb,flush:se.v,lerp:se.K,merge:function(){const e=[].slice.call(arguments);return e.unshift({}),se.p.apply(null,e)},pad:se.Q,peek:se.V,span:se.Y,inrange:se.A,truncate:se.gb,rgb:Vf,lab:Rg,hcl:Yg,hsl:ep,luminance:yj,contrast:function(e,t){const n=yj(e),i=yj(t);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)},sequence:Qs,format:YE,utcFormat:qE,utcParse:GE,utcOffset:Ei,utcSequence:ji,timeFormat:HE,timeParse:VE,timeOffset:Oi,timeSequence:Di,timeUnitSpecifier:sn,monthFormat:function(e){return ZE.call(this,e,1,\"%B\")},monthAbbrevFormat:function(e){return ZE.call(this,e,1,\"%b\")},dayFormat:function(e){return ZE.call(this,0,2+e,\"%A\")},dayAbbrevFormat:function(e){return ZE.call(this,0,2+e,\"%a\")},quarter:se.W,utcquarter:se.ib,week:Pn,utcweek:Ln,dayofyear:Fn,utcdayofyear:Bn,warn:function(){return mj(this.context.dataflow,\"warn\",arguments)},info:function(){return mj(this.context.dataflow,\"info\",arguments)},debug:function(){return mj(this.context.dataflow,\"debug\",arguments)},extent:se.q,inScope:function(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n},intersect:function(e,t,n){if(!e)return[];const[i,r]=e,o=(new Mc).set(i[0],i[1],r[0],r[1]);return gv(n||this.context.dataflow.scenegraph().root,o,function(e){let t=null;if(e){const n=Object(se.i)(e.marktype),i=Object(se.i)(e.markname);t=e=>(!n.length||n.some(t=>e.marktype===t))&&(!i.length||i.some(t=>e.name===t))}return t}(t))},clampRange:se.k,pinchDistance:function(e){const t=e.touches,n=t[0].clientX-t[1].clientX,i=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+i*i)},pinchAngle:function(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)},screen:function(){const e=Oj();return e?e.screen:{}},containerSize:function(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]},windowSize:function(){const e=Oj();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]},bandspace:function(e,t,n){return uf(e||0,t||0,n||0)},setdata:function(e,t){const n=this.context.dataflow,i=this.context.data[e].input;return n.pulse(i,n.changeset().remove(se.hb).insert(t)),1},pathShape:function(e){let t=null;return function(n){return n?Au(n,t=t||wu(e)):e}},panLinear:se.R,panLog:se.S,panPow:se.T,panSymlog:se.U,zoomLinear:se.mb,zoomLog:se.nb,zoomPow:se.ob,zoomSymlog:se.pb,encode:function(e,t,n){if(e){const n=this.context.dataflow,i=e.mark.source;n.pulse(i,n.changeset().encode(e,t))}return void 0!==n?n:e},modify:function(e,t,n,i,r,o){const a=this.context.dataflow,s=this.context.data[e],l=s.input,u=a.stamp();let c,d,h=s.changes;if(!1===a._trigger||!(l.value.length||t||i))return 0;if((!h||h.stamp<u)&&(s.changes=h=a.changeset(),h.stamp=u,a.runAfter(()=>{s.modified=!0,a.pulse(l,h).run()},!0,1)),n&&(c=!0===n?se.hb:Object(se.B)(n)||he(n)?n:wj(n),h.remove(c)),t&&h.insert(t),i&&(c=wj(i),l.value.some(c)?h.remove(c):h.insert(i)),r)for(d in o)h.modify(r,d,o[d]);return 1}},Cj=[\"view\",\"item\",\"group\",\"xy\",\"x\",\"y\"],Mj={},Tj={blacklist:[\"_\"],whitelist:[\"datum\",\"event\",\"item\"],fieldvar:\"datum\",globalvar:e=>`_[${Object(se.ab)(\"$\"+e)}]`,functions:function(e){const t=KS(e);Cj.forEach(e=>t[e]=\"event.vega.\"+e);for(const e in jj)t[e]=\"this.\"+e;return Object(se.p)(t,rD(e,jj,Mj)),t},constants:JS,visitors:Mj},Aj=function(e){const t=(e=e||{}).whitelist?Object(se.eb)(e.whitelist):{},n=e.blacklist?Object(se.eb)(e.blacklist):{},i=e.constants||JS,r=(e.functions||KS)(d),o=e.globalvar,a=e.fieldvar,s=Object(se.E)(o)?o:e=>`${o}[\"${e}\"]`;let l={},u={},c=0;function d(e){if(Object(se.I)(e))return e;const t=h[e.type];return null==t&&Object(se.o)(\"Unsupported type: \"+e.type),t(e)}const h={Literal:e=>e.raw,Identifier:e=>{const r=e.name;return c>0?r:Object(se.w)(n,r)?Object(se.o)(\"Illegal identifier: \"+r):Object(se.w)(i,r)?i[r]:Object(se.w)(t,r)?r:(l[r]=1,s(r))},MemberExpression:e=>{const t=!e.computed,n=d(e.object);t&&(c+=1);const i=d(e.property);return n===a&&(u[function(e){const t=e&&e.length-1;return t&&('\"'===e[0]&&'\"'===e[t]||\"'\"===e[0]&&\"'\"===e[t])?e.slice(1,-1):e}(i)]=1),t&&(c-=1),n+(t?\".\"+i:\"[\"+i+\"]\")},CallExpression:e=>{\"Identifier\"!==e.callee.type&&Object(se.o)(\"Illegal callee type: \"+e.callee.type);const t=e.callee.name,n=e.arguments,i=Object(se.w)(r,t)&&r[t];return i||Object(se.o)(\"Unrecognized function: \"+t),Object(se.E)(i)?i(n):i+\"(\"+n.map(d).join(\",\")+\")\"},ArrayExpression:e=>\"[\"+e.elements.map(d).join(\",\")+\"]\",BinaryExpression:e=>\"(\"+d(e.left)+e.operator+d(e.right)+\")\",UnaryExpression:e=>\"(\"+e.operator+d(e.argument)+\")\",ConditionalExpression:e=>\"(\"+d(e.test)+\"?\"+d(e.consequent)+\":\"+d(e.alternate)+\")\",LogicalExpression:e=>\"(\"+d(e.left)+e.operator+d(e.right)+\")\",ObjectExpression:e=>\"{\"+e.properties.map(d).join(\",\")+\"}\",Property:e=>{c+=1;const t=d(e.key);return c-=1,t+\":\"+d(e.value)}};function f(e){const t={code:d(e),globals:Object.keys(l),fields:Object.keys(u)};return l={},u={},t}return f.functions=r,f.constants=i,f}(Tj);function Fj(e,t,n){return 1===arguments.length?jj[e]:(jj[e]=t,n&&(Mj[e]=n),Aj&&(Aj.functions[e]=\"this.\"+e),this)}Fj(\"bandwidth\",(function(e,t){const n=iD(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}),tD),Fj(\"copy\",(function(e,t){const n=iD(e,(t||this).context);return n?n.copy():void 0}),tD),Fj(\"domain\",(function(e,t){const n=iD(e,(t||this).context);return n?n.domain():[]}),tD),Fj(\"range\",(function(e,t){const n=iD(e,(t||this).context);return n&&n.range?n.range():[]}),tD),Fj(\"invert\",(function(e,t,n){const i=iD(e,(n||this).context);return i?Object(se.B)(t)?(i.invertRange||i.invert)(t):(i.invert||i.invertExtent)(t):void 0}),tD),Fj(\"scale\",(function(e,t,n){const i=iD(e,(n||this).context);return i?i(t):void 0}),tD),Fj(\"gradient\",(function(e,t,n,i,r){e=iD(e,(r||this).context);const o=Ol(t,n);let a=e.domain(),s=a[0],l=Object(se.V)(a),u=se.y;return l-s?u=hm(e,s,l):e=(e.interpolator?dg(\"sequential\")().interpolator(e.interpolator()):dg(\"linear\")().interpolate(e.interpolate()).range(e.range())).domain([s=0,l=1]),e.ticks&&(a=e.ticks(+i||15),s!==a[0]&&a.unshift(s),l!==Object(se.V)(a)&&a.push(l)),a.forEach(t=>o.stop(u(t),e(t))),o}),tD),Fj(\"geoArea\",fj,tD),Fj(\"geoBounds\",pj,tD),Fj(\"geoCentroid\",gj,tD),Fj(\"geoShape\",(function(e,t,n){const i=iD(e,(n||this).context);return function(e){return i?i.path.context(e)(t):\"\"}}),tD),Fj(\"indata\",(function(e,t,n){const i=this.context.data[e][\"index:\"+t],r=i?i.value.get(n):void 0;return r?r.count:r}),(function(e,t,n,i){\"Literal\"!==t[0].type&&Object(se.o)(\"First argument to indata must be a string literal.\"),\"Literal\"!==t[1].type&&Object(se.o)(\"Second argument to indata must be a string literal.\");const r=t[0].value,o=t[1].value,a=\"@\"+o;Object(se.w)(a,i)||(i[a]=n.getData(r).indataRef(n,o))})),Fj(\"data\",WE,eD),Fj(\"treePath\",(function(e,t,n){const i=kj(e,this),r=i[t],o=i[n];return r&&o?r.path(o).map(xj):void 0}),eD),Fj(\"treeAncestors\",(function(e,t){const n=kj(e,this)[t];return n?n.ancestors().map(xj):void 0}),eD),Fj(\"vlSelectionTest\",(function(e,t,n){for(var i,r,o,a,s,l=this.context.data[e],u=l?l.values.value:[],c=l?l[\"index:unit\"]&&l[\"index:unit\"].value:void 0,d=\"intersect\"===n,h=u.length,f=0;f<h;++f)if(i=u[f],c&&d){if(-1===(o=(r=r||{})[a=i.unit]||0))continue;if(s=Ej(t,i),r[a]=s?-1:++o,s&&1===c.size)return!0;if(!s&&o===c.get(a).count)return!1}else if(d^(s=Ej(t,i)))return s;return h&&d}),Dj),Fj(\"vlSelectionResolve\",(function(e,t,n){for(var i,r,o,a,s,l,u,c,d,h,f,p=this.context.data[e],g=p?p.values.value:[],m={},v={},y={},b=g.length,_=0;_<b;++_){for(a=(i=g[_]).unit,r=i.fields,o=i.values,h=0,f=r.length;h<f;++h)s=r[h],u=(l=m[s.field]||(m[s.field]={}))[a]||(l[a]=[]),y[s.field]=c=s.type.charAt(0),d=Sj[c+\"_union\"],l[a]=d(u,Object(se.i)(o[h]));n&&(u=v[a]||(v[a]=[])).push(Object(se.i)(o).reduce((e,t,n)=>(e[r[n].field]=t,e),{}))}return t=t||\"union\",Object.keys(m).forEach(e=>{m[e]=Object.keys(m[e]).map(t=>m[e][t]).reduce((n,i)=>void 0===n?i:Sj[y[e]+\"_\"+t](n,i))}),g=Object.keys(v),n&&g.length&&(m.vlMulti=\"union\"===t?{or:g.reduce((e,t)=>(e.push.apply(e,v[t]),e),[])}:{and:g.map(e=>({or:v[e]}))}),m}),Dj);var Pj=function(e,t){const n={};let i;try{e=Object(se.I)(e)?e:Object(se.ab)(e)+\"\",i=QS(e)}catch(t){Object(se.o)(\"Expression parse error: \"+e)}i.visit(e=>{if(\"CallExpression\"!==e.type)return;const i=e.callee.name,r=Tj.visitors[i];r&&r(i,e.arguments,t,n)});const r=Aj(i);return r.globals.forEach(e=>{const i=\"$\"+e;!Object(se.w)(n,i)&&t.getSignal(e)&&(n[i]=t.signalRef(e))}),{$expr:Object(se.p)({code:r.code},t.options.ast?{ast:i}:null),$fields:r.fields,$params:n}};const Nj=Object(se.eb)([\"rule\"]),zj=Object(se.eb)([\"group\",\"image\",\"rect\"]);function Rj(e){return(e+\"\").toLowerCase()}function Ij(e,t,n){\";\"!==n[n.length-1]&&(n=\"return(\"+n+\");\");var i=Function.apply(null,t.concat(n));return e&&e.functions?i.bind(e.functions):i}var Bj={operator:(e,t)=>Ij(e,[\"_\"],t.code),parameter:(e,t)=>Ij(e,[\"datum\",\"_\"],t.code),event:(e,t)=>Ij(e,[\"event\"],t.code),handler:(e,t)=>Ij(e,[\"_\",\"event\"],`var datum=event.item&&event.item.datum;return ${t.code};`),encode:(e,t)=>{const{marktype:n,channels:i}=t;let r=\"var o=item,datum=o.datum,m=0,$;\";for(const e in i){const t=\"o[\"+Object(se.ab)(e)+\"]\";r+=`$=${i[e].code};if(${t}!==$)${t}=$,m=1;`}return r+=function(e,t){let n=\"\";return Nj[t]||(e.x2&&(e.x?(zj[t]&&(n+=\"if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;\"),n+=\"o.width=o.x2-o.x;\"):n+=\"o.x=o.x2-(o.width||0);\"),e.xc&&(n+=\"o.x=o.xc-(o.width||0)/2;\"),e.y2&&(e.y?(zj[t]&&(n+=\"if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;\"),n+=\"o.height=o.y2-o.y;\"):n+=\"o.y=o.y2-(o.height||0);\"),e.yc&&(n+=\"o.y=o.yc-(o.height||0)/2;\")),n}(i,n),r+=\"return m;\",Ij(e,[\"item\",\"_\"],r)},codegen:{get(e){const t=`[${e.map(se.ab).join(\"][\")}]`,n=Function(\"_\",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const i=Function(\"a\",\"b\",\"var u, v; return \"+e.map((e,i)=>{const r=t[i];let o,a;return e.path?(o=\"a\"+e.path,a=\"b\"+e.path):((n=n||{})[\"f\"+i]=e,o=`this.f${i}(a)`,a=`this.f${i}(b)`),function(e,t,n,i){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}\\n  : (u > v || v == null) && u != null ? ${i}\\n  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}\\n  : v !== v && u === u ? ${i} : `}(o,a,-r,r)}).join(\"\")+\"0;\");return n?i.bind(n):i}}};function Lj(e,t,n){if(!e||!Object(se.G)(e))return e;for(let i,r=0,o=$j.length;r<o;++r)if(i=$j[r],Object(se.w)(e,i.key))return i.parse(e,t,n);return e}var $j=[{key:\"$ref\",parse:function(e,t){return t.get(e.$ref)||Object(se.o)(\"Operator not defined: \"+e.$ref)}},{key:\"$key\",parse:function(e,t){const n=\"k:\"+e.$key+\"_\"+!!e.$flat;return t.fn[n]||(t.fn[n]=Object(se.J)(e.$key,e.$flat,t.expr.codegen))}},{key:\"$expr\",parse:function(e,t,n){e.$params&&t.parseParameters(e.$params,n);const i=\"e:\"+e.$expr.code+\"_\"+e.$name;return t.fn[i]||(t.fn[i]=Object(se.f)(t.parameterExpression(e.$expr),e.$fields,e.$name))}},{key:\"$field\",parse:function(e,t){if(!e.$field)return null;const n=\"f:\"+e.$field+\"_\"+e.$name;return t.fn[n]||(t.fn[n]=Object(se.u)(e.$field,e.$name,t.expr.codegen))}},{key:\"$encode\",parse:function(e,t){const n=e.$encode,i={};for(const e in n){const r=n[e];i[e]=Object(se.f)(t.encodeExpression(r.$expr),r.$fields),i[e].output=r.$output}return i}},{key:\"$compare\",parse:function(e,t){const n=\"c:\"+e.$compare+\"_\"+e.$order,i=Object(se.i)(e.$compare).map(e=>e&&e.$tupleid?fe:e);return t.fn[n]||(t.fn[n]=Object(se.l)(i,e.$order,t.expr.codegen))}},{key:\"$context\",parse:function(e,t){return t}},{key:\"$subflow\",parse:function(e,t){const n=e.$subflow;return function(e,i,r){const o=t.fork().parse(n),a=o.get(n.operators[0].id),s=o.signals.parent;return s&&s.set(r),a.detachSubflow=()=>t.detach(o),a}}},{key:\"$tupleid\",parse:function(){return fe}}];var Wj={skip:!0};var Uj=function(e,t,n,i){return new Yj(e,t,n,i)};function Yj(e,t,n,i){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=i||Bj,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function Hj(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}Yj.prototype=Hj.prototype={fork(){const e=new Hj(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(t=>t!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,i=n.dataflow,r=e.value;if(n.set(e.id,t),\"collect\"===Rj(e.type)&&r&&(r.$ingest?i.ingest(t,r.$ingest,r.$format):r.$request?i.preload(t,r.$request,r.$format):i.pulse(t,i.changeset().insert(r))),e.root&&(n.root=t),e.parent){var o=n.get(e.parent.$ref);o?(i.connect(o,[t]),t.targets().add(o)):(n.unresolved=n.unresolved||[]).push(()=>{o=n.get(e.parent.$ref),i.connect(o,[t]),t.targets().add(o)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const i in e.data){const r=n.data[i]||(n.data[i]={});e.data[i].forEach(e=>r[e]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[Rj(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,i,r){this.dataflow.on(t,n,i,r,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:function(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(e=>t.parseOperator(e)),n.forEach(e=>t.parseOperatorParameters(e)),(e.streams||[]).forEach(e=>t.parseStream(e)),(e.updates||[]).forEach(e=>t.parseUpdate(e)),t.resolve()},parseOperator:function(e){const t=this;\"operator\"!==Rj(e.type)&&e.type?t.transform(e,e.type):t.operator(e,e.update?t.operatorExpression(e.update):null)},parseOperatorParameters:function(e){const t=this;if(e.params){const n=t.get(e.id);n||Object(se.o)(\"Invalid operator id: \"+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}},parseParameters:function(e,t){t=t||{};const n=this;for(const i in e){const r=e[i];t[i]=Object(se.B)(r)?r.map(e=>Lj(e,n,t)):Lj(r,n,t)}return t},parseStream:function(e){var t,n=this,i=null!=e.filter?n.eventExpression(e.filter):void 0,r=null!=e.stream?n.get(e.stream):void 0;e.source?r=n.events(e.source,e.type,i):e.merge&&(r=(t=e.merge.map(e=>n.get(e)))[0].merge.apply(t[0],t.slice(1))),e.between&&(t=e.between.map(e=>n.get(e)),r=r.between(t[0],t[1])),e.filter&&(r=r.filter(i)),null!=e.throttle&&(r=r.throttle(+e.throttle)),null!=e.debounce&&(r=r.debounce(+e.debounce)),null==r&&Object(se.o)(\"Invalid stream definition: \"+JSON.stringify(e)),e.consume&&r.consume(!0),n.stream(e,r)},parseUpdate:function(e){var t,n=Object(se.G)(n=e.source)?n.$ref:n,i=this.get(n),r=e.update,o=void 0;i||Object(se.o)(\"Source not defined: \"+e.source),t=e.target&&e.target.$expr?this.eventExpression(e.target.$expr):this.get(e.target),r&&r.$expr&&(r.$params&&(o=this.parseParameters(r.$params)),r=this.handlerExpression(r.$expr)),this.update(e,i,t,r,o)},getState:function(e){var t=this,n={};if(e.signals){var i=n.signals={};Object.keys(t.signals).forEach(n=>{var r=t.signals[n];e.signals(n,r)&&(i[n]=r.value)})}if(e.data){var r=n.data={};Object.keys(t.data).forEach(n=>{var i=t.data[n];e.data(n,i)&&(r[n]=i.input.value)})}return t.subcontext&&!1!==e.recurse&&(n.subcontext=t.subcontext.map(t=>t.getState(e))),n},setState:function(e){var t=this,n=t.dataflow,i=e.data,r=e.signals;Object.keys(r||{}).forEach(e=>{n.update(t.signals[e],r[e],Wj)}),Object.keys(i||{}).forEach(e=>{n.pulse(t.data[e].input,n.changeset().remove(se.hb).insert(i[e]))}),(e.subcontext||[]).forEach((e,n)=>{var i=t.subcontext[n];i&&i.setState(e)})}};var qj={skip:!0};function Vj(e,t){var n=e.autosize(),i=e.padding();return t-(n&&\"padding\"===n.contains?i.left+i.right:0)}function Gj(e,t){var n=e.autosize(),i=e.padding();return t-(n&&\"padding\"===n.contains?i.top+i.bottom:0)}function Xj(e,t){return t.modified&&Object(se.B)(t.input.value)&&e.indexOf(\"_:vega:_\")}function Zj(e,t){return!(\"parent\"===e||t instanceof $o.proxy)}var Qj=function(e,t,n,i){var r=e.element();r&&r.setAttribute(\"title\",function(e){return null==e?\"\":Object(se.B)(e)?Jj(e):Object(se.G)(e)&&!Object(se.D)(e)?(t=e,Object.keys(t).map(e=>{var n=t[e];return e+\": \"+(Object(se.B)(n)?Jj(n):Kj(n))}).join(\"\\n\")):e+\"\";var t}(i))};function Jj(e){return\"[\"+e.map(Kj).join(\", \")+\"]\"}function Kj(e){return Object(se.B)(e)?\"[…]\":Object(se.G)(e)&&!Object(se.D)(e)?\"{…}\":e}function eC(e,t){const n=this;if(t=t||{},Io.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),null!=t.logLevel&&n.logLevel(t.logLevel),t.locale||e.locale){const i=Object(se.p)({},e.locale,t.locale);n.locale(_o(i.number,i.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||hv.Canvas,n._scenegraph=new Fh;const i=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||Qj,n._redraw=!0,n._handler=(new Kh).scene(i),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=function(e){const t=Object(se.p)({defaults:{}},e),n=(e,t)=>{t.forEach(t=>{Object(se.B)(e[t])&&(e[t]=Object(se.eb)(e[t]))})};return n(t.defaults,[\"prevent\",\"allow\"]),n(t,[\"view\",\"window\",\"selector\"]),t}(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const r=function(e,t,n){return Uj(e,$o,jj,n).parse(t)}(n,e,t.expr);n._runtime=r,n._signals=r.signals,n._bind=(e.bindings||[]).map(e=>({state:null,param:Object(se.p)({},e)})),r.root&&r.root.set(i),i.source=r.data.root.input,n.pulse(r.data.root.input,n.changeset().insert(i.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=Vj(n,n._width),n._viewHeight=Gj(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,function(e){var t=e._signals,n=t.width,i=t.height,r=t.padding;function o(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,t=>{e._width=t.size,e._viewWidth=Vj(e,t.size),o()},{size:n}),e._resizeHeight=e.add(null,t=>{e._height=t.size,e._viewHeight=Gj(e,t.size),o()},{size:i});var a=e.add(null,o,{pad:r});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=i.rank+1,a.rank=r.rank+1}(n),function(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}(n),function(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:\"default\",item:null}));e.on(e.events(\"view\",\"mousemove\"),t,(e,n)=>{const i=t.value,r=i?Object(se.I)(i)?i:i.user:\"default\",o=n.item&&n.item.cursor||null;return i&&r===i.user&&o==i.item?i:{user:r,item:o}}),e.add(null,(function(t){let n=t.cursor,i=this.value;return Object(se.I)(n)||(i=n.item,n=n.user),mE(e,n&&\"default\"!==n?n:i||n),i}),{cursor:t})}(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind)}function tC(e,t){return Object(se.w)(e._signals,t)?e._signals[t]:Object(se.o)(\"Unrecognized signal name: \"+Object(se.ab)(t))}function nC(e,t){const n=(e._targets||[]).filter(e=>e._update&&e._update.handler===t);return n.length?n[0]:null}function iC(e,t,n,i){var r=nC(n,i);return r||((r=RE(e,()=>i(t,n.value))).handler=i,e.on(n,null,r)),e}function rC(e,t,n){var i=nC(t,n);return i&&t._targets.remove(i),e}Object(se.z)(eC,Io,{async evaluate(e,t,n){if(await Io.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,r=wE(i=this),o=bE(i),a=_E(i),i._renderer.background(i.background()),i._renderer.resize(o,a,r),i._handler.origin(r),i._resizeListeners.forEach(e=>{try{e(o,a)}catch(e){i.error(e)}})),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(e){this.error(e)}var i,r,o,a;return n&&ue(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=null!=e?e+\"\":null;return t!==this._desc&&gE(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){var i=tC(this,e);return 1===arguments.length?i.value:this.update(i,t,n)},width(e){return arguments.length?this.signal(\"width\",e):this.signal(\"width\")},height(e){return arguments.length?this.signal(\"height\",e):this.signal(\"height\")},padding(e){return arguments.length?this.signal(\"padding\",LE(e)):LE(this.signal(\"padding\"))},autosize(e){return arguments.length?this.signal(\"autosize\",e):this.signal(\"autosize\")},background(e){return arguments.length?this.signal(\"background\",e):this.signal(\"background\")},renderer(e){return arguments.length?(pv(e)||Object(se.o)(\"Unrecognized renderer type: \"+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(Io.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(tC(this,\"autosize\"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(e,t,n,i,r,o){this.runAfter(a=>{var s=0;a._autosize=0,a.width()!==n&&(s=1,a.signal(\"width\",n,qj),a._resizeWidth.skip(!0)),a.height()!==i&&(s=1,a.signal(\"height\",i,qj),a._resizeHeight.skip(!0)),a._viewWidth!==e&&(a._resize=1,a._viewWidth=e),a._viewHeight!==t&&(a._resize=1,a._viewHeight=t),a._origin[0]===r[0]&&a._origin[1]===r[1]||(a._resize=1,a._origin=r),s&&a.run(\"enter\"),o&&a.runAfter(e=>e.resize())},!1,1)},addEventListener(e,t,n){var i=t;return n&&!1===n.trap||((i=RE(this,t)).raw=t),this._handler.on(e,i),this},removeEventListener(e,t){for(var n,i,r=this._handler.handlers(e),o=r.length;--o>=0;)if(i=r[o].type,n=r[o].handler,e===i&&(t===n||t===n.raw)){this._handler.off(i,n);break}return this},addResizeListener(e){var t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return iC(this,e,tC(this,e),t)},removeSignalListener(e,t){return rC(this,tC(this,e),t)},addDataListener(e,t){return iC(this,e,vE(this,e).values,t)},removeDataListener(e,t){return rC(this,vE(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=mE(this,null);this._globalCursor=!!e,t&&mE(this,t)}return this}return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:function(e,t){this._timers.push(function(e,t,n){var i=new Ux,r=t;return null==t?(i.restart(e,t,n),i):(i._restart=i.restart,i.restart=function(e,t,n){t=+t,n=null==n?$x():+n,i._restart((function o(a){a+=r,i._restart(o,r+=t,n),e(a)}),t,n)},i.restart(e,t,n),i)}((function(t){e({timestamp:Date.now(),elapsed:t})}),t))},events:function(e,t,n){var i,r=this,o=new je(n),a=function(n,i){r.runAsync(null,()=>{\"view\"===e&&function(e,t){var n=e._eventConfig.defaults,i=n.prevent,r=n.allow;return!1!==i&&!0!==r&&(!0===i||!1===r||(i?i[t]:r?!r[t]:e.preventDefault()))}(r,t)&&n.preventDefault(),o.receive(xE(r,n,i))})};if(\"timer\"===e)OE(r,\"timer\",t)&&r.timer(a,t);else if(\"view\"===e)OE(r,\"view\",t)&&r.addEventListener(t,a,kE);else if(\"window\"===e?OE(r,\"window\",t)&&\"undefined\"!=typeof window&&(i=[window]):\"undefined\"!=typeof document&&OE(r,\"selector\",t)&&(i=document.querySelectorAll(e)),i){for(var s=0,l=i.length;s<l;++s)i[s].addEventListener(t,a);r._eventListeners.push({type:t,sources:i,handler:a})}else r.warn(\"Can not resolve event source: \"+e);return o},finalize:function(){var e,t,n,i=this._tooltip,r=this._timers,o=this._eventListeners;for(e=r.length;--e>=0;)r[e].stop();for(e=o.length;--e>=0;)for(t=(n=o[e]).sources.length;--t>=0;)n.sources[t].removeEventListener(n.type,n.handler);return i&&i.call(this,this._handler,null,null,null),this},hover:function(e,t){return t=[t||\"update\",(e=[e||\"hover\"])[0]],this.on(this.events(\"view\",\"mouseover\",EE),SE,DE(e)),this.on(this.events(\"view\",\"mouseout\",EE),SE,DE(t)),this},data:function(e,t){return arguments.length<2?vE(this,e).values.value:yE.call(this,e,we().remove(se.hb).insert(t))},change:yE,insert:function(e,t){return yE.call(this,e,we().insert(t))},remove:function(e,t){return yE.call(this,e,we().remove(t))},scale:function(e){var t=this._runtime.scales;return Object(se.w)(t,e)||Object(se.o)(\"Unrecognized scale or projection: \"+e),t[e].value},initialize:function(e,t){const n=this,i=n._renderType,r=n._eventConfig.bind,o=pv(i);e=n._el=e?IE(n,e):null,function(e){const t=e.container();t&&(t.setAttribute(\"role\",\"graphics-document\"),t.setAttribute(\"aria-roleDescription\",\"visualization\"),gE(t,e.description()))}(n),o||n.error(\"Unrecognized renderer type: \"+i);const a=o.handler||Kh,s=e?o.renderer:o.headless;return n._renderer=s?zE(n,n._renderer,e,s):null,n._handler=function(e,t,n,i){var r=new i(e.loader(),RE(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,wE(e),e);return t&&t.handlers().forEach(e=>{r.on(e.type,e.handler)}),r}(n,n._handler,e,a),n._redraw=!0,e&&\"none\"!==r&&(t=t?n._elBind=IE(n,t):e.appendChild(jE(\"form\",{class:\"vega-bindings\"})),n._bind.forEach(e=>{e.param.element&&\"container\"!==r&&(e.element=IE(n,e.param.element))}),n._bind.forEach(e=>{CE(n,e.element||t,e)})),n},toImageURL:async function(e,t){e!==hv.Canvas&&e!==hv.SVG&&e!==hv.PNG&&Object(se.o)(\"Unrecognized image type: \"+e);const n=await $E(this,e,t);return e===hv.SVG?(i=n.svg(),r=new Blob([i],{type:\"image/svg+xml\"}),window.URL.createObjectURL(r)):n.canvas().toDataURL(\"image/png\");var i,r},toCanvas:async function(e,t){return(await $E(this,hv.Canvas,e,t)).canvas()},toSVG:async function(e){return(await $E(this,hv.SVG,e)).svg()},getState:function(e){return this._runtime.getState(e||{data:Xj,signals:Zj,recurse:!0})},setState:function(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},e=>{e._trigger=!0}),this}});var oC=function(e){return Object(se.G)(e)?e:{type:e||\"pad\"}};const aC=e=>+e||0;var sC=function(e){return Object(se.G)(e)?e.signal?e:{top:aC(e.top),bottom:aC(e.bottom),left:aC(e.left),right:aC(e.right)}:{top:t=aC(e),bottom:t,left:t,right:t};var t};const lC=e=>Object(se.G)(e)&&!Object(se.B)(e)?Object(se.p)({},e):{value:e};function uC(e,t,n,i){if(null!=n){return Object(se.G)(n)&&!Object(se.B)(n)||Object(se.B)(n)&&n.length&&Object(se.G)(n[0])?e.update[t]=n:e[i||\"enter\"][t]={value:n},1}return 0}function cC(e,t,n){for(const n in t)uC(e,n,t[n]);for(const t in n)uC(e,t,n[t],\"update\")}function dC(e,t,n){for(const i in t)n&&Object(se.w)(n,i)||(e[i]=Object(se.p)(e[i]||{},t[i]));return e}function hC(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}function fC(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const pC=e=>Object(se.I)(e)?Object(se.ab)(e):e.signal?`(${e.signal})`:yC(e);function gC(e){if(null!=e.gradient)return function(e){const t=[e.start,e.stop,e.count].map(e=>null==e?null:Object(se.ab)(e));for(;t.length&&null==Object(se.V)(t);)t.pop();return t.unshift(pC(e.gradient)),`gradient(${t.join(\",\")})`}(e);let t=e.signal?`(${e.signal})`:e.color?function(e){return e.c?mC(\"hcl\",e.h,e.c,e.l):e.h||e.s?mC(\"hsl\",e.h,e.s,e.l):e.l||e.a?mC(\"lab\",e.l,e.a,e.b):e.r||e.g||e.b?mC(\"rgb\",e.r,e.g,e.b):null}(e.color):null!=e.field?yC(e.field):void 0!==e.value?Object(se.ab)(e.value):void 0;return null!=e.scale&&(t=function(e,t){const n=pC(e.scale);null!=e.range?t=`lerp(_range(${n}), ${+e.range})`:(void 0!==t&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+\"+\":\"\")+`_bandwidth(${n})`+(1==+e.band?\"\":\"*\"+vC(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),null==t&&(t=\"0\"));return t}(e,t)),void 0===t&&(t=null),null!=e.exponent&&(t=`pow(${t},${vC(e.exponent)})`),null!=e.mult&&(t+=\"*\"+vC(e.mult)),null!=e.offset&&(t+=\"+\"+vC(e.offset)),e.round&&(t=`round(${t})`),t}const mC=(e,t,n,i)=>`(${e}(${[t,n,i].map(gC).join(\",\")})+'')`;function vC(e){return Object(se.G)(e)?\"(\"+gC(e)+\")\":e}function yC(e){return function e(t){let n,i,r;if(t.signal)n=\"datum\",r=t.signal;else if(t.group||t.parent){for(i=Math.max(1,t.level||1),n=\"item\";i-- >0;)n+=\".mark.group\";t.parent?(r=t.parent,n+=\".datum\"):r=t.group}else t.datum?(n=\"datum\",r=t.datum):Object(se.o)(\"Invalid field reference: \"+Object(se.ab)(t));t.signal||(r=Object(se.I)(r)?Object(se.Z)(r).map(se.ab).join(\"][\"):e(r));return n+\"[\"+r+\"]\"}(Object(se.G)(e)?e:{datum:e})}var bC=function(e,t,n,i,r,o){const a={};(o=o||{}).encoders={$encode:a},e=function(e,t,n,i,r){const o={},a={};let s,l,u,c;for(l in l=\"lineBreak\",\"text\"!==t||null==r[l]||hC(l,e)||fC(o,l,r[l]),(\"legend\"==n||String(n).startsWith(\"axis\"))&&(n=null),c=\"frame\"===n?r.group:\"mark\"===n?Object(se.p)({},r.mark,r[t]):null,c)u=hC(l,e)||(\"fill\"===l||\"stroke\"===l)&&(hC(\"fill\",e)||hC(\"stroke\",e)),u||fC(o,l,c[l]);for(l in Object(se.i)(i).forEach(t=>{const n=r.style&&r.style[t];for(const t in n)hC(t,e)||fC(o,t,n[t])}),e=Object(se.p)({},e),o)c=o[l],c.signal?(s=s||{})[l]=c:a[l]=c;return e.enter=Object(se.p)(a,e.enter),s&&(e.update=Object(se.p)(s,e.update)),e}(e,t,n,i,r.config);for(const n in e)a[n]=_C(e[n],t,o,r);return o};function _C(e,t,n,i){const r={},o={};for(const t in e)null!=e[t]&&(r[t]=wC((a=e[t],Object(se.B)(a)?function(e){let t=\"\";return e.forEach(e=>{const n=gC(e);t+=e.test?`(${e.test})?${n}:`:n}),\":\"===Object(se.V)(t)&&(t+=\"null\"),t}(a):gC(a)),i,n,o));var a;return{$expr:{marktype:t,channels:r},$fields:Object.keys(o),$output:Object.keys(e)}}function wC(e,t,n,i){const r=Pj(e,t);return r.$fields.forEach(e=>i[e]=1),Object(se.p)(n,r.$params),r.$expr}const xC=[\"value\",\"update\",\"init\",\"react\",\"bind\"];function kC(e,t){Object(se.o)(e+' for \"outer\" push: '+Object(se.ab)(t))}var OC=function(e,t){const n=e.name;if(\"outer\"===e.push)t.signals[n]||kC(\"No prior signal definition\",n),xC.forEach(t=>{void 0!==e[t]&&kC(\"Invalid property \",t)});else{const i=t.addSignal(n,e.value);!1===e.react&&(i.react=!1),e.bind&&t.addBinding(n,e.bind)}};function EC(e,t,n,i){this.id=-1,this.type=e,this.value=t,this.params=n,i&&(this.parent=i)}function SC(e,t,n,i){return new EC(e,t,n,i)}function DC(e,t){return SC(\"operator\",e,t)}function jC(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function CC(e,t){return t?{$field:e,$name:t}:{$field:e}}const MC=CC(\"key\");function TC(e,t){return{$compare:e,$order:t}}function AC(e,t){return(e&&e.signal?\"$\"+e.signal:e||\"\")+(e&&t?\"_\":\"\")+(t&&t.signal?\"$\"+t.signal:t||\"\")}function FC(e){return e&&e.signal}function PC(e){if(FC(e))return!0;if(Object(se.G)(e))for(const t in e)if(PC(e[t]))return!0;return!1}function NC(e,t){return null!=e?e:t}function zC(e){return e&&e.signal||e}function RC(e,t){return(e.merge?IC:e.stream?BC:e.type?LC:Object(se.o)(\"Invalid stream specification: \"+Object(se.ab)(e)))(e,t)}function IC(e,t){const n=$C({merge:e.merge.map(e=>RC(e,t))},e,t);return t.addStream(n).id}function BC(e,t){const n=$C({stream:RC(e.stream,t)},e,t);return t.addStream(n).id}function LC(e,t){let n;var i;\"timer\"===e.type?(n=t.event(\"timer\",e.throttle),e={between:e.between,filter:e.filter}):n=t.event(\"scope\"===(i=e.source)?\"view\":i||\"view\",e.type);const r=$C({stream:n},e,t);return 1===Object.keys(r).length?n:t.addStream(r).id}function $C(e,t,n){let i=t.between;return i&&(2!==i.length&&Object(se.o)('Stream \"between\" parameter must have 2 entries: '+Object(se.ab)(t)),e.between=[RC(i[0],n),RC(i[1],n)]),i=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&i.push(function(e,t,n){const i=\"event.item\";return i+(e&&\"*\"!==e?\"&&\"+i+\".mark.marktype==='\"+e+\"'\":\"\")+(n?\"&&\"+i+\".mark.role==='\"+n+\"'\":\"\")+(t?\"&&\"+i+\".mark.name==='\"+t+\"'\":\"\")}(t.marktype,t.markname,t.markrole)),\"scope\"===t.source&&i.push(\"inScope(event.item)\"),i.length&&(e.filter=Pj(\"(\"+i.join(\")&&(\")+\")\",n).$expr),null!=(i=t.throttle)&&(e.throttle=+i),null!=(i=t.debounce)&&(e.debounce=+i),t.consume&&(e.consume=!0),e}const WC=/[[\\]{}]/,UC={\"*\":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let YC,HC;var qC=function(e,t,n){return YC=t||\"view\",HC=n||UC,GC(e.trim()).map(XC)};function VC(e,t,n,i,r){const o=e.length;let a,s=0;for(;t<o;++t){if(a=e[t],!s&&a===n)return t;r&&r.indexOf(a)>=0?--s:i&&i.indexOf(a)>=0&&++s}return t}function GC(e){const t=[],n=e.length;let i=0,r=0;for(;r<n;)r=VC(e,r,\",\",\"[{\",\"]}\"),t.push(e.substring(i,r).trim()),i=++r;if(0===t.length)throw\"Empty event selector: \"+e;return t}function XC(e){return\"[\"===e[0]?function(e){const t=e.length;let n,i=1;if(i=VC(e,i,\"]\",\"[\",\"]\"),i===t)throw\"Empty between selector: \"+e;if(n=GC(e.substring(1,i)),2!==n.length)throw\"Between selector must have two elements: \"+e;if(\">\"!==(e=e.slice(i+1).trim())[0])throw\"Expected '>' after between selector: \"+e;n=n.map(XC);const r=XC(e.slice(1).trim());if(r.between)return{between:n,stream:r};r.between=n;return r}(e):function(e){const t={source:YC},n=[];let i,r,o=[0,0],a=0,s=0,l=e.length,u=0;if(\"}\"===e[l-1]){if(u=e.lastIndexOf(\"{\"),!(u>=0))throw\"Unmatched right brace: \"+e;try{o=function(e){const t=e.split(\",\");if(!e.length||t.length>2)throw e;return t.map(t=>{const n=+t;if(n!=n)throw e;return n})}(e.substring(u+1,l-1))}catch(t){throw\"Invalid throttle specification: \"+e}e=e.slice(0,u).trim(),l=e.length,u=0}if(!l)throw e;\"@\"===e[0]&&(a=++u);i=VC(e,u,\":\"),i<l&&(n.push(e.substring(s,i).trim()),s=u=++i);if(u=VC(e,u,\"[\"),u===l)n.push(e.substring(s,l).trim());else if(n.push(e.substring(s,u).trim()),r=[],s=++u,s===l)throw\"Unmatched left bracket: \"+e;for(;u<l;){if(u=VC(e,u,\"]\"),u===l)throw\"Unmatched left bracket: \"+e;if(r.push(e.substring(s,u).trim()),u<l-1&&\"[\"!==e[++u])throw\"Expected left bracket: \"+e;s=++u}if(!(l=n.length)||WC.test(n[l-1]))throw\"Invalid event selector: \"+e;l>1?(t.type=n[1],a?t.markname=n[0].slice(1):(c=n[0],HC[c]?t.marktype=n[0]:t.source=n[0])):t.type=n[0];var c;\"!\"===t.type.slice(-1)&&(t.consume=!0,t.type=t.type.slice(0,-1));null!=r&&(t.filter=r);o[0]&&(t.throttle=o[0]);o[1]&&(t.debounce=o[1]);return t}(e)}const ZC={code:\"_.$value\",ast:{type:\"Identifier\",value:\"value\"}};var QC=function(e,t,n){const i=e.encode,r={target:n};let o=e.events,a=e.update,s=[];o||Object(se.o)(\"Signal update missing events specification.\"),Object(se.I)(o)&&(o=qC(o,t.isSubscope()?\"scope\":\"view\")),o=Object(se.i)(o).filter(e=>e.signal||e.scale?(s.push(e),0):1),s.length>1&&(s=[JC(s)]),o.length&&s.push(o.length>1?{merge:o}:o[0]),null!=i&&(a&&Object(se.o)(\"Signal encode and update are mutually exclusive.\"),a=\"encode(item(),\"+Object(se.ab)(i)+\")\"),r.update=Object(se.I)(a)?Pj(a,t):null!=a.expr?Pj(a.expr,t):null!=a.value?a.value:null!=a.signal?{$expr:ZC,$params:{$value:t.signalRef(a.signal)}}:Object(se.o)(\"Invalid signal update specification.\"),e.force&&(r.options={force:!0}),s.forEach(e=>t.addUpdate(Object(se.p)(function(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):RC(e,t)}}(e,t),r)))};function JC(e){return{signal:\"[\"+e.map(e=>e.scale?'scale(\"'+e.scale+'\")':e.signal)+\"]\"}}const KC=e=>(t,n,i)=>SC(e,n,t||void 0,i),eM=KC(\"aggregate\"),tM=KC(\"axisticks\"),nM=KC(\"bound\"),iM=KC(\"collect\"),rM=KC(\"compare\"),oM=KC(\"datajoin\"),aM=KC(\"encode\"),sM=KC(\"expression\"),lM=(KC(\"extent\"),KC(\"facet\")),uM=KC(\"field\"),cM=KC(\"key\"),dM=KC(\"legendentries\"),hM=KC(\"load\"),fM=KC(\"mark\"),pM=KC(\"multiextent\"),gM=KC(\"multivalues\"),mM=KC(\"overlap\"),vM=KC(\"params\"),yM=KC(\"prefacet\"),bM=KC(\"projection\"),_M=KC(\"proxy\"),wM=KC(\"relay\"),xM=KC(\"render\"),kM=KC(\"scale\"),OM=KC(\"sieve\"),EM=KC(\"sortitems\"),SM=KC(\"viewlayout\"),DM=KC(\"values\");let jM=0;const CM={min:\"min\",max:\"max\",count:\"sum\"};function MM(e,t){const n=t.getScale(e.name).params;let i;var r;for(i in n.domain=PM(e.domain,e,t),null!=e.range&&(n.range=function e(t,n,i){const r=n.config.range;let o=t.range;if(o.signal)return n.signalRef(o.signal);if(Object(se.I)(o)){if(r&&Object(se.w)(r,o))return t=Object(se.p)({},t,{range:r[o]}),e(t,n,i);\"width\"===o?o=[0,{signal:\"width\"}]:\"height\"===o?o=gg(t.type)?[0,{signal:\"height\"}]:[{signal:\"height\"},0]:Object(se.o)(\"Unrecognized scale range value: \"+Object(se.ab)(o))}else{if(o.scheme)return i.scheme=Object(se.B)(o.scheme)?AM(o.scheme,n):TM(o.scheme,n),o.extent&&(i.schemeExtent=AM(o.extent,n)),void(o.count&&(i.schemeCount=TM(o.count,n)));if(o.step)return void(i.rangeStep=TM(o.step,n));if(gg(t.type)&&!Object(se.B)(o))return PM(o,t,n);Object(se.B)(o)||Object(se.o)(\"Unsupported range type: \"+Object(se.ab)(o))}return o.map(e=>(Object(se.B)(e)?AM:TM)(e,n))}(e,t,n)),null!=e.interpolate&&function(e,t){t.interpolate=TM(e.type||e),null!=e.gamma&&(t.interpolateGamma=TM(e.gamma))}(e.interpolate,n),null!=e.nice&&(n.nice=(r=e.nice,Object(se.G)(r)?{interval:TM(r.interval),step:TM(r.step)}:TM(r))),null!=e.bins&&(n.bins=function(e,t){return e.signal||Object(se.B)(e)?AM(e,t):t.objectProperty(e)}(e.bins,t)),e)Object(se.w)(n,i)||\"name\"===i||(n[i]=TM(e[i],t))}function TM(e,t){return Object(se.G)(e)?e.signal?t.signalRef(e.signal):Object(se.o)(\"Unsupported object: \"+Object(se.ab)(e)):e}function AM(e,t){return e.signal?t.signalRef(e.signal):e.map(e=>TM(e,t))}function FM(e){Object(se.o)(\"Can not find data set: \"+Object(se.ab)(e))}function PM(e,t,n){if(e)return e.signal?n.signalRef(e.signal):(Object(se.B)(e)?NM:e.fields?RM:zM)(e,t,n);null==t.domainMin&&null==t.domainMax||Object(se.o)(\"No scale domain defined for domainMin/domainMax to override.\")}function NM(e,t,n){return e.map(e=>TM(e,n))}function zM(e,t,n){const i=n.getData(e.data);return i||FM(e.data),gg(t.type)?i.valuesRef(n,e.field,BM(e.sort,!1)):bg(t.type)?i.domainRef(n,e.field):i.extentRef(n,e.field)}function RM(e,t,n){const i=e.data,r=e.fields.reduce((e,t)=>(t=Object(se.I)(t)?{data:i,field:t}:Object(se.B)(t)||t.signal?function(e,t){const n=\"_:vega:_\"+jM++,i=iM({});if(Object(se.B)(e))i.value={$ingest:e};else if(e.signal){const r=\"setdata(\"+Object(se.ab)(n)+\",\"+e.signal+\")\";i.params.input=t.signalRef(r)}return t.addDataPipeline(n,[i,OM({})]),{data:n,field:\"data\"}}(t,n):t,e.push(t),e),[]);return(gg(t.type)?IM:bg(t.type)?LM:$M)(e,n,r)}function IM(e,t,n){const i=BM(e.sort,!0);let r,o;const a=n.map(e=>{const n=t.getData(e.data);return n||FM(e.data),n.countsRef(t,e.field,i)}),s={groupby:MC,pulse:a};i&&(r=i.op||\"count\",o=i.field?AC(r,i.field):\"count\",s.ops=[CM[r]],s.fields=[t.fieldRef(o)],s.as=[o]),r=t.add(eM(s));const l=t.add(iM({pulse:jC(r)}));return o=t.add(DM({field:MC,sort:t.sortRef(i),pulse:jC(l)})),jC(o)}function BM(e,t){return e&&(e.field||e.op?e.field||\"count\"===e.op?t&&e.field&&e.op&&!CM[e.op]&&Object(se.o)(\"Multiple domain scales can not be sorted using \"+e.op):Object(se.o)(\"No field provided for sort aggregate op: \"+e.op):Object(se.G)(e)?e.field=\"key\":e={field:\"key\"}),e}function LM(e,t,n){const i=n.map(e=>{const n=t.getData(e.data);return n||FM(e.data),n.domainRef(t,e.field)});return jC(t.add(gM({values:i})))}function $M(e,t,n){const i=n.map(e=>{const n=t.getData(e.data);return n||FM(e.data),n.extentRef(t,e.field)});return jC(t.add(pM({extents:i})))}function WM(e,t,n){return Object(se.B)(e)?e.map(e=>WM(e,t,n)):Object(se.G)(e)?e.signal?n.signalRef(e.signal):\"fit\"===t?e:Object(se.o)(\"Unsupported parameter object: \"+Object(se.ab)(e)):e}const UM=\"value\",YM=[\"size\",\"shape\",\"fill\",\"stroke\",\"strokeWidth\",\"strokeDash\",\"opacity\"],HM={name:1,style:1,interactive:1},qM={value:0},VM={value:1};var GM=function(e){return e.type=\"group\",e.interactive=e.interactive||!1,e};function XM(e,t){const n=(n,i)=>NC(e[n],NC(t[n],i));return n.isVertical=n=>\"vertical\"===NC(e.direction,t.direction||(n?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>NC(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>NC(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>NC(e.columns,NC(t.columns,+n.isVertical(!0))),n}function ZM(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function QM(e,t,n){return`item.anchor === 'start' ? ${e} : item.anchor === 'end' ? ${t} : ${n}`}const JM=QM(Object(se.ab)(\"left\"),Object(se.ab)(\"right\"),Object(se.ab)(\"center\"));function KM(e,t){return t?e?Object(se.G)(e)?Object.assign({},e,{offset:KM(e.offset,t)}):{value:e,offset:t}:t:e}var eT=function(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=dC(e.encode,t,HM)):e.interactive=!1,e},tT=function(e,t,n,i){const r=XM(e,n),o=r.isVertical(),a=r.gradientThickness(),s=r.gradientLength();let l,u,c,d,h;o?(u=[0,1],c=[0,0],d=a,h=s):(u=[0,0],c=[1,0],d=s,h=a);const f={enter:l={opacity:qM,x:qM,y:qM,width:lC(d),height:lC(h)},update:Object(se.p)({},l,{opacity:VM,fill:{gradient:t,start:u,stop:c}}),exit:{opacity:qM}};return cC(f,{stroke:r(\"gradientStrokeColor\"),strokeWidth:r(\"gradientStrokeWidth\")},{opacity:r(\"gradientOpacity\")}),eT({type:\"rect\",role:\"legend-gradient\",encode:f},i)},nT=function(e,t,n,i,r){const o=XM(e,n),a=o.isVertical(),s=o.gradientThickness(),l=o.gradientLength();let u,c,d,h,f=\"\";a?(u=\"y\",d=\"y2\",c=\"x\",h=\"width\",f=\"1-\"):(u=\"x\",d=\"x2\",c=\"y\",h=\"height\");const p={opacity:qM,fill:{scale:t,field:UM}};p[u]={signal:f+\"datum.perc\",mult:l},p[c]=qM,p[d]={signal:f+\"datum.perc2\",mult:l},p[h]=lC(s);const g={enter:p,update:Object(se.p)({},p,{opacity:VM}),exit:{opacity:qM}};return cC(g,{stroke:o(\"gradientStrokeColor\"),strokeWidth:o(\"gradientStrokeWidth\")},{opacity:o(\"gradientOpacity\")}),eT({type:\"rect\",role:\"legend-band\",key:UM,from:r,encode:g},i)};var iT=function(e,t,n,i){const r=XM(e,t),o=r.isVertical(),a=lC(r.gradientThickness()),s=r.gradientLength();let l,u,c,d,h=r(\"labelOverlap\"),f=\"\";const p={enter:l={opacity:qM},update:u={opacity:VM,text:{field:\"label\"}},exit:{opacity:qM}};return cC(p,{fill:r(\"labelColor\"),fillOpacity:r(\"labelOpacity\"),font:r(\"labelFont\"),fontSize:r(\"labelFontSize\"),fontStyle:r(\"labelFontStyle\"),fontWeight:r(\"labelFontWeight\"),limit:NC(e.labelLimit,t.gradientLabelLimit)}),o?(l.align={value:\"left\"},l.baseline=u.baseline={signal:'datum.perc<=0?\"bottom\":datum.perc>=1?\"top\":\"middle\"'},c=\"y\",d=\"x\",f=\"1-\"):(l.align=u.align={signal:'datum.perc<=0?\"left\":datum.perc>=1?\"right\":\"center\"'},l.baseline={value:\"top\"},c=\"x\",d=\"y\"),l[c]=u[c]={signal:f+\"datum.perc\",mult:s},l[d]=u[d]=a,a.offset=NC(e.labelOffset,t.gradientLabelOffset)||0,h=h?{separation:r(\"labelSeparation\"),method:h,order:\"datum.index\"}:void 0,eT({type:\"text\",role:\"legend-label\",style:\"guide-label\",key:UM,from:i,encode:p,overlap:h},n)},rT=function(e,t,n,i,r){const o=XM(e,t),a=n.entries,s=!(!a||!a.interactive),l=a?a.name:void 0,u=o(\"clipHeight\"),c=o(\"symbolOffset\"),d={data:\"value\"},h=`(${r}) ? datum.offset : datum.size`,f=u?lC(u):{field:\"size\"},p=\"datum.index\",g=`max(1, ${r})`;let m,v,y,b,_;f.mult=.5,m={enter:v={opacity:qM,x:{signal:h,mult:.5,offset:c},y:f},update:y={opacity:VM,x:v.x,y:v.y},exit:{opacity:qM}};let w=null,x=null;e.fill||(w=t.symbolBaseFillColor,x=t.symbolBaseStrokeColor),cC(m,{fill:o(\"symbolFillColor\",w),shape:o(\"symbolType\"),size:o(\"symbolSize\"),stroke:o(\"symbolStrokeColor\",x),strokeDash:o(\"symbolDash\"),strokeDashOffset:o(\"symbolDashOffset\"),strokeWidth:o(\"symbolStrokeWidth\")},{opacity:o(\"symbolOpacity\")}),YM.forEach(t=>{e[t]&&(y[t]=v[t]={scale:e[t],field:UM})});const k=eT({type:\"symbol\",role:\"legend-symbol\",key:UM,from:d,clip:!!u||void 0,encode:m},n.symbols),O=lC(c);O.offset=o(\"labelOffset\"),m={enter:v={opacity:qM,x:{signal:h,offset:O},y:f},update:y={opacity:VM,text:{field:\"label\"},x:v.x,y:v.y},exit:{opacity:qM}},cC(m,{align:o(\"labelAlign\"),baseline:o(\"labelBaseline\"),fill:o(\"labelColor\"),fillOpacity:o(\"labelOpacity\"),font:o(\"labelFont\"),fontSize:o(\"labelFontSize\"),fontStyle:o(\"labelFontStyle\"),fontWeight:o(\"labelFontWeight\"),limit:o(\"labelLimit\")});const E=eT({type:\"text\",role:\"legend-label\",style:\"guide-label\",key:UM,from:d,encode:m},n.labels);return m={enter:{noBound:{value:!u},width:qM,height:u?lC(u):qM,opacity:qM},exit:{opacity:qM},update:y={opacity:VM,row:{signal:null},column:{signal:null}}},o.isVertical(!0)?(b=`ceil(item.mark.items.length / ${g})`,y.row.signal=`${p}%${b}`,y.column.signal=`floor(${p} / ${b})`,_={field:[\"row\",p]}):(y.row.signal=`floor(${p} / ${g})`,y.column.signal=`${p} % ${g}`,_={field:p}),y.column.signal=`(${r})?${y.column.signal}:${p}`,GM({role:\"scope\",from:i={facet:{data:i,name:\"value\",groupby:\"index\"}},encode:dC(m,a,HM),marks:[k,E],name:l,interactive:s,sort:_})};const oT='item.orient === \"left\"',aT='item.orient === \"right\"',sT=`(${oT} || ${aT})`,lT=\"datum.vgrad && \"+sT,uT=QM('\"top\"','\"bottom\"','\"middle\"'),cT=`datum.vgrad && ${aT} ? (${QM('\"right\"','\"left\"','\"center\"')}) : (${sT} && !(datum.vgrad && ${oT})) ? \"left\" : ${JM}`,dT=`item._anchor || (${sT} ? \"middle\" : \"start\")`,hT=`${lT} ? (${oT} ? -90 : 90) : 0`,fT=`${sT} ? (datum.vgrad ? (${aT} ? \"bottom\" : \"top\") : ${uT}) : \"top\"`;var pT=function(e,t){let n;return Object(se.G)(e)&&(e.signal?n=e.signal:e.path?n=\"pathShape(\"+gT(e.path)+\")\":e.sphere&&(n=\"geoShape(\"+gT(e.sphere)+', {type: \"Sphere\"})')),n?t.signalRef(n):!!e};function gT(e){return Object(se.G)(e)&&e.signal?e.signal:Object(se.ab)(e)}var mT=function(e){const t=e.role||\"\";return t.indexOf(\"axis\")&&t.indexOf(\"legend\")&&t.indexOf(\"title\")?\"group\"===e.type?\"scope\":t||\"mark\":t},vT=function(e){return{marktype:e.type,name:e.name||void 0,role:e.role||mT(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}},yT=function(e,t){return e&&e.signal?t.signalRef(e.signal):!1!==e},bT=function(e,t){const n=Wo(e.type);n||Object(se.o)(\"Unrecognized transform type: \"+Object(se.ab)(e.type));const i=SC(n.type.toLowerCase(),null,_T(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(i)),i.metadata=n.metadata||{},i};function _T(e,t,n){const i={},r=e.params.length;for(let o=0;o<r;++o){const r=e.params[o];i[r.name]=wT(r,t,n)}return i}function wT(e,t,n){const i=e.type,r=t[e.name];return\"index\"===i?function(e,t,n){Object(se.I)(t.from)||Object(se.o)('Lookup \"from\" parameter must be a string literal.');return n.getData(t.from).lookupRef(n,t.key)}(0,t,n):void 0!==r?\"param\"===i?function(e,t,n){const i=t[e.name];return e.array?(Object(se.B)(i)||Object(se.o)(\"Expected an array of sub-parameters. Instead: \"+Object(se.ab)(i)),i.map(t=>kT(e,t,n))):kT(e,i,n)}(e,t,n):\"projection\"===i?n.projectionRef(t[e.name]):e.array&&!FC(r)?r.map(t=>xT(e,t,n)):xT(e,r,n):void(e.required&&Object(se.o)(\"Missing required \"+Object(se.ab)(t.type)+\" parameter: \"+Object(se.ab)(e.name)))}function xT(e,t,n){const i=e.type;if(FC(t))return DT(i)?Object(se.o)(\"Expression references can not be signals.\"):jT(i)?n.fieldRef(t):CT(i)?n.compareRef(t):n.signalRef(t.signal);{const r=e.expr||jT(i);return r&&OT(t)?n.exprRef(t.expr,t.as):r&&ET(t)?CC(t.field,t.as):DT(i)?Pj(t,n):ST(i)?jC(n.getData(t).values):jT(i)?CC(t):CT(i)?n.compareRef(t):t}}function kT(e,t,n){const i=e.params.length;let r;for(let n=0;n<i;++n){r=e.params[n];for(const e in r.key)if(r.key[e]!==t[e]){r=null;break}if(r)break}r||Object(se.o)(\"Unsupported parameter: \"+Object(se.ab)(t));const o=Object(se.p)(_T(r,t,n),r.key);return jC(n.add(vM(o)))}const OT=e=>e&&e.expr,ET=e=>e&&e.field,ST=e=>\"data\"===e,DT=e=>\"expr\"===e,jT=e=>\"field\"===e,CT=e=>\"compare\"===e;function MT(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:jC(t.getData(e.data).output)}function TT(e,t,n,i,r){this.scope=e,this.input=t,this.output=n,this.values=i,this.aggregate=r,this.index={}}function AT(e){return Object(se.I)(e)?e:null}function FT(e,t,n){const i=AC(n.op,n.field);let r;if(t.ops){for(let e=0,n=t.as.length;e<n;++e)if(t.as[e]===i)return}else t.ops=[\"count\"],t.fields=[null],t.as=[\"count\"];n.op&&(t.ops.push((r=n.op.signal)?e.signalRef(r):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(i))}function PT(e,t,n,i,r,o,a){const s=t[n]||(t[n]={}),l=function(e){return Object(se.G)(e)?(\"descending\"===e.order?\"-\":\"+\")+AC(e.op,e.field):\"\"}(o);let u,c,d=AT(r);if(null!=d&&(e=t.scope,d+=l?\"|\"+l:\"\",u=s[d]),!u){const n=o?{field:MC,pulse:t.countsRef(e,r,o)}:{field:e.fieldRef(r),pulse:jC(t.output)};l&&(n.sort=e.sortRef(o)),c=e.add(SC(i,void 0,n)),a&&(t.index[r]=c),u=jC(c),null!=d&&(s[d]=u)}return u}TT.fromEntries=function(e,t){const n=t.length,i=t[n-1],r=t[n-2];let o=t[0],a=null,s=1;for(o&&\"load\"===o.type&&(o=t[1]),e.add(t[0]);s<n;++s)t[s].params.pulse=jC(t[s-1]),e.add(t[s]),\"aggregate\"===t[s].type&&(a=t[s]);return new TT(e,o,r,i,a)},TT.prototype={countsRef(e,t,n){const i=this,r=i.counts||(i.counts={}),o=AT(t);let a,s,l;return null!=o&&(e=i.scope,a=r[o]),a?n&&n.field&&FT(e,a.agg.params,n):(l={groupby:e.fieldRef(t,\"key\"),pulse:jC(i.output)},n&&n.field&&FT(e,l,n),s=e.add(eM(l)),a=e.add(iM({pulse:jC(s)})),a={agg:s,ref:jC(a)},null!=o&&(r[o]=a)),a.ref},tuplesRef(){return jC(this.values)},extentRef(e,t){return PT(e,this,\"extent\",\"extent\",t,!1)},domainRef(e,t){return PT(e,this,\"domain\",\"values\",t,!1)},valuesRef(e,t,n){return PT(e,this,\"vals\",\"values\",t,n||!0)},lookupRef(e,t){return PT(e,this,\"lookup\",\"tupleindex\",t,!1)},indataRef(e,t){return PT(e,this,\"indata\",\"tupleindex\",t,!0,!0)}};var NT=function(e,t,n){const i=e.remove,r=e.insert,o=e.toggle,a=e.modify,s=e.values,l=t.add(DC()),u=\"if(\"+e.trigger+',modify(\"'+n+'\",'+[r,i,o,a,s].map(e=>null==e?\"null\":e).join(\",\")+\"),0)\",c=Pj(u,t);l.update=c.$expr,l.params=c.$params},zT=function(e,t){const n=mT(e),i=\"group\"===e.type,r=e.from&&e.from.facet,o=e.overlap;let a,s,l,u,c,d,h,f=e.layout||\"scope\"===n||\"frame\"===n;const p=\"mark\"===n||f||r,g=function(e,t,n){let i,r,o,a,s;return e?(i=e.facet)&&(t||Object(se.o)(\"Only group marks can be faceted.\"),null!=i.field?a=s=MT(i,n):(e.data?s=jC(n.getData(e.data).aggregate):(o=bT(Object(se.p)({type:\"aggregate\",groupby:Object(se.i)(i.groupby)},i.aggregate),n),o.params.key=n.keyRef(i.groupby),o.params.pulse=MT(i,n),a=s=jC(n.add(o))),r=n.keyRef(i.groupby,!0))):a=jC(n.add(iM(null,[{}]))),a||(a=MT(e,n)),{key:r,pulse:a,parent:s}}(e.from,i,t);s=t.add(oM({key:g.key||(e.key?CC(e.key):void 0),pulse:g.pulse,clean:!i}));const m=jC(s);s=l=t.add(iM({pulse:m})),s=t.add(fM({markdef:vT(e),interactive:yT(e.interactive,t),clip:pT(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef(\"parent\"):null,index:t.markpath(),pulse:jC(s)}));const v=jC(s);s=u=t.add(aM(bC(e.encode,e.type,n,e.style,t,{mod:!1,pulse:v}))),s.params.parent=t.encode(),e.transform&&e.transform.forEach(e=>{const n=bT(e,t),i=n.metadata;(i.generates||i.changes)&&Object(se.o)(\"Mark transforms should not generate new data.\"),i.nomod||(u.params.mod=!0),n.params.pulse=jC(s),t.add(s=n)}),e.sort&&(s=t.add(EM({sort:t.compareRef(e.sort),pulse:jC(s)})));const y=jC(s);(r||f)&&(f=t.add(SM({layout:t.objectProperty(e.layout),legends:t.legends,mark:v,pulse:y})),d=jC(f));const b=t.add(nM({mark:v,pulse:d||y}));h=jC(b),i&&(p&&(a=t.operators,a.pop(),f&&a.pop()),t.pushState(y,d||h,m),r?function(e,t,n){const i=e.from.facet,r=i.name,o=MT(i,t);let a;i.name||Object(se.o)(\"Facet must have a name: \"+Object(se.ab)(i)),i.data||Object(se.o)(\"Facet must reference a data set: \"+Object(se.ab)(i)),i.field?a=t.add(yM({field:t.fieldRef(i.field),pulse:o})):i.groupby?a=t.add(lM({key:t.keyRef(i.groupby),group:jC(t.proxy(n.parent)),pulse:o})):Object(se.o)(\"Facet must specify groupby or field: \"+Object(se.ab)(i));const s=t.fork(),l=s.add(iM()),u=s.add(OM({pulse:jC(l)}));s.addData(r,new TT(s,l,l,u)),s.addSignal(\"parent\",null),a.params.subflow={$subflow:s.parse(e).toRuntime()}}(e,t,g):p?function(e,t,n){const i=t.add(yM({pulse:n.pulse})),r=t.fork();r.add(OM()),r.addSignal(\"parent\",null),i.params.subflow={$subflow:r.parse(e).toRuntime()}}(e,t,g):t.parse(e),t.popState(),p&&(f&&a.push(f),a.push(b))),o&&(h=function(e,t,n){const i=e.method,r=e.bound,o=e.separation,a={separation:FC(o)?n.signalRef(o.signal):o,method:FC(i)?n.signalRef(i.signal):i,pulse:t};e.order&&(a.sort=n.compareRef({field:e.order}));if(r){const e=r.tolerance;a.boundTolerance=FC(e)?n.signalRef(e.signal):+e,a.boundScale=n.scaleRef(r.scale),a.boundOrient=r.orient}return jC(n.add(mM(a)))}(o,h,t));const _=t.add(xM({pulse:h})),w=t.add(OM({pulse:jC(_)},void 0,t.parent()));null!=e.name&&(c=e.name,t.addData(c,new TT(t,l,_,w)),e.on&&e.on.forEach(e=>{(e.insert||e.remove||e.toggle)&&Object(se.o)(\"Marks only support modify triggers.\"),NT(e,t,c)}))};var RT=function(e,t){const n=t.config.legend,i=e.encode||{},r=XM(e,n),o=i.legend||{},a=o.name||void 0,s=o.interactive,l=o.style,u={};let c,d,h,f=0;YM.forEach(t=>e[t]?(u[t]=e[t],f=f||e[t]):0),f||Object(se.o)(\"Missing valid scale for legend.\");const p=function(e,t){let n=e.type||\"symbol\";e.type||1!==function(e){return YM.reduce((t,n)=>t+(e[n]?1:0),0)}(e)||!e.fill&&!e.stroke||(n=pg(t)?\"gradient\":mg(t)?\"discrete\":\"symbol\");return\"gradient\"!==n?n:mg(t)?\"discrete\":\"gradient\"}(e,t.scaleType(f)),g={title:null!=e.title,scales:u,type:p,vgrad:\"symbol\"!==p&&r.isVertical()},m=jC(t.add(iM(null,[g]))),v=jC(t.add(dM(d={type:p,scale:t.scaleRef(f),count:t.objectProperty(r(\"tickCount\")),limit:t.property(r(\"symbolLimit\")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return\"gradient\"===p?(h=[tT(e,f,n,i.gradient),iT(e,n,i.labels,v)],d.count=d.count||t.signalRef(`max(2,2*floor((${zC(r.gradientLength())})/100))`)):\"discrete\"===p?h=[nT(e,f,n,i.gradient,v),iT(e,n,i.labels,v)]:(c=function(e,t){const n=XM(e,t);return{align:n(\"gridAlign\"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n(\"rowPadding\"),column:n(\"columnPadding\")}}}(e,n),h=[rT(e,n,i,v,zC(c.columns))],d.size=function(e,t,n){const i=zC(BT(\"size\",e,n)),r=zC(BT(\"strokeWidth\",e,n)),o=zC(function(e,t,n){return ZM(\"fontSize\",e)||function(e,t,n){const i=t.config.style[n];return i&&i[e]}(\"fontSize\",t,n)}(n[1].encode,t,\"guide-label\"));return Pj(`max(ceil(sqrt(${i})+${r}),${o})`,t)}(e,t,h[0].marks)),h=[GM({role:\"legend-entry\",from:m,encode:{enter:{x:{value:0},y:{value:0}}},marks:h,layout:c,interactive:s})],g.title&&h.push(function(e,t,n,i){const r=XM(e,t),o={enter:{opacity:qM},update:{opacity:VM,x:{field:{group:\"padding\"}},y:{field:{group:\"padding\"}}},exit:{opacity:qM}};return cC(o,{orient:r(\"titleOrient\"),_anchor:r(\"titleAnchor\"),anchor:{signal:dT},angle:{signal:hT},align:{signal:cT},baseline:{signal:fT},text:e.title,fill:r(\"titleColor\"),fillOpacity:r(\"titleOpacity\"),font:r(\"titleFont\"),fontSize:r(\"titleFontSize\"),fontStyle:r(\"titleFontStyle\"),fontWeight:r(\"titleFontWeight\"),limit:r(\"titleLimit\"),lineHeight:r(\"titleLineHeight\")},{align:r(\"titleAlign\"),baseline:r(\"titleBaseline\")}),eT({type:\"text\",role:\"legend-title\",style:\"guide-title\",from:i,encode:o},n)}(e,n,i.title,m)),zT(GM({role:\"legend\",from:m,encode:dC(IT(r,e,n),o,HM),marks:h,aria:r(\"aria\"),description:r(\"description\"),zindex:r(\"zindex\"),name:a,interactive:s,style:l}),t)};function IT(e,t,n){const i={enter:{},update:{}};return cC(i,{orient:e(\"orient\"),offset:e(\"offset\"),padding:e(\"padding\"),titlePadding:e(\"titlePadding\"),cornerRadius:e(\"cornerRadius\"),fill:e(\"fillColor\"),stroke:e(\"strokeColor\"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e(\"legendX\"),y:e(\"legendY\"),format:t.format,formatType:t.formatType}),i}function BT(e,t,n){return t[e]?`scale(\"${t[e]}\",datum)`:ZM(e,n[0].encode)}var LT=function(e,t){const n=XM(e=Object(se.I)(e)?{text:e}:e,t.config.title),i=e.encode||{},r=i.group||{},o=r.name||void 0,a=r.interactive,s=r.style,l=[],u=jC(t.add(iM(null,[{}])));return l.push(function(e,t,n,i){const r={value:0},o=e.text,a={enter:{opacity:r},update:{opacity:{value:1}},exit:{opacity:r}};return cC(a,{text:o,align:{signal:\"item.mark.group.align\"},angle:{signal:\"item.mark.group.angle\"},limit:{signal:\"item.mark.group.limit\"},baseline:\"top\",dx:t(\"dx\"),dy:t(\"dy\"),fill:t(\"color\"),font:t(\"font\"),fontSize:t(\"fontSize\"),fontStyle:t(\"fontStyle\"),fontWeight:t(\"fontWeight\"),lineHeight:t(\"lineHeight\")},{align:t(\"align\"),angle:t(\"angle\"),baseline:t(\"baseline\")}),eT({type:\"text\",role:\"title-text\",style:\"group-title\",from:i,encode:a},n)}(e,n,function(e){const t=e.encode;return t&&t.title||Object(se.p)({name:e.name,interactive:e.interactive,style:e.style},t)}(e),u)),e.subtitle&&l.push(function(e,t,n,i){const r={value:0},o=e.subtitle,a={enter:{opacity:r},update:{opacity:{value:1}},exit:{opacity:r}};return cC(a,{text:o,align:{signal:\"item.mark.group.align\"},angle:{signal:\"item.mark.group.angle\"},limit:{signal:\"item.mark.group.limit\"},baseline:\"top\",dx:t(\"dx\"),dy:t(\"dy\"),fill:t(\"subtitleColor\"),font:t(\"subtitleFont\"),fontSize:t(\"subtitleFontSize\"),fontStyle:t(\"subtitleFontStyle\"),fontWeight:t(\"subtitleFontWeight\"),lineHeight:t(\"subtitleLineHeight\")},{align:t(\"align\"),angle:t(\"angle\"),baseline:t(\"baseline\")}),eT({type:\"text\",role:\"title-subtitle\",style:\"group-subtitle\",from:i,encode:a},n)}(e,n,i.subtitle,u)),zT(GM({role:\"title\",from:u,encode:$T(n,r),marks:l,aria:n(\"aria\"),description:n(\"description\"),zindex:n(\"zindex\"),name:o,interactive:a,style:s}),t)};function $T(e,t){const n={enter:{},update:{}};return cC(n,{orient:e(\"orient\"),anchor:e(\"anchor\"),align:{signal:JM},angle:{signal:'item.orient===\"left\"?-90:item.orient===\"right\"?90:0'},limit:e(\"limit\"),frame:e(\"frame\"),offset:e(\"offset\")||0,padding:e(\"subtitlePadding\")}),dC(n,t,HM)}function WT(e,t){const n=[];e.transform&&e.transform.forEach(e=>{n.push(bT(e,t))}),e.on&&e.on.forEach(n=>{NT(n,t,e.name)}),t.addDataPipeline(e.name,function(e,t,n){const i=[];let r,o,a,s,l,u=null,c=!1,d=!1;e.values?PC(e.values)||PC(e.format)?(i.push(YT(t,e)),i.push(u=UT())):i.push(u=UT({$ingest:e.values,$format:e.format})):e.url?PC(e.url)||PC(e.format)?(i.push(YT(t,e)),i.push(u=UT())):i.push(u=UT({$request:e.url,$format:e.format})):e.source&&(u=r=Object(se.i)(e.source).map(e=>jC(t.getData(e).output)),i.push(null));for(o=0,a=n.length;o<a;++o)s=n[o],l=s.metadata,u||l.source||i.push(u=UT()),i.push(s),l.generates&&(d=!0),l.modifies&&!d&&(c=!0),l.source?u=s:l.changes&&(u=null);r&&(a=r.length-1,i[0]=wM({derive:c,pulse:a?r:r[0]}),(c||a)&&i.splice(1,0,UT()));u||i.push(UT());return i.push(OM({})),i}(e,t,n))}function UT(e){const t=iM({},e);return t.metadata={source:!0},t}function YT(e,t){return hM({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const HT=e=>\"bottom\"===e||\"top\"===e,qT=(e,t,n)=>FC(e)?JT(e.signal,t,n):\"left\"===e||\"top\"===e?t:n,VT=(e,t,n)=>FC(e)?ZT(e.signal,t,n):HT(e)?t:n,GT=(e,t,n)=>FC(e)?QT(e.signal,t,n):HT(e)?n:t,XT=(e,t,n)=>FC(e)?KT(e.signal,t,n):\"top\"===e?{value:t}:{value:n},ZT=(e,t,n)=>tA(`${e} === 'top' || ${e} === 'bottom'`,t,n),QT=(e,t,n)=>tA(`${e} !== 'top' && ${e} !== 'bottom'`,t,n),JT=(e,t,n)=>iA(`${e} === 'left' || ${e} === 'top'`,t,n),KT=(e,t,n)=>iA(e+\" === 'top'\",t,n),eA=(e,t,n)=>iA(e+\" === 'right'\",t,n),tA=(e,t,n)=>(t=null!=t?lC(t):t,n=null!=n?lC(n):n,nA(t)&&nA(n)?{signal:`${e} ? (${t=t?t.signal||Object(se.ab)(t.value):null}) : (${n=n?n.signal||Object(se.ab)(n.value):null})`}:[Object(se.p)({test:e},t)].concat(n||[])),nA=e=>null==e||1===Object.keys(e).length,iA=(e,t,n)=>({signal:`${e} ? (${rA(t)}) : (${rA(n)})`}),rA=e=>FC(e)?e.signal:null==e?null:Object(se.ab)(e),oA=(e,t)=>{const n=e.signal;return n&&n.endsWith(\"(null)\")?{signal:n.slice(0,-6)+t.signal}:e};function aA(e,t,n,i){let r;if(t&&Object(se.w)(t,e))return t[e];if(Object(se.w)(n,e))return n[e];if(e.startsWith(\"title\")){switch(e){case\"titleColor\":r=\"fill\";break;case\"titleFont\":case\"titleFontSize\":case\"titleFontWeight\":r=e[5].toLowerCase()+e.slice(6)}return i[\"guide-title\"][r]}if(e.startsWith(\"label\")){switch(e){case\"labelColor\":r=\"fill\";break;case\"labelFont\":case\"labelFontSize\":r=e[5].toLowerCase()+e.slice(6)}return i[\"guide-label\"][r]}return null}function sA(e){const t={};for(const n of e)if(n)for(const e in n)t[e]=1;return Object.keys(t)}function lA(e,t){return{scale:e.scale,range:t}}var uA=function(e,t,n,i,r){const o=XM(e,t),a=e.orient,s=e.gridScale,l=qT(a,1,-1),u=function(e,t){if(1===t);else if(Object(se.G)(e)){let n=e=Object(se.p)({},e);for(;null!=n.mult;){if(!Object(se.G)(n.mult))return n.mult=FC(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n=n.mult=Object(se.p)({},n.mult)}n.mult=t}else e=FC(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);return e}(e.offset,l);let c,d,h;const f={enter:c={opacity:qM},update:h={opacity:VM},exit:d={opacity:qM}};cC(f,{stroke:o(\"gridColor\"),strokeCap:o(\"gridCap\"),strokeDash:o(\"gridDash\"),strokeDashOffset:o(\"gridDashOffset\"),strokeOpacity:o(\"gridOpacity\"),strokeWidth:o(\"gridWidth\")});const p={scale:e.scale,field:UM,band:r.band,extra:r.extra,offset:r.offset,round:o(\"tickRound\")},g=VT(a,{signal:\"height\"},{signal:\"width\"}),m=s?{scale:s,range:0,mult:l,offset:u}:{value:0,offset:u},v=s?{scale:s,range:1,mult:l,offset:u}:Object(se.p)(g,{mult:l,offset:u});return c.x=h.x=VT(a,p,m),c.y=h.y=GT(a,p,m),c.x2=h.x2=GT(a,v),c.y2=h.y2=VT(a,v),d.x=VT(a,p),d.y=GT(a,p),eT({type:\"rule\",role:\"axis-grid\",key:UM,from:i,encode:f},n)};function cA(e,t,n,i,r){return{signal:'flush(range(\"'+e+'\"), scale(\"'+e+'\", datum.value), '+t+\",\"+n+\",\"+i+\",\"+r+\")\"}}var dA=function(e,t,n,i,r,o){const a=XM(e,t),s=e.orient,l=e.scale,u=qT(s,-1,1),c=zC(a(\"labelFlush\")),d=zC(a(\"labelFlushOffset\")),h=a(\"labelAlign\"),f=a(\"labelBaseline\");let p,g=0===c||!!c;const m=lC(r);m.mult=u,m.offset=lC(a(\"labelPadding\")||0),m.offset.mult=u;const v={scale:l,field:UM,band:.5,offset:KM(o.offset,a(\"labelOffset\"))},y=VT(s,g?cA(l,c,'\"left\"','\"right\"','\"center\"'):{value:\"center\"},((e,t,n)=>FC(e)?eA(e.signal,t,n):\"right\"===e?{value:t}:{value:n})(s,\"left\",\"right\")),b=VT(s,XT(s,\"bottom\",\"top\"),g?cA(l,c,'\"top\"','\"bottom\"','\"middle\"'):{value:\"middle\"}),_=cA(l,c,`-(${d})`,d,0);g=g&&d;const w={opacity:qM,x:VT(s,v,m),y:GT(s,v,m)},x={enter:w,update:p={opacity:VM,text:{field:\"label\"},x:w.x,y:w.y,align:y,baseline:b},exit:{opacity:qM,x:w.x,y:w.y}};cC(x,{dx:!h&&g?VT(s,_):null,dy:!f&&g?GT(s,_):null}),cC(x,{angle:a(\"labelAngle\"),fill:a(\"labelColor\"),fillOpacity:a(\"labelOpacity\"),font:a(\"labelFont\"),fontSize:a(\"labelFontSize\"),fontWeight:a(\"labelFontWeight\"),fontStyle:a(\"labelFontStyle\"),limit:a(\"labelLimit\"),lineHeight:a(\"labelLineHeight\")},{align:h,baseline:f});const k=a(\"labelBound\");let O=a(\"labelOverlap\");return O=O||k?{separation:a(\"labelSeparation\"),method:O,order:\"datum.index\",bound:k?{scale:l,orient:s,tolerance:k}:null}:void 0,p.align!==y&&(p.align=oA(p.align,y)),p.baseline!==b&&(p.baseline=oA(p.baseline,b)),eT({type:\"text\",role:\"axis-label\",style:\"guide-label\",key:UM,from:i,encode:x,overlap:O},n)},hA=function(e,t,n,i){const r=XM(e,t),o=e.orient,a=qT(o,-1,1);let s,l;const u={enter:s={opacity:qM,anchor:lC(r(\"titleAnchor\",null)),align:{signal:JM}},update:l=Object(se.p)({},s,{opacity:VM,text:lC(e.title)}),exit:{opacity:qM}},c={signal:`lerp(range(\"${e.scale}\"), ${QM(0,1,.5)})`};return l.x=VT(o,c),l.y=GT(o,c),s.angle=VT(o,qM,((e,t)=>0===t?0:FC(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t})(a,90)),s.baseline=VT(o,XT(o,\"bottom\",\"top\"),{value:\"bottom\"}),l.angle=s.angle,l.baseline=s.baseline,cC(u,{fill:r(\"titleColor\"),fillOpacity:r(\"titleOpacity\"),font:r(\"titleFont\"),fontSize:r(\"titleFontSize\"),fontStyle:r(\"titleFontStyle\"),fontWeight:r(\"titleFontWeight\"),limit:r(\"titleLimit\"),lineHeight:r(\"titleLineHeight\")},{align:r(\"titleAlign\"),angle:r(\"titleAngle\"),baseline:r(\"titleBaseline\")}),function(e,t,n,i){const r=(e,t)=>null!=e?(n.update[t]=oA(lC(e),n.update[t]),!1):!hC(t,i),o=r(e(\"titleX\"),\"x\"),a=r(e(\"titleY\"),\"y\");n.enter.auto=a===o?lC(a):VT(t,lC(a),lC(o))}(r,o,u,n),u.update.align=oA(u.update.align,s.align),u.update.angle=oA(u.update.angle,s.angle),u.update.baseline=oA(u.update.baseline,s.baseline),eT({type:\"text\",role:\"axis-title\",style:\"guide-title\",from:i,encode:u},n)};var fA=function(e,t){const n=function(e,t){var n,i,r,o,a,s,l,u,c=t.config,d=c.style,h=c.axis,f=\"band\"===t.scaleType(e.scale)&&c.axisBand,p=e.orient;if(FC(p)){const e=sA([c.axisX,c.axisY]),t=sA([c.axisTop,c.axisBottom,c.axisLeft,c.axisRight]);for(r of(n={},e))n[r]=VT(p,aA(r,c.axisX,h,d),aA(r,c.axisY,h,d));for(r of(i={},t))i[r]=(o=p.signal,a=aA(r,c.axisTop,h,d),s=aA(r,c.axisBottom,h,d),l=aA(r,c.axisLeft,h,d),u=aA(r,c.axisRight,h,d),{signal:(null!=l?`${o} === 'left' ? (${rA(l)}) : `:\"\")+(null!=s?`${o} === 'bottom' ? (${rA(s)}) : `:\"\")+(null!=u?`${o} === 'right' ? (${rA(u)}) : `:\"\")+(null!=a?`${o} === 'top' ? (${rA(a)}) : `:\"\")+\"(null)\"})}else n=\"top\"===p||\"bottom\"===p?c.axisX:c.axisY,i=c[\"axis\"+p[0].toUpperCase()+p.slice(1)];return n||i||f?Object(se.p)({},h,n,i,f):h}(e,t),i=e.encode||{},r=i.axis||{},o=r.name||void 0,a=r.interactive,s=r.style,l=XM(e,n),u=function(e){const t=e(\"tickBand\");let n,i,r=e(\"tickOffset\");return t?t.signal?(n={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},Object(se.G)(r)||(r={signal:`(${t.signal}) === 'extent' ? 0 : ${r}`})):\"extent\"===t?(n=1,i=!0,r=0):(n=.5,i=!1):(n=e(\"bandPosition\"),i=e(\"tickExtra\")),{extra:i,band:n,offset:r}}(l),c={scale:e.scale,ticks:!!l(\"ticks\"),labels:!!l(\"labels\"),grid:!!l(\"grid\"),domain:!!l(\"domain\"),title:null!=e.title},d=jC(t.add(iM({},[c]))),h=jC(t.add(tM({scale:t.scaleRef(e.scale),extra:t.property(u.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),f=[];let p;return c.grid&&f.push(uA(e,n,i.grid,h,u)),c.ticks&&(p=l(\"tickSize\"),f.push(function(e,t,n,i,r,o){const a=XM(e,t),s=e.orient,l=qT(s,-1,1);let u,c,d;const h={enter:u={opacity:qM},update:d={opacity:VM},exit:c={opacity:qM}};cC(h,{stroke:a(\"tickColor\"),strokeCap:a(\"tickCap\"),strokeDash:a(\"tickDash\"),strokeDashOffset:a(\"tickDashOffset\"),strokeOpacity:a(\"tickOpacity\"),strokeWidth:a(\"tickWidth\")});const f=lC(r);f.mult=l;const p={scale:e.scale,field:UM,band:o.band,extra:o.extra,offset:o.offset,round:a(\"tickRound\")};return d.y=u.y=VT(s,qM,p),d.y2=u.y2=VT(s,f),c.x=VT(s,p),d.x=u.x=GT(s,qM,p),d.x2=u.x2=GT(s,f),c.y=GT(s,p),eT({type:\"rule\",role:\"axis-tick\",key:UM,from:i,encode:h},n)}(e,n,i.ticks,h,p,u))),c.labels&&(p=c.ticks?p:0,f.push(dA(e,n,i.labels,h,p,u))),c.domain&&f.push(function(e,t,n,i){const r=XM(e,t),o=e.orient;let a,s;const l={enter:a={opacity:qM},update:s={opacity:VM},exit:{opacity:qM}};cC(l,{stroke:r(\"domainColor\"),strokeCap:r(\"domainCap\"),strokeDash:r(\"domainDash\"),strokeDashOffset:r(\"domainDashOffset\"),strokeWidth:r(\"domainWidth\"),strokeOpacity:r(\"domainOpacity\")});const u=lA(e,0),c=lA(e,1);return a.x=s.x=VT(o,u,qM),a.x2=s.x2=VT(o,c),a.y=s.y=GT(o,u,qM),a.y2=s.y2=GT(o,c),eT({type:\"rule\",role:\"axis-domain\",from:i,encode:l},n)}(e,n,i.domain,d)),c.title&&f.push(hA(e,n,i.title,d)),zT(GM({role:\"axis\",from:d,encode:dC(pA(l,e),r,HM),marks:f,aria:l(\"aria\"),description:l(\"description\"),zindex:l(\"zindex\"),name:o,interactive:a,style:s}),t)};function pA(e,t){const n={enter:{},update:{}};return cC(n,{orient:e(\"orient\"),offset:e(\"offset\")||0,position:NC(t.position,0),titlePadding:e(\"titlePadding\"),minExtent:e(\"minExtent\"),maxExtent:e(\"maxExtent\"),range:{signal:`abs(span(range(\"${t.scale}\")))`},translate:e(\"translate\"),format:t.format,formatType:t.formatType}),n}var gA=function(e,t,n){const i=Object(se.i)(e.signals),r=Object(se.i)(e.scales);return n||i.forEach(e=>OC(e,t)),Object(se.i)(e.projections).forEach(e=>function(e,t){const n=t.config.projection||{},i={};for(const n in e)\"name\"!==n&&(i[n]=WM(e[n],n,t));for(const e in n)null==i[e]&&(i[e]=WM(n[e],e,t));t.addProjection(e.name,i)}(e,t)),r.forEach(e=>function(e,t){const n=e.type||\"linear\";hg(n)||Object(se.o)(\"Unrecognized scale type: \"+Object(se.ab)(n)),t.addScale(e.name,{type:n,domain:void 0})}(e,t)),Object(se.i)(e.data).forEach(e=>WT(e,t)),r.forEach(e=>MM(e,t)),(n||i).forEach(e=>function(e,t){const n=t.getSignal(e.name);let i=e.update;e.init&&(i?Object(se.o)(\"Signals can not include both init and update expressions.\"):(i=e.init,n.initonly=!0)),i&&(i=Pj(i,t),n.update=i.$expr,n.params=i.$params),e.on&&e.on.forEach(e=>QC(e,t,n.id))}(e,t)),Object(se.i)(e.axes).forEach(e=>fA(e,t)),Object(se.i)(e.marks).forEach(e=>zT(e,t)),Object(se.i)(e.legends).forEach(e=>RT(e,t)),e.title&&LT(e.title,t),t.parseLambdas(),t};function mA(e,t){const n=t.config,i=jC(t.root=t.add(DC())),r=function(e,t){const n=n=>NC(e[n],t[n]),i=[vA(\"background\",n(\"background\")),vA(\"autosize\",oC(n(\"autosize\"))),vA(\"padding\",sC(n(\"padding\"))),vA(\"width\",n(\"width\")||0),vA(\"height\",n(\"height\")||0)],r=i.reduce((e,t)=>(e[t.name]=t,e),{}),o={};return Object(se.i)(e.signals).forEach(e=>{Object(se.w)(r,e.name)?e=Object(se.p)(r[e.name],e):i.push(e),o[e.name]=e}),Object(se.i)(t.signals).forEach(e=>{Object(se.w)(o,e.name)||Object(se.w)(r,e.name)||i.push(e)}),i}(e,n);r.forEach(e=>OC(e,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const o=t.add(iM()),a=t.add(aM(bC((e=>dC({enter:{x:{value:0},y:{value:0}},update:{width:{signal:\"width\"},height:{signal:\"height\"}}},e))(e.encode),\"group\",\"frame\",e.style,t,{pulse:jC(o)}))),s=t.add(SM({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef(\"autosize\"),mark:i,pulse:jC(a)}));t.operators.pop(),t.pushState(jC(a),jC(s),null),gA(e,t,r),t.operators.push(s);let l=t.add(nM({mark:i,pulse:jC(s)}));return l=t.add(xM({pulse:jC(l)})),l=t.add(OM({pulse:jC(l)})),t.addData(\"root\",new TT(t,o,o,l)),t}function vA(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function yA(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function bA(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}function _A(e){return(Object(se.B)(e)?wA:xA)(e)}function wA(e){const t=e.length;let n=\"[\";for(let i=0;i<t;++i){const t=e[i];n+=(i>0?\",\":\"\")+(Object(se.G)(t)?t.signal||_A(t):Object(se.ab)(t))}return n+\"]\"}function xA(e){let t,n,i=\"{\",r=0;for(t in e)n=e[t],i+=(++r>1?\",\":\"\")+Object(se.ab)(t)+\":\"+(Object(se.G)(n)?n.signal||_A(n):Object(se.ab)(n));return i+\"}\"}yA.prototype=bA.prototype={parse(e){return gA(e,this)},fork(){return new bA(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+\":\":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof EC?jC(e):e;return this.add(_M({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;for(e in this.root&&(this.root.root=!0),this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(e,t,n){let i,r;e&&(i=e.data||(e.data={}),r=i[t]||(i[t]=[]),r.push(n))}for(e in this.data){t=this.data[e],n(t.input,e,\"input\"),n(t.output,e,\"output\"),n(t.values,e,\"values\");for(const i in t.index)n(t.index[i],e,\"index:\"+i)}return this},pushState(e,t,n){this._encode.push(jC(this.add(OM({pulse:e})))),this._parent.push(t),this._lookup.push(n?jC(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return Object(se.V)(this._parent)},encode(){return Object(se.V)(this._encode)},lookup(){return Object(se.V)(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(Object(se.I)(e))return CC(e,t);e.signal||Object(se.o)(\"Unsupported field reference: \"+Object(se.ab)(e));const n=e.signal;let i=this.field[n];if(!i){const e={name:this.signalRef(n)};t&&(e.as=t),this.field[n]=i=jC(this.add(uM(e)))}return i},compareRef(e){let t=!1;const n=e=>FC(e)?(t=!0,this.signalRef(e.signal)):function(e){return e&&e.expr}(e)?(t=!0,this.exprRef(e.expr)):e,i=Object(se.i)(e.field).map(n),r=Object(se.i)(e.order).map(n);return t?jC(this.add(rM({fields:i,orders:r}))):TC(i,r)},keyRef(e,t){let n=!1;const i=this.signals;return e=Object(se.i)(e).map(e=>FC(e)?(n=!0,jC(i[e.signal])):e),n?jC(this.add(cM({fields:e,flat:t}))):function(e,t){const n={$key:e};return t&&(n.$flat=!0),n}(e,t)},sortRef(e){if(!e)return e;const t=AC(e.op,e.field),n=e.order||\"ascending\";return n.signal?jC(this.add(rM({fields:t,orders:this.signalRef(n.signal)}))):TC(t,n)},event(e,t){const n=e+\":\"+t;if(!this.events[n]){const i=this.id();this.streams.push({id:i,source:e,type:t}),this.events[n]=i}return this.events[n]},hasOwnSignal(e){return Object(se.w)(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&Object(se.o)(\"Duplicate signal name: \"+Object(se.ab)(e));const n=t instanceof EC?t:this.add(DC(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||Object(se.o)(\"Unrecognized signal name: \"+Object(se.ab)(e)),this.signals[e]},signalRef(e){return this.signals[e]?jC(this.signals[e]):(Object(se.w)(this.lambdas,e)||(this.lambdas[e]=this.add(DC(null))),jC(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const n=e[t],i=Pj(n,this),r=this.lambdas[n];r.params=i.$params,r.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return e&&Object(se.G)(e)?this.signalRef(e.signal||_A(e)):e},exprRef(e,t){const n={expr:Pj(e,this)};return t&&(n.expr.$name=t),jC(this.add(sM(n)))},addBinding(e,t){this.bindings||Object(se.o)(\"Nested signals do not support binding: \"+Object(se.ab)(e)),this.bindings.push(Object(se.p)({signal:e},t))},addScaleProj(e,t){Object(se.w)(this.scales,e)&&Object(se.o)(\"Duplicate scale or projection name: \"+Object(se.ab)(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,kM(t))},addProjection(e,t){this.addScaleProj(e,bM(t))},getScale(e){return this.scales[e]||Object(se.o)(\"Unrecognized scale name: \"+Object(se.ab)(e)),this.scales[e]},scaleRef(e){return jC(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return Object(se.w)(this.data,e)&&Object(se.o)(\"Duplicate data set name: \"+Object(se.ab)(e)),this.data[e]=t},getData(e){return this.data[e]||Object(se.o)(\"Undefined data set name: \"+Object(se.ab)(e)),this.data[e]},addDataPipeline(e,t){return Object(se.w)(this.data,e)&&Object(se.o)(\"Duplicate data set name: \"+Object(se.ab)(e)),this.addData(e,TT.fromEntries(this,t))}};var kA=function(e,t,n){return Object(se.G)(e)||Object(se.o)(\"Input Vega specification must be an object.\"),mA(e,new yA(t=Object(se.O)({description:\"Vega visualization\",padding:0,autosize:\"pad\",background:null,events:{defaults:{allow:[\"wheel\"]}},group:null,mark:null,arc:{fill:\"#4c78a8\"},area:{fill:\"#4c78a8\"},image:null,line:{stroke:\"#4c78a8\",strokeWidth:2},path:{stroke:\"#4c78a8\"},rect:{fill:\"#4c78a8\"},rule:{stroke:\"#000\"},shape:{stroke:\"#4c78a8\"},symbol:{fill:\"#4c78a8\",size:64},text:{fill:\"#000\",font:\"sans-serif\",fontSize:11},trail:{fill:\"#4c78a8\",size:2},style:{\"guide-label\":{fill:\"#000\",font:\"sans-serif\",fontSize:10},\"guide-title\":{fill:\"#000\",font:\"sans-serif\",fontSize:11,fontWeight:\"bold\"},\"group-title\":{fill:\"#000\",font:\"sans-serif\",fontSize:13,fontWeight:\"bold\"},\"group-subtitle\":{fill:\"#000\",font:\"sans-serif\",fontSize:12},point:{size:30,strokeWidth:2,shape:\"circle\"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:\"square\"},cell:{fill:\"transparent\",stroke:\"#ddd\"}},title:{orient:\"top\",anchor:\"middle\",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:\"#888\",grid:!1,gridWidth:1,gridColor:\"#ddd\",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:\"#888\",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:\"mercator\"},legend:{orient:\"right\",padding:0,gridAlign:\"each\",columnPadding:10,rowPadding:2,symbolDirection:\"vertical\",gradientDirection:\"vertical\",gradientLength:200,gradientThickness:16,gradientStrokeColor:\"#ddd\",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:\"left\",labelBaseline:\"middle\",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:\"circle\",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:\"transparent\",symbolBaseStrokeColor:\"#888\",titleLimit:180,titleOrient:\"top\",titlePadding:5,layout:{offset:18,direction:\"horizontal\",left:{direction:\"vertical\"},right:{direction:\"vertical\"}}},range:{category:{scheme:\"tableau10\"},ordinal:{scheme:\"blues\"},heatmap:{scheme:\"yellowgreenblue\"},ramp:{scheme:\"blues\"},diverging:{scheme:\"blueorange\",extent:[1,0]},symbol:[\"circle\",\"square\",\"triangle-up\",\"cross\",\"diamond\",\"triangle-right\",\"triangle-down\",\"triangle-left\"]}},t,e.config),n)).toRuntime()};Object(se.p)($o,o,s,l,u,c,d,h,f,p,g);var OA=n(143);\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */function EA(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}Object.create;Object.create;function SA(e,t){if(!t.has(e))throw new TypeError(\"attempted to get private field on non-instance\");return t.get(e)}function DA(e,t,n){if(!t.has(e))throw new TypeError(\"attempted to set private field on non-instance\");return t.set(e,n),n}Array.prototype.flat||Object.defineProperty(Array.prototype,\"flat\",{configurable:!0,value:function e(){var t=isNaN(arguments[0])?1:Number(arguments[0]);return t?Array.prototype.reduce.call(this,(function(n,i){return Array.isArray(i)?n.push.apply(n,e.call(i,t-1)):n.push(i),n}),[]):Array.prototype.slice.call(this)},writable:!0}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,\"flatMap\",{configurable:!0,value:function(e){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var jA=n(146),CA=n.n(jA),MA=n(52),TA=n.n(MA),AA=n(13),FA=n.n(AA);function PA(e){return!!e.or}function NA(e){return!!e.and}function zA(e){return!!e.not}function RA(e,t){return zA(e)?{not:RA(e.not,t)}:NA(e)?{and:e.and.map(e=>RA(e,t))}:PA(e)?{or:e.or.map(e=>RA(e,t))}:t(e)}const IA=TA.a,BA=CA.a;function LA(e,t){const n={};for(const i of t)Object(se.w)(e,i)&&(n[i]=e[i]);return n}function $A(e,t){const n=Object.assign({},e);for(const e of t)delete n[e];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>FA()(e)).join(\",\")})`};const WA=FA.a;function UA(e){if(Object(se.F)(e))return e;const t=Object(se.I)(e)?e:FA()(e);if(t.length<250)return t;let n=0;for(let e=0;e<t.length;e++){n=(n<<5)-n+t.charCodeAt(e),n&=n}return n}function YA(e){return!1===e||null===e}function HA(e,t){return e.indexOf(t)>-1}function qA(e,t){let n=0;for(const[i,r]of e.entries())if(t(r,i,n++))return!0;return!1}function VA(e,t){let n=0;for(const[i,r]of e.entries())if(!t(r,i,n++))return!1;return!0}function GA(e,t){for(const n of eF(t))Object(se.kb)(e,n,t[n],!0)}function XA(e,t){const n=[],i={};let r;for(const o of e)r=t(o),r in i||(i[r]=1,n.push(o));return n}function ZA(e,t){for(const n of e)if(t.has(n))return!0;return!1}function QA(e){const t=new Set;for(const n of e){const e=Object(se.Z)(n).map((e,t)=>0===t?e:`[${e}]`),i=e.map((t,n)=>e.slice(0,n+1).join(\"\"));for(const e of i)t.add(e)}return t}function JA(e,t){return void 0===e||void 0===t||ZA(QA(e),QA(t))}function KA(e){return 0===eF(e).length}const eF=Object.keys,tF=Object.values,nF=Object.entries;function iF(e){return!0===e||!1===e}function rF(e){const t=e.replace(/\\W/g,\"_\");return(e.match(/^\\d+/)?\"_\":\"\")+t}function oF(e,t){return zA(e)?\"!(\"+oF(e.not,t)+\")\":NA(e)?\"(\"+e.and.map(e=>oF(e,t)).join(\") && (\")+\")\":PA(e)?\"(\"+e.or.map(e=>oF(e,t)).join(\") || (\")+\")\":t(e)}function aF(e,t){if(0===t.length)return!0;const n=t.shift();return n in e&&aF(e[n],t)&&delete e[n],KA(e)}function sF(e){return e.charAt(0).toUpperCase()+e.substr(1)}function lF(e,t=\"datum\"){const n=Object(se.Z)(e),i=[];for(let e=1;e<=n.length;e++){const r=`[${n.slice(0,e).map(se.ab).join(\"][\")}]`;i.push(`${t}${r}`)}return i.join(\" && \")}function uF(e){return e.replace(/(\\[|\\]|\\.|'|\")/g,\"\\\\$1\")}function cF(e){return\"\"+Object(se.Z)(e).map(uF).join(\"\\\\.\")}function dF(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\\\^$*+?.()|[\\]{}]/g,\"\\\\$&\"),\"g\"),n)}function hF(e){return\"\"+Object(se.Z)(e).join(\".\")}function fF(e){return e?Object(se.Z)(e).length:0}function pF(...e){for(const t of e)if(void 0!==t)return t}let gF=42;function mF(e){if(void 0!==e)return(e%360+360)%360}function vF(e){return!!Object(se.F)(e)||!isNaN(e)&&!isNaN(parseFloat(e))}const yF={labelAlign:{part:\"labels\",vgProp:\"align\"},labelBaseline:{part:\"labels\",vgProp:\"baseline\"},labelColor:{part:\"labels\",vgProp:\"fill\"},labelFont:{part:\"labels\",vgProp:\"font\"},labelFontSize:{part:\"labels\",vgProp:\"fontSize\"},labelFontStyle:{part:\"labels\",vgProp:\"fontStyle\"},labelFontWeight:{part:\"labels\",vgProp:\"fontWeight\"},labelOpacity:{part:\"labels\",vgProp:\"opacity\"},labelOffset:null,labelPadding:null,gridColor:{part:\"grid\",vgProp:\"stroke\"},gridDash:{part:\"grid\",vgProp:\"strokeDash\"},gridDashOffset:{part:\"grid\",vgProp:\"strokeDashOffset\"},gridOpacity:{part:\"grid\",vgProp:\"opacity\"},gridWidth:{part:\"grid\",vgProp:\"strokeWidth\"},tickColor:{part:\"ticks\",vgProp:\"stroke\"},tickDash:{part:\"ticks\",vgProp:\"strokeDash\"},tickDashOffset:{part:\"ticks\",vgProp:\"strokeDashOffset\"},tickOpacity:{part:\"ticks\",vgProp:\"opacity\"},tickSize:null,tickWidth:{part:\"ticks\",vgProp:\"strokeWidth\"}};function bF(e){return e&&e.condition}const _F=[\"domain\",\"grid\",\"labels\",\"ticks\",\"title\"],wF={grid:\"grid\",gridCap:\"grid\",gridColor:\"grid\",gridDash:\"grid\",gridDashOffset:\"grid\",gridOpacity:\"grid\",gridScale:\"grid\",gridWidth:\"grid\",orient:\"main\",bandPosition:\"both\",aria:\"main\",description:\"main\",domain:\"main\",domainCap:\"main\",domainColor:\"main\",domainDash:\"main\",domainDashOffset:\"main\",domainOpacity:\"main\",domainWidth:\"main\",format:\"main\",formatType:\"main\",labelAlign:\"main\",labelAngle:\"main\",labelBaseline:\"main\",labelBound:\"main\",labelColor:\"main\",labelFlush:\"main\",labelFlushOffset:\"main\",labelFont:\"main\",labelFontSize:\"main\",labelFontStyle:\"main\",labelFontWeight:\"main\",labelLimit:\"main\",labelLineHeight:\"main\",labelOffset:\"main\",labelOpacity:\"main\",labelOverlap:\"main\",labelPadding:\"main\",labels:\"main\",labelSeparation:\"main\",maxExtent:\"main\",minExtent:\"main\",offset:\"both\",position:\"main\",tickCap:\"main\",tickColor:\"main\",tickDash:\"main\",tickDashOffset:\"main\",tickMinStep:\"main\",tickOffset:\"both\",tickOpacity:\"main\",tickRound:\"both\",ticks:\"main\",tickSize:\"main\",tickWidth:\"both\",title:\"main\",titleAlign:\"main\",titleAnchor:\"main\",titleAngle:\"main\",titleBaseline:\"main\",titleColor:\"main\",titleFont:\"main\",titleFontSize:\"main\",titleFontStyle:\"main\",titleFontWeight:\"main\",titleLimit:\"main\",titleLineHeight:\"main\",titleOpacity:\"main\",titlePadding:\"main\",titleX:\"main\",titleY:\"main\",encode:\"both\",scale:\"both\",tickBand:\"both\",tickCount:\"both\",tickExtra:\"both\",translate:\"both\",values:\"both\",zindex:\"both\"},xF={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},kF=Object.assign(Object.assign({},xF),{style:1,labelExpr:1,encoding:1});function OF(e){return!!kF[e]}eF(kF);const EF={arc:\"arc\",area:\"area\",bar:\"bar\",image:\"image\",line:\"line\",point:\"point\",rect:\"rect\",rule:\"rule\",text:\"text\",tick:\"tick\",trail:\"trail\",circle:\"circle\",square:\"square\",geoshape:\"geoshape\"},SF=EF.arc,DF=EF.area,jF=EF.bar,CF=EF.image,MF=EF.line,TF=EF.point,AF=EF.rect,FF=EF.rule,PF=EF.text,NF=EF.tick,zF=EF.trail,RF=EF.circle,IF=EF.square,BF=EF.geoshape;function LF(e){return HA([\"line\",\"area\",\"trail\"],e)}function $F(e){return HA([\"rect\",\"bar\",\"image\",\"arc\"],e)}const WF=eF(EF);function UF(e){return e.type}Object(se.eb)(WF);const YF=[\"stroke\",\"strokeWidth\",\"strokeDash\",\"strokeDashOffset\",\"strokeOpacity\",\"strokeJoin\",\"strokeMiterLimit\",\"fill\",\"fillOpacity\"],HF=eF({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBand:1,timeUnitBandPosition:1}),qF={horizontal:[\"cornerRadiusTopRight\",\"cornerRadiusBottomRight\"],vertical:[\"cornerRadiusTopLeft\",\"cornerRadiusTopRight\"]},VF={binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},GF={binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5};function XF(e){return\"mark\"in e}class ZF{constructor(e,t){this.name=e,this.run=t}hasMatchingType(e){return!!XF(e)&&(UF(t=e.mark)?t.type:t)===this.name;var t}}const QF={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},JF={count:1,min:1,max:1};function KF(e){return!!e&&!!e.argmin}function eP(e){return!!e&&!!e.argmax}eF(QF);function tP(e){return Object(se.I)(e)&&!!QF[e]}const nP=[\"count\",\"valid\",\"missing\",\"distinct\"];function iP(e){return Object(se.I)(e)&&HA(nP,e)}const rP=[\"count\",\"sum\",\"distinct\",\"valid\",\"missing\"],oP=Object(se.eb)([\"mean\",\"average\",\"median\",\"q1\",\"q3\",\"min\",\"max\"]),aP=\"row\",sP=\"column\",lP=\"radius\",uP=\"theta\",cP=\"theta2\",dP=\"color\",hP=\"fill\",fP=\"stroke\",pP=\"shape\",gP=\"size\",mP={theta:1,theta2:1,radius:1,radius2:1};function vP(e){return e in mP}const yP={longitude:1,longitude2:1,latitude:1,latitude2:1};const bP=eF(yP),_P=Object.assign(Object.assign(Object.assign(Object.assign({},{x:1,y:1,x2:1,y2:1}),mP),yP),{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1});function wP(e){return e===dP||e===hP||e===fP}const xP={row:1,column:1,facet:1},kP=eF(xP),OP=Object.assign(Object.assign({},_P),xP),EP=eF(OP),{order:SP,detail:DP,tooltip:jP}=OP,CP=EA(OP,[\"order\",\"detail\",\"tooltip\"]),{row:MP,column:TP,facet:AP}=CP,FP=EA(CP,[\"row\",\"column\",\"facet\"]);eF(CP),eF(FP);function PP(e){return!!OP[e]}const NP=[\"x2\",\"y2\",\"latitude2\",\"longitude2\",cP,\"radius2\"];function zP(e){return RP(e)!==e}function RP(e){switch(e){case\"x2\":return\"x\";case\"y2\":return\"y\";case\"latitude2\":return\"latitude\";case\"longitude2\":return\"longitude\";case cP:return uP;case\"radius2\":return lP}return e}function IP(e){if(vP(e))switch(e){case uP:return\"startAngle\";case cP:return\"endAngle\";case lP:return\"outerRadius\";case\"radius2\":return\"innerRadius\"}return e}function BP(e){switch(e){case\"x\":return\"x2\";case\"y\":return\"y2\";case\"latitude\":return\"latitude2\";case\"longitude\":return\"longitude2\";case uP:return cP;case lP:return\"radius2\"}}function LP(e){switch(e){case\"x\":case\"x2\":return\"width\";case\"y\":case\"y2\":return\"height\"}}eF(_P);const{x:$P,y:WP,x2:UP,y2:YP,latitude:HP,longitude:qP,latitude2:VP,longitude2:GP,theta:XP,theta2:ZP,radius:QP,radius2:JP}=_P,KP=EA(_P,[\"x\",\"y\",\"x2\",\"y2\",\"latitude\",\"longitude\",\"latitude2\",\"longitude2\",\"theta\",\"theta2\",\"radius\",\"radius2\"]),eN=eF(KP),tN={x:1,y:1},nN=eF(tN);function iN(e){return e in tN}const rN={theta:1,radius:1},oN=eF(rN);function aN(e){return\"width\"===e?\"x\":\"y\"}const{text:sN,tooltip:lN,href:uN,url:cN,description:dN,detail:hN,key:fN,order:pN}=KP,gN=EA(KP,[\"text\",\"tooltip\",\"href\",\"url\",\"description\",\"detail\",\"key\",\"order\"]),mN=eF(gN);const vN=Object.assign(Object.assign(Object.assign({},tN),rN),gN),yN=eF(vN);function bN(e){return!!vN[e]}function _N(e,t){return function(e){switch(e){case dP:case hP:case fP:case\"description\":case\"detail\":case\"key\":case\"tooltip\":case\"href\":case\"order\":case\"opacity\":case\"fillOpacity\":case\"strokeOpacity\":case\"strokeWidth\":case\"facet\":case aP:case sP:return wN;case\"x\":case\"y\":case\"latitude\":case\"longitude\":return kN;case\"x2\":case\"y2\":case\"latitude2\":case\"longitude2\":return{area:\"always\",bar:\"always\",image:\"always\",rect:\"always\",rule:\"always\",circle:\"binned\",point:\"binned\",square:\"binned\",tick:\"binned\",line:\"binned\",trail:\"binned\"};case gP:return{point:\"always\",tick:\"always\",rule:\"always\",circle:\"always\",square:\"always\",bar:\"always\",text:\"always\",line:\"always\",trail:\"always\"};case\"strokeDash\":return{line:\"always\",point:\"always\",tick:\"always\",rule:\"always\",circle:\"always\",square:\"always\",bar:\"always\",geoshape:\"always\"};case pP:return{point:\"always\",geoshape:\"always\"};case\"text\":return{text:\"always\"};case\"angle\":return{point:\"always\",square:\"always\",text:\"always\"};case\"url\":return{image:\"always\"};case uP:case lP:return{text:\"always\",arc:\"always\"};case cP:case\"radius2\":return{arc:\"always\"}}}(e)[t]}const wN={arc:\"always\",area:\"always\",bar:\"always\",circle:\"always\",geoshape:\"always\",image:\"always\",line:\"always\",rule:\"always\",point:\"always\",rect:\"always\",square:\"always\",trail:\"always\",text:\"always\",tick:\"always\"},{geoshape:xN}=wN,kN=EA(wN,[\"geoshape\"]);function ON(e){switch(e){case\"x\":case\"y\":case uP:case lP:case gP:case\"angle\":case\"strokeWidth\":case\"opacity\":case\"fillOpacity\":case\"strokeOpacity\":case\"x2\":case\"y2\":case cP:case\"radius2\":return;case\"facet\":case aP:case sP:case pP:case\"strokeDash\":case\"text\":case\"tooltip\":case\"href\":case\"url\":case\"description\":return\"discrete\";case dP:case hP:case fP:return\"flexible\";case\"latitude\":case\"longitude\":case\"latitude2\":case\"longitude2\":case\"detail\":case\"key\":case\"order\":return}}function EN(e){return Object(se.C)(e)&&(e=RB(e,void 0)),\"bin\"+eF(e).map(t=>CN(e[t])?rF(`_${t}_${nF(e[t])}`):rF(`_${t}_${e[t]}`)).join(\"\")}function SN(e){return!0===e||jN(e)&&!e.binned}function DN(e){return\"binned\"===e||jN(e)&&!0===e.binned}function jN(e){return Object(se.G)(e)}function CN(e){return null==e?void 0:e.selection}function MN(e){switch(e){case aP:case sP:case gP:case dP:case hP:case fP:case\"strokeWidth\":case\"opacity\":case\"fillOpacity\":case\"strokeOpacity\":case pP:return 6;case\"strokeDash\":return 4;default:return 10}}function TN(e){return`Invalid specification ${JSON.stringify(e)}. Make sure the specification includes at least one of the following properties: \"mark\", \"layer\", \"facet\", \"hconcat\", \"vconcat\", \"concat\", or \"repeat\".`}const AN='Autosize \"fit\" only works for single views and layered views.';function FN(e){return(\"width\"==e?\"Width\":\"Height\")+' \"container\" only works for single views and layered views.'}function PN(e){return`${\"width\"==e?\"Width\":\"Height\"} \"container\" only works well with autosize \"fit\" or \"fit-${\"width\"==e?\"x\":\"y\"}\".`}function NN(e){return e?`Dropping \"fit-${e}\" because spec has discrete ${LP(e)}.`:'Dropping \"fit\" because spec has discrete size.'}function zN(e){return`Unknown field for ${e}. Cannot calculate view size.`}function RN(e){return`Cannot project a selection on encoding channel \"${e}\", which has no field.`}function IN(e,t){return`Cannot project a selection on encoding channel \"${e}\" as it uses an aggregate function (\"${t}\").`}function BN(e){return`The \"nearest\" transform is not supported for ${e} marks.`}function LN(e){return`Selection not supported for ${e} yet.`}function $N(e){return`Cannot find a selection named \"${e}\".`}const WN=\"Scale bindings are currently only supported for scales with unbinned, continuous domains.\",UN=\"Legend bindings are only supported for selections over an individual field or encoding channel.\";function YN(e){return`Cannot define and lookup the \"${e}\" selection in the same view. Try moving the lookup into a second, layered view?`}const HN=\"The same selection must be used to override scale domains in a layered view.\",qN='Interval selections should be initialized using \"x\" and/or \"y\" keys.';function VN(e){return`Unknown repeated value \"${e}\".`}function GN(e){return`The \"columns\" property cannot be used when \"${e}\" has nested row/column.`}const XN=\"Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).\";function ZN(e){return`Unrecognized parse \"${e}\".`}function QN(e,t,n){return`An ancestor parsed field \"${e}\" as ${n} but a child wants to parse the field as ${t}.`}const JN=\"Attempt to add the same child twice.\";function KN(e){return`Ignoring an invalid transform: ${WA(e)}.`}const ez='If \"from.fields\" is not specified, \"as\" has to be a string that specifies the key to be used for the data from the secondary source.';function tz(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function nz(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${WA(t)} is overridden by a child projection ${WA(n)}.`}const iz=\"Arc marks uses theta channel rather than angle, replacing angle with theta.\";function rz(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${WA(n)}}.`}function oz(e){return`Invalid field type \"${e}\".`}function az(e,t){return`Invalid field type \"${e}\" for aggregate: \"${t}\", using \"quantitative\" instead.`}function sz(e){return`Invalid aggregation operator \"${e}\".`}function lz(e,t){return`Missing type for channel \"${e}\", using \"${t}\" instead.`}function uz(e,t){const{fill:n,stroke:i}=t;return`Dropping color ${e} as the plot also has ${n&&i?\"fill and stroke\":n?\"fill\":\"stroke\"}.`}function cz(e,t){return`Dropping ${WA(e)} from channel \"${t}\" since it does not contain any data field, datum, value, or signal.`}function dz(e,t,n){return`${e}-encoding with type ${t} is deprecated. Replacing with ${n}-encoding.`}const hz=\"Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.\";function fz(e,t,n){return`${e} dropped as it is incompatible with \"${t}\"${n?\" when \"+n:\"\"}.`}function pz(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function gz(e){return e+\" encoding should be discrete (ordinal / nominal / binned).\"}function mz(e){return`Facet encoding dropped as ${e.join(\" and \")} ${e.length>1?\"are\":\"is\"} also specified.`}function vz(e,t){return`Using discrete channel \"${e}\" to encode \"${t}\" field can be misleading as it does not encode ${\"ordinal\"===t?\"order\":\"magnitude\"}.`}function yz(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?\"x2 and y2\":e?\"x2\":\"y2\"}. We will use the rule mark (line segments) instead.`}function bz(e,t){return`Specified orient \"${e}\" overridden with \"${t}\".`}const _z=\"Custom domain scale cannot be unioned with default field-based domain.\",wz='Scale\\'s \"rangeStep\" is deprecated and will be removed in Vega-Lite 5.0. Please use \"width\"/\"height\": {\"step\": ...} instead. See https://vega.github.io/vega-lite/docs/size.html.';function xz(e){return`Cannot use the scale property \"${e}\" with non-color channel.`}function kz(e){return`Using unaggregated domain with raw field has no effect (${WA(e)}).`}function Oz(e){return`Unaggregated domain not applicable for \"${e}\" since it produces values outside the origin domain of the source data.`}function Ez(e){return`Unaggregated domain is currently unsupported for log scale (${WA(e)}).`}function Sz(e){return`Cannot apply size to non-oriented mark \"${e}\".`}function Dz(e,t,n){return`Channel \"${e}\" does not work with \"${t}\" scale. We are using \"${n}\" scale instead.`}function jz(e,t){return`FieldDef does not work with \"${e}\" scale. We are using \"${t}\" scale instead.`}function Cz(e,t,n){return`${n}-scale's \"${t}\" is dropped as it does not work with ${e} scale.`}function Mz(e,t){return`Scale type \"${t}\" does not work with mark \"${e}\".`}function Tz(e){return`The step for \"${e}\" is dropped because the ${\"width\"===e?\"x\":\"y\"} is continuous.`}function Az(e,t,n,i){return`Conflicting ${t.toString()} property \"${e.toString()}\" (${WA(n)} and ${WA(i)}). Using ${WA(n)}.`}function Fz(e,t,n,i){return`Conflicting ${t.toString()} property \"${e.toString()}\" (${WA(n)} and ${WA(i)}). Using the union of the two domains.`}function Pz(e){return`Setting the scale to be independent for \"${e}\" means we also have to set the guide (axis or legend) to be independent.`}function Nz(e){return`Dropping sort property ${WA(e)} as unioned domains only support boolean or op \"count\", \"min\", and \"max\".`}const zz=\"Domains that should be unioned has conflicting sort properties. Sort will be set to true.\",Rz=\"Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.\",Iz=\"Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.\",Bz=\"Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.\",Lz=\"Invalid channel for axis.\";function $z(e){return`Cannot stack \"${e}\" if there is already \"${e}2\".`}function Wz(e){return`Cannot stack non-linear scale (${e}).`}function Uz(e){return`Stacking is applied even though the aggregate function is non-summative (\"${e}\").`}function Yz(e,t){return`Invalid ${e}: ${WA(t)}.`}function Hz(e){return`Dropping day from datetime ${WA(e)} as day cannot be combined with other units.`}function qz(e,t){return`${t?\"extent \":\"\"}${t&&e?\"and \":\"\"}${e?\"center \":\"\"}${t&&e?\"are \":\"is \"}not needed when data are aggregated.`}function Vz(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function Gz(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function Xz(e){return`1D error band does not support ${e}.`}function Zz(e){return`Channel ${e} is required for \"binned\" bin.`}function Qz(e){return`Channel ${e} should not be used with \"binned\" bin.`}function Jz(e){return`Domain for ${e} is required for threshold scale.`}const Kz=Object(se.L)(se.e);let eR=Kz;function tR(){return eR=Kz,eR}function nR(...e){eR.warn(...e)}function iR(e){if(e&&Object(se.G)(e))for(const t of dR)if(t in e)return!0;return!1}new WeakMap;const rR=[\"january\",\"february\",\"march\",\"april\",\"may\",\"june\",\"july\",\"august\",\"september\",\"october\",\"november\",\"december\"],oR=rR.map(e=>e.substr(0,3)),aR=[\"sunday\",\"monday\",\"tuesday\",\"wednesday\",\"thursday\",\"friday\",\"saturday\"],sR=aR.map(e=>e.substr(0,3));function lR(e,t){const n=[];if(t&&void 0!==e.day&&eF(e).length>1&&(nR(v.droppedDay(e)),delete(e=BA(e)).day),void 0!==e.year?n.push(e.year):n.push(2012),void 0!==e.month){const i=t?function(e){if(vF(e)&&(e=+e),Object(se.F)(e))return e-1;{const t=e.toLowerCase(),n=rR.indexOf(t);if(-1!==n)return n;const i=t.substr(0,3),r=oR.indexOf(i);if(-1!==r)return r;throw new Error(v.invalidTimeUnit(\"month\",e))}}(e.month):e.month;n.push(i)}else if(void 0!==e.quarter){const i=t?function(e){if(vF(e)&&(e=+e),Object(se.F)(e))return e>4&&nR(v.invalidTimeUnit(\"quarter\",e)),e-1;throw new Error(v.invalidTimeUnit(\"quarter\",e))}(e.quarter):e.quarter;n.push(Object(se.F)(i)?3*i:i+\"*3\")}else n.push(0);if(void 0!==e.date)n.push(e.date);else if(void 0!==e.day){const i=t?function(e){if(vF(e)&&(e=+e),Object(se.F)(e))return e%7;{const t=e.toLowerCase(),n=aR.indexOf(t);if(-1!==n)return n;const i=t.substr(0,3),r=sR.indexOf(i);if(-1!==r)return r;throw new Error(v.invalidTimeUnit(\"day\",e))}}(e.day):e.day;n.push(Object(se.F)(i)?i+1:i+\"+1\")}else n.push(1);for(const t of[\"hours\",\"minutes\",\"seconds\",\"milliseconds\"]){const i=e[t];n.push(void 0===i?0:i)}return n}function uR(e){const t=lR(e,!0).join(\", \");return e.utc?`utc(${t})`:`datetime(${t})`}const cR={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},dR=eF(cR);function hR(e){return e.startsWith(\"utc\")}const fR={\"year-month\":\"%b %Y \",\"year-month-date\":\"%b %d, %Y \"};function pR(e){const t=[];for(const n of dR)gR(e,n)&&t.push(n);return t}function gR(e,t){const n=e.indexOf(t);return!(n<0)&&(!(n>0&&\"seconds\"===t&&\"i\"===e.charAt(n-1))&&(!(e.length>n+3&&\"day\"===t&&\"o\"===e.charAt(n+3))&&!(n>0&&\"year\"===t&&\"f\"===e.charAt(n-1))))}function mR(e,t,{end:n}={end:!1}){const i=lF(t),r=hR(e)?\"utc\":\"\";let o;const a={};for(const t of dR)gR(e,t)&&(a[t]=\"quarter\"===(s=t)?`(${r}quarter(${i})-1)`:`${r}${s}(${i})`,o=t);var s;return n&&(a[o]+=\"+1\"),function(e){const t=lR(e,!1).join(\", \");return e.utc?`utc(${t})`:`datetime(${t})`}(a)}function vR(e){if(!e)return;const t=pR(e);return`timeUnitSpecifier(${FA()(t)}, ${FA()(fR)})`}function yR(e){if(!e)return;let t;return Object(se.I)(e)?t={unit:e}:Object(se.G)(e)&&(t=Object.assign(Object.assign({},e),e.unit?{unit:e.unit}:{})),hR(t.unit)&&(t.utc=!0,t.unit=t.unit.substr(3)),t}function bR(e){return e&&!!e.signal}function _R(e){return!!e.step}function wR(e){return!Object(se.B)(e)&&(\"field\"in e&&\"data\"in e)}const xR=eF({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1}),kR={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},OR=[\"cornerRadius\",\"cornerRadiusTopLeft\",\"cornerRadiusTopRight\",\"cornerRadiusBottomLeft\",\"cornerRadiusBottomRight\"];function ER(e){return e&&!!e.field&&void 0!==e.equal}function SR(e){return e&&!!e.field&&void 0!==e.lt}function DR(e){return e&&!!e.field&&void 0!==e.lte}function jR(e){return e&&!!e.field&&void 0!==e.gt}function CR(e){return e&&!!e.field&&void 0!==e.gte}function MR(e){if(e&&e.field){if(Object(se.B)(e.range)&&2===e.range.length)return!0;if(bR(e.range))return!0}return!1}function TR(e){return e&&!!e.field&&(Object(se.B)(e.oneOf)||Object(se.B)(e.in))}function AR(e){return TR(e)||ER(e)||MR(e)||SR(e)||jR(e)||DR(e)||CR(e)}function FR(e,t){return LB(e,{timeUnit:t,wrapTime:!0})}function PR(e,t=!0){var n;const{field:i}=e,r=null===(n=yR(e.timeUnit))||void 0===n?void 0:n.unit,o=r?\"time(\"+mR(r,i)+\")\":xB(e,{expr:\"datum\"});if(ER(e))return o+\"===\"+FR(e.equal,r);if(SR(e)){return`${o}<${FR(e.lt,r)}`}if(jR(e)){return`${o}>${FR(e.gt,r)}`}if(DR(e)){return`${o}<=${FR(e.lte,r)}`}if(CR(e)){return`${o}>=${FR(e.gte,r)}`}if(TR(e))return`indexof([${function(e,t){return e.map(e=>FR(e,t))}(e.oneOf,r).join(\",\")}], ${o}) !== -1`;if(function(e){return e&&!!e.field&&void 0!==e.valid}(e))return NR(o,e.valid);if(MR(e)){const{range:n}=e,i=bR(n)?{signal:n.signal+\"[0]\"}:n[0],a=bR(n)?{signal:n.signal+\"[1]\"}:n[1];if(null!==i&&null!==a&&t)return\"inrange(\"+o+\", [\"+FR(i,r)+\", \"+FR(a,r)+\"])\";const s=[];return null!==i&&s.push(`${o} >= ${FR(i,r)}`),null!==a&&s.push(`${o} <= ${FR(a,r)}`),s.length>0?s.join(\" && \"):\"true\"}throw new Error(\"Invalid field predicate: \"+JSON.stringify(e))}function NR(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function zR(e){var t;return AR(e)&&e.timeUnit?Object.assign(Object.assign({},e),{timeUnit:null===(t=yR(e.timeUnit))||void 0===t?void 0:t.unit}):e}const RR={quantitative:\"quantitative\",ordinal:\"ordinal\",temporal:\"temporal\",nominal:\"nominal\",geojson:\"geojson\"};const IR=RR.quantitative,BR=RR.ordinal,LR=RR.temporal,$R=RR.nominal,WR=RR.geojson;eF(RR);const UR=\"linear\",YR=\"log\",HR=\"pow\",qR=\"sqrt\",VR=\"symlog\",GR=\"time\",XR=\"utc\",ZR=\"quantile\",QR=\"quantize\",JR=\"threshold\",KR=\"point\",eI=\"band\",tI={linear:\"numeric\",log:\"numeric\",pow:\"numeric\",sqrt:\"numeric\",symlog:\"numeric\",identity:\"numeric\",sequential:\"numeric\",time:\"time\",utc:\"time\",ordinal:\"ordinal\",\"bin-ordinal\":\"bin-ordinal\",point:\"ordinal-position\",band:\"ordinal-position\",quantile:\"discretizing\",quantize:\"discretizing\",threshold:\"discretizing\"};eF(tI);function nI(e,t){const n=tI[e],i=tI[t];return n===i||\"ordinal-position\"===n&&\"time\"===i||\"ordinal-position\"===i&&\"time\"===n}const iI={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,\"bin-ordinal\":0,quantile:0,quantize:0,threshold:0};function rI(e){return iI[e]}const oI=[\"linear\",\"log\",\"pow\",\"sqrt\",\"symlog\",\"time\",\"utc\"],aI=Object(se.eb)(oI),sI=Object(se.eb)([\"linear\",\"log\",\"pow\",\"sqrt\",\"symlog\"]);const lI=Object(se.eb)([\"quantile\",\"quantize\",\"threshold\"]),uI=oI.concat([\"quantile\",\"quantize\",\"threshold\",\"sequential\",\"identity\"]),cI=Object(se.eb)(uI),dI=Object(se.eb)([\"ordinal\",\"bin-ordinal\",\"point\",\"band\"]);function hI(e){return e in dI}function fI(e){return e in cI}function pI(e){return e in aI}function gI(e){return e in lI}function mI(e){return null==e?void 0:e.selection}const vI={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:yI,domain:bI,range:_I,rangeMax:wI,rangeMin:xI,scheme:kI}=(eF(vI),vI),OI=EA(vI,[\"type\",\"domain\",\"range\",\"rangeMax\",\"rangeMin\",\"scheme\"]),EI=eF(OI);function SI(e,t){switch(t){case\"type\":case\"domain\":case\"reverse\":case\"range\":return!0;case\"scheme\":case\"interpolate\":return!HA([\"point\",\"band\",\"identity\"],e);case\"bins\":return!HA([\"point\",\"band\",\"identity\",\"ordinal\"],e);case\"round\":return pI(e)||\"band\"===e||\"point\"===e;case\"padding\":case\"rangeMin\":case\"rangeMax\":return pI(e)||HA([\"point\",\"band\"],e);case\"paddingOuter\":case\"align\":return HA([\"point\",\"band\"],e);case\"paddingInner\":return\"band\"===e;case\"domainMax\":case\"domainMid\":case\"domainMin\":case\"clamp\":return pI(e);case\"nice\":return pI(e)||\"quantize\"===e||\"threshold\"===e;case\"exponent\":return\"pow\"===e;case\"base\":return\"log\"===e;case\"constant\":return\"symlog\"===e;case\"zero\":return fI(e)&&!HA([\"log\",\"time\",\"utc\",\"threshold\",\"quantile\"],e)}}function DI(e,t){switch(t){case\"interpolate\":case\"scheme\":case\"domainMid\":return wP(e)?void 0:v.cannotUseScalePropertyWithNonColor(e);case\"align\":case\"type\":case\"bins\":case\"domain\":case\"domainMax\":case\"domainMin\":case\"range\":case\"base\":case\"exponent\":case\"constant\":case\"nice\":case\"padding\":case\"paddingInner\":case\"paddingOuter\":case\"rangeMax\":case\"rangeMin\":case\"reverse\":case\"round\":case\"clamp\":case\"zero\":return}}function jI(e){const{channel:t,channelDef:n,markDef:i,scale:r,config:o}=e,a=PI(e);return uB(n)&&!iP(n.aggregate)&&r&&pI(r.get(\"type\"))&&!1===r.get(\"zero\")?CI({fieldDef:n,channel:t,markDef:i,ref:a,config:o}):a}function CI({fieldDef:e,channel:t,markDef:n,ref:i,config:r}){if(LF(n.type))return i;return null===XB(\"invalid\",n,r)?i:[MI(e,t),i]}function MI(e,t){const n=TI(e,!0),i=\"y\"===RP(t)?{field:{group:\"height\"}}:{value:0};return Object.assign({test:n},i)}function TI(e,t=!0){return NR(Object(se.I)(e)?e:xB(e,{expr:\"datum\"}),!t)}function AI(e,t,n,i){const r={};if(t&&(r.scale=t),dB(e)){const{datum:t}=e;iR(t)?r.signal=uR(t):bR(t)?r.signal=t.signal:r.value=t}else r.field=xB(e,n);if(i){const{offset:e,band:t}=i;e&&(r.offset=e),t&&(r.band=t)}return r}function FI({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:i,startSuffix:r,band:o=.5}){const a=0<o&&o<1?\"datum\":void 0,s=xB(t,{expr:a,suffix:r}),l=void 0!==n?xB(n,{expr:a}):xB(t,{suffix:\"end\",expr:a}),u={};if(0===o||1===o){u.scale=e;const t=0===o?s:l;u.field=t}else{const t=`${o} * ${s} + ${1-o} * ${l}`;u.signal=`scale(\"${e}\", ${t})`}return i&&(u.offset=i),u}function PI({channel:e,channelDef:t,channel2Def:n,markDef:i,config:r,scaleName:o,scale:a,stack:s,offset:l,defaultRef:u,band:c}){var d;if(t){if(pB(t)){if(gB(t)){c=null!=c?c:rB({channel:e,fieldDef:t,fieldDef2:n,markDef:i,stack:s,config:r,isMidPoint:!0});const{bin:a,timeUnit:u,type:d}=t;if(SN(a)||c&&u&&d===LR)return s&&s.impute?AI(t,o,{binSuffix:\"mid\"},{offset:l}):c?FI({scaleName:o,fieldOrDatumDef:t,band:c,offset:l}):AI(t,o,WB(t,e)?{binSuffix:\"range\"}:{},{offset:l});if(DN(a)){if(uB(n))return FI({scaleName:o,fieldOrDatumDef:t,fieldOrDatumDef2:n,band:c,offset:l});{const t=\"x\"===e?\"x2\":\"y2\";nR(v.channelRequiredForBinned(t))}}}const u=null==a?void 0:a.get(\"type\");return AI(t,o,hI(u)?{binSuffix:\"range\"}:{},{offset:l,band:\"band\"===u?null!==(d=null!=c?c:t.band)&&void 0!==d?d:.5:void 0})}if(mB(t)){const n=t.value,i=l?{offset:l}:{};return Object.assign(Object.assign({},NI(e,n)),i)}}return Object(se.E)(u)&&(u=u()),u?Object.assign(Object.assign({},u),l?{offset:l}:{}):u}function NI(e,t){return HA([\"x\",\"x2\"],e)&&\"width\"===t?{field:{group:\"width\"}}:HA([\"y\",\"y2\"],e)&&\"height\"===t?{field:{group:\"height\"}}:HB(t)}function zI(e){return e&&\"number\"!==e&&\"time\"!==e}function RI(e,t,n){return`${e}(${t}${n?\", \"+JSON.stringify(n):\"\"})`}function II({fieldOrDatumDef:e,format:t,formatType:n,expr:i,normalizeStack:r,config:o}){var a,s;if(zI(n))return LI({fieldOrDatumDef:e,format:t,formatType:n,expr:i,config:o});const l=BI(e,i,r);if(BB(e)){const n=function(e,t,n,i,r){return!t||n?(n=Object(se.I)(n)?n:i,`${r?\"utc\":\"time\"}Format(${e}, '${n}')`):function(e,t,n){if(!e)return;const i=vR(e);return`${n||hR(e)?\"utc\":\"time\"}Format(${t}, ${i})`}(t,e,r)}(l,uB(e)?null===(a=yR(e.timeUnit))||void 0===a?void 0:a.unit:void 0,t,o.timeFormat,vB(e)&&(null===(s=e.scale)||void 0===s?void 0:s.type)===XR);return n?{signal:n}:void 0}if(t=UI(cB(e),t,o),uB(e)&&SN(e.bin)){return{signal:qI(l,xB(e,{expr:i,binSuffix:\"end\"}),t,n,o)}}return t||\"quantitative\"===cB(e)?{signal:\"\"+YI(l,t)}:{signal:`isValid(${l}) ? ${l} : \"\"+${l}`}}function BI(e,t,n){return uB(e)?n?`${xB(e,{expr:t,suffix:\"end\"})}-${xB(e,{expr:t,suffix:\"start\"})}`:xB(e,{expr:t}):function(e){const{datum:t}=e;return iR(t)?uR(t):\"\"+JSON.stringify(t)}(e)}function LI({fieldOrDatumDef:e,format:t,formatType:n,expr:i,normalizeStack:r,config:o,field:a}){if(a=null!=a?a:BI(e,i,r),uB(e)&&SN(e.bin)){return{signal:qI(a,xB(e,{expr:i,binSuffix:\"end\"}),t,n,o)}}return{signal:RI(n,a,t)}}function $I(e,t,n,i,r,o){var a;if(!zI(i)){if(BB(e)){return function(e,t,n,i){if(e)return e;if(t)return{signal:vR(t)};return i?void 0:n.timeFormat}(n,uB(e)?null===(a=yR(e.timeUnit))||void 0===a?void 0:a.unit:void 0,r,o)}return UI(t,n,r)}}function WI(e,t,n){return e&&(bR(e)||\"number\"===e||\"time\"===e)?e:BB(t)&&\"time\"!==n&&\"utc\"!==n?\"time\":void 0}function UI(e,t,n){return Object(se.I)(t)?t:e===IR?n.numberFormat:void 0}function YI(e,t){return`format(${e}, \"${t||\"\"}\")`}function HI(e,t,n,i){var r;return zI(n)?RI(n,e,t):YI(e,null!==(r=Object(se.I)(t)?t:void 0)&&void 0!==r?r:i.numberFormat)}function qI(e,t,n,i,r){const o=HI(e,n,i,r),a=HI(t,n,i,r);return`${NR(e,!1)} ? \"null\" : ${o} + \" – \" + ${a}`}const VI=\"min\",GI={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function XI(e){return e in GI}function ZI(e){return!!e&&!!e.encoding}function QI(e){return!(!e||\"count\"!==e.op&&!e.field)}function JI(e){return!!e&&Object(se.B)(e)}function KI(e){return\"row\"in e||\"column\"in e}function eB(e){return!!e&&\"header\"in e}function tB(e){return\"facet\"in e}function nB(e){const{field:t,timeUnit:n,bin:i,aggregate:r}=e;return Object.assign(Object.assign(Object.assign(Object.assign({},n?{timeUnit:n}:{}),i?{bin:i}:{}),r?{aggregate:r}:{}),{field:t})}function iB(e){return\"sort\"in e}function rB({channel:e,fieldDef:t,fieldDef2:n,markDef:i,stack:r,config:o,isMidPoint:a}){if(pB(t)&&void 0!==t.band)return t.band;if(uB(t)){const{timeUnit:e,bin:r}=t;if(e&&!n)return a?ZB(\"timeUnitBandPosition\",i,o):$F(i.type)?ZB(\"timeUnitBand\",i,o):0;if(SN(r))return $F(i.type)&&!a?1:.5}return(null==r?void 0:r.fieldChannel)===e&&a?.5:void 0}function oB(e,t,n,i,r,o){return!!(SN(t.bin)||t.timeUnit&&gB(t)&&\"temporal\"===t.type)&&!!rB({channel:e,fieldDef:t,fieldDef2:n,stack:i,markDef:r,config:o})}function aB(e){return!!e&&\"condition\"in e}function sB(e){const t=e&&e.condition;return!!t&&!Object(se.B)(t)&&uB(t)}function lB(e){const t=e&&e.condition;return!!t&&!Object(se.B)(t)&&pB(t)}function uB(e){return!(!e||!e.field&&\"count\"!==e.aggregate)}function cB(e){return e&&e.type}function dB(e){return!!e&&\"datum\"in e}function hB(e){return gB(e)&&OB(e)||fB(e)}function fB(e){return dB(e)&&Object(se.F)(e.datum)}function pB(e){return uB(e)||dB(e)}function gB(e){return!!e&&(\"field\"in e||\"count\"===e.aggregate)&&\"type\"in e}function mB(e){return e&&\"value\"in e&&\"value\"in e}function vB(e){return!!e&&(\"scale\"in e||\"sort\"in e)}function yB(e){return e&&(\"axis\"in e||\"stack\"in e||\"impute\"in e)}function bB(e){return!!e&&\"legend\"in e}function _B(e){return!!e&&(\"format\"in e||\"formatType\"in e)}function wB(e){return $A(e,[\"legend\",\"axis\",\"header\",\"scale\"])}function xB(e,t={}){var n,i,r;let o=e.field;const a=t.prefix;let s=t.suffix,l=\"\";if(function(e){return\"count\"===e.aggregate}(e))o=function(e){return 0===e.indexOf(\"__\")}(u=\"count\")?u:\"__\"+u;else{let a;if(!t.nofn)if(function(e){return\"op\"in e}(e))a=e.op;else{const{bin:u,aggregate:c,timeUnit:d}=e;SN(u)?(a=EN(u),s=(null!==(n=t.binSuffix)&&void 0!==n?n:\"\")+(null!==(i=t.suffix)&&void 0!==i?i:\"\")):c?eP(c)?(l=`[\"${o}\"]`,o=\"argmax_\"+c.argmax):KF(c)?(l=`[\"${o}\"]`,o=\"argmin_\"+c.argmin):a=String(c):d&&(a=function(e){const t=yR(e),{utc:n}=t,i=EA(t,[\"utc\"]);return i.unit?(n?\"utc\":\"\")+eF(i).map(e=>rF(`${\"unit\"===e?\"\":`_${e}_`}${i[e]}`)).join(\"\"):(n?\"utc\":\"\")+\"timeunit\"+eF(i).map(e=>rF(`_${e}_${i[e]}`)).join(\"\")}(d),s=(!HA([\"range\",\"mid\"],t.binSuffix)&&t.binSuffix||\"\")+(null!==(r=t.suffix)&&void 0!==r?r:\"\"))}a&&(o=o?`${a}_${o}`:a)}var u;return s&&(o=`${o}_${s}`),a&&(o=`${a}_${o}`),t.forAs?hF(o):t.expr?function(e,t=\"datum\"){return`${t}[${Object(se.ab)(Object(se.Z)(e).join(\".\"))}]`}(o,t.expr)+l:cF(o)+l}function kB(e){switch(e.type){case\"nominal\":case\"ordinal\":case\"geojson\":return!0;case\"quantitative\":return uB(e)&&!!e.bin;case\"temporal\":return!1}throw new Error(v.invalidFieldType(e.type))}function OB(e){return!kB(e)}const EB=(e,t)=>{switch(t.fieldTitle){case\"plain\":return e.field;case\"functional\":return function(e){const{aggregate:t,bin:n,timeUnit:i,field:r}=e;if(eP(t))return`${r} for argmax(${t.argmax})`;if(KF(t))return`${r} for argmin(${t.argmin})`;const o=yR(i),a=t||(null==o?void 0:o.unit)||(null==o?void 0:o.maxbins)&&\"timeunit\"||SN(n)&&\"bin\";return a?a.toUpperCase()+\"(\"+r+\")\":r}(e);default:return function(e,t){var n;const{field:i,bin:r,timeUnit:o,aggregate:a}=e;if(\"count\"===a)return t.countTitle;if(SN(r))return i+\" (binned)\";if(o){const e=null===(n=yR(o))||void 0===n?void 0:n.unit;if(e)return`${i} (${pR(e).join(\"-\")})`}else if(a)return eP(a)?`${i} for max ${a.argmax}`:KF(a)?`${i} for min ${a.argmin}`:`${sF(a)} of ${i}`;return i}(e,t)}};let SB=EB;function DB(e){SB=e}function jB(e,t,{allowDisabling:n,includeDefault:i=!0}){var r,o;const a=null===(r=CB(e))||void 0===r?void 0:r.title;if(!uB(e))return a;const s=e,l=i?MB(s,t):void 0;return n?pF(a,s.title,l):null!==(o=null!=a?a:s.title)&&void 0!==o?o:l}function CB(e){return yB(e)&&e.axis?e.axis:bB(e)&&e.legend?e.legend:eB(e)&&e.header?e.header:void 0}function MB(e,t){return SB(e,t)}function TB(e){var t;if(_B(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}{const n=null!==(t=CB(e))&&void 0!==t?t:{},{format:i,formatType:r}=n;return{format:i,formatType:r}}}function AB(e){return uB(e)?e:sB(e)?e.condition:void 0}function FB(e){return pB(e)?e:lB(e)?e.condition:void 0}function PB(e,t,n,i={}){if(Object(se.I)(e)||Object(se.F)(e)||Object(se.C)(e)){const n=Object(se.I)(e)?\"string\":Object(se.F)(e)?\"number\":\"boolean\";return nR(v.primitiveChannelDef(t,n,e)),{value:e}}return pB(e)?NB(e,t,n,i):lB(e)?Object.assign(Object.assign({},e),{condition:NB(e.condition,t,n,i)}):e}function NB(e,t,n,i){if(_B(e)){const{format:r,formatType:o}=e,a=EA(e,[\"format\",\"formatType\"]);if(zI(o)&&!n.customFormatTypes)return nR(v.customFormatTypeNotAllowed(t)),NB(a,t,n,i)}else{const r=yB(e)?\"axis\":bB(e)?\"legend\":eB(e)?\"header\":null;if(r&&e[r]){const o=e[r],{format:a,formatType:s}=o,l=EA(o,[\"format\",\"formatType\"]);if(zI(s)&&!n.customFormatTypes)return nR(v.customFormatTypeNotAllowed(t)),NB(Object.assign(Object.assign({},e),{[r]:l}),t,n,i)}}return uB(e)?zB(e,t,i):function(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=Object(se.F)(n)?\"quantitative\":Object(se.I)(n)?\"nominal\":iR(n)?\"temporal\":void 0,Object.assign(Object.assign({},e),{type:t})}(e)}function zB(e,t,{compositeMark:n=!1}={}){const{aggregate:i,timeUnit:r,bin:o,field:a}=e,s=Object.assign({},e);if(n||!i||tP(i)||eP(i)||KF(i)||(nR(v.invalidAggregate(i)),delete s.aggregate),r&&(s.timeUnit=yR(r)),a&&(s.field=\"\"+a),SN(o)&&(s.bin=RB(o,t)),DN(o)&&!iN(t)&&nR(v.channelShouldNotBeUsedForBinned(t)),gB(s)){const{type:e}=s,t=function(e){if(e)switch(e=e.toLowerCase()){case\"q\":case IR:return\"quantitative\";case\"t\":case LR:return\"temporal\";case\"o\":case BR:return\"ordinal\";case\"n\":case $R:return\"nominal\";case WR:return\"geojson\"}}(e);e!==t&&(s.type=t),\"quantitative\"!==e&&iP(i)&&(nR(v.invalidFieldTypeForCountAggregate(e,i)),s.type=\"quantitative\")}else if(!zP(t)){const e=function(e,t){var n;switch(t){case\"latitude\":case\"longitude\":return\"quantitative\";case\"row\":case\"column\":case\"facet\":case\"shape\":case\"strokeDash\":return\"nominal\";case\"order\":return\"ordinal\"}if(iB(e)&&Object(se.B)(e.sort))return\"ordinal\";const{aggregate:i,bin:r,timeUnit:o}=e;if(o)return\"temporal\";if(r||i&&!eP(i)&&!KF(i))return\"quantitative\";if(vB(e)&&(null===(n=e.scale)||void 0===n?void 0:n.type))switch(tI[e.scale.type]){case\"numeric\":case\"discretizing\":return\"quantitative\";case\"time\":return\"temporal\"}return\"nominal\"}(s,t);s.type=e}if(gB(s)){const{compatible:e,warning:n}=function(e,t){const n=e.type;if(\"geojson\"===n&&\"shape\"!==t)return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case aP:case sP:case\"facet\":return OB(e)?{compatible:!1,warning:v.facetChannelShouldBeDiscrete(t)}:IB;case\"x\":case\"y\":case dP:case hP:case fP:case\"text\":case\"detail\":case\"key\":case\"tooltip\":case\"href\":case\"url\":case\"angle\":case uP:case lP:case\"description\":return IB;case\"longitude\":case\"longitude2\":case\"latitude\":case\"latitude2\":return n!==IR?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:IB;case\"opacity\":case\"fillOpacity\":case\"strokeOpacity\":case\"strokeWidth\":case gP:case cP:case\"radius2\":case\"x2\":case\"y2\":return\"nominal\"!==n||e.sort?IB:{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`};case\"strokeDash\":return HA([\"ordinal\",\"nominal\"],e.type)?IB:{compatible:!1,warning:\"StrokeDash channel should be used with only discrete data.\"};case pP:return HA([\"ordinal\",\"nominal\",\"geojson\"],e.type)?IB:{compatible:!1,warning:\"Shape channel should be used with only either discrete or geojson data.\"};case\"order\":return\"nominal\"!==e.type||\"sort\"in e?IB:{compatible:!1,warning:\"Channel order is inappropriate for nominal field, which has no inherent order.\"}}}(s,t)||{};!1===e&&nR(n)}if(iB(s)&&Object(se.I)(s.sort)){const{sort:e}=s;if(XI(e))return Object.assign(Object.assign({},s),{sort:{encoding:e}});const t=e.substr(1);if(\"-\"===e.charAt(0)&&XI(t))return Object.assign(Object.assign({},s),{sort:{encoding:t,order:\"descending\"}})}if(eB(s)){const{header:e}=s,{orient:t}=e,n=EA(e,[\"orient\"]);if(t)return Object.assign(Object.assign({},s),{header:Object.assign(Object.assign({},n),{labelOrient:e.labelOrient||t,titleOrient:e.titleOrient||t})})}return s}function RB(e,t){return Object(se.C)(e)?{maxbins:MN(t)}:\"binned\"===e?{binned:!0}:e.maxbins||e.step?e:Object.assign(Object.assign({},e),{maxbins:MN(t)})}const IB={compatible:!0};function BB(e){const{formatType:t}=TB(e);return\"time\"===t||!t&&((n=e)&&(\"temporal\"===n.type||uB(n)&&!!n.timeUnit));var n}function LB(e,{timeUnit:t,type:n,wrapTime:i,undefinedIfExprNotRequired:r}){var o;const a=t&&(null===(o=yR(t))||void 0===o?void 0:o.unit);let s,l=a||\"temporal\"===n;return bR(e)?s=e.signal:iR(e)?(l=!0,s=uR(e)):(Object(se.I)(e)||Object(se.F)(e))&&l&&(s=`datetime(${JSON.stringify(e)})`,function(e){return!!cR[e]}(a)&&(Object(se.F)(e)&&e<1e4||Object(se.I)(e)&&isNaN(Date.parse(e)))&&(s=uR({[a]:e}))),s?i&&l?`time(${s})`:s:r?void 0:JSON.stringify(e)}function $B(e,t){const{type:n}=e;return t.map(t=>{const i=LB(t,{timeUnit:uB(e)?e.timeUnit:void 0,type:n,undefinedIfExprNotRequired:!0});return void 0!==i?{signal:i}:t})}function WB(e,t){return SN(e.bin)?bN(t)&&HA([\"ordinal\",\"nominal\"],e.type):(console.warn(\"Only call this method for binned field defs.\"),!1)}function UB(e){const{anchor:t,frame:n,offset:i,orient:r,color:o,subtitleColor:a,subtitleFont:s,subtitleFontSize:l,subtitleFontStyle:u,subtitleFontWeight:c,subtitleLineHeight:d,subtitlePadding:h}=e,f=EA(e,[\"anchor\",\"frame\",\"offset\",\"orient\",\"color\",\"subtitleColor\",\"subtitleFont\",\"subtitleFontSize\",\"subtitleFontStyle\",\"subtitleFontWeight\",\"subtitleLineHeight\",\"subtitlePadding\"]),p=Object.assign(Object.assign({},f),o?{fill:o}:{}),g=Object.assign(Object.assign(Object.assign(Object.assign({},t?{anchor:t}:{}),n?{frame:n}:{}),i?{offset:i}:{}),r?{orient:r}:{}),m=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},a?{subtitleColor:a}:{}),s?{subtitleFont:s}:{}),l?{subtitleFontSize:l}:{}),u?{subtitleFontStyle:u}:{}),c?{subtitleFontWeight:c}:{}),d?{subtitleLineHeight:d}:{}),h?{subtitlePadding:h}:{});return{titleMarkConfig:p,subtitleMarkConfig:LA(p,[\"align\",\"baseline\",\"dx\",\"dy\",\"limit\"]),nonMark:g,subtitle:m}}function YB(e){return Object(se.I)(e)||Object(se.B)(e)&&Object(se.I)(e[0])}function HB(e){return bR(e)?e:void 0!==e?{value:e}:void 0}function qB(e){return bR(e)?e.signal:Object(se.ab)(e.value)}function VB(e){return bR(e)?e.signal:null==e?null:Object(se.ab)(e)}function GB(e){var t;return[].concat(e.type,null!==(t=e.style)&&void 0!==t?t:[])}function XB(e,t,n,i={}){const{vgChannel:r,ignoreVgConfig:o}=i;return r&&void 0!==t[r]?t[r]:void 0!==t[e]?t[e]:!o||r&&r!==e?ZB(e,t,n,i):void 0}function ZB(e,t,n,{vgChannel:i}={}){return pF(i?QB(e,t,n.style):void 0,QB(e,t,n.style),i?n[t.type][i]:void 0,n[t.type][e],i?n.mark[i]:n.mark[e])}function QB(e,t,n){return JB(e,GB(t),n)}function JB(e,t,n){let i;t=Object(se.i)(t);for(const r of t){const t=n[r];t&&void 0!==t[e]&&(i=t[e])}return i}function KB(e,t){return Object(se.i)(e).reduce((e,n)=>{var i;return e.field.push(xB(n,t)),e.order.push(null!==(i=n.sort)&&void 0!==i?i:\"ascending\"),e},{field:[],order:[]})}function eL(e,t){const n=[...e];return t.forEach(e=>{for(const t of n)if(IA(t,e))return;n.push(e)}),n}function tL(e,t){return IA(e,t)||!t?e:e?[...Object(se.i)(e),...Object(se.i)(t)].join(\", \"):t}function nL(e,t){const n=e.value,i=t.value;if(null==n||null===i)return{explicit:e.explicit,value:null};if((YB(n)||bR(n))&&(YB(i)||bR(i)))return{explicit:e.explicit,value:tL(n,i)};if(YB(n)||bR(n))return{explicit:e.explicit,value:n};if(YB(i)||bR(i))return{explicit:e.explicit,value:i};if(!(YB(n)||bR(n)||YB(i)||bR(i)))return{explicit:e.explicit,value:eL(n,i)};throw new Error(\"It should never reach here\")}function iL(e,t){const n=e&&e[t];return!!n&&(Object(se.B)(n)?qA(n,e=>!!e.field):uB(n)||sB(n))}function rL(e){return qA(EP,t=>{if(iL(e,t)){const n=e[t];if(Object(se.B)(n))return qA(n,e=>!!e.aggregate);{const e=AB(n);return e&&!!e.aggregate}}return!1})}function oL(e,t){const n=[],i=[],r=[],o=[],a={};return lL(e,(s,l)=>{if(uB(s)){const{field:u,aggregate:c,bin:d,timeUnit:h}=s,f=EA(s,[\"field\",\"aggregate\",\"bin\",\"timeUnit\"]);if(c||h||d){const e=CB(s),p=e&&e.title;let g=xB(s,{forAs:!0});const m=Object.assign(Object.assign(Object.assign({},p?[]:{title:jB(s,t,{allowDisabling:!0})}),f),{field:g});if(c){let e;if(eP(c)?(e=\"argmax\",g=xB({op:\"argmax\",field:c.argmax},{forAs:!0}),m.field=`${g}.${u}`):KF(c)?(e=\"argmin\",g=xB({op:\"argmin\",field:c.argmin},{forAs:!0}),m.field=`${g}.${u}`):\"boxplot\"!==c&&\"errorbar\"!==c&&\"errorband\"!==c&&(e=c),e){const t={op:e,as:g};u&&(t.field=u),o.push(t)}}else if(n.push(g),gB(s)&&SN(d)){if(i.push({bin:d,field:u,as:g}),n.push(xB(s,{binSuffix:\"end\"})),WB(s,l)&&n.push(xB(s,{binSuffix:\"range\"})),iN(l)){const e={field:g+\"_end\"};a[l+\"2\"]=e}m.bin=\"binned\",zP(l)||(m.type=IR)}else if(h){r.push({timeUnit:h,field:u,as:g});const e=gB(s)&&s.type!==LR&&\"time\";e&&(\"text\"===l||\"tooltip\"===l?m.formatType=e:!function(e){return!!KP[e]}(l)?iN(l)&&(m.axis=Object.assign({formatType:e},m.axis)):m.legend=Object.assign({formatType:e},m.legend))}a[l]=m}else n.push(u),a[l]=e[l]}else a[l]=e[l]}),{bins:i,timeUnits:r,aggregate:o,groupby:n,encoding:a}}function aL(e,t,n,i){return eF(e).reduce((r,o)=>{if(!PP(o))return nR(v.invalidEncodingChannel(o)),r;const a=e[o];if(\"angle\"!==o||\"arc\"!==t||e.theta||(nR(v.REPLACE_ANGLE_WITH_THETA),o=uP),!function(e,t,n){const i=_N(t,n);if(!i)return!1;if(\"binned\"===i){const n=e[\"x2\"===t?\"x\":\"y\"];return!!(uB(n)&&uB(e[t])&&DN(n.bin))}return!0}(e,o,t))return nR(v.incompatibleChannel(o,t)),r;if(o===gP&&\"line\"===t){const t=AB(e[o]);if(null==t?void 0:t.aggregate)return nR(v.LINE_WITH_VARYING_SIZE),r}if(o===dP&&(n?\"fill\"in e:\"stroke\"in e))return nR(v.droppingColor(\"encoding\",{fill:\"fill\"in e,stroke:\"stroke\"in e})),r;if(\"detail\"===o||\"order\"===o&&!Object(se.B)(a)&&!mB(a)||\"tooltip\"===o&&Object(se.B)(a))a&&(r[o]=Object(se.i)(a).reduce((e,t)=>(uB(t)?e.push(zB(t,o)):nR(v.emptyFieldDef(t,o)),e),[]));else{if(\"tooltip\"===o&&null===a)r[o]=null;else if(!(uB(a)||dB(a)||mB(a)||aB(a)||bR(a)))return nR(v.emptyFieldDef(a,o)),r;r[o]=PB(a,o,i)}return r},{})}function sL(e,t){const n={};for(const i of eF(e)){const r=PB(e[i],i,t,{compositeMark:!0});n[i]=r}return n}function lL(e,t,n){if(e)for(const i of eF(e)){const r=e[i];if(Object(se.B)(r))for(const e of r)t.call(n,e,i);else t.call(n,r,i)}}function uL(e,t,n,i){return e?eF(e).reduce((n,r)=>{const o=e[r];return Object(se.B)(o)?o.reduce((e,n)=>t.call(i,e,n,r),n):t.call(i,n,o,r)},n):n}function cL(e,t){return eF(t).reduce((n,i)=>{switch(i){case\"x\":case\"y\":case\"href\":case\"description\":case\"url\":case\"x2\":case\"y2\":case uP:case cP:case lP:case\"radius2\":case\"latitude\":case\"longitude\":case\"latitude2\":case\"longitude2\":case\"text\":case pP:case\"angle\":case\"tooltip\":return n;case\"order\":if(\"line\"===e||\"trail\"===e)return n;case\"detail\":case\"key\":{const e=t[i];if(Object(se.B)(e)||uB(e))for(const t of Object(se.i)(e))t.aggregate||n.push(xB(t,{}));return n}case gP:if(\"trail\"===e)return n;case dP:case hP:case fP:case\"opacity\":case\"fillOpacity\":case\"strokeOpacity\":case\"strokeDash\":case\"strokeWidth\":{const e=AB(t[i]);return e&&!e.aggregate&&n.push(xB(e,{})),n}}},[])}function dL(e,t,n,i=!0){if(\"tooltip\"in n)return{tooltip:n.tooltip};return{tooltip:[...e.map(({fieldPrefix:e,titlePrefix:n})=>{const r=i?\" of \"+hL(t):\"\";return{field:e+t.field,type:t.type,title:bR(n)?{signal:n+`\"${escape(r)}\"`}:n+r}}),...XA(function(e){const t=[];for(const n of eF(e))if(iL(e,n)){const i=e[n],r=Object(se.i)(i);for(const e of r)uB(e)?t.push(e):sB(e)&&t.push(e.condition)}return t}(n).map(wB),UA)]}}function hL(e){const{title:t,field:n}=e;return pF(t,n)}function fL(e,t,n,i,r){const{scale:o,axis:a}=n;return({partName:s,mark:l,positionPrefix:u,endPositionPrefix:c,extraEncoding:d={}})=>{const h=hL(n);return pL(e,s,r,{mark:l,encoding:Object.assign(Object.assign(Object.assign({[t]:Object.assign(Object.assign(Object.assign({field:u+\"_\"+n.field,type:n.type},void 0!==h?{title:h}:{}),void 0!==o?{scale:o}:{}),void 0!==a?{axis:a}:{})},Object(se.I)(c)?{[t+\"2\"]:{field:c+\"_\"+n.field}}:{}),i),d)})}}function pL(e,t,n,i){const{clip:r,color:o,opacity:a}=e,s=e.type;return e[t]||void 0===e[t]&&n[t]?[Object.assign(Object.assign({},i),{mark:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n[t]),r?{clip:r}:{}),o?{color:o}:{}),a?{opacity:a}:{}),UF(i.mark)?i.mark:{type:i.mark}),{style:`${s}-${t}`}),Object(se.C)(e[t])?{}:e[t])})]:[]}function gL(e,t,n){const{encoding:i}=e,r=\"vertical\"===t?\"y\":\"x\",o=i[r],a=i[r+\"2\"],s=i[r+\"Error\"],l=i[r+\"Error2\"];return{continuousAxisChannelDef:mL(o,n),continuousAxisChannelDef2:mL(a,n),continuousAxisChannelDefError:mL(s,n),continuousAxisChannelDefError2:mL(l,n),continuousAxis:r}}function mL(e,t){if(e&&e.aggregate){const{aggregate:n}=e,i=EA(e,[\"aggregate\"]);return n!==t&&nR(v.errorBarContinuousAxisHasCustomizedAggregate(n,t)),i}return e}function vL(e,t){const{mark:n,encoding:i}=e,{x:r,y:o}=i;if(UF(n)&&n.orient)return n.orient;if(hB(r)){if(hB(o)){const e=uB(r)&&r.aggregate,n=uB(o)&&o.aggregate;if(e||n!==t){if(n||e!==t){if(e===t&&n===t)throw new Error(\"Both x and y cannot have aggregate\");return BB(o)&&!BB(r)?\"horizontal\":\"vertical\"}return\"horizontal\"}return\"vertical\"}return\"horizontal\"}if(hB(o))return\"vertical\";throw new Error(`Need a valid continuous axis for ${t}s`)}const yL=new ZF(\"boxplot\",_L);function bL(e){return Object(se.F)(e)?\"tukey\":e}function _L(e,{config:t}){var n,i;e=Object.assign(Object.assign({},e),{encoding:sL(e.encoding,t)});const{mark:r,encoding:o,selection:a,projection:s}=e,l=EA(e,[\"mark\",\"encoding\",\"selection\",\"projection\"]),u=UF(r)?r:{type:r};a&&nR(v.selectionNotSupported(\"boxplot\"));const c=null!==(n=u.extent)&&void 0!==n?n:t.boxplot.extent,d=XB(\"size\",u,t),h=bL(c),{bins:f,timeUnits:p,transform:g,continuousAxisChannelDef:m,continuousAxis:y,groupby:b,aggregate:_,encodingWithoutContinuousAxis:w,ticksOrient:x,boxOrient:k,customTooltipWithoutAggregatedField:O}=function(e,t,n){const i=vL(e,\"boxplot\"),{continuousAxisChannelDef:r,continuousAxis:o}=gL(e,i,\"boxplot\"),a=r.field,s=bL(t),l=[...wL(a),{op:\"median\",field:a,as:\"mid_box_\"+a},{op:\"min\",field:a,as:(\"min-max\"===s?\"lower_whisker_\":\"min_\")+a},{op:\"max\",field:a,as:(\"min-max\"===s?\"upper_whisker_\":\"max_\")+a}],u=\"min-max\"===s||\"tukey\"===s?[]:[{calculate:`datum[\"upper_box_${a}\"] - datum[\"lower_box_${a}\"]`,as:\"iqr_\"+a},{calculate:`min(datum[\"upper_box_${a}\"] + datum[\"iqr_${a}\"] * ${t}, datum[\"max_${a}\"])`,as:\"upper_whisker_\"+a},{calculate:`max(datum[\"lower_box_${a}\"] - datum[\"iqr_${a}\"] * ${t}, datum[\"min_${a}\"])`,as:\"lower_whisker_\"+a}],c=e.encoding,d=o,h=(c[d],EA(c,[\"symbol\"==typeof d?d:d+\"\"])),{customTooltipWithoutAggregatedField:f,filteredEncoding:p}=function(e){const{tooltip:t}=e,n=EA(e,[\"tooltip\"]);if(!t)return{filteredEncoding:n};let i,r;if(Object(se.B)(t)){for(const e of t)e.aggregate?(i||(i=[]),i.push(e)):(r||(r=[]),r.push(e));i&&(n.tooltip=i)}else t.aggregate?n.tooltip=t:r=t;return Object(se.B)(r)&&1===r.length&&(r=r[0]),{customTooltipWithoutAggregatedField:r,filteredEncoding:n}}(h),{bins:g,timeUnits:m,aggregate:v,groupby:y,encoding:b}=oL(p,n),_=\"vertical\"===i?\"horizontal\":\"vertical\",w=i,x=[...g,...m,{aggregate:[...v,...l],groupby:y},...u];return{bins:g,timeUnits:m,transform:x,groupby:y,aggregate:v,continuousAxisChannelDef:r,continuousAxis:o,encodingWithoutContinuousAxis:b,ticksOrient:_,boxOrient:w,customTooltipWithoutAggregatedField:f}}(e,c,t),{color:E,size:S}=w,D=EA(w,[\"color\",\"size\"]),j=e=>fL(u,y,m,e,t.boxplot),C=j(D),M=j(w),T=j(Object.assign(Object.assign({},D),S?{size:S}:{})),A=dL([{fieldPrefix:\"min-max\"===h?\"upper_whisker_\":\"max_\",titlePrefix:\"Max\"},{fieldPrefix:\"upper_box_\",titlePrefix:\"Q3\"},{fieldPrefix:\"mid_box_\",titlePrefix:\"Median\"},{fieldPrefix:\"lower_box_\",titlePrefix:\"Q1\"},{fieldPrefix:\"min-max\"===h?\"lower_whisker_\":\"min_\",titlePrefix:\"Min\"}],m,w),F={type:\"tick\",color:\"black\",opacity:1,orient:x,invalid:null,aria:!1},P=\"min-max\"===h?A:dL([{fieldPrefix:\"upper_whisker_\",titlePrefix:\"Upper Whisker\"},{fieldPrefix:\"lower_whisker_\",titlePrefix:\"Lower Whisker\"}],m,w),N=[...C({partName:\"rule\",mark:{type:\"rule\",invalid:null,aria:!1},positionPrefix:\"lower_whisker\",endPositionPrefix:\"lower_box\",extraEncoding:P}),...C({partName:\"rule\",mark:{type:\"rule\",invalid:null,aria:!1},positionPrefix:\"upper_box\",endPositionPrefix:\"upper_whisker\",extraEncoding:P}),...C({partName:\"ticks\",mark:F,positionPrefix:\"lower_whisker\",extraEncoding:P}),...C({partName:\"ticks\",mark:F,positionPrefix:\"upper_whisker\",extraEncoding:P})],z=[...\"tukey\"!==h?N:[],...M({partName:\"box\",mark:Object.assign(Object.assign({type:\"bar\"},d?{size:d}:{}),{orient:k,invalid:null,ariaRoleDescription:\"box\"}),positionPrefix:\"lower_box\",endPositionPrefix:\"upper_box\",extraEncoding:A}),...T({partName:\"median\",mark:Object.assign(Object.assign(Object.assign({type:\"tick\",invalid:null},Object(se.G)(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{}),d?{size:d}:{}),{orient:x,aria:!1}),positionPrefix:\"mid_box\",extraEncoding:A})];if(\"min-max\"===h)return Object.assign(Object.assign({},l),{transform:(null!==(i=l.transform)&&void 0!==i?i:[]).concat(g),layer:z});const R=`datum[\"lower_box_${m.field}\"]`,I=`datum[\"upper_box_${m.field}\"]`,B=`(${I} - ${R})`,L=`${R} - ${c} * ${B}`,$=`${I} + ${c} * ${B}`,W=`datum[\"${m.field}\"]`,U={joinaggregate:wL(m.field),groupby:b},Y={transform:[{filter:`(${L} <= ${W}) && (${W} <= ${$})`},{aggregate:[{op:\"min\",field:m.field,as:\"lower_whisker_\"+m.field},{op:\"max\",field:m.field,as:\"upper_whisker_\"+m.field},{op:\"min\",field:\"lower_box_\"+m.field,as:\"lower_box_\"+m.field},{op:\"max\",field:\"upper_box_\"+m.field,as:\"upper_box_\"+m.field},..._],groupby:b}],layer:N},{tooltip:H}=D,q=EA(D,[\"tooltip\"]),{scale:V,axis:G}=m,X=hL(m),Z=$A(G,[\"title\"]),Q=pL(u,\"outliers\",t.boxplot,{transform:[{filter:`(${W} < ${L}) || (${W} > ${$})`}],mark:\"point\",encoding:Object.assign(Object.assign(Object.assign({[y]:Object.assign(Object.assign(Object.assign({field:m.field,type:m.type},void 0!==X?{title:X}:{}),void 0!==V?{scale:V}:{}),KA(Z)?{}:{axis:Z})},q),E?{color:E}:{}),O?{tooltip:O}:{})})[0];let J;const K=[...f,...p,U];return Q?J={transform:K,layer:[Q,Y]}:(J=Y,J.transform.unshift(...K)),Object.assign(Object.assign({},l),{layer:[J,{transform:g,layer:z}]})}function wL(e){return[{op:\"q1\",field:e,as:\"lower_box_\"+e},{op:\"q3\",field:e,as:\"upper_box_\"+e}]}const xL=new ZF(\"errorbar\",kL);function kL(e,{config:t}){e=Object.assign(Object.assign({},e),{encoding:sL(e.encoding,t)});const{transform:n,continuousAxisChannelDef:i,continuousAxis:r,encodingWithoutContinuousAxis:o,ticksOrient:a,markDef:s,outerSpec:l,tooltipEncoding:u}=EL(e,\"errorbar\",t);delete o.size;const c=fL(s,r,i,o,t.errorbar),d=s.thickness,h=s.size,f=Object.assign(Object.assign({type:\"tick\",orient:a,aria:!1},void 0!==d?{thickness:d}:{}),void 0!==h?{size:h}:{}),p=[...c({partName:\"ticks\",mark:f,positionPrefix:\"lower\",extraEncoding:u}),...c({partName:\"ticks\",mark:f,positionPrefix:\"upper\",extraEncoding:u}),...c({partName:\"rule\",mark:Object.assign({type:\"rule\",ariaRoleDescription:\"errorbar\"},void 0!==d?{size:d}:{}),positionPrefix:\"lower\",endPositionPrefix:\"upper\",extraEncoding:u})];return Object.assign(Object.assign(Object.assign({},l),{transform:n}),p.length>1?{layer:p}:Object.assign({},p[0]))}function OL(e,t){const{encoding:n}=e;if(function(e){return(pB(e.x)||pB(e.y))&&!pB(e.x2)&&!pB(e.y2)&&!pB(e.xError)&&!pB(e.xError2)&&!pB(e.yError)&&!pB(e.yError2)}(n))return{orient:vL(e,t),inputType:\"raw\"};const i=function(e){return pB(e.x2)||pB(e.y2)}(n),r=function(e){return pB(e.xError)||pB(e.xError2)||pB(e.yError)||pB(e.yError2)}(n),o=n.x,a=n.y;if(i){if(r)throw new Error(t+\" cannot be both type aggregated-upper-lower and aggregated-error\");const e=n.x2,i=n.y2;if(pB(e)&&pB(i))throw new Error(t+\" cannot have both x2 and y2\");if(pB(e)){if(hB(o))return{orient:\"horizontal\",inputType:\"aggregated-upper-lower\"};throw new Error(\"Both x and x2 have to be quantitative in \"+t)}if(pB(i)){if(hB(a))return{orient:\"vertical\",inputType:\"aggregated-upper-lower\"};throw new Error(\"Both y and y2 have to be quantitative in \"+t)}throw new Error(\"No ranged axis\")}{const e=n.xError,i=n.xError2,r=n.yError,s=n.yError2;if(pB(i)&&!pB(e))throw new Error(t+\" cannot have xError2 without xError\");if(pB(s)&&!pB(r))throw new Error(t+\" cannot have yError2 without yError\");if(pB(e)&&pB(r))throw new Error(t+\" cannot have both xError and yError with both are quantiative\");if(pB(e)){if(hB(o))return{orient:\"horizontal\",inputType:\"aggregated-error\"};throw new Error(\"All x, xError, and xError2 (if exist) have to be quantitative\")}if(pB(r)){if(hB(a))return{orient:\"vertical\",inputType:\"aggregated-error\"};throw new Error(\"All y, yError, and yError2 (if exist) have to be quantitative\")}throw new Error(\"No ranged axis\")}}function EL(e,t,n){var i;const{mark:r,encoding:o,selection:a,projection:s}=e,l=EA(e,[\"mark\",\"encoding\",\"selection\",\"projection\"]),u=UF(r)?r:{type:r};a&&nR(v.selectionNotSupported(t));const{orient:c,inputType:d}=OL(e,t),{continuousAxisChannelDef:h,continuousAxisChannelDef2:f,continuousAxisChannelDefError:p,continuousAxisChannelDefError2:g,continuousAxis:m}=gL(e,c,t),{errorBarSpecificAggregate:y,postAggregateCalculates:b,tooltipSummary:_,tooltipTitleWithFieldName:w}=function(e,t,n,i,r,o,a,s){let l=[],u=[];const c=t.field;let d,h=!1;if(\"raw\"===o){const t=e.center?e.center:e.extent?\"iqr\"===e.extent?\"median\":\"mean\":s.errorbar.center,n=e.extent?e.extent:\"mean\"===t?\"stderr\":\"iqr\";if(\"median\"===t!=(\"iqr\"===n)&&nR(v.errorBarCenterIsUsedWithWrongExtent(t,n,a)),\"stderr\"===n||\"stdev\"===n)l=[{op:n,field:c,as:\"extent_\"+c},{op:t,field:c,as:\"center_\"+c}],u=[{calculate:`datum[\"center_${c}\"] + datum[\"extent_${c}\"]`,as:\"upper_\"+c},{calculate:`datum[\"center_${c}\"] - datum[\"extent_${c}\"]`,as:\"lower_\"+c}],d=[{fieldPrefix:\"center_\",titlePrefix:sF(t)},{fieldPrefix:\"upper_\",titlePrefix:SL(t,n,\"+\")},{fieldPrefix:\"lower_\",titlePrefix:SL(t,n,\"-\")}],h=!0;else{let e,t,i;\"ci\"===n?(e=\"mean\",t=\"ci0\",i=\"ci1\"):(e=\"median\",t=\"q1\",i=\"q3\"),l=[{op:t,field:c,as:\"lower_\"+c},{op:i,field:c,as:\"upper_\"+c},{op:e,field:c,as:\"center_\"+c}],d=[{fieldPrefix:\"upper_\",titlePrefix:jB({field:c,aggregate:i,type:\"quantitative\"},s,{allowDisabling:!1})},{fieldPrefix:\"lower_\",titlePrefix:jB({field:c,aggregate:t,type:\"quantitative\"},s,{allowDisabling:!1})},{fieldPrefix:\"center_\",titlePrefix:jB({field:c,aggregate:e,type:\"quantitative\"},s,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&nR(v.errorBarCenterAndExtentAreNotNeeded(e.center,e.extent)),\"aggregated-upper-lower\"===o?(d=[],u=[{calculate:`datum[\"${n.field}\"]`,as:\"upper_\"+c},{calculate:`datum[\"${c}\"]`,as:\"lower_\"+c}]):\"aggregated-error\"===o&&(d=[{fieldPrefix:\"\",titlePrefix:c}],u=[{calculate:`datum[\"${c}\"] + datum[\"${i.field}\"]`,as:\"upper_\"+c}],r?u.push({calculate:`datum[\"${c}\"] + datum[\"${r.field}\"]`,as:\"lower_\"+c}):u.push({calculate:`datum[\"${c}\"] - datum[\"${i.field}\"]`,as:\"lower_\"+c}));for(const e of u)d.push({fieldPrefix:e.as.substring(0,6),titlePrefix:dF(dF(e.calculate,'datum[\"',\"\"),'\"]',\"\")})}return{postAggregateCalculates:u,errorBarSpecificAggregate:l,tooltipSummary:d,tooltipTitleWithFieldName:h}}(u,h,f,p,g,d,t,n),x=o,k=m,O=(x[k],\"x\"===m?\"x2\":\"y2\"),E=(x[O],\"x\"===m?\"xError\":\"yError\"),S=(x[E],\"x\"===m?\"xError2\":\"yError2\"),D=(x[S],EA(x,[\"symbol\"==typeof k?k:k+\"\",\"symbol\"==typeof O?O:O+\"\",\"symbol\"==typeof E?E:E+\"\",\"symbol\"==typeof S?S:S+\"\"])),{bins:j,timeUnits:C,aggregate:M,groupby:T,encoding:A}=oL(D,n),F=[...M,...y],P=\"raw\"!==d?[]:T,N=dL(_,h,A,w);return{transform:[...null!==(i=l.transform)&&void 0!==i?i:[],...j,...C,...0===F.length?[]:[{aggregate:F,groupby:P}],...b],groupby:P,continuousAxisChannelDef:h,continuousAxis:m,encodingWithoutContinuousAxis:A,ticksOrient:\"vertical\"===c?\"horizontal\":\"vertical\",markDef:u,outerSpec:l,tooltipEncoding:N}}function SL(e,t,n){return sF(e)+\" \"+n+\" \"+t}const DL=new ZF(\"errorband\",jL);function jL(e,{config:t}){e=Object.assign(Object.assign({},e),{encoding:sL(e.encoding,t)});const{transform:n,continuousAxisChannelDef:i,continuousAxis:r,encodingWithoutContinuousAxis:o,markDef:a,outerSpec:s,tooltipEncoding:l}=EL(e,\"errorband\",t),u=a,c=fL(u,r,i,o,t.errorband),d=void 0!==e.encoding.x&&void 0!==e.encoding.y;let h={type:d?\"area\":\"rect\"},f={type:d?\"line\":\"rule\"};const p=Object.assign(Object.assign({},u.interpolate?{interpolate:u.interpolate}:{}),u.tension&&u.interpolate?{tension:u.tension}:{});return d?(h=Object.assign(Object.assign(Object.assign({},h),p),{ariaRoleDescription:\"errorband\"}),f=Object.assign(Object.assign(Object.assign({},f),p),{aria:!1})):u.interpolate?nR(v.errorBand1DNotSupport(\"interpolate\")):u.tension&&nR(v.errorBand1DNotSupport(\"tension\")),Object.assign(Object.assign({},s),{transform:n,layer:[...c({partName:\"band\",mark:h,positionPrefix:\"lower\",endPositionPrefix:\"upper\",extraEncoding:l}),...c({partName:\"borders\",mark:f,positionPrefix:\"lower\",extraEncoding:l}),...c({partName:\"borders\",mark:f,positionPrefix:\"upper\",extraEncoding:l})]})}const CL={};function ML(e,t,n){const i=new ZF(e,t);CL[e]={normalizer:i,parts:n}}ML(\"boxplot\",_L,[\"box\",\"median\",\"outliers\",\"rule\",\"ticks\"]),ML(\"errorbar\",kL,[\"ticks\",\"rule\"]),ML(\"errorband\",jL,[\"band\",\"borders\"]);const TL=[\"gradientHorizontalMaxLength\",\"gradientHorizontalMinLength\",\"gradientVerticalMaxLength\",\"gradientVerticalMinLength\",\"unselectedOpacity\"],AL=[\"size\",\"shape\",\"fill\",\"stroke\",\"strokeDash\",\"strokeWidth\",\"opacity\"],FL={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},PL=(eF(FL),{single:{on:\"click\",fields:[\"_vgsid_\"],resolve:\"global\",empty:\"all\",clear:\"dblclick\"},multi:{on:\"click\",fields:[\"_vgsid_\"],toggle:\"event.shiftKey\",resolve:\"global\",empty:\"all\",clear:\"dblclick\"},interval:{on:\"[mousedown, window:mouseup] > window:mousemove!\",encodings:[\"x\",\"y\"],translate:\"[mousedown, window:mouseup] > window:mousemove!\",zoom:\"wheel!\",mark:{fill:\"#333\",fillOpacity:.125,stroke:\"white\"},resolve:\"global\",clear:\"dblclick\"}});function NL(e){return!(!e||\"legend\"!==e&&!e.legend)}function zL(e){return NL(e)&&Object(se.G)(e)}function RL(e){return\"concat\"in e}function IL(e){return\"vconcat\"in e}function BL(e){return\"hconcat\"in e}function LL(e){return Object(se.G)(e)&&void 0!==e.step}function $L(e){return e.view||e.width||e.height}const WL=eF({align:1,bounds:1,center:1,columns:1,spacing:1});function UL(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e[\"width\"===t?\"continuousWidth\":\"continuousHeight\"]}function YL(e,t){const n=HL(e,t);return LL(n)?n.step:qL}function HL(e,t){var n;return pF(null!==(n=e[t])&&void 0!==n?n:e[\"width\"===t?\"discreteWidth\":\"discreteHeight\"],{step:e.step})}const qL=20;const VL={background:\"white\",padding:5,timeFormat:\"%b %d, %Y\",countTitle:\"Count of Records\",view:{continuousWidth:200,continuousHeight:200,step:qL},mark:{color:\"#4c78a8\",invalid:\"filter\",timeUnitBand:1},arc:{},area:{},bar:VF,circle:{},geoshape:{},image:{},line:{},point:{},rect:GF,rule:{color:\"black\"},square:{},text:{color:\"black\"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:\"white\"},outliers:{},rule:{},ticks:null},errorbar:{center:\"mean\",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:PL,style:{},title:{},facet:{spacing:20},concat:{spacing:20}},GL=[\"#4c78a8\",\"#f58518\",\"#e45756\",\"#72b7b2\",\"#54a24b\",\"#eeca3b\",\"#b279a2\",\"#ff9da6\",\"#9d755d\",\"#bab0ac\"],XL={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},ZL={blue:GL[0],orange:GL[1],red:GL[2],teal:GL[3],green:GL[4],yellow:GL[5],purple:GL[6],pink:GL[7],brown:GL[8],gray0:\"#000\",gray1:\"#111\",gray2:\"#222\",gray3:\"#333\",gray4:\"#444\",gray5:\"#555\",gray6:\"#666\",gray7:\"#777\",gray8:\"#888\",gray9:\"#999\",gray10:\"#aaa\",gray11:\"#bbb\",gray12:\"#ccc\",gray13:\"#ddd\",gray14:\"#eee\",gray15:\"#fff\"};function QL(e={}){const{color:t,font:n,fontSize:i}=e,r=EA(e,[\"color\",\"font\",\"fontSize\"]);return Object(se.O)({},VL,n?function(e){return{text:{font:e},style:{\"guide-label\":{font:e},\"guide-title\":{font:e},\"group-title\":{font:e},\"group-subtitle\":{font:e}}}}(n):{},t?function(e={}){return{signals:[{name:\"color\",value:Object(se.G)(e)?Object.assign(Object.assign({},ZL),e):ZL}],mark:{color:{signal:\"color.blue\"}},rule:{color:{signal:\"color.gray0\"}},text:{color:{signal:\"color.gray0\"}},style:{\"guide-label\":{fill:{signal:\"color.gray0\"}},\"guide-title\":{fill:{signal:\"color.gray0\"}},\"group-title\":{fill:{signal:\"color.gray0\"}},\"group-subtitle\":{fill:{signal:\"color.gray0\"}},cell:{stroke:{signal:\"color.gray8\"}}},axis:{domainColor:{signal:\"color.gray13\"},gridColor:{signal:\"color.gray8\"},tickColor:{signal:\"color.gray13\"}},range:{category:[{signal:\"color.blue\"},{signal:\"color.orange\"},{signal:\"color.red\"},{signal:\"color.teal\"},{signal:\"color.green\"},{signal:\"color.yellow\"},{signal:\"color.purple\"},{signal:\"color.pink\"},{signal:\"color.brown\"},{signal:\"color.grey8\"}]}}}(t):{},i?function(e){return{signals:[{name:\"fontSize\",value:Object(se.G)(e)?Object.assign(Object.assign({},XL),e):XL}],text:{fontSize:{signal:\"fontSize.text\"}},style:{\"guide-label\":{fontSize:{signal:\"fontSize.guideLabel\"}},\"guide-title\":{fontSize:{signal:\"fontSize.guideTitle\"}},\"group-title\":{fontSize:{signal:\"fontSize.groupTitle\"}},\"group-subtitle\":{fontSize:{signal:\"fontSize.groupSubtitle\"}}}}}(i):{},r||{})}const JL=[\"view\",...WF],KL=[\"color\",\"fontSize\",\"background\",\"padding\",\"facet\",\"concat\",\"numberFormat\",\"timeFormat\",\"countTitle\",\"header\",\"axisQuantitative\",\"axisTemporal\",\"axisDiscrete\",\"axisPoint\",\"axisXBand\",\"axisXPoint\",\"axisXDiscrete\",\"axisXQuantitative\",\"axisXTemporal\",\"axisYBand\",\"axisYPoint\",\"axisYDiscrete\",\"axisYQuantitative\",\"axisYTemporal\",\"scale\",\"selection\",\"overlay\"],e$=Object.assign({view:[\"continuousWidth\",\"continuousHeight\",\"discreteWidth\",\"discreteHeight\",\"step\"]},{area:[\"line\",\"point\"],bar:[\"binSpacing\",\"continuousBandSize\",\"discreteBandSize\"],rect:[\"binSpacing\",\"continuousBandSize\",\"discreteBandSize\"],line:[\"point\"],tick:[\"bandSize\",\"thickness\"]});function t$(e){e=BA(e);for(const t of KL)delete e[t];if(e.axis)for(const t in e.axis)bF(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of TL)delete e.legend[t];if(e.mark){for(const t of HF)delete e.mark[t];e.mark.tooltip&&Object(se.G)(e.mark.tooltip)&&delete e.mark.tooltip}for(const t of JL){for(const n of HF)delete e[t][n];const n=e$[t];if(n)for(const i of n)delete e[t][i];n$(e,t)}for(const t of eF(CL))delete e[t];!function(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:i}=UB(e.title);KA(t)||(e.style[\"group-title\"]=Object.assign(Object.assign({},e.style[\"group-title\"]),t));KA(n)||(e.style[\"group-subtitle\"]=Object.assign(Object.assign({},e.style[\"group-subtitle\"]),n));KA(i)?delete e.title:e.title=i}(e);for(const t in e)Object(se.G)(e[t])&&KA(e[t])&&delete e[t];return KA(e)?void 0:e}function n$(e,t,n,i){const r=i?e[t][i]:e[t];\"view\"===t&&(n=\"cell\");const o=Object.assign(Object.assign({},r),e.style[null!=n?n:t]);KA(o)||(e.style[null!=n?n:t]=o),i||delete e[t]}function i$(e){return\"layer\"in e}const r$={zero:1,center:1,normalize:1};const o$=new Set([SF,jF,DF,FF,TF,RF,IF,MF,PF,NF]),a$=new Set([jF,DF,SF]);function s$(e,t){var n,i;const r=\"x\"===t?\"y\":\"radius\",o=e[t],a=e[r];if(uB(o)&&uB(a))if(\"quantitative\"===cB(o)&&\"quantitative\"===cB(a)){if(o.stack)return t;if(a.stack)return r;const e=uB(o)&&!!o.aggregate;if(e!==(uB(a)&&!!a.aggregate))return e?t:r;{const e=null===(n=o.scale)||void 0===n?void 0:n.type,s=null===(i=a.scale)||void 0===i?void 0:i.type;if(e&&\"linear\"!==e)return r;if(s&&\"linear\"!==s)return t}}else{if(\"quantitative\"===cB(o))return t;if(\"quantitative\"===cB(a))return r}else{if(\"quantitative\"===cB(o))return t;if(\"quantitative\"===cB(a))return r}}function l$(e,t,n={}){const i=UF(e)?e.type:e;if(!o$.has(i))return null;const r=s$(t,\"x\")||s$(t,\"theta\");if(!r)return null;const o=t[r],a=uB(o)?xB(o,{}):void 0;let s=function(e){switch(e){case\"x\":return\"y\";case\"y\":return\"x\";case\"theta\":return\"radius\";case\"radius\":return\"theta\"}}(r),l=t[s],u=uB(l)?xB(l,{}):void 0;u===a&&(u=void 0,l=void 0,s=void 0);const c=eN.reduce((e,n)=>{if(\"tooltip\"!==n&&iL(t,n)){const i=t[n];for(const t of Object(se.i)(i)){const i=AB(t);if(i.aggregate)continue;const r=xB(i,{});r&&r===u||e.push({channel:n,fieldDef:i})}}return e},[]);let d;if(void 0!==o.stack?d=Object(se.C)(o.stack)?o.stack?\"zero\":null:o.stack:c.length>0&&a$.has(i)&&(d=\"zero\"),!d||!(d in r$))return null;if(rL(t)&&0===c.length)return null;if(o.scale&&o.scale.type&&o.scale.type!==UR){if(n.disallowNonLinearStack)return null;nR(v.cannotStackNonLinearScale(o.scale.type))}return pB(t[BP(r)])?(void 0!==o.stack&&nR(v.cannotStackRangedMark(r)),null):(uB(o)&&o.aggregate&&!HA(rP,o.aggregate)&&nR(v.stackNonSummativeAggregate(o.aggregate)),{groupbyChannel:l?s:void 0,groupbyField:u,fieldChannel:r,impute:null!==o.impute&&LF(i),stackBy:c,offset:d})}function u$(e){const{point:t,line:n}=e,i=EA(e,[\"point\",\"line\"]);return eF(i).length>1?i:i.type}function c$(e){for(const t of[\"line\",\"area\",\"rule\",\"trail\"])e[t]&&(e=Object.assign(Object.assign({},e),{[t]:$A(e[t],[\"point\",\"line\"])}));return e}function d$(e,t={},n){return\"transparent\"===e.point?{opacity:0}:e.point?Object(se.G)(e.point)?e.point:{}:void 0!==e.point?null:t.point||n.shape?Object(se.G)(t.point)?t.point:{}:void 0}function h$(e,t={}){return e.line?!0===e.line?{}:e.line:void 0!==e.line?null:t.line?!0===t.line?{}:t.line:void 0}class f${constructor(){this.name=\"path-overlay\"}hasMatchingType(e,t){if(XF(e)){const{mark:n,encoding:i}=e,r=UF(n)?n:{type:n};switch(r.type){case\"line\":case\"rule\":case\"trail\":return!!d$(r,t[r.type],i);case\"area\":return!!d$(r,t[r.type],i)||!!h$(r,t[r.type])}}return!1}run(e,t,n){const{config:i}=t,{selection:r,projection:o,mark:a,encoding:s}=e,l=EA(e,[\"selection\",\"projection\",\"mark\",\"encoding\"]),u=sL(s,i),c=UF(a)?a:{type:a},d=d$(c,i[c.type],u),h=\"area\"===c.type&&h$(c,i[c.type]),f=[Object.assign(Object.assign({},r?{selection:r}:{}),{mark:u$(Object.assign(Object.assign({},\"area\"===c.type&&void 0===c.opacity&&void 0===c.fillOpacity?{opacity:.7}:{}),c)),encoding:$A(u,[\"shape\"])})],p=l$(c,u);let g=u;if(p){const{fieldChannel:e,offset:t}=p;g=Object.assign(Object.assign({},u),{[e]:Object.assign(Object.assign({},u[e]),t?{stack:t}:{})})}return h&&f.push(Object.assign(Object.assign({},o?{projection:o}:{}),{mark:Object.assign(Object.assign({type:\"line\"},LA(c,[\"clip\",\"interpolate\",\"tension\",\"tooltip\"])),h),encoding:g})),d&&f.push(Object.assign(Object.assign({},o?{projection:o}:{}),{mark:Object.assign(Object.assign({type:\"point\",opacity:1,filled:!0},LA(c,[\"clip\",\"tooltip\"])),d),encoding:g})),n(Object.assign(Object.assign({},l),{layer:f}),Object.assign(Object.assign({},t),{config:c$(i)}))}}class p${constructor(){this.name=\"RangeStep\"}hasMatchingType(e){var t;if(XF(e)&&e.encoding)for(const n of nN){const i=e.encoding[n];if(i&&pB(i)&&(null===(t=null==i?void 0:i.scale)||void 0===t?void 0:t.rangeStep))return!0}return!1}run(e){var t;const n={};let i=Object.assign({},e.encoding);for(const e of nN){const r=LP(e),o=i[e];if(o&&pB(o)&&(null===(t=null==o?void 0:o.scale)||void 0===t?void 0:t.rangeStep)){const{scale:t}=o,a=EA(o,[\"scale\"]),s=t,{rangeStep:l}=s,u=EA(s,[\"rangeStep\"]);n[r]={step:t.rangeStep},nR(v.RANGE_STEP_DEPRECATED),i=Object.assign(Object.assign({},i),{[e]:Object.assign(Object.assign({},a),KA(u)?{}:{scale:u})})}}return Object.assign(Object.assign(Object.assign({},n),e),{encoding:i})}}function g$(e,t){return t?KI(e)?w$(e,t):y$(e,t):e}function m$(e,t){return t?w$(e,t):e}function v$(e,t,n){const i=t[e];return(r=i)&&!Object(se.I)(r)&&\"repeat\"in r?i.repeat in n?Object.assign(Object.assign({},t),{[e]:n[i.repeat]}):void nR(v.noSuchRepeatedValue(i.repeat)):t;var r}function y$(e,t){if(void 0!==(e=v$(\"field\",e,t))){if(null===e)return null;if(iB(e)&&QI(e.sort)){const n=v$(\"field\",e.sort,t);e=Object.assign(Object.assign({},e),n?{sort:n}:{})}return e}}function b$(e,t){if(uB(e))return y$(e,t);{const n=v$(\"datum\",e,t);return n===e||n.type||(n.type=\"nominal\"),n}}function _$(e,t){if(!pB(e)){if(lB(e)){const n=b$(e.condition,t);if(n)return Object.assign(Object.assign({},e),{condition:n});{const{condition:t}=e;return EA(e,[\"condition\"])}}return e}{const n=b$(e,t);if(n)return n;if(aB(e))return{condition:e.condition}}}function w$(e,t){const n={};for(const i in e)if(Object(se.w)(e,i)){const r=e[i];if(Object(se.B)(r))n[i]=r.map(e=>_$(e,t)).filter(e=>e);else{const e=_$(r,t);void 0!==e&&(n[i]=e)}}return n}class x${constructor(){this.name=\"RuleForRangedLine\"}hasMatchingType(e){if(XF(e)){const{encoding:t,mark:n}=e;if(\"line\"===n)for(const e of NP){const n=t[RP(e)];if(t[e]&&(uB(n)&&!DN(n.bin)||dB(n)))return!0}}return!1}run(e,t,n){const{encoding:i}=e;return nR(v.lineWithRange(!!i.x2,!!i.y2)),n(Object.assign(Object.assign({},e),{mark:\"rule\"}),t)}}function k$({parentEncoding:e,encoding:t={},layer:n}){let i={};if(e){const r=new Set([...eF(e),...eF(t)]);for(const o of r){const r=t[o],a=e[o];if(pB(r)){const e=Object.assign(Object.assign({},a),r);i[o]=e}else lB(r)?i[o]=Object.assign(Object.assign({},r),{condition:Object.assign(Object.assign({},a),r.condition)}):r||null===r?i[o]=r:(n||mB(a)||bR(a)||pB(a)||Object(se.B)(a))&&(i[o]=a)}}else i=t;return!i||KA(i)?void 0:i}function O$(e){const{parentProjection:t,projection:n}=e;return t&&n&&nR(v.projectionOverridden({parentProjection:t,projection:n})),null!=n?n:t}function E$(e,t){void 0===t&&(t=QL(e.config));const n=function(e,t={}){return S$.map(e,{config:t})}(e,t),{width:i,height:r}=e,o=function(e,t,n){let{width:i,height:r}=t;const o=XF(e)||i$(e),a={};o?\"container\"==i&&\"container\"==r?(a.type=\"fit\",a.contains=\"padding\"):\"container\"==i?(a.type=\"fit-x\",a.contains=\"padding\"):\"container\"==r&&(a.type=\"fit-y\",a.contains=\"padding\"):(\"container\"==i&&(nR(v.containerSizeNonSingle(\"width\")),i=void 0),\"container\"==r&&(nR(v.containerSizeNonSingle(\"height\")),r=void 0));const s=Object.assign(Object.assign(Object.assign({type:\"pad\"},a),n?D$(n.autosize):{}),D$(e.autosize));\"fit\"!==s.type||o||(nR(v.FIT_NON_SINGLE),s.type=\"pad\");\"container\"==i&&\"fit\"!=s.type&&\"fit-x\"!=s.type&&nR(v.containerSizeNotCompatibleWithAutosize(\"width\"));\"container\"==r&&\"fit\"!=s.type&&\"fit-y\"!=s.type&&nR(v.containerSizeNotCompatibleWithAutosize(\"height\"));if(IA(s,{type:\"pad\"}))return;return s}(n,{width:i,height:r,autosize:e.autosize},t);return Object.assign(Object.assign({},n),o?{autosize:o}:{})}const S$=new class extends class{map(e,t){return tB(e)?this.mapFacet(e,t):function(e){return\"repeat\"in e}(e)?this.mapRepeat(e,t):BL(e)?this.mapHConcat(e,t):IL(e)?this.mapVConcat(e,t):RL(e)?this.mapConcat(e,t):this.mapLayerOrUnit(e,t)}mapLayerOrUnit(e,t){if(i$(e))return this.mapLayer(e,t);if(XF(e))return this.mapUnit(e,t);throw new Error(v.invalidSpec(e))}mapLayer(e,t){return Object.assign(Object.assign({},e),{layer:e.layer.map(e=>this.mapLayerOrUnit(e,t))})}mapHConcat(e,t){return Object.assign(Object.assign({},e),{hconcat:e.hconcat.map(e=>this.map(e,t))})}mapVConcat(e,t){return Object.assign(Object.assign({},e),{vconcat:e.vconcat.map(e=>this.map(e,t))})}mapConcat(e,t){const{concat:n}=e,i=EA(e,[\"concat\"]);return Object.assign(Object.assign({},i),{concat:n.map(e=>this.map(e,t))})}mapFacet(e,t){return Object.assign(Object.assign({},e),{spec:this.map(e.spec,t)})}mapRepeat(e,t){return Object.assign(Object.assign({},e),{spec:this.map(e.spec,t)})}}{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[yL,xL,DL,new f$,new x$,new p$]}map(e,t){if(XF(e)){const n=iL(e.encoding,aP),i=iL(e.encoding,sP),r=iL(e.encoding,\"facet\");if(n||i||r)return this.mapFacetedUnit(e,t)}return super.map(e,t)}mapUnit(e,t){const{parentEncoding:n,parentProjection:i}=t,r=m$(e.encoding,t.repeater),o=Object.assign(Object.assign({},e),r?{encoding:r}:{});if(n||i)return this.mapUnitWithParentEncodingOrProjection(o,t);const a=this.mapLayerOrUnit.bind(this);for(const e of this.nonFacetUnitNormalizers)if(e.hasMatchingType(o,t.config))return e.run(o,t,a);return o}mapRepeat(e,t){return function(e){return!Object(se.B)(e.repeat)&&e.repeat.layer}(e)?this.mapLayerRepeat(e,t):this.mapNonLayerRepeat(e,t)}mapLayerRepeat(e,t){const{repeat:n,spec:i}=e,r=EA(e,[\"repeat\",\"spec\"]),{row:o,column:a,layer:s}=n,{repeater:l={},repeaterPrefix:u=\"\"}=t;return o||a?this.mapRepeat(Object.assign(Object.assign({},e),{repeat:Object.assign(Object.assign({},o?{row:o}:{}),a?{column:a}:{}),spec:{repeat:{layer:s},spec:i}}),t):Object.assign(Object.assign({},r),{layer:s.map(e=>{const n=Object.assign(Object.assign({},l),{layer:e}),r=(i.name||\"\")+u+\"child__layer_\"+rF(e),o=this.mapLayerOrUnit(i,Object.assign(Object.assign({},t),{repeater:n,repeaterPrefix:r}));return o.name=r,o})})}mapNonLayerRepeat(e,t){var n;const{repeat:i,spec:r,data:o}=e,a=EA(e,[\"repeat\",\"spec\",\"data\"]);!Object(se.B)(i)&&e.columns&&(e=$A(e,[\"columns\"]),nR(v.columnsNotSupportByRowCol(\"repeat\")));const s=[],{repeater:l={},repeaterPrefix:u=\"\"}=t,c=!Object(se.B)(i)&&i.row||[l?l.row:null],d=!Object(se.B)(i)&&i.column||[l?l.column:null],h=Object(se.B)(i)&&i||[l?l.repeat:null];for(const e of h)for(const n of c)for(const o of d){const a={repeat:e,row:n,column:o,layer:l.layer},c=(r.name||\"\")+u+\"child__\"+(Object(se.B)(i)?\"\"+rF(e):(i.row?\"row_\"+rF(n):\"\")+(i.column?\"column_\"+rF(o):\"\")),d=this.map(r,Object.assign(Object.assign({},t),{repeater:a,repeaterPrefix:c}));d.name=c,s.push($A(d,[\"data\"]))}const f=Object(se.B)(i)?e.columns:i.column?i.column.length:1;return Object.assign(Object.assign({data:null!==(n=r.data)&&void 0!==n?n:o,align:\"all\"},a),{columns:f,concat:s})}mapFacet(e,t){const{facet:n}=e;return KI(n)&&e.columns&&(e=$A(e,[\"columns\"]),nR(v.columnsNotSupportByRowCol(\"facet\"))),super.mapFacet(e,t)}mapUnitWithParentEncodingOrProjection(e,t){const{encoding:n,projection:i}=e,{parentEncoding:r,parentProjection:o,config:a}=t,s=O$({parentProjection:o,projection:i}),l=k$({parentEncoding:r,encoding:m$(n,t.repeater)});return this.mapUnit(Object.assign(Object.assign(Object.assign({},e),s?{projection:s}:{}),l?{encoding:l}:{}),{config:a})}mapFacetedUnit(e,t){const n=e.encoding,{row:i,column:r,facet:o}=n,a=EA(n,[\"row\",\"column\",\"facet\"]),{mark:s,width:l,projection:u,height:c,view:d,selection:h,encoding:f}=e,p=EA(e,[\"mark\",\"width\",\"projection\",\"height\",\"view\",\"selection\",\"encoding\"]),{facetMapping:g,layout:m}=this.getFacetMappingAndLayout({row:i,column:r,facet:o},t),v=m$(a,t.repeater);return this.mapFacet(Object.assign(Object.assign(Object.assign({},p),m),{facet:g,spec:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},l?{width:l}:{}),c?{height:c}:{}),d?{view:d}:{}),u?{projection:u}:{}),{mark:s,encoding:v}),h?{selection:h}:{})}),t)}getFacetMappingAndLayout(e,t){var n;const{row:i,column:r,facet:o}=e;if(i||r){o&&nR(v.facetChannelDropped([...i?[aP]:[],...r?[sP]:[]]));const t={},a={};for(const i of[aP,sP]){const r=e[i];if(r){const{align:e,center:o,spacing:s,columns:l}=r,u=EA(r,[\"align\",\"center\",\"spacing\",\"columns\"]);t[i]=u;for(const e of[\"align\",\"center\",\"spacing\"])void 0!==r[e]&&(a[e]=null!==(n=a[e])&&void 0!==n?n:{},a[e][i]=r[e])}}return{facetMapping:t,layout:a}}{const{align:e,center:n,spacing:i,columns:r}=o;return{facetMapping:g$(EA(o,[\"align\",\"center\",\"spacing\",\"columns\"]),t.repeater),layout:Object.assign(Object.assign(Object.assign(Object.assign({},e?{align:e}:{}),n?{center:n}:{}),i?{spacing:i}:{}),r?{columns:r}:{})}}}mapLayer(e,t){var{parentEncoding:n,parentProjection:i}=t,r=EA(t,[\"parentEncoding\",\"parentProjection\"]);const{encoding:o,projection:a}=e,s=EA(e,[\"encoding\",\"projection\"]),l=Object.assign(Object.assign({},r),{parentEncoding:k$({parentEncoding:n,encoding:o,layer:!0}),parentProjection:O$({parentProjection:i,projection:a})});return super.mapLayer(s,l)}};function D$(e){return Object(se.I)(e)?{type:e}:null!=e?e:{}}const j$=[\"background\",\"padding\"];function C$(e){return j$.reduce((t,n)=>(e&&void 0!==e[n]&&(t[n]=e[n]),t),{})}class M${constructor(e={},t={}){this.explicit=e,this.implicit=t}clone(){return new M$(BA(this.explicit),BA(this.implicit))}combine(){return Object.assign(Object.assign({},this.explicit),this.implicit)}get(e){return pF(this.explicit[e],this.implicit[e])}getWithExplicit(e){return void 0!==this.explicit[e]?{explicit:!0,value:this.explicit[e]}:void 0!==this.implicit[e]?{explicit:!1,value:this.implicit[e]}:{explicit:!1,value:void 0}}setWithExplicit(e,t){void 0!==t.value&&this.set(e,t.value,t.explicit)}set(e,t,n){return delete this[n?\"implicit\":\"explicit\"][e],this[n?\"explicit\":\"implicit\"][e]=t,this}copyKeyFromSplit(e,t){void 0!==t.explicit[e]?this.set(e,t.explicit[e],!0):void 0!==t.implicit[e]&&this.set(e,t.implicit[e],!1)}copyKeyFromObject(e,t){void 0!==t[e]&&this.set(e,t[e],!0)}copyAll(e){for(const t of eF(e.combine())){const n=e.getWithExplicit(t);this.setWithExplicit(t,n)}}}function T$(e){return{explicit:!0,value:e}}function A$(e){return{explicit:!1,value:e}}function F$(e){return(t,n,i,r)=>{const o=e(t.value,n.value);return o>0?t:o<0?n:P$(t,n,i,r)}}function P$(e,t,n,i){return e.explicit&&t.explicit&&nR(v.mergeConflictingProperty(n,i,e.value,t.value)),e}function N$(e,t,n,i,r=P$){return void 0===e||void 0===e.value?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:IA(e.value,t.value)?e:r(e,t,n,i)}class z$ extends M${constructor(e={},t={},n=!1){super(e,t),this.explicit=e,this.implicit=t,this.parseNothing=n}clone(){const e=super.clone();return e.parseNothing=this.parseNothing,e}}function R$(e){return\"url\"in e}function I$(e){return\"values\"in e}function B$(e){return\"name\"in e&&!R$(e)&&!I$(e)&&!L$(e)}function L$(e){return e&&($$(e)||W$(e)||U$(e))}function $$(e){return\"sequence\"in e}function W$(e){return\"sphere\"in e}function U$(e){return\"graticule\"in e}var Y$;function H$(e){return\"filter\"in e}function q$(e){return\"lookup\"in e}function V$(e){return\"pivot\"in e}function G$(e){return\"density\"in e}function X$(e){return\"quantile\"in e}function Z$(e){return\"regression\"in e}function Q$(e){return\"loess\"in e}function J$(e){return\"sample\"in e}function K$(e){return\"window\"in e}function eW(e){return\"joinaggregate\"in e}function tW(e){return\"flatten\"in e}function nW(e){return\"calculate\"in e}function iW(e){return\"bin\"in e}function rW(e){return\"impute\"in e}function oW(e){return\"timeUnit\"in e}function aW(e){return\"aggregate\"in e}function sW(e){return\"stack\"in e}function lW(e){return\"fold\"in e}function uW(e,t,n,i){const r=aB(t)&&t.condition,o=i(t);if(r){return{[n]:[...Object(se.i)(r).map(t=>{const n=i(t),r=function(e){return e.selection}(t)?_U(e,t.selection):xU(e,t.test);return Object.assign({test:r},n)}),...void 0!==o?[o]:[]]}}return void 0!==o?{[n]:o}:{}}function cW(e,t=\"text\"){const n=e.encoding[t];return uW(e,n,t,t=>dW(t,e.config))}function dW(e,t,n=\"datum\"){if(e){if(mB(e))return HB(e.value);if(pB(e)){const{format:i,formatType:r}=TB(e);return II({fieldOrDatumDef:e,format:i,formatType:r,expr:n,config:t})}}}function hW(e,t={}){const{encoding:n,markDef:i,config:r,stack:o}=e,a=n.tooltip;if(Object(se.B)(a))return{tooltip:pW({tooltip:a},o,r,t)};{const s=t.reactiveGeom?\"datum.datum\":\"datum\";return uW(e,a,\"tooltip\",e=>{const a=dW(e,r,s);if(a)return a;if(null===e)return;let l=XB(\"tooltip\",i,r);return!0===l&&(l={content:\"encoding\"}),Object(se.I)(l)?{value:l}:Object(se.G)(l)?bR(l)?l:\"encoding\"===l.content?pW(n,o,r,t):{signal:s}:void 0})}}function fW(e,t,n,{reactiveGeom:i}={}){const r={},o=i?\"datum.datum\":\"datum\",a=[];function s(i,s){const l=RP(s),u=gB(i)?i:Object.assign(Object.assign({},i),{type:e[l].type}),c=u.title||MB(u,n),d=Object(se.i)(c).join(\", \");let h;if(iN(s)){const i=\"x\"===s?\"x2\":\"y2\",a=AB(e[i]);if(DN(u.bin)&&a){const e=xB(u,{expr:o}),t=xB(a,{expr:o}),{format:s,formatType:l}=TB(u);h=qI(e,t,s,l,n),r[i]=!0}else if(t&&t.fieldChannel===s&&\"normalize\"===t.offset){const{format:e,formatType:t}=TB(u);h=II({fieldOrDatumDef:u,format:e,formatType:t,expr:o,config:n,normalizeStack:!0}).signal}}h=null!=h?h:dW(u,n,o).signal,a.push({channel:s,key:d,value:h})}lL(e,(e,t)=>{uB(e)?s(e,t):sB(e)&&s(e.condition,t)});const l={};for(const{channel:e,key:t,value:n}of a)r[e]||l[t]||(l[t]=n);return l}function pW(e,t,n,{reactiveGeom:i}={}){const r=fW(e,t,n,{reactiveGeom:i}),o=nF(r).map(([e,t])=>`\"${e}\": ${t}`);return o.length>0?{signal:`{${o.join(\", \")}}`}:void 0}function gW(e){const{markDef:t,config:n}=e,i=XB(\"aria\",t,n);return!1===i?{}:Object.assign(Object.assign(Object.assign({},i?{aria:i}:{}),function(e){const{mark:t,markDef:n,config:i}=e;if(!1===i.aria)return{};const r=XB(\"ariaRoleDescription\",n,i);if(null!=r)return{ariaRoleDescription:{value:r}};return t in kR?{}:{ariaRoleDescription:{value:t}}}(e)),function(e){const{encoding:t,markDef:n,config:i,stack:r}=e,o=t.description;if(o)return uW(e,o,\"description\",t=>dW(t,e.config));const a=XB(\"description\",n,i);if(null!=a)return{description:HB(a)};if(!1===i.aria)return{};const s=fW(t,r,i);if(KA(s))return;return{description:{signal:nF(s).map(([e,t],n)=>`\"${n>0?\"; \":\"\"}${e}: \" + (${t})`).join(\" + \")}}}(e))}function mW(e,t,n={}){const{markDef:i,encoding:r,config:o}=t,{vgChannel:a}=n;let{defaultRef:s,defaultValue:l}=n;void 0===s&&(l=null!=l?l:XB(e,i,o,{vgChannel:a,ignoreVgConfig:!0}),void 0!==l&&(s=HB(l)));const u=r[e];return uW(t,u,null!=a?a:e,n=>PI({channel:e,channelDef:n,markDef:i,config:o,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:s}))}function vW(e,t={filled:void 0}){var n,i,r,o;const{markDef:a,encoding:s,config:l}=e,{type:u}=a,c=null!==(n=t.filled)&&void 0!==n?n:XB(\"filled\",a,l),d=HA([\"bar\",\"point\",\"circle\",\"square\",\"geoshape\"],u)?\"transparent\":void 0,h=null!==(r=null!==(i=XB(!0===c?\"color\":void 0,a,l,{vgChannel:\"fill\"}))&&void 0!==i?i:l.mark[!0===c&&\"color\"])&&void 0!==r?r:d,f=null!==(o=XB(!1===c?\"color\":void 0,a,l,{vgChannel:\"stroke\"}))&&void 0!==o?o:l.mark[!1===c&&\"color\"],p=c?\"fill\":\"stroke\",g=Object.assign(Object.assign({},h?{fill:HB(h)}:{}),f?{stroke:HB(f)}:{});return a.color&&(c?a.fill:a.stroke)&&nR(v.droppingColor(\"property\",{fill:\"fill\"in a,stroke:\"stroke\"in a})),Object.assign(Object.assign(Object.assign(Object.assign({},g),mW(\"color\",e,{vgChannel:p,defaultValue:c?h:f})),mW(\"fill\",e,{defaultValue:s.fill?h:void 0})),mW(\"stroke\",e,{defaultValue:s.stroke?f:void 0}))}function yW(e,t){const n=t[function(e){switch(e){case\"x\":return\"xOffset\";case\"y\":return\"yOffset\";case\"x2\":return\"x2Offset\";case\"y2\":return\"y2Offset\";case uP:return\"thetaOffset\";case lP:return\"radiusOffset\";case cP:return\"theta2Offset\";case\"radius2\":return\"radius2Offset\"}}(e)];if(n)return n}function bW(e,t,{defaultPos:n,vgChannel:i,isMidPoint:r}){const{encoding:o,markDef:a,config:s,stack:l}=t,u=o[e],c=o[BP(e)],d=t.scaleName(e),h=t.getScaleComponent(e),f=yW(e,a),p=_W({model:t,defaultPos:n,channel:e,scaleName:d,scale:h}),g=!u&&iN(e)&&(o.latitude||o.longitude)?{field:t.getName(e)}:function(e){const{channel:t,channelDef:n,isMidPoint:i,scaleName:r,stack:o,offset:a,markDef:s,config:l}=e;if(pB(n)&&o&&t===o.fieldChannel){if(uB(n)){const e=rB({channel:t,fieldDef:n,isMidPoint:i,markDef:s,stack:o,config:l});if(void 0!==e)return FI({scaleName:r,fieldOrDatumDef:n,startSuffix:\"start\",band:e,offset:a})}return AI(n,r,{suffix:\"end\"},{offset:a})}return jI(e)}({channel:e,channelDef:u,channel2Def:c,markDef:a,config:s,isMidPoint:r,scaleName:d,scale:h,stack:l,offset:f,defaultRef:p});return g?{[i||e]:g}:void 0}function _W({model:e,defaultPos:t,channel:n,scaleName:i,scale:r}){const{markDef:o,config:a}=e;return()=>{const s=RP(n),l=IP(n),u=XB(n,o,a,{vgChannel:l});if(void 0!==u)return NI(n,u);switch(t){case\"zeroOrMin\":case\"zeroOrMax\":if(i){const e=r.get(\"type\");if(HA([YR,GR,XR],e));else if(r.domainDefinitelyIncludesZero())return{scale:i,value:0}}if(\"zeroOrMin\"===t)return\"y\"===s?{field:{group:\"height\"}}:{value:0};switch(s){case\"radius\":return{signal:`min(${e.width.signal},${e.height.signal})/2`};case\"theta\":return{signal:\"2*PI\"};case\"x\":return{field:{group:\"width\"}};case\"y\":return{value:0}}break;case\"mid\":{const t=e[LP(n)];return Object.assign(Object.assign({},t),{mult:.5})}}}}!function(e){e[e.Raw=0]=\"Raw\",e[e.Main=1]=\"Main\",e[e.Row=2]=\"Row\",e[e.Column=3]=\"Column\",e[e.Lookup=4]=\"Lookup\"}(Y$||(Y$={}));const wW={left:\"x\",center:\"xc\",right:\"x2\"},xW={top:\"y\",middle:\"yc\",bottom:\"y2\"};function kW(e,t,n,i=\"middle\"){if(\"radius\"===e||\"theta\"===e)return IP(e);const r=XB(\"x\"===e?\"align\":\"baseline\",t,n);return\"x\"===e?wW[r||(\"top\"===i?\"left\":\"center\")]:xW[r||i]}function OW(e,t,{defaultPos:n,defaultPos2:i,range:r}){return r?EW(e,t,{defaultPos:n,defaultPos2:i}):bW(e,t,{defaultPos:n})}function EW(e,t,{defaultPos:n,defaultPos2:i}){const{markDef:r,config:o}=t,a=BP(e),s=LP(e),l=function(e,t,n){const{encoding:i,mark:r,markDef:o,stack:a,config:s}=e,l=RP(n),u=LP(n),c=IP(n),d=i[l],h=e.scaleName(l),f=e.getScaleComponent(l),p=yW(n in i||n in o?n:l,e.markDef);if(!d&&(\"x2\"===n||\"y2\"===n)&&(i.latitude||i.longitude))return{[c]:{field:e.getName(n)}};const g=function({channel:e,channelDef:t,channel2Def:n,markDef:i,config:r,scaleName:o,scale:a,stack:s,offset:l,defaultRef:u}){if(pB(t)&&s&&e.charAt(0)===s.fieldChannel.charAt(0))return AI(t,o,{suffix:\"start\"},{offset:l});return jI({channel:e,channelDef:n,scaleName:o,scale:a,stack:s,markDef:i,config:r,offset:l,defaultRef:u})}({channel:n,channelDef:d,channel2Def:i[n],markDef:o,config:s,scaleName:h,scale:f,stack:a,offset:p,defaultRef:void 0});if(void 0!==g)return{[c]:g};return SW(n,o)||SW(n,{[n]:QB(n,o,s.style),[u]:QB(u,o,s.style)})||SW(n,s[r])||SW(n,s.mark)||{[c]:_W({model:e,defaultPos:t,channel:n,scaleName:h,scale:f})()}}(t,i,a),u=l[s]?kW(e,r,o):IP(e);return Object.assign(Object.assign({},bW(e,t,{defaultPos:n,vgChannel:u})),l)}function SW(e,t){const n=LP(e),i=IP(e);return void 0!==t[i]?{[i]:NI(e,t[i])}:void 0!==t[e]?{[i]:NI(e,t[e])}:t[n]?{[n]:NI(e,t[n])}:void 0}function DW(e,t,n){var i,r,o,a;const{config:s,encoding:l,markDef:u,stack:c}=e,d=BP(t),h=LP(t),f=l[t],p=l[d],g=e.getScaleComponent(t),m=g?g.get(\"type\"):void 0,y=e.scaleName(t),b=u.orient,_=null!==(r=null!==(i=l[h])&&void 0!==i?i:l.size)&&void 0!==r?r:XB(\"size\",u,s,{vgChannel:h}),w=\"bar\"===n&&(\"x\"===t?\"vertical\"===b:\"horizontal\"===b);if(uB(f)&&(SN(f.bin)||DN(f.bin)||f.timeUnit&&!p)&&!_&&!hI(m)){const n=rB({channel:t,fieldDef:f,stack:c,markDef:u,config:s}),i=null===(o=e.component.axes[t])||void 0===o?void 0:o[0];return function({fieldDef:e,fieldDef2:t,channel:n,band:i,scaleName:r,markDef:o,spacing:a=0,axisTranslate:s,reverse:l,config:u}){const c=BP(n),d=IP(n),h=IP(c),f=yW(n,o);if(SN(e.bin)||e.timeUnit)return{[h]:MW({channel:n,fieldDef:e,scaleName:r,markDef:o,band:(1-i)/2,offset:CW(c,a,l,s,f),config:u}),[d]:MW({channel:n,fieldDef:e,scaleName:r,markDef:o,band:1-(1-i)/2,offset:CW(n,a,l,s,f),config:u})};if(DN(e.bin)){const i=AI(e,r,{},{offset:CW(c,a,l,s,f)});if(uB(t))return{[h]:i,[d]:AI(t,r,{},{offset:CW(n,a,l,s,f)})};if(jN(e.bin)&&e.bin.step)return{[h]:i,[d]:{signal:`scale(\"${r}\", ${xB(e,{expr:\"datum\"})} + ${e.bin.step})`,offset:CW(n,a,l,s,f)}}}return void nR(v.channelRequiredForBinned(c))}({fieldDef:f,fieldDef2:p,channel:t,markDef:u,scaleName:y,band:n,axisTranslate:null!==(a=null==i?void 0:i.get(\"translate\"))&&void 0!==a?a:.5,spacing:iN(t)?XB(\"binSpacing\",u,s):void 0,reverse:g.get(\"reverse\"),config:s})}return(pB(f)&&hI(m)||w)&&!p?function(e,t,n,i){var r;const{markDef:o,encoding:a,config:s,stack:l}=i,u=o.orient,c=i.scaleName(n),d=i.getScaleComponent(n),h=LP(n),f=BP(n),p=\"horizontal\"===u&&\"y\"===n||\"vertical\"===u&&\"x\"===n,g=XB(p?\"size\":h,o,s,{vgChannel:h});let m;(a.size||void 0!==g)&&(p?m=mW(\"size\",i,{vgChannel:h,defaultValue:g}):nR(v.cannotApplySizeToNonOrientedMark(o.type)));const y=null!==(r=pB(t)?rB({channel:n,fieldDef:t,markDef:o,stack:l,config:s}):void 0)&&void 0!==r?r:1;m=m||{[h]:jW(e,h,c,d,s,y)};const b=\"band\"!==(null==d?void 0:d.get(\"type\"))||!(\"band\"in m[h]),_=kW(n,o,s,b?\"middle\":\"top\"),w=yW(n,o),x=jI({channel:n,channelDef:t,markDef:o,config:s,scaleName:c,scale:d,stack:l,offset:w,defaultRef:_W({model:i,defaultPos:\"mid\",channel:n,scaleName:c,scale:d}),band:b?.5:(1-y)/2});if(h)return Object.assign({[_]:x},m);{const e=IP(f),t=m[h],n=w?Object.assign(Object.assign({},t),{offset:w}):t;return{[_]:x,[e]:Object(se.B)(x)?[x[0],Object.assign(Object.assign({},x[1]),{offset:n})]:Object.assign(Object.assign({},x),{offset:n})}}}(n,f,t,e):EW(t,e,{defaultPos:\"zeroOrMax\",defaultPos2:\"zeroOrMin\"})}function jW(e,t,n,i,r,o){if(i){const t=i.get(\"type\");if(\"point\"===t||\"band\"===t){if(void 0!==r[e].discreteBandSize)return{value:r[e].discreteBandSize};if(t===KR){const e=i.get(\"range\");return _R(e)&&Object(se.F)(e.step)?{value:e.step-2}:{value:qL-2}}return{scale:n,band:o}}return{value:r[e].continuousBandSize}}const a=YL(r.view,t),s=pF(r[e].discreteBandSize,a-2);return void 0!==s?{value:s}:void 0}function CW(e,t,n,i,r){if(vP(e))return 0;const o=\"x\"===e||\"y2\"===e?-t/2:t/2;if(bR(n)||bR(r)||bR(i)){const e=VB(n),t=VB(r),a=VB(i);return{signal:(a?a+\" + \":\"\")+(e?`(${e} ? -1 : 1) * `:\"\")+(t?`(${t} + ${o})`:o)}}return r=r||0,i+(n?-r-o:+r+o)}function MW({channel:e,fieldDef:t,scaleName:n,markDef:i,band:r,offset:o,config:a}){return CI({fieldDef:t,channel:e,markDef:i,ref:FI({scaleName:n,fieldOrDatumDef:t,band:r,offset:o}),config:a})}const TW=new Set([\"aria\"]);function AW(e,t){const{fill:n,stroke:i}=\"include\"===t.color?vW(e):{};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},function(e,t){return xR.reduce((n,i)=>(TW.has(i)||void 0===e[i]||\"ignore\"===t[i]||(n[i]=HB(e[i])),n),{})}(e.markDef,t)),FW(e,\"fill\",n)),FW(e,\"stroke\",i)),mW(\"opacity\",e)),mW(\"fillOpacity\",e)),mW(\"strokeOpacity\",e)),mW(\"strokeWidth\",e)),mW(\"strokeDash\",e)),function(e){const{encoding:t,mark:n}=e,i=t.order;return!LF(n)&&mB(i)?uW(e,i,\"zindex\",e=>e):{}}(e)),hW(e)),cW(e,\"href\")),gW(e))}function FW(e,t,n){const{config:i,mark:r,markDef:o}=e;if(\"hide\"===XB(\"invalid\",o,i)&&n&&!LF(r)){const i=function(e,{invalid:t=!1,channels:n}){const i=n.reduce((t,n)=>{const i=e.getScaleComponent(n);if(i){const r=i.get(\"type\"),o=e.vgField(n,{expr:\"datum\"});o&&fI(r)&&(t[o]=!0)}return t},{}),r=eF(i);if(r.length>0){const e=t?\"||\":\"&&\";return r.map(e=>TI(e,t)).join(` ${e} `)}return}(e,{invalid:!0,channels:yN});if(i)return{[t]:[{test:i,value:null},...Object(se.i)(n)]}}return n?{[t]:n}:{}}function PW(e){const{config:t,markDef:n}=e;if(XB(\"invalid\",n,t)){const t=function(e,{invalid:t=!1,channels:n}){const i=n.reduce((t,n)=>{const i=e.getScaleComponent(n);if(i){const r=i.get(\"type\"),o=e.vgField(n,{expr:\"datum\"});o&&fI(r)&&(t[o]=!0)}return t},{}),r=eF(i);if(r.length>0){const e=t?\"||\":\"&&\";return r.map(e=>TI(e,t)).join(` ${e} `)}return}(e,{channels:nN});if(t)return{defined:{signal:t}}}return{}}function NW(e,t){if(void 0!==t)return{[e]:HB(t)}}var zW={has:e=>\"interval\"!==e.type&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(\"voronoi\")},marks:(e,t,n)=>{const{x:i,y:r}=t.project.hasChannel,o=e.mark;if(LF(o))return nR(v.nearestNotSupportForContinuous(o)),n;const a={name:e.getName(\"voronoi\"),type:\"path\",interactive:!0,from:{data:e.getName(\"marks\")},encode:{update:Object.assign({fill:{value:\"transparent\"},strokeWidth:{value:.35},stroke:{value:\"transparent\"},isVoronoi:{value:!0}},hW(e,{reactiveGeom:!0}))},transform:[{type:\"voronoi\",x:{expr:i||!r?\"datum.datum.x || 0\":\"0\"},y:{expr:r||!i?\"datum.datum.y || 0\":\"0\"},size:[e.getSizeSignalRef(\"width\"),e.getSizeSignalRef(\"height\")]}]};let s=0,l=!1;return n.forEach((t,n)=>{var i;const r=null!==(i=t.name)&&void 0!==i?i:\"\";r===e.component.mark[0].name?s=n:r.indexOf(\"voronoi\")>=0&&(l=!0)}),l||n.splice(s+1,0,a),n}};class RW{constructor(e,t){this.debugName=t,this._children=[],this._parent=null,e&&(this.parent=e)}clone(){throw new Error(\"Cannot clone node\")}get parent(){return this._parent}set parent(e){this._parent=e,e&&e.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(e,t){this._children.indexOf(e)>-1?nR(v.ADD_SAME_CHILD_TWICE):void 0!==t?this._children.splice(t,0,e):this._children.push(e)}removeChild(e){const t=this._children.indexOf(e);return this._children.splice(t,1),t}remove(){let e=this._parent.removeChild(this);for(const t of this._children)t._parent=this._parent,this._parent.addChild(t,e++)}insertAsParentOf(e){const t=e.parent;t.removeChild(this),this.parent=t,e.parent=this}swapWithParent(){const e=this._parent,t=e.parent;for(const t of this._children)t.parent=e;this._children=[],e.removeChild(this),e.parent.removeChild(e),this.parent=t,e.parent=this}}class IW extends RW{constructor(e,t,n,i){super(e,t),this.type=n,this.refCounts=i,this._source=this._name=t,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}clone(){const e=new this.constructor;return e.debugName=\"clone_\"+this.debugName,e._source=this._source,e._name=\"clone_\"+this._name,e.type=this.type,e.refCounts=this.refCounts,e.refCounts[e._name]=0,e}dependentFields(){return new Set}producedFields(){return new Set}hash(){return void 0===this._hash&&(this._hash=\"Output \"+function(e){const t=++gF;return e?String(e)+t:t}()),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(e){this._source=e}}class BW extends RW{constructor(e,t){super(e),this.formula=t}clone(){return new BW(null,BA(this.formula))}static makeFromEncoding(e,t){const n=t.reduceFieldDef((e,n,i)=>{const{field:r,timeUnit:o}=n,a=HH(t)?t.encoding[BP(i)]:void 0,s=HH(t)&&oB(i,n,a,t.stack,t.markDef,t.config);if(o){const t=xB(n,{forAs:!0});e[UA({as:t,field:r,timeUnit:o})]=Object.assign({as:t,field:r,timeUnit:o},s?{band:!0}:{})}return e},{});return KA(n)?null:new BW(e,n)}static makeFromTransform(e,t){const n=Object.assign({},t),{timeUnit:i}=n,r=EA(n,[\"timeUnit\"]),o=yR(i),a=Object.assign(Object.assign({},r),{timeUnit:o});return new BW(e,{[UA(a)]:a})}merge(e){this.formula=Object.assign({},this.formula);for(const t in e.formula)this.formula[t]&&!e.formula[t].band||(this.formula[t]=e.formula[t]);for(const t of e.children)e.removeChild(t),t.parent=this;e.remove()}removeFormulas(e){const t={};for(const[n,i]of nF(this.formula))e.has(i.as)||(t[n]=i);this.formula=t}producedFields(){return new Set(tF(this.formula).map(e=>e.as))}dependentFields(){return new Set(tF(this.formula).map(e=>e.field))}hash(){return\"TimeUnit \"+UA(this.formula)}assemble(){const e=[];for(const t of tF(this.formula)){const{field:n,as:i,timeUnit:r}=t,o=yR(r),{unit:a,utc:s}=o,l=EA(o,[\"unit\",\"utc\"]);e.push(Object.assign(Object.assign(Object.assign(Object.assign({field:cF(n),type:\"timeunit\"},a?{units:pR(a)}:{}),s?{timezone:\"utc\"}:{}),l),{as:[i,i+\"_end\"]}))}return e}}class LW{constructor(...e){this.items=e,this.hasChannel={},this.hasField={}}}var $W={has:e=>\"single\"===e.type&&\"global\"===e.resolve&&e.bind&&\"scales\"!==e.bind&&!NL(e.bind),parse:(e,t,n,i)=>{i.on||delete t.events,i.clear||delete t.clear},topLevelSignals:(e,t,n)=>{const i=t.name,r=t.project,o=t.bind,a=t.init&&t.init[0],s=zW.has(t)?\"(item().isVoronoi ? datum.datum : datum)\":\"datum\";return r.items.forEach((e,r)=>{var l,u;const c=rF(`${i}_${e.field}`);n.filter(e=>e.name===c).length||n.unshift(Object.assign(Object.assign({name:c},a?{init:tU(a[r])}:{value:null}),{on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${s}[${Object(se.ab)(e.field)}] : null`}]:[],bind:null!==(u=null!==(l=o[e.field])&&void 0!==l?l:o[e.channel])&&void 0!==u?u:o}))}),n},signals:(e,t,n)=>{const i=t.name,r=t.project,o=n.filter(e=>e.name===i+dU)[0],a=i+\"_tuple_fields\",s=r.items.map(e=>rF(`${i}_${e.field}`)),l=s.map(e=>e+\" !== null\").join(\" && \");return s.length&&(o.update=`${l} ? {fields: ${a}, values: [${s.join(\", \")}]} : null`),delete o.value,delete o.on,n}};var WW={has:e=>\"multi\"===e.type&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+\"_toggle\",value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+dU,i=t.name+\"_toggle\";return`${i} ? null : ${n}, `+(\"global\"===t.resolve?i+\" ? null : true, \":`${i} ? null : {unit: ${mU(e)}}, `)+`${i} ? ${n} : null`}};const UW={has:e=>void 0!==e.clear&&!1!==e.clear,parse:(e,t,n)=>{n.clear&&(t.clear=Object(se.I)(n.clear)?qC(n.clear,\"scope\"):n.clear)},topLevelSignals:(e,t,n)=>{if($W.has(t))for(const e of t.project.items){const i=n.findIndex(n=>n.name===rF(`${t.name}_${e.field}`));-1!==i&&n[i].on.push({events:t.clear,update:\"null\"})}return n},signals:(e,t,n)=>{function i(e,i){-1!==e&&n[e].on&&n[e].on.push({events:t.clear,update:i})}if(\"interval\"===t.type)for(const e of t.project.items){const t=n.findIndex(t=>t.name===e.signals.visual);if(i(t,\"[0, 0]\"),-1===t){i(n.findIndex(t=>t.name===e.signals.data),\"null\")}}else{let e=n.findIndex(e=>e.name===t.name+dU);i(e,\"null\"),WW.has(t)&&(e=n.findIndex(e=>e.name===t.name+\"_toggle\"),i(e,\"false\"))}return n}};var YW={has:e=>\"interval\"===e.type&&\"global\"===e.resolve&&e.bind&&\"scales\"===e.bind,parse:(e,t)=>{const n=t.scales=[];for(const i of t.project.items){const r=i.channel;if(!bN(r))continue;const o=e.getScaleComponent(r),a=o?o.get(\"type\"):void 0;if(!o||!fI(a)){nR(v.SCALE_BINDINGS_CONTINUOUS);continue}const s={selection:t.name,field:i.field};o.set(\"selectionExtent\",s,!0),n.push(i)}},topLevelSignals:(e,t,n)=>{const i=t.scales.filter(e=>0===n.filter(t=>t.name===e.signals.data).length);if(!e.parent||qW(e)||0===i.length)return n;const r=n.filter(e=>e.name===t.name)[0];let o=r.update;if(o.indexOf(fU)>=0)r.update=`{${i.map(e=>`${Object(se.ab)(e.field)}: ${e.signals.data}`).join(\", \")}}`;else{for(const e of i){const t=`${Object(se.ab)(e.field)}: ${e.signals.data}`;o.indexOf(t)<0&&(o=`${o.substring(0,o.length-1)}, ${t}}`)}r.update=o}return n.concat(i.map(e=>({name:e.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!qW(e))for(const e of t.scales){const t=n.filter(t=>t.name===e.signals.data)[0];t.push=\"outer\",delete t.value,delete t.update}return n}};function HW(e,t){return`domain(${Object(se.ab)(e.scaleName(t))})`}function qW(e){var t;return e.parent&&GH(e.parent)&&(null!==(t=!e.parent.parent)&&void 0!==t?t:qW(e.parent.parent))}const VW={has:e=>{const t=\"global\"===e.resolve&&e.bind&&NL(e.bind),n=1===e.project.items.length&&\"_vgsid_\"!==e.project.items[0].field;return t&&!n&&nR(v.LEGEND_BINDINGS_MUST_HAVE_PROJECTION),t&&n},parse:(e,t,n,i)=>{var r;if(i.on||delete t.events,i.clear||delete t.clear,i.on||i.clear){const e='event.item && indexof(event.item.mark.role, \"legend\") < 0';for(const n of t.events)n.filter=Object(se.i)(null!==(r=n.filter)&&void 0!==r?r:[]),n.filter.indexOf(e)<0&&n.filter.push(e)}const o=zL(t.bind)?t.bind.legend:\"click\",a=Object(se.I)(o)?qC(o,\"view\"):Object(se.i)(o);t.bind={legend:{merge:a}}},topLevelSignals:(e,t,n)=>{const i=t.name,r=zL(t.bind)&&t.bind.legend,o=e=>t=>{const n=BA(t);return n.markname=e,n};for(const e of t.project.items){if(!e.hasLegend)continue;const a=rF(e.field)+\"_legend\",s=`${i}_${a}`;if(0===n.filter(e=>e.name===s).length){const e=r.merge.map(o(a+\"_symbols\")).concat(r.merge.map(o(a+\"_labels\"))).concat(r.merge.map(o(a+\"_entries\")));n.unshift(Object.assign(Object.assign({name:s},t.init?{}:{value:null}),{on:[{events:e,update:\"datum.value || item().items[0].items[0].datum.value\",force:!0},{events:r.merge,update:\"!event.item || !datum ? null : \"+s,force:!0}]}))}}return n},signals:(e,t,n)=>{const i=t.name,r=t.project,o=n.find(e=>e.name===i+dU),a=i+\"_tuple_fields\",s=r.items.filter(e=>e.hasLegend).map(e=>rF(`${i}_${rF(e.field)}_legend`)),l=`${s.map(e=>e+\" !== null\").join(\" && \")} ? {fields: ${a}, values: [${s.join(\", \")}]} : null`;t.events&&s.length>0?o.on.push({events:s.map(e=>({signal:e})),update:l}):s.length>0&&(o.update=l,delete o.value,delete o.on);const u=n.find(e=>e.name===i+\"_toggle\"),c=zL(t.bind)&&t.bind.legend;return u&&(t.events?u.on.push(Object.assign(Object.assign({},u.on[0]),{events:c})):u.on[0].events=c),n}};const GW=\"_translate_delta\",XW={has:e=>\"interval\"===e.type&&e.translate,signals:(e,t,n)=>{const i=t.name,r=YW.has(t),o=i+\"_translate_anchor\",{x:a,y:s}=t.project.hasChannel;let l=qC(t.translate,\"scope\");return r||(l=l.map(e=>(e.between[0].markname=i+rU,e))),n.push({name:o,value:{},on:[{events:l.map(e=>e.between[0]),update:\"{x: x(unit), y: y(unit)\"+(void 0!==a?\", extent_x: \"+(r?HW(e,\"x\"):`slice(${a.signals.visual})`):\"\")+(void 0!==s?\", extent_y: \"+(r?HW(e,\"y\"):`slice(${s.signals.visual})`):\"\")+\"}\"}]},{name:i+GW,value:{},on:[{events:l,update:`{x: ${o}.x - x(unit), y: ${o}.y - y(unit)}`}]}),void 0!==a&&ZW(e,t,a,\"width\",n),void 0!==s&&ZW(e,t,s,\"height\",n),n}};function ZW(e,t,n,i,r){var o;const a=t.name,s=a+\"_translate_anchor\",l=a+GW,u=n.channel,c=YW.has(t),d=r.filter(e=>e.name===n.signals[c?\"data\":\"visual\"])[0],h=e.getSizeSignalRef(i).signal,f=e.getScaleComponent(u),p=f.get(\"type\"),g=`${s}.extent_${u}`,m=`${c?\"log\"===p?\"panLog\":\"pow\"===p?\"panPow\":\"panLinear\":\"panLinear\"}(${g}, ${`${c&&\"x\"===u?\"-\":\"\"}${l}.${u} / `+(c?\"\"+h:`span(${g})`)}`+(c&&\"pow\"===p?\", \"+(null!==(o=f.get(\"exponent\"))&&void 0!==o?o:1):\"\")+\")\";d.on.push({events:{signal:l},update:c?m:`clampRange(${m}, 0, ${h})`})}const QW={has:e=>\"interval\"===e.type&&e.zoom,signals:(e,t,n)=>{const i=t.name,r=YW.has(t),o=i+\"_zoom_delta\",{x:a,y:s}=t.project.hasChannel,l=Object(se.ab)(e.scaleName(\"x\")),u=Object(se.ab)(e.scaleName(\"y\"));let c=qC(t.zoom,\"scope\");return r||(c=c.map(e=>(e.markname=i+rU,e))),n.push({name:i+\"_zoom_anchor\",on:[{events:c,update:r?\"{\"+[l?`x: invert(${l}, x(unit))`:\"\",u?`y: invert(${u}, y(unit))`:\"\"].filter(e=>!!e).join(\", \")+\"}\":\"{x: x(unit), y: y(unit)}\"}]},{name:o,on:[{events:c,force:!0,update:\"pow(1.001, event.deltaY * pow(16, event.deltaMode))\"}]}),void 0!==a&&JW(e,t,a,\"width\",n),void 0!==s&&JW(e,t,s,\"height\",n),n}};function JW(e,t,n,i,r){var o;const a=t.name,s=n.channel,l=YW.has(t),u=r.filter(e=>e.name===n.signals[l?\"data\":\"visual\"])[0],c=e.getSizeSignalRef(i).signal,d=e.getScaleComponent(s),h=d.get(\"type\"),f=l?HW(e,s):u.name,p=a+\"_zoom_delta\",g=`${l?\"log\"===h?\"zoomLog\":\"pow\"===h?\"zoomPow\":\"zoomLinear\":\"zoomLinear\"}(${f}, ${`${a}_zoom_anchor.${s}`}, ${p}`+(l&&\"pow\"===h?\", \"+(null!==(o=d.get(\"exponent\"))&&void 0!==o?o:1):\"\")+\")\";u.on.push({events:{signal:p},update:l?g:`clampRange(${g}, 0, ${c})`})}const KW=[{has:()=>!0,parse:(e,t,n)=>{var i,r,o;const a=t.name,s=null!==(i=t.project)&&void 0!==i?i:t.project=new LW,l={},u={},c=new Set,d=(e,t)=>{const n=\"visual\"===t?e.channel:e.field;let i=rF(`${a}_${n}`);for(let e=1;c.has(i);e++)i=rF(`${a}_${n}_${e}`);return c.add(i),{[t]:i}};if(!n.fields&&!n.encodings){const t=e.config.selection[n.type];if(n.init)for(const e of Object(se.i)(n.init))for(const i of eF(e))FP[i]?(n.encodings||(n.encodings=[])).push(i):\"interval\"===n.type?(nR(v.INTERVAL_INITIALIZED_WITH_X_Y),n.encodings=t.encodings):(n.fields||(n.fields=[])).push(i);else n.encodings=t.encodings,n.fields=t.fields}for(const e of null!==(r=n.fields)&&void 0!==r?r:[]){const t={type:\"E\",field:e};t.signals=Object.assign({},d(t,\"data\")),s.items.push(t),s.hasField[e]=t}for(const i of null!==(o=n.encodings)&&void 0!==o?o:[]){const n=e.fieldDef(i);if(n){let r=n.field;if(n.aggregate){nR(v.cannotProjectAggregate(i,n.aggregate));continue}if(!r){nR(v.cannotProjectOnChannelWithoutField(i));continue}if(n.timeUnit){r=e.vgField(i);const t={timeUnit:n.timeUnit,as:r,field:n.field};u[UA(t)]=t}if(!l[r]){let o=\"E\";if(\"interval\"===t.type){fI(e.getScaleComponent(i).get(\"type\"))&&(o=\"R\")}else n.bin&&(o=\"R-RE\");const a={field:r,channel:i,type:o};a.signals=Object.assign(Object.assign({},d(a,\"data\")),d(a,\"visual\")),s.items.push(l[r]=a),s.hasField[r]=s.hasChannel[i]=l[r]}}else nR(v.cannotProjectOnChannelWithoutField(i))}if(n.init){const e=e=>s.items.map(t=>void 0!==e[t.channel]?e[t.channel]:e[t.field]);if(\"interval\"===n.type)t.init=e(n.init);else{const i=Object(se.i)(n.init);t.init=i.map(e)}}KA(u)||(s.timeUnit=new BW(null,u))},signals:(e,t,n)=>{const i=t.name+\"_tuple_fields\";return n.filter(e=>e.name===i).length>0?n:n.concat({name:i,value:t.project.items.map(e=>{const{signals:t,hasLegend:n}=e,i=EA(e,[\"signals\",\"hasLegend\"]);return i.field=cF(i.field),i})})}},WW,YW,VW,XW,QW,$W,zW,UW];function eU(e,t){for(const n of KW)n.has(e)&&t(n)}function tU(e,t=!0,n=se.y){if(Object(se.B)(e)){const i=e.map(e=>tU(e,t,n));return t?`[${i.join(\", \")}]`:i}return iR(e)?n(t?uR(e):function(e){const t=lR(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}(e)):t?n(JSON.stringify(e)):e}function nU(e,t){return gU(e,(n,i)=>{t=i.marks?i.marks(e,n,t):t,eU(n,i=>{i.marks&&(t=i.marks(e,n,t))})}),t}function iU(e){return e.map(e=>(e.on&&!e.on.length&&delete e.on,e))}const rU=\"_brush\",oU={signals:(e,t)=>{const n=t.name,i=n+\"_tuple_fields\",r=YW.has(t),o=[],a=[],s=[];if(t.translate&&!r){const e=\"!event.item || event.item.mark.name !== \"+Object(se.ab)(n+rU);aU(t,(t,n)=>{var i;const r=Object(se.i)(null!==(i=n.between[0].filter)&&void 0!==i?i:n.between[0].filter=[]);return r.indexOf(e)<0&&r.push(e),t})}t.project.items.forEach((n,i)=>{const r=n.channel;if(\"x\"!==r&&\"y\"!==r)return void nR(\"Interval selections only support x and y encoding channels.\");const l=t.init?t.init[i]:null,u=function(e,t,n,i){const r=n.channel,o=n.signals.visual,a=n.signals.data,s=YW.has(t),l=Object(se.ab)(e.scaleName(r)),u=e.getScaleComponent(r),c=u?u.get(\"type\"):void 0,d=e=>`scale(${l}, ${e})`,h=e.getSizeSignalRef(\"x\"===r?\"width\":\"height\").signal,f=r+\"(unit)\",p=aU(t,(e,t)=>[...e,{events:t.between[0],update:`[${f}, ${f}]`},{events:t,update:`[${o}[0], clamp(${f}, 0, ${h})]`}]);return p.push({events:{signal:t.name+\"_scale_trigger\"},update:fI(c)?`[${d(a+\"[0]\")}, ${d(a+\"[1]\")}]`:\"[0, 0]\"}),s?[{name:a,on:[]}]:[Object.assign(Object.assign({name:o},i?{init:tU(i,!0,d)}:{value:[]}),{on:p}),Object.assign(Object.assign({name:a},i?{init:tU(i)}:{}),{on:[{events:{signal:o},update:`${o}[0] === ${o}[1] ? null : invert(${l}, ${o})`}]})]}(e,t,n,l),c=n.signals.data,d=n.signals.visual,h=Object(se.ab)(e.scaleName(r)),f=fI(e.getScaleComponent(r).get(\"type\"))?\"+\":\"\";o.push(...u),a.push(c),s.push({scaleName:e.scaleName(r),expr:`(!isArray(${c}) || (${f}invert(${h}, ${d})[0] === ${f}${c}[0] && ${f}invert(${h}, ${d})[1] === ${f}${c}[1]))`})}),r||o.push({name:n+\"_scale_trigger\",value:{},on:[{events:s.map(e=>({scale:e.scaleName})),update:s.map(e=>e.expr).join(\" && \")+` ? ${n+\"_scale_trigger\"} : {}`}]});const l=t.init,u=`unit: ${mU(e)}, fields: ${i}, values`;return o.concat(Object.assign(Object.assign({name:n+dU},l?{init:`{${u}: ${tU(l)}}`}:{}),{on:[{events:[{signal:a.join(\" || \")}],update:a.join(\" && \")+` ? {${u}: [${a}]} : null`}]}))},modifyExpr:(e,t)=>t.name+dU+\", \"+(\"global\"===t.resolve?\"true\":`{unit: ${mU(e)}}`),marks:(e,t,n)=>{const i=t.name,{x:r,y:o}=t.project.hasChannel,a=r&&r.signals.visual,s=o&&o.signals.visual,l=`data(${Object(se.ab)(t.name+cU)})`;if(YW.has(t))return n;const u={x:void 0!==r?{signal:a+\"[0]\"}:{value:0},y:void 0!==o?{signal:s+\"[0]\"}:{value:0},x2:void 0!==r?{signal:a+\"[1]\"}:{field:{group:\"width\"}},y2:void 0!==o?{signal:s+\"[1]\"}:{field:{group:\"height\"}}};if(\"global\"===t.resolve)for(const t of eF(u))u[t]=[Object.assign({test:`${l}.length && ${l}[0].unit === ${mU(e)}`},u[t]),{value:0}];const c=t.mark,{fill:d,fillOpacity:h,cursor:f}=c,p=EA(c,[\"fill\",\"fillOpacity\",\"cursor\"]),g=eF(p).reduce((e,t)=>(e[t]=[{test:[void 0!==r&&`${a}[0] !== ${a}[1]`,void 0!==o&&`${s}[0] !== ${s}[1]`].filter(e=>e).join(\" && \"),value:p[t]},{value:null}],e),{});return[{name:i+rU+\"_bg\",type:\"rect\",clip:!0,encode:{enter:{fill:{value:d},fillOpacity:{value:h}},update:u}},...n,{name:i+rU,type:\"rect\",clip:!0,encode:{enter:Object.assign(Object.assign({},f?{cursor:{value:f}}:{}),{fill:{value:\"transparent\"}}),update:Object.assign(Object.assign({},u),g)}}]}};function aU(e,t){return e.events.reduce((e,n)=>n.between?t(e,n):(nR(n+\" is not an ordered event stream for interval selections.\"),e),[])}function sU(e,t){const n=t.name,i=n+\"_tuple_fields\",r=t.project,o=\"(item().isVoronoi ? datum.datum : datum)\",a=r.items.map(t=>{const n=e.fieldDef(t.channel);return n&&n.bin?`[${o}[${Object(se.ab)(e.vgField(t.channel,{}))}], ${o}[${Object(se.ab)(e.vgField(t.channel,{binSuffix:\"end\"}))}]]`:`${o}[${Object(se.ab)(t.field)}]`}).join(\", \"),s=`unit: ${mU(e)}, fields: ${i}, values`,l=t.events;return[{name:n+dU,on:l?[{events:l,update:`datum && item().mark.marktype !== 'group' ? {${s}: [${a}]} : null`,force:!0}]:[]}]}const lU={signals:sU,modifyExpr:(e,t)=>t.name+dU+\", \"+(\"global\"===t.resolve?\"null\":`{unit: ${mU(e)}}`)};const uU={signals:sU,modifyExpr:(e,t)=>t.name+dU+\", \"+(\"global\"===t.resolve?\"true\":`{unit: ${mU(e)}}`)};const cU=\"_store\",dU=\"_tuple\",hU=\"_modify\",fU=\"vlSelectionResolve\",pU={single:uU,multi:lU,interval:oU};function gU(e,t){const n=e.component.selection;if(n)for(const e of tF(n)){if(!0===t(e,pU[e.type]))break}}function mU(e,{escape:t}={escape:!0}){let n=t?Object(se.ab)(e.name):e.name;const i=function(e){let t=e.parent;for(;t&&!qH(t);)t=t.parent;return t}(e);if(i){const{facet:e}=i;for(const t of kP)e[t]&&(n+=` + '__facet_${t}_' + (facet[${Object(se.ab)(i.vgField(t))}])`)}return n}function vU(e){let t=!1;return gU(e,e=>{t=t||e.project.items.some(e=>\"_vgsid_\"===e.field)}),t}function yU(e){const t=QS(e),n=new Set;return t.visit(e=>{\"MemberExpression\"===e.type&&function e(t){return\"MemberExpression\"===t.object.type?e(t.object):\"datum\"===t.object.name}(e)&&n.add(function e(t){const n=[];return\"Identifier\"===t.type?[t.name]:\"Literal\"===t.type?[t.value]:(\"MemberExpression\"===t.type&&(n.push(...e(t.object)),n.push(...e(t.property))),n)}(e).slice(1).join(\".\"))}),n}class bU extends RW{constructor(e,t,n){super(e),this.model=t,this.filter=n,this.expr=xU(this.model,this.filter,this),this._dependentFields=yU(this.expr)}clone(){return new bU(null,this.model,BA(this.filter))}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:\"filter\",expr:this.expr}}hash(){return\"Filter \"+this.expr}}function _U(e,t,n,i=\"datum\"){const r=[];const o=oF(t,(function(t){const o=rF(t),a=e.getSelectionComponent(o,t),s=Object(se.ab)(o+cU);if(a.project.timeUnit){const t=null!=n?n:e.component.data.raw,i=a.project.timeUnit.clone();t.parent?i.insertAsParentOf(t):t.parent=i}return\"none\"!==a.empty&&r.push(s),`vlSelectionTest(${s}, ${i}`+(\"global\"===a.resolve?\")\":`, ${Object(se.ab)(a.resolve)})`)}));return(r.length?\"!(\"+r.map(e=>`length(data(${e}))`).join(\" || \")+\") || \":\"\")+`(${o})`}function wU(e,t){const n=t.encoding;let i=t.field;if(n||i){if(n&&!i){const r=e.project.items.filter(e=>e.channel===n);!r.length||r.length>1?(i=e.project.items[0].field,nR((r.length?\"Multiple \":\"No \")+`matching ${Object(se.ab)(n)} encoding found for selection ${Object(se.ab)(t.selection)}. `+`Using \"field\": ${Object(se.ab)(i)}.`)):i=r[0].field}}else i=e.project.items[0].field,e.project.items.length>1&&nR(`A \"field\" or \"encoding\" must be specified when using a selection as a scale domain. Using \"field\": ${Object(se.ab)(i)}.`);return`${e.name}[${Object(se.ab)(i)}]`}function xU(e,t,n){return oF(t,t=>Object(se.I)(t)?t:function(e){return null==e?void 0:e.selection}(t)?_U(e,t.selection,n):PR(t))}function kU(e,t,n,i){var r,o,a;e.encode=null!==(r=e.encode)&&void 0!==r?r:{},e.encode[t]=null!==(o=e.encode[t])&&void 0!==o?o:{},e.encode[t].update=null!==(a=e.encode[t].update)&&void 0!==a?a:{},e.encode[t].update[n]=i}function OU(e,t,n,i={header:!1}){var r,o;const a=e.combine(),{disable:s,orient:l,scale:u,labelExpr:c,title:d,zindex:h}=a,f=EA(a,[\"disable\",\"orient\",\"scale\",\"labelExpr\",\"title\",\"zindex\"]);if(!s){for(const e in f){const n=wF[e],i=f[e];if(n&&n!==t&&\"both\"!==n)delete f[e];else if(bF(i)){const{condition:t}=i,n=EA(i,[\"condition\"]),r=Object(se.i)(t),o=yF[e];if(o){const{vgProp:t,part:i}=o;kU(f,i,t,[...r.map(e=>{const{test:t}=e,n=EA(e,[\"test\"]);return Object.assign({test:xU(null,t)},n)}),n]),delete f[e]}else if(null===o){const t={signal:r.map(e=>{const{test:t}=e,n=EA(e,[\"test\"]);return`${xU(null,t)} ? ${qB(n)} : `}).join(\"\")+qB(n)};f[e]=t}}else if(bR(i)){const t=yF[e];if(t){const{vgProp:n,part:r}=t;kU(f,r,n,i),delete f[e]}}}if(\"grid\"===t){if(!f.grid)return;if(f.encode){const{grid:e}=f.encode;f.encode=Object.assign({},e?{grid:e}:{}),KA(f.encode)&&delete f.encode}return Object.assign(Object.assign({scale:u,orient:l},f),{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:pF(h,0)})}{if(!i.header&&e.mainExtracted)return;if(void 0!==c){let e=c;(null===(o=null===(r=f.encode)||void 0===r?void 0:r.labels)||void 0===o?void 0:o.update)&&bR(f.encode.labels.update.text)&&(e=dF(c,\"datum.label\",f.encode.labels.update.text.signal)),kU(f,\"labels\",\"text\",{signal:e})}if(null===f.labelAlign&&delete f.labelAlign,f.encode){for(const t of _F)e.hasAxisPart(t)||delete f.encode[t];KA(f.encode)&&delete f.encode}const t=function(e,t){if(e)return Object(se.B)(e)&&!YB(e)?e.map(e=>MB(e,t)).join(\", \"):e}(d,n);return Object.assign(Object.assign(Object.assign(Object.assign({scale:u,orient:l,grid:!1},t?{title:t}:{}),f),!1===n.aria?{aria:!1}:{}),{zindex:pF(h,0)})}}}function EU(e){const{axes:t}=e.component,n=[];for(const i of nN)if(t[i])for(const r of t[i])if(!r.get(\"disable\")&&!r.get(\"gridScale\")){const t=\"x\"===i?\"height\":\"width\",r=e.getSizeSignalRef(t).signal;t!==r&&n.push({name:t,update:r})}return n}const SU={titleAlign:\"align\",titleAnchor:\"anchor\",titleAngle:\"angle\",titleBaseline:\"baseline\",titleColor:\"color\",titleFont:\"font\",titleFontSize:\"fontSize\",titleFontStyle:\"fontStyle\",titleFontWeight:\"fontWeight\",titleLimit:\"limit\",titleLineHeight:\"lineHeight\",titleOrient:\"orient\",titlePadding:\"offset\"},DU={labelAlign:\"align\",labelAnchor:\"anchor\",labelAngle:\"angle\",labelBaseline:\"baseline\",labelColor:\"color\",labelFont:\"font\",labelFontSize:\"fontSize\",labelFontStyle:\"fontStyle\",labelFontWeight:\"fontWeight\",labelLimit:\"limit\",labelLineHeight:\"lineHeight\",labelOrient:\"orient\",labelPadding:\"offset\"},jU=eF(SU),CU=eF(DU);function MU(e,t,n,i){return Object.assign.apply(null,[{},...e.map(e=>{if(\"axisOrient\"===e){const e=\"x\"===n?\"bottom\":\"left\",r=t[\"x\"===n?\"axisBottom\":\"axisLeft\"]||{},o=t[\"x\"===n?\"axisTop\":\"axisRight\"]||{},a=new Set([...eF(r),...eF(o)]),s={};for(const t of a.values())s[t]={signal:`${i.signal} === \"${e}\" ? ${VB(r[t])} : ${VB(o[t])}`};return s}return t[e]})])}function TU(e,t,n,i){const r=\"band\"===t?[\"axisDiscrete\",\"axisBand\"]:\"point\"===t?[\"axisDiscrete\",\"axisPoint\"]:t in sI?[\"axisQuantitative\"]:\"time\"===t||\"utc\"===t?[\"axisTemporal\"]:[];const o=\"x\"===e?\"axisX\":\"axisY\",a=bR(n)?\"axisOrient\":\"axis\"+sF(n),s=[...r,...r.map(e=>o+e.substr(4))],l=[\"axis\",a,o];return{vlOnlyAxisConfig:MU(s,i,e,n),vgAxisConfig:MU(l,i,e,n),axisConfigStyle:AU([...l,...s],i)}}function AU(e,t){var n;const i=[{}];for(const r of e){let e=null===(n=t[r])||void 0===n?void 0:n.style;if(e){e=Object(se.i)(e);for(const n of e)i.push(t.style[n])}}return Object.assign.apply(null,i)}function FU(e,t,n,i={}){var r;const o=JB(e,n,t);if(void 0!==o)return{configFrom:\"style\",configValue:o};for(const t of[\"vlOnlyAxisConfig\",\"vgAxisConfig\",\"axisConfigStyle\"])if(void 0!==(null===(r=i[t])||void 0===r?void 0:r[e]))return{configFrom:t,configValue:i[t][e]};return{}}const PU={scale:({model:e,channel:t})=>e.scaleName(t),format:({fieldOrDatumDef:e,config:t,axis:n})=>{const{format:i,formatType:r}=n;return $I(e,e.type,i,r,t,!0)},formatType:({axis:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:i}=e;return WI(i,t,n)},grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>{var i;return(!uB(e)||!DN(e.bin))&&(null!==(i=t.grid)&&void 0!==i?i:function(e,t){return!hI(e)&&uB(t)&&!SN(null==t?void 0:t.bin)}(n,e))},gridScale:({model:e,channel:t})=>function(e,t){const n=\"x\"===t?\"y\":\"x\";if(e.getScaleComponent(n))return e.scaleName(n);return}(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:i})=>e.labelAlign||RU(t,n,i),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:i})=>e.labelBaseline||zU(t,n,i),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>{var i;return null!==(i=e.labelFlush)&&void 0!==i?i:function(e,t){if(\"x\"===t&&HA([\"quantitative\",\"temporal\"],e))return!0;return}(t.type,n)},labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>{var i;return null!==(i=e.labelOverlap)&&void 0!==i?i:function(e,t,n,i){if(n&&!Object(se.G)(i)||\"nominal\"!==e&&\"ordinal\"!==e)return\"log\"!==t||\"greedy\";return}(t.type,n,uB(t)&&!!t.timeUnit,uB(t)?t.sort:void 0)},orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:i,scaleType:r})=>{var o;const a=\"x\"===e?\"width\":\"y\"===e?\"height\":void 0,s=a?t.getSizeSignalRef(a):void 0;return null!==(o=n.tickCount)&&void 0!==o?o:function({fieldOrDatumDef:e,scaleType:t,size:n,values:i}){var r;if(!i&&!hI(t)&&\"log\"!==t){if(uB(e)){if(SN(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&HA([\"month\",\"hours\",\"day\",\"quarter\"],null===(r=yR(e.timeUnit))||void 0===r?void 0:r.unit))return}return{signal:`ceil(${n.signal}/40)`}}return}({fieldOrDatumDef:i,scaleType:r,size:s,values:n.values})},title:({axis:e,model:t,channel:n})=>{if(void 0!==e.title)return e.title;const i=IU(t,n);if(void 0!==i)return i;const r=t.typedFieldDef(n),o=\"x\"===n?\"x2\":\"y2\",a=t.fieldDef(o);return eL(r?[nB(r)]:[],uB(a)?[nB(a)]:[])},values:({axis:e,fieldOrDatumDef:t})=>function(e,t){const n=e.values;if(Object(se.B)(n))return $B(t,n);if(bR(n))return n;return}(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>{var i;return null!==(i=e.zindex)&&void 0!==i?i:function(e,t){if(\"rect\"===e&&kB(t))return 1;return 0}(n,t)}};function NU(e){return`(((${e.signal} % 360) + 360) % 360)`}function zU(e,t,n,i){if(void 0!==e){if(\"x\"===n){if(bR(e)){const n=NU(e);return{signal:`(45 < ${n} && ${n} < 135) || (225 < ${n} && ${n} < 315) ? \"middle\" :(${n} <= 45 || 315 <= ${n}) === ${bR(t)?`(${t.signal} === \"top\")`:\"top\"===t} ? \"bottom\" : \"top\"`}}if(45<e&&e<135||225<e&&e<315)return\"middle\";if(bR(t)){const n=e<=45||315<=e?\"===\":\"!==\";return{signal:`${t.signal} ${n} \"top\" ? \"bottom\" : \"top\"`}}return(e<=45||315<=e)==(\"top\"===t)?\"bottom\":\"top\"}if(bR(e)){const n=NU(e);return{signal:`${n} <= 45 || 315 <= ${n} || (135 <= ${n} && ${n} <= 225) ? ${i?'\"middle\"':\"null\"} : (45 <= ${n} && ${n} <= 135) === ${bR(t)?`(${t.signal} === \"left\")`:\"left\"===t} ? \"top\" : \"bottom\"`}}if(e<=45||315<=e||135<=e&&e<=225)return i?\"middle\":null;if(bR(t)){const n=45<=e&&e<=135?\"===\":\"!==\";return{signal:`${t.signal} ${n} \"left\" ? \"top\" : \"bottom\"`}}return(45<=e&&e<=135)==(\"left\"===t)?\"top\":\"bottom\"}}function RU(e,t,n){if(void 0===e)return;const i=\"x\"===n,r=i?0:90,o=i?\"bottom\":\"left\";if(bR(e)){const n=NU(e);return{signal:`(${r?\"(\"+n+\" + 90)\":n} % 180 === 0) ? ${i?null:'\"center\"'} :(${r} < ${n} && ${n} < ${180+r}) === ${bR(t)?`(${t.signal} === \"${o}\")`:t===o} ? \"left\" : \"right\"`}}if((e+r)%180==0)return i?null:\"center\";if(bR(t)){const n=r<e&&e<180+r?\"===\":\"!==\";return{signal:`${t.signal} ${n} \"${o}\"`+' ? \"left\" : \"right\"'}}return(r<e&&e<180+r)==(t===o)?\"left\":\"right\"}function IU(e,t){const n=\"x\"===t?\"x2\":\"y2\",i=e.fieldDef(t),r=e.fieldDef(n),o=i?i.title:void 0,a=r?r.title:void 0;return o&&a?tL(o,a):o||(a||(void 0!==o?o:void 0!==a?a:void 0))}class BU extends RW{constructor(e,t){super(e),this.transform=t,this._dependentFields=yU(this.transform.calculate)}clone(){return new BU(null,BA(this.transform))}static parseAllForSortIndex(e,t){return t.forEachFieldDef((t,n)=>{if(vB(t)&&JI(t.sort)){const{field:i,timeUnit:r}=t,o=t.sort,a=o.map((e,t)=>`${PR({field:i,timeUnit:r,equal:e})} ? ${t} : `).join(\"\")+o.length;e=new BU(e,{calculate:a,as:LU(t,n,{forAs:!0})})}}),e}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:\"formula\",expr:this.transform.calculate,as:this.transform.as}}hash(){return\"Calculate \"+UA(this.transform)}}function LU(e,t,n){return xB(e,Object.assign({prefix:t,suffix:\"sort_index\"},null!=n?n:{}))}function $U(e,t){return HA([\"top\",\"bottom\"],t)?\"column\":HA([\"left\",\"right\"],t)||\"row\"===e?\"row\":\"column\"}function WU(e,t,n,i){const r=\"row\"===i?n.headerRow:\"column\"===i?n.headerColumn:n.headerFacet;return pF(((null==t?void 0:t.header)||{})[e],r[e],n.header[e])}function UU(e,t,n,i){const r={};for(const o of e){const e=WU(o,t,n,i);void 0!==e&&(r[o]=e)}return r}const YU=[\"row\",\"column\"],HU=[\"header\",\"footer\"];function qU(e,t){const n=e.component.layoutHeaders[t].title,i=e.config?e.config:void 0,r=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:o,titleAngle:a,titleOrient:s}=UU([\"titleAnchor\",\"titleAngle\",\"titleOrient\"],r,i,t),l=$U(t,s),u=mF(a);return{name:t+\"-title\",type:\"group\",role:l+\"-title\",title:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:n},\"row\"===t?{orient:\"left\"}:{}),{style:\"guide-title\"}),GU(u,l)),VU(l,u,o)),tY(i,r,t,jU,SU))}}function VU(e,t,n=\"middle\"){switch(n){case\"start\":return{align:\"left\"};case\"end\":return{align:\"right\"}}const i=RU(t,\"row\"===e?\"left\":\"top\",\"row\"===e?\"y\":\"x\");return i?{align:i}:{}}function GU(e,t){const n=zU(e,\"row\"===t?\"left\":\"top\",\"row\"===t?\"y\":\"x\",!0);return n?{baseline:n}:{}}function XU(e,t){const n=e.component.layoutHeaders[t],i=[];for(const r of HU)if(n[r])for(const o of n[r]){const a=JU(e,t,r,n,o);null!=a&&i.push(a)}return i}function ZU(e,t){var n;const{sort:i}=e;return QI(i)?{field:xB(i,{expr:\"datum\"}),order:null!==(n=i.order)&&void 0!==n?n:\"ascending\"}:Object(se.B)(i)?{field:LU(e,t,{expr:\"datum\"}),order:\"ascending\"}:{field:xB(e,{expr:\"datum\"}),order:null!=i?i:\"ascending\"}}function QU(e,t,n){const{format:i,formatType:r,labelAngle:o,labelAnchor:a,labelOrient:s,labelExpr:l}=UU([\"format\",\"formatType\",\"labelAngle\",\"labelAnchor\",\"labelOrient\",\"labelExpr\"],e,n,t),u=II({fieldOrDatumDef:e,format:i,formatType:r,expr:\"parent\",config:n}).signal,c=$U(t,s);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:{signal:l?dF(dF(l,\"datum.label\",u),\"datum.value\",xB(e,{expr:\"parent\"})):u}},\"row\"===t?{orient:\"left\"}:{}),{style:\"guide-label\",frame:\"group\"}),GU(o,c)),VU(c,o,a)),tY(n,e,t,CU,DU))}function JU(e,t,n,i,r){if(r){let o=null;const{facetFieldDef:a}=i,s=e.config?e.config:void 0;if(a&&r.labels){const{labelOrient:e}=UU([\"labelOrient\"],a,s,t);(\"row\"===t&&!HA([\"top\",\"bottom\"],e)||\"column\"===t&&!HA([\"left\",\"right\"],e))&&(o=QU(a,t,s))}const l=qH(e)&&!KI(e.facet),u=r.axes,c=(null==u?void 0:u.length)>0;if(o||c){const s=\"row\"===t?\"height\":\"width\";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName(`${t}_${n}`),type:\"group\",role:`${t}-${n}`},i.facetFieldDef?{from:{data:e.getName(t+\"_domain\")},sort:ZU(a,t)}:{}),c&&l?{from:{data:e.getName(\"facet_domain_\"+t)}}:{}),o?{title:o}:{}),r.sizeSignal?{encode:{update:{[s]:r.sizeSignal}}}:{}),c?{axes:u}:{})}}return null}const KU={column:{start:0,end:1},row:{start:1,end:0}};function eY(e,t){return KU[t][e]}function tY(e,t,n,i,r){const o={};for(const a of i){if(!r[a])continue;const i=WU(a,t,e,n);void 0!==i&&(o[r[a]]=i)}return o}function nY(e){return[...iY(e,\"width\"),...iY(e,\"height\"),...iY(e,\"childWidth\"),...iY(e,\"childHeight\")]}function iY(e,t){const n=\"width\"===t?\"x\":\"y\",i=e.component.layoutSize.get(t);if(!i||\"merged\"===i)return[];const r=e.getSizeSignalRef(t).signal;if(\"step\"===i){const t=e.getScaleComponent(n);if(t){const i=t.get(\"type\"),o=t.get(\"range\");if(hI(i)&&_R(o)){const i=e.scaleName(n);if(qH(e.parent)){if(\"independent\"===e.parent.component.resolve.scale[n])return[rY(i,o)]}return[rY(i,o),{name:r,update:oY(i,t,`domain('${i}').length`)}]}}throw new Error(\"layout size is step although width/height is not step.\")}if(\"container\"==i){const t=r.endsWith(\"width\"),n=t?\"containerSize()[0]\":\"containerSize()[1]\",i=`isFinite(${n}) ? ${n} : ${UL(e.config.view,t?\"width\":\"height\")}`;return[{name:r,init:i,on:[{update:i,events:\"window:resize\"}]}]}return[{name:r,value:i}]}function rY(e,t){return{name:e+\"_step\",value:t.step}}function oY(e,t,n){const i=t.get(\"type\"),r=t.get(\"padding\"),o=pF(t.get(\"paddingOuter\"),r);let a=t.get(\"paddingInner\");return a=\"band\"===i?void 0!==a?a:r:1,`bandspace(${n}, ${a}, ${o}) * ${e}_step`}function aY(e){return\"childWidth\"===e?\"width\":\"childHeight\"===e?\"height\":e}function sY(e,t){return eF(e).reduce((n,i)=>{const r=e[i];return Object.assign(Object.assign({},n),uW(t,r,i,e=>bR(e)?e:{value:e.value}))},{})}function lY(e,t){if(GH(t)||qH(t))return\"shared\";if(VH(t))return iN(e)?\"independent\":\"shared\";throw new Error(\"invalid model type for resolve\")}function uY(e,t){const n=e.scale[t],i=iN(t)?\"axis\":\"legend\";return\"independent\"===n?(\"shared\"===e[i][t]&&nR(v.independentScaleMeansIndependentGuide(t)),\"independent\"):e[i][t]||\"shared\"}const cY=Object.assign(Object.assign({},FL),{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),dY=eF(cY);class hY extends M${}const fY={symbols:function(e,{fieldOrDatumDef:t,model:n,channel:i,legendCmpt:r,legendType:o}){var a,s,l,u,c,d,h,f;if(\"symbol\"!==o)return;const{markDef:p,encoding:g,config:m,mark:v}=n,y=p.filled&&\"trail\"!==v;let b=Object.assign(Object.assign({},function(e,t,n){for(const i of n){const n=ZB(i,t.markDef,t.config);void 0!==n&&(e[i]=HB(n))}return e}({},n,YF)),vW(n,{filled:y}));const _=null!==(a=r.get(\"symbolOpacity\"))&&void 0!==a?a:m.legend.symbolOpacity,w=null!==(s=r.get(\"symbolFillColor\"))&&void 0!==s?s:m.legend.symbolFillColor,x=null!==(l=r.get(\"symbolStrokeColor\"))&&void 0!==l?l:m.legend.symbolStrokeColor,k=void 0===_?null!==(u=pY(g.opacity))&&void 0!==u?u:p.opacity:void 0;if(b.fill)if(\"fill\"===i||y&&i===dP)delete b.fill;else if(b.fill.field)w?delete b.fill:(b.fill=HB(null!==(c=m.legend.symbolBaseFillColor)&&void 0!==c?c:\"black\"),b.fillOpacity=HB(null!=k?k:1));else if(Object(se.B)(b.fill)){const e=null!==(f=null!==(h=gY(null!==(d=g.fill)&&void 0!==d?d:g.color))&&void 0!==h?h:p.fill)&&void 0!==f?f:y&&p.color;e&&(b.fill=HB(e))}if(b.stroke)if(\"stroke\"===i||!y&&i===dP)delete b.stroke;else if(b.stroke.field||x)delete b.stroke;else if(Object(se.B)(b.stroke)){const e=pF(gY(g.stroke||g.color),p.stroke,y?p.color:void 0);e&&(b.stroke={value:e})}if(\"opacity\"!==i){const e=uB(t)&&vY(n,r,t);e?b.opacity=[Object.assign({test:e},HB(null!=k?k:1)),HB(m.legend.unselectedOpacity)]:k&&(b.opacity=HB(k))}return b=Object.assign(Object.assign({},b),e),KA(b)?void 0:b},gradient:function(e,{model:t,legendType:n,legendCmpt:i}){var r;if(\"gradient\"!==n)return;const{config:o,markDef:a,encoding:s}=t;let l={};const u=void 0===(null!==(r=i.get(\"gradientOpacity\"))&&void 0!==r?r:o.legend.gradientOpacity)?pY(s.opacity)||a.opacity:void 0;u&&(l.opacity=HB(u));return l=Object.assign(Object.assign({},l),e),KA(l)?void 0:l},labels:function(e,{fieldOrDatumDef:t,model:n,channel:i,legendCmpt:r}){const o=n.legend(i)||{},a=n.config,s=uB(t)?vY(n,r,t):void 0,l=s?[{test:s,value:1},{value:a.legend.unselectedOpacity}]:void 0,{format:u,formatType:c}=o,d=zI(c)?LI({fieldOrDatumDef:t,field:\"datum.value\",format:u,formatType:c,config:a}):void 0,h=Object.assign(Object.assign(Object.assign({},l?{opacity:l}:{}),d?{text:d}:{}),e);return KA(h)?void 0:h},entries:function(e,{legendCmpt:t}){const n=t.get(\"selections\");return(null==n?void 0:n.length)?Object.assign(Object.assign({},e),{fill:{value:\"transparent\"}}):e}};function pY(e){return mY(e,(e,t)=>Math.max(e,t.value))}function gY(e){return mY(e,(e,t)=>pF(e,t.value))}function mY(e,t){return function(e){const t=e&&e.condition;return!!t&&(Object(se.B)(t)||mB(t))}(e)?Object(se.i)(e.condition).reduce(t,e.value):mB(e)?e.value:void 0}function vY(e,t,n){const i=t.get(\"selections\");if(!(null==i?void 0:i.length))return;const r=Object(se.ab)(n.field);return i.map(e=>`(!length(data(${Object(se.ab)(rF(e)+cU)})) || (${e}[${r}] && indexof(${e}[${r}], datum.value) >= 0))`).join(\" || \")}const yY={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:i,formatType:r}=t;return $I(e,e.type,i,r,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:i}=e;return WI(i,t,n)},gradientLength:e=>{var t,n;const{legend:i,legendConfig:r}=e;return null!==(n=null!==(t=i.gradientLength)&&void 0!==t?t:r.gradientLength)&&void 0!==n?n:function({legendConfig:e,model:t,direction:n,orient:i,scaleType:r}){const{gradientHorizontalMaxLength:o,gradientHorizontalMinLength:a,gradientVerticalMaxLength:s,gradientVerticalMinLength:l}=e;if(pI(r))return\"horizontal\"===n?\"top\"===i||\"bottom\"===i?wY(t,\"width\",a,o):a:wY(t,\"height\",l,s);return}(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>{var i,r;return null!==(r=null!==(i=e.labelOverlap)&&void 0!==i?i:t.labelOverlap)&&void 0!==r?r:function(e){if(HA([\"quantile\",\"threshold\",\"log\"],e))return\"greedy\";return}(n)},symbolType:({legend:e,markDef:t,channel:n,encoding:i})=>{var r;return null!==(r=e.symbolType)&&void 0!==r?r:function(e,t,n,i){var r;if(\"shape\"!==t){const e=null!==(r=gY(n))&&void 0!==r?r:i;if(e)return e}switch(e){case\"bar\":case\"rect\":case\"image\":case\"square\":return\"square\";case\"line\":case\"trail\":case\"rule\":return\"stroke\";case\"arc\":case\"point\":case\"circle\":case\"tick\":case\"geoshape\":case\"area\":case\"text\":return\"circle\"}}(t.type,n,i.shape,t.shape)},title:({fieldOrDatumDef:e,config:t})=>jB(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(wP(n)&&pI(t)){if(\"gradient\"===e)return}else if(\"symbol\"===e)return;return e},values:({fieldOrDatumDef:e,legend:t})=>function(e,t){const n=e.values;if(Object(se.B)(n))return $B(t,n);if(bR(n))return n;return}(t,e)};function bY(e){const{legend:t}=e;return pF(t.type,function({channel:e,timeUnit:t,scaleType:n}){if(wP(e)){if(HA([\"quarter\",\"month\",\"day\"],t))return\"symbol\";if(pI(n))return\"gradient\"}return\"symbol\"}(e))}function _Y({legendConfig:e,legendType:t,orient:n,legend:i}){var r,o;return null!==(o=null!==(r=i.direction)&&void 0!==r?r:e[t?\"gradientDirection\":\"symbolDirection\"])&&void 0!==o?o:function(e,t){switch(e){case\"top\":case\"bottom\":return\"horizontal\";case\"left\":case\"right\":case\"none\":case void 0:return;default:return\"gradient\"===t?\"horizontal\":void 0}}(n,t)}function wY(e,t,n,i){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${i})`}}function xY(e){const t=HH(e)?function(e){const{encoding:t}=e,n={};for(const i of[dP,...AL]){const r=FB(t[i]);r&&e.getScaleComponent(i)&&(i===pP&&uB(r)&&r.type===WR||(n[i]=OY(e,i)))}return n}(e):function(e){const{legends:t,resolve:n}=e.component;for(const i of e.children){xY(i);for(const r of eF(i.component.legends))n.legend[r]=uY(e.component.resolve,r),\"shared\"===n.legend[r]&&(t[r]=EY(t[r],i.component.legends[r]),t[r]||(n.legend[r]=\"independent\",delete t[r]))}for(const i of eF(t))for(const t of e.children)t.component.legends[i]&&\"shared\"===n.legend[i]&&delete t.component.legends[i];return t}(e);return e.component.legends=t,t}function kY(e,t,n,i){switch(t){case\"disable\":return void 0!==n;case\"values\":return!!(null==n?void 0:n.values);case\"title\":if(\"title\"===t&&e===(null==i?void 0:i.title))return!0}return e===(n||{})[t]}function OY(e,t){var n,i,r;let o=e.legend(t);const{markDef:a,encoding:s,config:l}=e,u=l.legend,c=new hY({},function(e,t){const n=e.scaleName(t);if(\"trail\"===e.mark){if(\"color\"===t)return{stroke:n};if(\"size\"===t)return{strokeWidth:n}}return\"color\"===t?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}(e,t));!function(e,t,n){var i;const r=null===(i=e.fieldDef(t))||void 0===i?void 0:i.field;gU(e,e=>{var i,o;const a=null!==(i=e.project.hasField[r])&&void 0!==i?i:e.project.hasChannel[t];if(a&&VW.has(e)){const t=null!==(o=n.get(\"selections\"))&&void 0!==o?o:[];t.push(e.name),n.set(\"selections\",t,!1),a.hasLegend=!0}})}(e,t,c);const d=void 0!==o?!o:u.disable;if(c.set(\"disable\",d,void 0!==o),d)return c;o=o||{};const h=e.getScaleComponent(t).get(\"type\"),f=FB(s[t]),p=uB(f)?null===(n=yR(f.timeUnit))||void 0===n?void 0:n.unit:void 0,g=o.orient||l.legend.orient||\"right\",m=bY({legend:o,channel:t,timeUnit:p,scaleType:h}),v={legend:o,channel:t,model:e,markDef:a,encoding:s,fieldOrDatumDef:f,legendConfig:u,config:l,scaleType:h,orient:g,legendType:m,direction:_Y({legend:o,legendType:m,orient:g,legendConfig:u})};for(const n of dY){if(\"gradient\"===m&&n.startsWith(\"symbol\")||\"symbol\"===m&&n.startsWith(\"gradient\"))continue;const i=n in yY?yY[n](v):o[n];if(void 0!==i){const r=kY(i,n,o,e.fieldDef(t));(r||void 0===l.legend[n])&&c.set(n,i,r)}}const y=null!==(i=null==o?void 0:o.encoding)&&void 0!==i?i:{},b=c.get(\"selections\"),_={},w={fieldOrDatumDef:f,model:e,channel:t,legendCmpt:c,legendType:m};for(const t of[\"labels\",\"legend\",\"title\",\"symbols\",\"gradient\",\"entries\"]){const n=sY(null!==(r=y[t])&&void 0!==r?r:{},e),i=t in fY?fY[t](n,w):n;void 0===i||KA(i)||(_[t]=Object.assign(Object.assign(Object.assign({},(null==b?void 0:b.length)&&uB(f)?{name:`${rF(f.field)}_legend_${t}`}:{}),(null==b?void 0:b.length)?{interactive:!!b}:{}),{update:i}))}return KA(_)||c.set(\"encode\",_,!!(null==o?void 0:o.encoding)),c}function EY(e,t){var n,i,r,o;if(!e)return t.clone();const a=e.getWithExplicit(\"orient\"),s=t.getWithExplicit(\"orient\");if(a.explicit&&s.explicit&&a.value!==s.value)return;let l=!1;for(const n of dY){const i=N$(e.getWithExplicit(n),t.getWithExplicit(n),n,\"legend\",(e,t)=>{switch(n){case\"symbolType\":return SY(e,t);case\"title\":return nL(e,t);case\"type\":return l=!0,A$(\"symbol\")}return P$(e,t,n,\"legend\")});e.setWithExplicit(n,i)}return l&&((null===(i=null===(n=e.implicit)||void 0===n?void 0:n.encode)||void 0===i?void 0:i.gradient)&&aF(e.implicit,[\"encode\",\"gradient\"]),(null===(o=null===(r=e.explicit)||void 0===r?void 0:r.encode)||void 0===o?void 0:o.gradient)&&aF(e.explicit,[\"encode\",\"gradient\"])),e}function SY(e,t){return\"circle\"===t.value?t:e}function DY(e){const t=e.component.legends,n={};for(const i of eF(t)){const r=e.getScaleComponent(i),o=WA(r.get(\"domains\"));if(n[o])for(const e of n[o]){EY(e,t[i])||n[o].push(t[i])}else n[o]=[t[i].clone()]}return tF(n).flat().map(t=>function(e,t){var n,i,r;const o=e.combine(),{disable:a,labelExpr:s,selections:l}=o,u=EA(o,[\"disable\",\"labelExpr\",\"selections\"]);if(a)return;!1===t.aria&&null==u.aria&&(u.aria=!1);if(null===(n=u.encode)||void 0===n?void 0:n.symbols){const e=u.encode.symbols.update;!e.fill||\"transparent\"===e.fill.value||e.stroke||u.stroke||(e.stroke={value:\"transparent\"});for(const t of AL)u[t]&&delete e[t]}u.title||delete u.title;if(void 0!==s){let e=s;(null===(r=null===(i=u.encode)||void 0===i?void 0:i.labels)||void 0===r?void 0:r.update)&&bR(u.encode.labels.update.text)&&(e=dF(s,\"datum.label\",u.encode.labels.update.text.signal)),function(e,t,n,i){var r,o,a;e.encode=null!==(r=e.encode)&&void 0!==r?r:{},e.encode[t]=null!==(o=e.encode[t])&&void 0!==o?o:{},e.encode[t].update=null!==(a=e.encode[t].update)&&void 0!==a?a:{},e.encode[t].update[n]=i}(u,\"labels\",\"text\",{signal:e})}return u}(t,e.config)).filter(e=>void 0!==e)}function jY(e){return GH(e)||VH(e)?function(e){return e.children.reduce((e,t)=>e.concat(t.assembleProjections()),CY(e))}(e):CY(e)}function CY(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:i}=n;if(t.data){const r={signal:`[${t.size.map(e=>e.signal).join(\", \")}]`},o=t.data.reduce((t,n)=>{const i=bR(n)?n.signal:`data('${e.lookupDataSource(n)}')`;return HA(t,i)||t.push(i),t},[]);if(o.length<=0)throw new Error(\"Projection's fit didn't find any data sources\");return[Object.assign({name:i,size:r,fit:{signal:o.length>1?`[${o.join(\", \")}]`:o[0]}},n)]}return[Object.assign(Object.assign({name:i},{translate:{signal:\"[width / 2, height / 2]\"}}),n)]}const MY=[\"type\",\"clipAngle\",\"clipExtent\",\"center\",\"rotate\",\"precision\",\"reflectX\",\"reflectY\",\"coefficient\",\"distance\",\"fraction\",\"lobes\",\"parallel\",\"radius\",\"ratio\",\"spacing\",\"tilt\"];class TY extends M${constructor(e,t,n,i){super(Object.assign({},t),{name:e}),this.specifiedProjection=t,this.size=n,this.data=i,this.merged=!1}get isFit(){return!!this.data}}function AY(e){e.component.projection=HH(e)?function(e){var t;if(e.hasProjection){const n=e.specifiedProjection,i=!(n&&(null!=n.scale||null!=n.translate)),r=i?[e.getSizeSignalRef(\"width\"),e.getSizeSignalRef(\"height\")]:void 0,o=i?function(e){const t=[],{encoding:n}=e;for(const i of[[\"longitude\",\"latitude\"],[\"longitude2\",\"latitude2\"]])(FB(n[i[0]])||FB(n[i[1]]))&&t.push({signal:e.getName(\"geojson_\"+t.length)});e.channelHasField(pP)&&e.typedFieldDef(pP).type===WR&&t.push({signal:e.getName(\"geojson_\"+t.length)});0===t.length&&t.push(e.requestDataName(Y$.Main));return t}(e):void 0;return new TY(e.projectionName(!0),Object.assign(Object.assign({},null!==(t=e.config.projection)&&void 0!==t?t:{}),null!=n?n:{}),r,o)}return}(e):function(e){if(0===e.children.length)return;let t;for(const t of e.children)AY(t);const n=VA(e.children,e=>{const n=e.component.projection;if(n){if(t){const e=function(e,t){const n=VA(MY,n=>!Object(se.w)(e.explicit,n)&&!Object(se.w)(t.explicit,n)||!(!Object(se.w)(e.explicit,n)||!Object(se.w)(t.explicit,n)||WA(e.get(n))!==WA(t.get(n))));if(WA(e.size)===WA(t.size)){if(n)return e;if(WA(e.explicit)===WA({}))return t;if(WA(t.explicit)===WA({}))return e}return null}(t,n);return e&&(t=e),!!e}return t=n,!0}return!0});if(t&&n){const n=e.projectionName(!0),i=new TY(n,t.specifiedProjection,t.size,BA(t.data));for(const t of e.children){const e=t.component.projection;e&&(e.isFit&&i.data.push(...t.component.projection.data),t.renameProjection(e.get(\"name\"),n),e.merged=!0)}return i}return}(e)}function FY(e,t){return`${EN(e)}_${t}`}function PY(e,t,n){var i;const r=FY(null!==(i=RB(n,void 0))&&void 0!==i?i:{},t);return e.getName(r+\"_bins\")}function NY(e,t,n){let i,r;i=function(e){return\"as\"in e}(e)?Object(se.I)(e.as)?[e.as,e.as+\"_end\"]:[e.as[0],e.as[1]]:[xB(e,{forAs:!0}),xB(e,{binSuffix:\"end\",forAs:!0})];const o=Object.assign({},RB(t,void 0)),a=FY(o,e.field),{signal:s,extentSignal:l}=function(e,t){return{signal:e.getName(t+\"_bins\"),extentSignal:e.getName(t+\"_extent\")}}(n,a);if(CN(o.extent)){const e=o.extent,t=e.selection;r=wU(n.getSelectionComponent(rF(t),t),e),delete o.extent}return{key:a,binComponent:Object.assign(Object.assign(Object.assign({bin:o,field:e.field,as:[i]},s?{signal:s}:{}),l?{extentSignal:l}:{}),r?{span:r}:{})}}class zY extends RW{constructor(e,t){super(e),this.bins=t}clone(){return new zY(null,BA(this.bins))}static makeFromEncoding(e,t){const n=t.reduceFieldDef((e,n,i)=>{if(gB(n)&&SN(n.bin)){const{key:r,binComponent:o}=NY(n,n.bin,t);e[r]=Object.assign(Object.assign(Object.assign({},o),e[r]),function(e,t,n,i){var r,o;if(WB(t,n)){const a=HH(e)&&null!==(o=null!==(r=e.axis(n))&&void 0!==r?r:e.legend(n))&&void 0!==o?o:{},s=xB(t,{expr:\"datum\"}),l=xB(t,{expr:\"datum\",binSuffix:\"end\"});return{formulaAs:xB(t,{binSuffix:\"range\",forAs:!0}),formula:qI(s,l,a.format,a.formatType,i)}}return{}}(t,n,i,t.config))}return e},{});return KA(n)?null:new zY(e,n)}static makeFromTransform(e,t,n){const{key:i,binComponent:r}=NY(t,t.bin,n);return new zY(e,{[i]:r})}merge(e,t){for(const n of eF(e.bins))n in this.bins?(t(e.bins[n].signal,this.bins[n].signal),this.bins[n].as=XA([...this.bins[n].as,...e.bins[n].as],UA)):this.bins[n]=e.bins[n];for(const t of e.children)e.removeChild(t),t.parent=this;e.remove()}producedFields(){return new Set(tF(this.bins).map(e=>e.as).flat(2))}dependentFields(){return new Set(tF(this.bins).map(e=>e.field))}hash(){return\"Bin \"+UA(this.bins)}assemble(){return tF(this.bins).flatMap(e=>{const t=[],[n,...i]=e.as,r=e.bin,{extent:o}=r,a=EA(r,[\"extent\"]),s=Object.assign(Object.assign(Object.assign({type:\"bin\",field:cF(e.field),as:n,signal:e.signal},CN(o)?{extent:null}:{extent:o}),e.span?{span:{signal:`span(${e.span})`}}:{}),a);!o&&e.extentSignal&&(t.push({type:\"extent\",field:cF(e.field),signal:e.extentSignal}),s.extent={signal:e.extentSignal}),t.push(s);for(const e of i)for(let i=0;i<2;i++)t.push({type:\"formula\",expr:xB({field:n[i]},{expr:\"datum\"}),as:e[i]});return e.formula&&t.push({type:\"formula\",expr:e.formula,as:e.formulaAs}),t})}}function RY(e,t,n,i){const r=HH(i)?i.encoding[BP(t)]:void 0;if(gB(n)&&HH(i)&&oB(t,n,r,i.stack,i.markDef,i.config))e.add(xB(n,{})),e.add(xB(n,{suffix:\"end\"})),n.bin&&WB(n,t)&&e.add(xB(n,{binSuffix:\"range\"}));else if(t in yP){const n=function(e){switch(e){case\"latitude\":return\"y\";case\"latitude2\":return\"y2\";case\"longitude\":return\"x\";case\"longitude2\":return\"x2\"}}(t);e.add(i.getName(n))}else e.add(xB(n));return e}class IY extends RW{constructor(e,t,n){super(e),this.dimensions=t,this.measures=n}clone(){return new IY(null,new Set(this.dimensions),BA(this.measures))}get groupBy(){return this.dimensions}static makeFromEncoding(e,t){let n=!1;t.forEachFieldDef(e=>{e.aggregate&&(n=!0)});const i={},r=new Set;return n?(t.forEachFieldDef((e,n)=>{var o,a,s,l;const{aggregate:u,field:c}=e;if(u)if(\"count\"===u)i[\"*\"]=null!==(o=i[\"*\"])&&void 0!==o?o:{},i[\"*\"].count=new Set([xB(e,{forAs:!0})]);else{if(KF(u)||eP(u)){const e=KF(u)?\"argmin\":\"argmax\",t=u[e];i[t]=null!==(a=i[t])&&void 0!==a?a:{},i[t][e]=new Set([xB({op:e,field:t},{forAs:!0})])}else i[c]=null!==(s=i[c])&&void 0!==s?s:{},i[c][u]=new Set([xB(e,{forAs:!0})]);bN(n)&&\"unaggregated\"===t.scaleDomain(n)&&(i[c]=null!==(l=i[c])&&void 0!==l?l:{},i[c].min=new Set([xB({field:c,aggregate:\"min\"},{forAs:!0})]),i[c].max=new Set([xB({field:c,aggregate:\"max\"},{forAs:!0})]))}else RY(r,n,e,t)}),r.size+eF(i).length===0?null:new IY(e,r,i)):null}static makeFromTransform(e,t){var n,i,r;const o=new Set,a={};for(const e of t.aggregate){const{op:t,field:r,as:o}=e;t&&(\"count\"===t?(a[\"*\"]=null!==(n=a[\"*\"])&&void 0!==n?n:{},a[\"*\"].count=new Set([o||xB(e,{forAs:!0})])):(a[r]=null!==(i=a[r])&&void 0!==i?i:{},a[r][t]=new Set([o||xB(e,{forAs:!0})])))}for(const e of null!==(r=t.groupby)&&void 0!==r?r:[])o.add(e);return o.size+eF(a).length===0?null:new IY(e,o,a)}merge(e){return function(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}(this.dimensions,e.dimensions)?(function(e,t){var n;for(const i of eF(t)){const r=t[i];for(const t of eF(r))i in e?e[i][t]=new Set([...null!==(n=e[i][t])&&void 0!==n?n:[],...r[t]]):e[i]={[t]:r[t]}}}(this.measures,e.measures),!0):(function(...e){eR.debug(...e)}(\"different dimensions, cannot merge\"),!1)}addDimensions(e){e.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...eF(this.measures)])}producedFields(){const e=new Set;for(const t of eF(this.measures))for(const n of eF(this.measures[t])){const i=this.measures[t][n];0===i.size?e.add(`${n}_${t}`):i.forEach(e.add,e)}return e}hash(){return\"Aggregate \"+UA({dimensions:this.dimensions,measures:this.measures})}assemble(){const e=[],t=[],n=[];for(const i of eF(this.measures))for(const r of eF(this.measures[i]))for(const o of this.measures[i][r])n.push(o),e.push(r),t.push(\"*\"===i?null:cF(i));return{type:\"aggregate\",groupby:[...this.dimensions].map(cF),ops:e,fields:t,as:n}}}class BY extends RW{constructor(e,t,n,i){super(e),this.model=t,this.name=n,this.data=i;for(const e of kP){const n=t.facet[e];if(n){const{bin:i,sort:r}=n;this[e]=Object.assign({name:t.getName(e+\"_domain\"),fields:[xB(n),...SN(i)?[xB(n,{binSuffix:\"end\"})]:[]]},QI(r)?{sortField:r}:Object(se.B)(r)?{sortIndexField:LU(n,e)}:{})}}this.childModel=t.child}hash(){let e=\"Facet\";for(const t of kP)this[t]&&(e+=` ${t.charAt(0)}:${UA(this[t])}`);return e}get fields(){var e;const t=[];for(const n of kP)(null===(e=this[n])||void 0===e?void 0:e.fields)&&t.push(...this[n].fields);return t}dependentFields(){const e=new Set(this.fields);for(const t of kP)this[t]&&(this[t].sortField&&e.add(this[t].sortField.field),this[t].sortIndexField&&e.add(this[t].sortIndexField));return e}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const e={};for(const t of nN){const n=this.childModel.component.scales[t];if(n&&!n.merged){const i=n.get(\"type\"),r=n.get(\"range\");if(hI(i)&&_R(r)){const n=DH(jH(this.childModel,t));n?e[t]=n:nR(v.unknownField(t))}}}return e}assembleRowColumnHeaderData(e,t,n){const i={row:\"y\",column:\"x\"}[e],r=[],o=[],a=[];n&&n[i]&&(t?(r.push(\"distinct_\"+n[i]),o.push(\"max\")):(r.push(n[i]),o.push(\"distinct\")),a.push(\"distinct_\"+n[i]));const{sortField:s,sortIndexField:l}=this[e];if(s){const{op:e=VI,field:t}=s;r.push(t),o.push(e),a.push(xB(s,{forAs:!0}))}else l&&(r.push(l),o.push(\"max\"),a.push(l));return{name:this[e].name,source:null!=t?t:this.data,transform:[Object.assign({type:\"aggregate\",groupby:this[e].fields},r.length?{fields:r,ops:o,as:a}:{})]}}assembleFacetHeaderData(e){var t,n;const{columns:i}=this.model.layout,{layoutHeaders:r}=this.model.component,o=[],a={};for(const e of YU){for(const i of HU){const o=null!==(t=r[e]&&r[e][i])&&void 0!==t?t:[];for(const t of o)if((null===(n=t.axes)||void 0===n?void 0:n.length)>0){a[e]=!0;break}}if(a[e]){const t=`length(data(\"${this.facet.name}\"))`,n=\"row\"===e?i?{signal:`ceil(${t} / ${i})`}:1:i?{signal:`min(${t}, ${i})`}:{signal:t};o.push({name:`${this.facet.name}_${e}`,transform:[{type:\"sequence\",start:0,stop:n}]})}}const{row:s,column:l}=a;return(s||l)&&o.unshift(this.assembleRowColumnHeaderData(\"facet\",null,e)),o}assemble(){var e,t;const n=[];let i=null;const r=this.getChildIndependentFieldsWithStep(),{column:o,row:a,facet:s}=this;if(o&&a&&(r.x||r.y)){i=`cross_${this.column.name}_${this.row.name}`;const o=[].concat(null!==(e=r.x)&&void 0!==e?e:[],null!==(t=r.y)&&void 0!==t?t:[]),a=o.map(()=>\"distinct\");n.push({name:i,source:this.data,transform:[{type:\"aggregate\",groupby:this.fields,fields:o,ops:a}]})}for(const e of[sP,aP])this[e]&&n.push(this.assembleRowColumnHeaderData(e,i,r));if(s){const e=this.assembleFacetHeaderData(r);e&&n.push(...e)}return n}}function LY(e){return\"'\"===e[0]&&\"'\"===e[e.length-1]||'\"'===e[0]&&'\"'===e[e.length-1]?e.slice(1,-1):e}function $Y(e){const t={};return function e(t,n){if(zA(t))e(t.not,n);else if(NA(t))for(const i of t.and)e(i,n);else if(PA(t))for(const i of t.or)e(i,n);else n(t)}(e.filter,e=>{var n;if(AR(e)){let i=null;ER(e)?i=e.equal:DR(e)?i=e.lte:SR(e)?i=e.lt:jR(e)?i=e.gt:CR(e)?i=e.gte:MR(e)?i=e.range[0]:TR(e)&&(i=(null!==(n=e.oneOf)&&void 0!==n?n:e.in)[0]),i&&(iR(i)?t[e.field]=\"date\":Object(se.F)(i)?t[e.field]=\"number\":Object(se.I)(i)&&(t[e.field]=\"string\")),e.timeUnit&&(t[e.field]=\"date\")}}),t}function WY(e){const t={};function n(e){var n;BB(e)?t[e.field]=\"date\":\"quantitative\"===e.type&&(n=e.aggregate,Object(se.I)(n)&&HA([\"min\",\"max\"],n))?t[e.field]=\"number\":fF(e.field)>1?e.field in t||(t[e.field]=\"flatten\"):vB(e)&&QI(e.sort)&&fF(e.sort.field)>1&&(e.sort.field in t||(t[e.sort.field]=\"flatten\"))}if((HH(e)||qH(e))&&e.forEachFieldDef((t,i)=>{if(gB(t))n(t);else{const r=RP(i),o=e.fieldDef(r);n(Object.assign(Object.assign({},t),{type:o.type}))}}),HH(e)){const{mark:n,markDef:i,encoding:r}=e;if(LF(n)&&!e.encoding.order){const e=r[\"horizontal\"===i.orient?\"y\":\"x\"];uB(e)&&\"quantitative\"===e.type&&!(e.field in t)&&(t[e.field]=\"number\")}}return t}class UY extends RW{constructor(e,t){super(e),this._parse=t}clone(){return new UY(null,BA(this._parse))}hash(){return\"Parse \"+UA(this._parse)}static makeExplicit(e,t,n){let i={};const r=t.data;return!L$(r)&&r&&r.format&&r.format.parse&&(i=r.format.parse),this.makeWithAncestors(e,i,{},n)}static makeWithAncestors(e,t,n,i){for(const e of eF(n)){const t=i.getWithExplicit(e);void 0!==t.value&&(t.explicit||t.value===n[e]||\"derived\"===t.value||\"flatten\"===n[e]?delete n[e]:nR(v.differentParse(e,n[e],t.value)))}for(const e of eF(t)){const n=i.get(e);void 0!==n&&(n===t[e]?delete t[e]:nR(v.differentParse(e,t[e],n)))}const r=new M$(t,n);i.copyAll(r);const o={};for(const e of eF(r.combine())){const t=r.get(e);null!==t&&(o[e]=t)}return 0===eF(o).length||i.parseNothing?null:new UY(e,o)}get parse(){return this._parse}merge(e){this._parse=Object.assign(Object.assign({},this._parse),e.parse),e.remove()}assembleFormatParse(){const e={};for(const t of eF(this._parse)){const n=this._parse[t];1===fF(t)&&(e[t]=n)}return e}producedFields(){return new Set(eF(this._parse))}dependentFields(){return new Set(eF(this._parse))}assembleTransforms(e=!1){return eF(this._parse).filter(t=>!e||fF(t)>1).map(e=>{const t=function(e,t){const n=lF(e);if(\"number\"===t)return`toNumber(${n})`;if(\"boolean\"===t)return`toBoolean(${n})`;if(\"string\"===t)return`toString(${n})`;if(\"date\"===t)return`toDate(${n})`;if(\"flatten\"===t)return n;if(0===t.indexOf(\"date:\")){return`timeParse(${n},'${LY(t.slice(5,t.length))}')`}if(0===t.indexOf(\"utc:\")){return`utcParse(${n},'${LY(t.slice(4,t.length))}')`}return nR(v.unrecognizedParse(t)),null}(e,this._parse[e]);if(!t)return null;return{type:\"formula\",expr:t,as:hF(e)}}).filter(e=>null!==e)}}class YY extends RW{clone(){return new YY(null)}constructor(e){super(e)}dependentFields(){return new Set}producedFields(){return new Set([\"_vgsid_\"])}hash(){return\"Identifier\"}assemble(){return{type:\"identifier\",as:\"_vgsid_\"}}}class HY extends RW{constructor(e,t){super(e),this.params=t}clone(){return new HY(null,this.params)}dependentFields(){return new Set}producedFields(){}hash(){return\"Graticule \"+UA(this.params)}assemble(){return Object.assign({type:\"graticule\"},!0===this.params?{}:this.params)}}class qY extends RW{constructor(e,t){super(e),this.params=t}clone(){return new qY(null,this.params)}dependentFields(){return new Set}producedFields(){var e;return new Set([null!==(e=this.params.as)&&void 0!==e?e:\"data\"])}hash(){return\"Hash \"+UA(this.params)}assemble(){return Object.assign({type:\"sequence\"},this.params)}}class VY extends RW{constructor(e){let t;if(super(null),L$(e=null!=e?e:{name:\"source\"})||(t=e.format?Object.assign({},$A(e.format,[\"parse\"])):{}),I$(e))this._data={values:e.values};else if(R$(e)){if(this._data={url:e.url},!t.type){let n=/(?:\\.([^.]+))?$/.exec(e.url)[1];HA([\"json\",\"csv\",\"tsv\",\"dsv\",\"topojson\"],n)||(n=\"json\"),t.type=n}}else W$(e)?this._data={values:[{type:\"Sphere\"}]}:(B$(e)||L$(e))&&(this._data={});this._generator=L$(e),e.name&&(this._name=e.name),t&&!KA(t)&&(this._data.format=t)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(e){this._name=e}set parent(e){throw new Error(\"Source nodes have to be roots.\")}remove(){throw new Error(\"Source nodes are roots and cannot be removed.\")}hash(){throw new Error(\"Cannot hash sources\")}assemble(){return Object.assign(Object.assign({name:this._name},this._data),{transform:[]})}}var GY;function XY(e){return e instanceof VY||e instanceof HY||e instanceof qY}class ZY{constructor(){GY.set(this,void 0),DA(this,GY,!1)}setModified(){DA(this,GY,!0)}get modifiedFlag(){return SA(this,GY)}}GY=new WeakMap;class QY extends ZY{getNodeDepths(e,t,n){n.set(e,t);for(const i of e.children)this.getNodeDepths(i,t+1,n);return n}optimize(e){const t=[...this.getNodeDepths(e,0,new Map).entries()].sort((e,t)=>t[1]-e[1]);for(const e of t)this.run(e[0]);return this.modifiedFlag}}class JY extends ZY{optimize(e){this.run(e);for(const t of e.children)this.optimize(t);return this.modifiedFlag}}class KY extends JY{mergeNodes(e,t){const n=t.shift();for(const i of t)e.removeChild(i),i.parent=n,i.remove()}run(e){const t=e.children.map(e=>e.hash()),n={};for(let i=0;i<t.length;i++)void 0===n[t[i]]?n[t[i]]=[e.children[i]]:n[t[i]].push(e.children[i]);for(const t of eF(n))n[t].length>1&&(this.setModified(),this.mergeNodes(e,n[t]))}}class eH extends JY{constructor(e){super(),this.requiresSelectionId=e&&vU(e)}run(e){e instanceof YY&&(this.requiresSelectionId&&(XY(e.parent)||e.parent instanceof IY||e.parent instanceof UY)||(this.setModified(),e.remove()))}}class tH extends ZY{optimize(e){return this.run(e,new Set),this.modifiedFlag}run(e,t){let n=new Set;e instanceof BW&&(n=e.producedFields(),ZA(n,t)&&(this.setModified(),e.removeFormulas(t),0===e.producedFields.length&&e.remove()));for(const i of e.children)this.run(i,new Set([...t,...n]))}}class nH extends JY{constructor(){super()}run(e){e instanceof IW&&!e.isRequired()&&(this.setModified(),e.remove())}}class iH extends QY{run(e){if(!(XY(e)||e.numChildren()>1))for(const t of e.children)if(t instanceof UY)if(e instanceof UY)this.setModified(),e.merge(t);else{if(JA(e.producedFields(),t.dependentFields()))continue;this.setModified(),t.swapWithParent()}}}class rH extends QY{run(e){const t=[...e.children],n=e.children.filter(e=>e instanceof UY);if(e.numChildren()>1&&n.length>=1){const i={},r=new Set;for(const e of n){const t=e.parse;for(const e of eF(t))e in i?i[e]!==t[e]&&r.add(e):i[e]=t[e]}for(const e of r)delete i[e];if(!KA(i)){this.setModified();const n=new UY(e,i);for(const r of t){if(r instanceof UY)for(const e of eF(i))delete r.parse[e];e.removeChild(r),r.parent=n,r instanceof UY&&0===eF(r.parse).length&&r.remove()}}}}}class oH extends QY{run(e){e instanceof IW||e.numChildren()>0||e instanceof BY||(this.setModified(),e.remove())}}class aH extends QY{run(e){const t=e.children.filter(e=>e instanceof BW),n=t.pop();for(const e of t)this.setModified(),n.merge(e)}}class sH extends QY{run(e){const t=e.children.filter(e=>e instanceof IY),n={};for(const e of t){const t=UA(e.groupBy);t in n||(n[t]=[]),n[t].push(e)}for(const t of eF(n)){const i=n[t];if(i.length>1){const t=i.pop();for(const n of i)t.merge(n)&&(e.removeChild(n),n.parent=t,n.remove(),this.setModified())}}}}class lH extends QY{constructor(e){super(),this.model=e}run(e){const t=!(XY(e)||e instanceof bU||e instanceof UY||e instanceof YY),n=[],i=[];for(const r of e.children)r instanceof zY&&(t&&!JA(e.producedFields(),r.dependentFields())?n.push(r):i.push(r));if(n.length>0){const t=n.pop();for(const e of n)t.merge(e,this.model.renameSignal.bind(this.model));this.setModified(),e instanceof zY?e.merge(t,this.model.renameSignal.bind(this.model)):t.swapWithParent()}if(i.length>1){const e=i.pop();for(const t of i)e.merge(t,this.model.renameSignal.bind(this.model));this.setModified()}}}class uH extends QY{run(e){const t=[...e.children];if(!qA(t,e=>e instanceof IW)||e.numChildren()<=1)return;const n=[];let i;for(const r of t)if(r instanceof IW){let t=r;for(;1===t.numChildren();){const[e]=t.children;if(!(e instanceof IW))break;t=e}n.push(...t.children),i?(e.removeChild(r),r.parent=i.parent,i.parent.removeChild(i),i.parent=t,this.setModified()):i=t}else n.push(r);if(n.length){this.setModified();for(const e of n)e.parent.removeChild(e),e.parent=i}}}class cH extends RW{constructor(e,t){super(e),this.transform=t}clone(){return new cH(null,BA(this.transform))}addDimensions(e){this.transform.groupby=XA(this.transform.groupby.concat(e),e=>e)}dependentFields(){const e=new Set;return this.transform.groupby&&this.transform.groupby.forEach(e.add,e),this.transform.joinaggregate.map(e=>e.field).filter(e=>void 0!==e).forEach(e.add,e),e}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(e){var t;return null!==(t=e.as)&&void 0!==t?t:xB(e)}hash(){return\"JoinAggregateTransform \"+UA(this.transform)}assemble(){const e=[],t=[],n=[];for(const i of this.transform.joinaggregate)t.push(i.op),n.push(this.getDefaultName(i)),e.push(void 0===i.field?null:i.field);const i=this.transform.groupby;return Object.assign({type:\"joinaggregate\",as:n,ops:t,fields:e},void 0!==i?{groupby:i}:{})}}class dH extends RW{constructor(e,t){super(e),this._stack=t}clone(){return new dH(null,BA(this._stack))}static makeFromTransform(e,t){const{stack:n,groupby:i,as:r,offset:o=\"zero\"}=t,a=[],s=[];if(void 0!==t.sort)for(const e of t.sort)a.push(e.field),s.push(pF(e.order,\"ascending\"));const l={field:a,order:s};let u;return u=function(e){return Object(se.B)(e)&&e.every(e=>Object(se.I)(e))&&e.length>1}(r)?r:Object(se.I)(r)?[r,r+\"_end\"]:[t.stack+\"_start\",t.stack+\"_end\"],new dH(e,{stackField:n,groupby:i,offset:o,sort:l,facetby:[],as:u})}static makeFromEncoding(e,t){const n=t.stack,{encoding:i}=t;if(!n)return null;const{groupbyChannel:r,fieldChannel:o,offset:a,impute:s}=n;let l;if(r){l=AB(i[r])}const u=function(e){return e.stack.stackBy.reduce((e,t)=>{const n=xB(t.fieldDef);return n&&e.push(n),e},[])}(t),c=t.encoding.order;let d;return d=Object(se.B)(c)||uB(c)?KB(c):u.reduce((e,t)=>(e.field.push(t),e.order.push(\"y\"===o?\"descending\":\"ascending\"),e),{field:[],order:[]}),new dH(e,{dimensionFieldDef:l,stackField:t.vgField(o),facetby:[],stackby:u,sort:d,offset:a,impute:s,as:[t.vgField(o,{suffix:\"start\",forAs:!0}),t.vgField(o,{suffix:\"end\",forAs:!0})]})}get stack(){return this._stack}addDimensions(e){this._stack.facetby.push(...e)}dependentFields(){const e=new Set;return e.add(this._stack.stackField),this.getGroupbyFields().forEach(e.add,e),this._stack.facetby.forEach(e.add,e),this._stack.sort.field.forEach(e.add,e),e}producedFields(){return new Set(this._stack.as)}hash(){return\"Stack \"+UA(this._stack)}getGroupbyFields(){const{dimensionFieldDef:e,impute:t,groupby:n}=this._stack;return e?e.bin?t?[xB(e,{binSuffix:\"mid\"})]:[xB(e,{}),xB(e,{binSuffix:\"end\"})]:[xB(e)]:null!=n?n:[]}assemble(){const e=[],{facetby:t,dimensionFieldDef:n,stackField:i,stackby:r,sort:o,offset:a,impute:s,as:l}=this._stack;if(s&&n){const{band:o=.5,bin:a}=n;a&&e.push({type:\"formula\",expr:o+\"*\"+xB(n,{expr:\"datum\"})+`+${1-o}*`+xB(n,{expr:\"datum\",binSuffix:\"end\"}),as:xB(n,{binSuffix:\"mid\",forAs:!0})}),e.push({type:\"impute\",field:i,groupby:[...r,...t],key:xB(n,{binSuffix:\"mid\"}),method:\"value\",value:0})}return e.push({type:\"stack\",groupby:[...this.getGroupbyFields(),...t],field:i,sort:o,as:l,offset:a}),e}}class hH extends RW{constructor(e,t){super(e),this.transform=t}clone(){return new hH(null,BA(this.transform))}addDimensions(e){this.transform.groupby=XA(this.transform.groupby.concat(e),e=>e)}dependentFields(){var e,t;const n=new Set;return(null!==(e=this.transform.groupby)&&void 0!==e?e:[]).forEach(n.add,n),(null!==(t=this.transform.sort)&&void 0!==t?t:[]).forEach(e=>n.add(e.field)),this.transform.window.map(e=>e.field).filter(e=>void 0!==e).forEach(n.add,n),n}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(e){var t;return null!==(t=e.as)&&void 0!==t?t:xB(e)}hash(){return\"WindowTransform \"+UA(this.transform)}assemble(){var e;const t=[],n=[],i=[],r=[];for(const e of this.transform.window)n.push(e.op),i.push(this.getDefaultName(e)),r.push(void 0===e.param?null:e.param),t.push(void 0===e.field?null:e.field);const o=this.transform.frame,a=this.transform.groupby;if(o&&null===o[0]&&null===o[1]&&n.every(e=>tP(e)))return Object.assign({type:\"joinaggregate\",as:i,ops:n,fields:t},void 0!==a?{groupby:a}:{});const s=[],l=[];if(void 0!==this.transform.sort)for(const t of this.transform.sort)s.push(t.field),l.push(null!==(e=t.order)&&void 0!==e?e:\"ascending\");const u={field:s,order:l},c=this.transform.ignorePeers;return Object.assign(Object.assign(Object.assign({type:\"window\",params:r,as:i,ops:n,fields:t,sort:u},void 0!==c?{ignorePeers:c}:{}),void 0!==a?{groupby:a}:{}),void 0!==o?{frame:o}:{})}}function fH(e){if(e instanceof BY)if(1!==e.numChildren()||e.children[0]instanceof IW){const n=e.model.component.data.main;!function e(t){if(t instanceof IW&&t.type===Y$.Main&&1===t.numChildren()){const n=t.children[0];n instanceof BY||(n.swapWithParent(),e(t))}}(n);const i=(t=e,function e(n){if(!(n instanceof BY)){const i=n.clone();if(i instanceof IW){const e=pH+i.getSource();i.setSource(e),t.model.component.data.outputNodes[e]=i}else(i instanceof IY||i instanceof dH||i instanceof hH||i instanceof cH)&&i.addDimensions(t.fields);for(const t of n.children.flatMap(e))t.parent=i;return[i]}return n.children.flatMap(e)}),r=e.children.map(i).flat();for(const e of r)e.parent=n}else{const t=e.children[0];(t instanceof IY||t instanceof dH||t instanceof hH||t instanceof cH)&&t.addDimensions(e.fields),t.swapWithParent(),fH(e)}else e.children.map(fH);var t}const pH=\"scale_\";function gH(e){for(const t of e){for(const e of t.children)if(e.parent!==t)return!1;if(!gH(t.children))return!1}return!0}function mH(e,t){let n=!1;for(const i of t)n=e.optimize(i)||n;return n}function vH(e,t,n){let i=e.sources,r=!1;return r=mH(new nH,i)||r,r=mH(new eH(t),i)||r,i=i.filter(e=>e.numChildren()>0),r=mH(new oH,i)||r,i=i.filter(e=>e.numChildren()>0),n||(r=mH(new iH,i)||r,r=mH(new lH(t),i)||r,r=mH(new tH,i)||r,r=mH(new rH,i)||r,r=mH(new sH,i)||r,r=mH(new aH,i)||r,r=mH(new KY,i)||r,r=mH(new uH,i)||r),e.sources=i,r}class yH{constructor(e){Object.defineProperty(this,\"signal\",{enumerable:!0,get:e})}static fromName(e,t){return new yH(()=>e(t))}}function bH(e){HH(e)?function(e){const t=e.component.scales;for(const n of eF(t)){const i=_H(e,n);if(t[n].setWithExplicit(\"domains\",i),OH(e,n),e.component.data.isFaceted){let t=e;for(;!qH(t)&&t.parent;)t=t.parent;if(\"shared\"===t.component.resolve.scale[n])for(const e of i.value)wR(e)&&(e.data=pH+e.data.replace(pH,\"\"))}}}(e):function(e){for(const t of e.children)bH(t);const t=e.component.scales;for(const n of eF(t)){let i,r=null;for(const t of e.children){const e=t.component.scales[n];if(e){i=void 0===i?e.getWithExplicit(\"domains\"):N$(i,e.getWithExplicit(\"domains\"),\"domains\",\"scale\",SH);const t=e.get(\"selectionExtent\");r&&t&&r.selection!==t.selection&&nR(v.NEEDS_SAME_SELECTION),r=t}}t[n].setWithExplicit(\"domains\",i),r&&t[n].set(\"selectionExtent\",r,!0)}}(e)}function _H(e,t){const n=e.getScaleComponent(t).get(\"type\"),{encoding:i}=e,r=function(e,t,n,i){if(\"unaggregated\"===e){const{valid:e,reason:i}=EH(t,n);if(!e)return void nR(i)}else if(void 0===e&&i.useUnaggregatedDomain){const{valid:e}=EH(t,n);if(e)return\"unaggregated\"}return e}(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return r!==e.scaleDomain(t)&&(e.specifiedScales[t]=Object.assign(Object.assign({},e.specifiedScales[t]),{domain:r})),\"x\"===t&&FB(i.x2)?FB(i.x)?N$(xH(n,r,e,\"x\"),xH(n,r,e,\"x2\"),\"domain\",\"scale\",SH):xH(n,r,e,\"x2\"):\"y\"===t&&FB(i.y2)?FB(i.y)?N$(xH(n,r,e,\"y\"),xH(n,r,e,\"y2\"),\"domain\",\"scale\",SH):xH(n,r,e,\"y2\"):xH(n,r,e,t)}function wH(e,t,n){var i;const r=null===(i=yR(n))||void 0===i?void 0:i.unit;return\"temporal\"===t||r?function(e,t,n){return e.map(e=>({signal:`{data: ${LB(e,{timeUnit:n,type:t})}}`}))}(e,t,r):[e]}function xH(e,t,n,i){const{encoding:r}=n,o=FB(r[i]),{type:a}=o,s=o.timeUnit;if(function(e){return e&&e.unionWith}(t)){const r=xH(e,void 0,n,i),o=wH(t.unionWith,a,s);return T$([...r.value,...o])}if(bR(t))return T$([t]);if(t&&\"unaggregated\"!==t&&!mI(t))return T$(wH(t,a,s));const l=n.stack;if(l&&i===l.fieldChannel){if(\"normalize\"===l.offset)return A$([[0,1]]);const e=n.requestDataName(Y$.Main);return A$([{data:e,field:n.vgField(i,{suffix:\"start\"})},{data:e,field:n.vgField(i,{suffix:\"end\"})}])}const u=bN(i)&&uB(o)?function(e,t,n){if(!hI(n))return;const i=e.fieldDef(t),r=i.sort;if(JI(r))return{op:\"min\",field:LU(i,t),order:\"ascending\"};const{stack:o}=e,a=o?[...o.groupbyField?[o.groupbyField]:[],...o.stackBy.map(e=>e.fieldDef.field)]:void 0;if(QI(r)){const e=o&&!HA(a,r.field);return kH(r,e)}if(ZI(r)){const{encoding:t,order:n}=r,i=e.fieldDef(t),{aggregate:s,field:l}=i,u=o&&!HA(a,l);if(KF(s)||eP(s))return kH({field:xB(i),order:n},u);if(tP(s)||!s)return kH({op:s,field:l,order:n},u)}else{if(\"descending\"===r)return{op:\"min\",field:e.vgField(t),order:\"descending\"};if(HA([\"ascending\",void 0],r))return!0}return}(n,i,e):void 0;if(dB(o)){return A$(wH([o.datum],a,s))}const c=o;if(\"unaggregated\"===t){const e=n.requestDataName(Y$.Main),{field:t}=o;return A$([{data:e,field:xB({field:t,aggregate:\"min\"})},{data:e,field:xB({field:t,aggregate:\"max\"})}])}if(SN(c.bin)){if(hI(e))return A$(\"bin-ordinal\"===e?[]:[{data:iF(u)?n.requestDataName(Y$.Main):n.requestDataName(Y$.Raw),field:n.vgField(i,WB(c,i)?{binSuffix:\"range\"}:{}),sort:!0!==u&&Object(se.G)(u)?u:{field:n.vgField(i,{}),op:\"min\"}}]);{const{bin:e}=c;if(SN(e)){const t=PY(n,c.field,e);return A$([new yH(()=>{const e=n.getSignalName(t);return`[${e}.start, ${e}.stop]`})])}return A$([{data:n.requestDataName(Y$.Main),field:n.vgField(i,{})}])}}if(c.timeUnit&&HA([\"time\",\"utc\"],e)&&oB(i,c,HH(n)?n.encoding[BP(i)]:void 0,n.stack,n.markDef,n.config)){const e=n.requestDataName(Y$.Main);return A$([{data:e,field:n.vgField(i)},{data:e,field:n.vgField(i,{suffix:\"end\"})}])}return A$(u?[{data:iF(u)?n.requestDataName(Y$.Main):n.requestDataName(Y$.Raw),field:n.vgField(i),sort:u}]:[{data:n.requestDataName(Y$.Main),field:n.vgField(i)}])}function kH(e,t){const{op:n,field:i,order:r}=e;return Object.assign(Object.assign({op:null!=n?n:t?\"sum\":VI},i?{field:cF(i)}:{}),r?{order:r}:{})}function OH(e,t){var n;const i=e.component.scales[t],r=e.specifiedScales[t].domain,o=null===(n=e.fieldDef(t))||void 0===n?void 0:n.bin,a=mI(r)&&r,s=jN(o)&&CN(o.extent)&&o.extent;(a||s)&&i.set(\"selectionExtent\",null!=a?a:s,!0)}function EH(e,t){const{aggregate:n,type:i}=e;return n?Object(se.I)(n)&&!oP[n]?{valid:!1,reason:v.unaggregateDomainWithNonSharedDomainOp(n)}:\"quantitative\"===i&&\"log\"===t?{valid:!1,reason:v.unaggregatedDomainWithLogScale(e)}:{valid:!0}:{valid:!1,reason:v.unaggregateDomainHasNoEffectForRawField(e)}}function SH(e,t,n,i){return e.explicit&&t.explicit&&nR(v.mergeConflictingDomainProperty(n,i,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function DH(e){if(wR(e)&&Object(se.I)(e.field))return e.field;if(function(e){return!Object(se.B)(e)&&(\"fields\"in e&&!(\"data\"in e))}(e)){let t;for(const n of e.fields)if(wR(n)&&Object(se.I)(n.field))if(t){if(t!==n.field)return nR(v.FACETED_INDEPENDENT_DIFFERENT_SOURCES),t}else t=n.field;return nR(v.FACETED_INDEPENDENT_SAME_FIELDS_DIFFERENT_SOURCES),t}if(function(e){return!Object(se.B)(e)&&(\"fields\"in e&&\"data\"in e)}(e)){nR(v.FACETED_INDEPENDENT_SAME_SOURCE);const t=e.fields[0];return Object(se.I)(t)?t:void 0}}function jH(e,t){return function(e){const t=XA(e.map(e=>{if(wR(e)){const{sort:t}=e;return EA(e,[\"sort\"])}return e}),UA),n=XA(e.map(e=>{if(wR(e)){const t=e.sort;return void 0===t||iF(t)||(\"op\"in t&&\"count\"===t.op&&delete t.field,\"ascending\"===t.order&&delete t.order),t}}).filter(e=>void 0!==e),UA);if(0===t.length)return;if(1===t.length){const t=e[0];if(wR(t)&&n.length>0){let e=n[0];if(n.length>1)nR(v.MORE_THAN_ONE_SORT),e=!0;else if(Object(se.G)(e)&&\"field\"in e){const n=e.field;t.field===n&&(e=!e.order||{order:e.order})}return Object.assign(Object.assign({},t),{sort:e})}return t}const i=XA(n.map(e=>iF(e)||!(\"op\"in e)||Object(se.I)(e.op)&&e.op in JF?e:(nR(v.domainSortDropped(e)),!0)),UA);let r;1===i.length?r=i[0]:i.length>1&&(nR(v.MORE_THAN_ONE_SORT),r=!0);const o=XA(e.map(e=>wR(e)?e.data:null),e=>e);if(1===o.length&&null!==o[0]){return Object.assign({data:o[0],fields:t.map(e=>e.field)},r?{sort:r}:{})}return Object.assign({fields:t},r?{sort:r}:{})}(e.component.scales[t].get(\"domains\").map(t=>(wR(t)&&(t.data=e.lookupDataSource(t.data)),t)))}function CH(e){return eF(e.component.scales).reduce((t,n)=>{const i=e.component.scales[n];if(i.merged)return t;const r=i.combine(),{name:o,type:a,selectionExtent:s,domains:l,range:u,reverse:c}=r,d=EA(r,[\"name\",\"type\",\"selectionExtent\",\"domains\",\"range\",\"reverse\"]),h=function(e,t,n,i){if(iN(n)){if(_R(e))return{step:{signal:t+\"_step\"}}}else if(Object(se.G)(e)&&wR(e))return Object.assign(Object.assign({},e),{data:i.lookupDataSource(e.data)});return e}(r.range,o,n,e);let f;s&&(f=function(e,t){const n=t.selection;return{signal:wU(e.getSelectionComponent(n,rF(n)),t)}}(e,s));const p=jH(e,n);return t.push(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:o,type:a},p?{domain:p}:{}),f?{domainRaw:f}:{}),{range:h}),void 0!==c?{reverse:c}:{}),d)),t},[])}class MH extends M${constructor(e,t){super({},{name:e}),this.merged=!1,this.setWithExplicit(\"type\",t)}domainDefinitelyIncludesZero(){return!1!==this.get(\"zero\")||qA(this.get(\"domains\"),e=>Object(se.B)(e)&&2===e.length&&e[0]<=0&&e[1]>=0)}}const TH=[\"range\",\"scheme\"];function AH(e){return\"x\"===e?\"width\":\"y\"===e?\"height\":void 0}function FH(e,t){const n=e.fieldDef(t);if(n&&n.bin&&SN(n.bin)){const i=PY(e,n.field,n.bin),r=AH(t),o=e.getName(r);return new yH(()=>{const t=e.getSignalName(i),n=`(${t}.stop - ${t}.start) / ${t}.step`;return`${e.getSignalName(o)} / (${n})`})}}function PH(e,t){const n=t.specifiedScales[e],{size:i}=t,r=t.getScaleComponent(e).get(\"type\");for(const i of TH)if(void 0!==n[i]){const o=SI(r,i),a=DI(e,i);if(o)if(a)nR(a);else switch(i){case\"range\":{const i=n.range;if(Object(se.B)(i)){if(iN(e))return T$(i.map(e=>{if(\"width\"===e||\"height\"===e){const n=t.getName(e),i=t.getSignalName.bind(t);return yH.fromName(i,n)}return e}))}else if(Object(se.G)(i))return T$({data:t.requestDataName(Y$.Main),field:i.field,sort:{op:\"min\",field:t.vgField(e)}});return T$(i)}case\"scheme\":return T$(NH(n[i]))}else nR(v.scalePropertyNotWorkWithScaleType(r,i,e))}if(\"x\"===e||\"y\"===e){const t=\"x\"===e?\"width\":\"height\",n=i[t];if(LL(n)){if(hI(r))return T$({step:n.step});nR(v.stepDropped(t))}}const{rangeMin:o,rangeMax:a}=n,s=function(e,t){const{size:n,config:i,mark:r,encoding:o}=t,a=t.getSignalName.bind(t),{type:s}=FB(o[e]),l=t.getScaleComponent(e).get(\"type\"),{domain:u,domainMid:c}=t.specifiedScales[e];switch(e){case\"x\":case\"y\":{if(HA([\"point\",\"band\"],l))if(\"x\"!==e||n.width){if(\"y\"===e&&!n.height){const e=HL(i.view,\"height\");if(LL(e))return e}}else{const e=HL(i.view,\"width\");if(LL(e))return e}const r=AH(e),o=t.getName(r);return\"y\"===e&&fI(l)?[yH.fromName(a,o),0]:[0,yH.fromName(a,o)]}case gP:{const o=t.component.scales[e].get(\"zero\"),a=function e(t,n,i){if(n)return bR(n)?{signal:`${n.signal} ? 0 : ${e(t,!1,i)}`}:0;switch(t){case\"bar\":case\"tick\":return i.scale.minBandSize;case\"line\":case\"trail\":case\"rule\":return i.scale.minStrokeWidth;case\"text\":return i.scale.minFontSize;case\"point\":case\"square\":case\"circle\":return i.scale.minSize}throw new Error(v.incompatibleChannel(\"size\",t))}(r,o,i),s=function(e,t,n,i){const r={x:FH(n,\"x\"),y:FH(n,\"y\")};switch(e){case\"bar\":case\"tick\":{if(void 0!==i.scale.maxBandSize)return i.scale.maxBandSize;const e=zH(t,r,i.view);return Object(se.F)(e)?e-1:new yH(()=>e.signal+\" - 1\")}case\"line\":case\"trail\":case\"rule\":return i.scale.maxStrokeWidth;case\"text\":return i.scale.maxFontSize;case\"point\":case\"square\":case\"circle\":{if(i.scale.maxSize)return i.scale.maxSize;const e=zH(t,r,i.view);return Object(se.F)(e)?Math.pow(.95*e,2):new yH(()=>`pow(0.95 * ${e.signal}, 2)`)}}throw new Error(v.incompatibleChannel(\"size\",e))}(r,n,t,i);return gI(l)?function(e,t,n){const i=()=>{const i=VB(t),r=VB(e),o=`(${i} - ${r}) / (${n} - 1)`;return`sequence(${r}, ${i} + ${o}, ${o})`};return bR(t)?new yH(i):{signal:i()}}(a,s,function(e,t,n,i){switch(e){case\"quantile\":return t.scale.quantileCount;case\"quantize\":return t.scale.quantizeCount;case\"threshold\":return void 0!==n&&Object(se.B)(n)?n.length+1:(nR(v.domainRequiredForThresholdScale(i)),3)}}(l,i,u,e)):[a,s]}case uP:return[0,2*Math.PI];case\"angle\":return[0,360];case lP:return[0,new yH(()=>`min(${t.getSignalName(\"width\")},${t.getSignalName(\"height\")})/2`)];case\"strokeWidth\":return[i.scale.minStrokeWidth,i.scale.maxStrokeWidth];case\"strokeDash\":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case pP:return\"symbol\";case dP:case hP:case fP:return\"ordinal\"===l?\"nominal\"===s?\"category\":\"ordinal\":void 0!==c?\"diverging\":\"rect\"===r||\"geoshape\"===r?\"heatmap\":\"ramp\";case\"opacity\":case\"fillOpacity\":case\"strokeOpacity\":return[i.scale.minOpacity,i.scale.maxOpacity]}throw new Error(\"Scale range undefined for channel \"+e)}(e,t);return(void 0!==o||void 0!==a)&&SI(r,\"rangeMin\")&&Object(se.B)(s)&&2===s.length?T$([null!=o?o:s[0],null!=a?a:s[1]]):A$(s)}function NH(e){return function(e){return!Object(se.I)(e)&&!!e.name}(e)?Object.assign({scheme:e.name},$A(e,[\"name\"])):{scheme:e}}function zH(e,t,n){const i=LL(e.width)?e.width.step:YL(n,\"width\"),r=LL(e.height)?e.height.step:YL(n,\"height\");return t.x||t.y?new yH(()=>`min(${[t.x?t.x.signal:i,t.y?t.y.signal:r].join(\", \")})`):Math.min(i,r)}function RH(e,t){HH(e)?function(e,t){const n=e.component.scales,{config:i,encoding:r,markDef:o,specifiedScales:a}=e;for(const s of eF(n)){const l=a[s],u=n[s],c=e.getScaleComponent(s),d=FB(r[s]),h=l[t],f=c.get(\"type\"),p=c.get(\"padding\"),g=c.get(\"paddingInner\"),m=SI(f,t),y=DI(s,t);if(void 0!==h&&(m?y&&nR(y):nR(v.scalePropertyNotWorkWithScaleType(f,t,s))),m&&void 0===y)if(void 0!==h){const e=d.timeUnit,n=d.type;switch(t){case\"domainMax\":case\"domainMin\":iR(l[t])||\"temporal\"===n||e?u.set(t,{signal:LB(l[t],{type:n,timeUnit:e})},!0):u.set(t,l[t],!0);break;default:u.copyKeyFromObject(t,l)}}else{const n=t in IH?IH[t]({model:e,channel:s,fieldOrDatumDef:d,scaleType:f,scalePadding:p,scalePaddingInner:g,domain:l.domain,markDef:o,config:i}):i.scale[t];void 0!==n&&u.set(t,n,!1)}}}(e,t):LH(e,t)}const IH={bins:({model:e,fieldOrDatumDef:t})=>uB(t)?function(e,t){const n=t.bin;if(SN(n)){const i=PY(e,t.field,n);return new yH(()=>e.getSignalName(i))}if(DN(n)&&jN(n)&&void 0!==n.step)return{step:n.step};return}(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>function(e,t){if(HA([dP,hP,fP],e)&&\"nominal\"!==t)return\"hcl\";return}(e,t.type),nice:({scaleType:e,channel:t,fieldOrDatumDef:n})=>function(e,t,n){var i;if((null===(i=AB(n))||void 0===i?void 0:i.bin)||HA([GR,XR],e))return;return t in tN||void 0}(e,t,n),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:i,config:r})=>function(e,t,n,i,r,o){if(e in tN){if(pI(t)){if(void 0!==n.continuousPadding)return n.continuousPadding;const{type:t,orient:a}=r;if(\"bar\"===t&&(!uB(i)||!i.bin&&!i.timeUnit)&&(\"vertical\"===a&&\"x\"===e||\"horizontal\"===a&&\"y\"===e))return o.continuousBandSize}if(t===KR)return n.pointPadding}return}(e,t,r.scale,n,i,r.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,config:i})=>function(e,t,n,i){if(void 0!==e)return;if(t in tN){const{bandPaddingInner:e,barBandPaddingInner:t,rectBandPaddingInner:r}=i;return pF(e,\"bar\"===n?t:r)}return}(e,t,n.type,i.scale),paddingOuter:({scalePadding:e,channel:t,scaleType:n,markDef:i,scalePaddingInner:r,config:o})=>function(e,t,n,i,r,o){if(void 0!==e)return;if(t in tN&&n===eI){const{bandPaddingOuter:e}=o;return pF(e,bR(r)?{signal:r.signal+\"/2\"}:r/2)}return}(e,t,n,i.type,r,o.scale),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:i})=>function(e,t,n,i){if(\"x\"===n&&void 0!==i.xReverse)return fI(e)&&\"descending\"===t?bR(i.xReverse)?{signal:\"!\"+i.xReverse.signal}:!i.xReverse:i.xReverse;if(fI(e)&&\"descending\"===t)return!0;return}(t,uB(e)?e.sort:void 0,n,i.scale),zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:i,scaleType:r})=>function(e,t,n,i,r){if(n&&\"unaggregated\"!==n&&fI(r)){if(Object(se.B)(n)){const e=n[0],t=n[n.length-1];if(e<=0&&t>=0)return!0}return!1}if(\"size\"===e&&\"quantitative\"===t.type&&!gI(r))return!0;if((!uB(t)||!t.bin)&&HA([...nN,...oN],e)){const{orient:t,type:n}=i;return!HA([\"bar\",\"area\",\"line\",\"trail\"],n)||!(\"horizontal\"===t&&\"y\"===e||\"vertical\"===t&&\"x\"===e)}return!1}(e,t,n,i,r)};function BH(e){HH(e)?function(e){const t=e.component.scales;for(const n of yN){const i=t[n];if(!i)continue;const r=PH(n,e);i.setWithExplicit(\"range\",r)}}(e):LH(e,\"range\")}function LH(e,t){const n=e.component.scales;for(const n of e.children)\"range\"===t?BH(n):RH(n,t);for(const i of eF(n)){let r;for(const n of e.children){const e=n.component.scales[i];if(e){r=N$(r,e.getWithExplicit(t),t,\"scale\",F$((e,n)=>{switch(t){case\"range\":return e.step&&n.step?e.step-n.step:0}return 0}))}}n[i].setWithExplicit(t,r)}}function $H(e,t,n,i){const r=function(e,t,n){var i;switch(t.type){case\"nominal\":case\"ordinal\":if(wP(e)||\"discrete\"===ON(e))return\"shape\"===e&&\"ordinal\"===t.type&&nR(v.discreteChannelCannotEncode(e,\"ordinal\")),\"ordinal\";if(e in tN){if(HA([\"rect\",\"bar\",\"image\",\"rule\"],n))return\"band\"}else if(\"arc\"===n&&e in rN)return\"band\";return void 0!==t.band||yB(t)&&(null===(i=t.axis)||void 0===i?void 0:i.tickBand)?\"band\":\"point\";case\"temporal\":return wP(e)?\"time\":\"discrete\"===ON(e)?(nR(v.discreteChannelCannotEncode(e,\"temporal\")),\"ordinal\"):uB(t)&&t.timeUnit&&yR(t.timeUnit).utc?\"utc\":\"time\";case\"quantitative\":return wP(e)?uB(t)&&SN(t.bin)?\"bin-ordinal\":\"linear\":\"discrete\"===ON(e)?(nR(v.discreteChannelCannotEncode(e,\"quantitative\")),\"ordinal\"):\"linear\";case\"geojson\":return}throw new Error(v.invalidFieldType(t.type))}(t,n,i),{type:o}=e;return bN(t)?void 0!==o?function(e,t){if(!bN(e))return!1;switch(e){case\"x\":case\"y\":case uP:case lP:return pI(t)||HA([\"band\",\"point\"],t);case gP:case\"strokeWidth\":case\"opacity\":case\"fillOpacity\":case\"strokeOpacity\":case\"angle\":return pI(t)||gI(t)||HA([\"band\",\"point\",\"ordinal\"],t);case dP:case hP:case fP:return\"band\"!==t;case\"strokeDash\":return\"ordinal\"===t||gI(t);case pP:return\"ordinal\"===t}}(t,o)?uB(n)&&(a=o,s=n.type,!(HA([BR,$R],s)?void 0===a||hI(a):s===LR?HA([GR,XR,void 0],a):s!==IR||HA([YR,HR,qR,VR,ZR,QR,JR,UR,void 0],a)))?(nR(v.scaleTypeNotWorkWithFieldDef(o,r)),r):o:(nR(v.scaleTypeNotWorkWithChannel(t,o,r)),r):r:null;var a,s}function WH(e){HH(e)?e.component.scales=function(e){const{encoding:t,mark:n}=e;return yN.reduce((i,r)=>{const o=FB(t[r]);if(o&&n===BF&&r===pP&&o.type===WR)return i;let a=o&&o.scale;if(o&&null!==a&&!1!==a){a=null!=a?a:{};const t=$H(a,r,o,n);i[r]=new MH(e.scaleName(r+\"\",!0),{value:t,explicit:a.type===t})}return i},{})}(e):e.component.scales=function(e){var t;const n=e.component.scales={},i={},r=e.component.resolve;for(const n of e.children){WH(n);for(const o of eF(n.component.scales))if(r.scale[o]=null!==(t=r.scale[o])&&void 0!==t?t:lY(o,e),\"shared\"===r.scale[o]){const e=i[o],t=n.component.scales[o].getWithExplicit(\"type\");e?nI(e.value,t.value)?i[o]=N$(e,t,\"type\",\"scale\",UH):(r.scale[o]=\"independent\",delete i[o]):i[o]=t}}for(const t of eF(i)){const r=e.scaleName(t,!0),o=i[t];n[t]=new MH(r,o);for(const n of e.children){const e=n.component.scales[t];e&&(n.renameScale(e.get(\"name\"),r),e.merged=!0)}}return n}(e)}const UH=F$((e,t)=>rI(e)-rI(t));class YH{constructor(){this.nameMap={}}rename(e,t){this.nameMap[e]=t}has(e){return void 0!==this.nameMap[e]}get(e){for(;this.nameMap[e]&&e!==this.nameMap[e];)e=this.nameMap[e];return e}}function HH(e){return\"unit\"===(null==e?void 0:e.type)}function qH(e){return\"facet\"===(null==e?void 0:e.type)}function VH(e){return\"concat\"===(null==e?void 0:e.type)}function GH(e){return\"layer\"===(null==e?void 0:e.type)}class XH{constructor(e,t,n,i,r,o,a){var s,l;this.type=t,this.parent=n,this.config=r,this.view=a,this.children=[],this.correctDataNames=e=>(e.from&&e.from.data&&(e.from.data=this.lookupDataSource(e.from.data)),e.from&&e.from.facet&&e.from.facet.data&&(e.from.facet.data=this.lookupDataSource(e.from.facet.data)),e),this.parent=n,this.config=r,this.name=null!==(s=e.name)&&void 0!==s?s:i,this.title=YB(e.title)?{text:e.title}:e.title,this.scaleNameMap=n?n.scaleNameMap:new YH,this.projectionNameMap=n?n.projectionNameMap:new YH,this.signalNameMap=n?n.signalNameMap:new YH,this.data=e.data,this.description=e.description,this.transforms=(null!==(l=e.transform)&&void 0!==l?l:[]).map(e=>H$(e)?{filter:RA(e.filter,zR)}:e),this.layout=\"layer\"===t||\"unit\"===t?{}:function(e,t,n){var i,r;const o=n[t],a={},{spacing:s,columns:l}=o;void 0!==s&&(a.spacing=s),void 0!==l&&(tB(e)&&!KI(e.facet)||RL(e))&&(a.columns=l),IL(e)&&(a.columns=1);for(const t of WL)if(void 0!==e[t])if(\"spacing\"===t){const n=e[t];a[t]=Object(se.F)(n)?n:{row:null!==(i=n.row)&&void 0!==i?i:s,column:null!==(r=n.column)&&void 0!==r?r:s}}else a[t]=e[t];return a}(e,t,r),this.component={data:{sources:n?n.component.data.sources:[],outputNodes:n?n.component.data.outputNodes:{},outputNodeRefCounts:n?n.component.data.outputNodeRefCounts:{},isFaceted:tB(e)||n&&n.component.data.isFaceted&&void 0===e.data},layoutSize:new M$,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({scale:{},axis:{},legend:{}},o?BA(o):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef(\"width\")}get height(){return this.getSizeSignalRef(\"height\")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){!function(e,{ignoreRange:t}={}){WH(e),bH(e);for(const t of EI)RH(e,t);t||BH(e)}(this)}parseProjection(){AY(this)}renameTopLevelLayoutSizeSignal(){\"width\"!==this.getName(\"width\")&&this.renameSignal(this.getName(\"width\"),\"width\"),\"height\"!==this.getName(\"height\")&&this.renameSignal(this.getName(\"height\"),\"height\")}parseLegends(){xY(this)}assembleGroupStyle(){var e,t;if(\"unit\"===this.type||\"layer\"===this.type)return null!==(t=null===(e=this.view)||void 0===e?void 0:e.style)&&void 0!==t?t:\"cell\"}assembleEncodeFromView(e){const{style:t}=e,n=EA(e,[\"style\"]),i={};for(const e of eF(n)){const t=n[e];void 0!==t&&(i[e]=HB(t))}return i}assembleGroupEncodeEntry(e){let t={};return this.view&&(t=this.assembleEncodeFromView(this.view)),e||(this.description&&(t.description=HB(this.description)),\"unit\"!==this.type&&\"layer\"!==this.type)?KA(t)?void 0:t:Object.assign({width:this.getSizeSignalRef(\"width\"),height:this.getSizeSignalRef(\"height\")},null!=t?t:{})}assembleLayout(){if(!this.layout)return;const e=this.layout,{spacing:t}=e,n=EA(e,[\"spacing\"]),{component:i,config:r}=this,o=function(e,t){const n={};for(const i of kP){const r=e[i];if(null==r?void 0:r.facetFieldDef){const{titleAnchor:e,titleOrient:o}=UU([\"titleAnchor\",\"titleOrient\"],r.facetFieldDef,t,i),a=$U(i,o),s=eY(e,a);void 0!==s&&(n[a]=s)}}return KA(n)?void 0:n}(i.layoutHeaders,r);return Object.assign(Object.assign(Object.assign({padding:t},this.assembleDefaultLayout()),n),o?{titleBand:o}:{})}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:e}=this.component;let t=[];for(const n of kP)e[n].title&&t.push(qU(this,n));for(const e of YU)t=t.concat(XU(this,e));return t}assembleAxes(){return function(e,t){const{x:n=[],y:i=[]}=e;return[...n.map(e=>OU(e,\"grid\",t)),...i.map(e=>OU(e,\"grid\",t)),...n.map(e=>OU(e,\"main\",t)),...i.map(e=>OU(e,\"main\",t))].filter(e=>e)}(this.component.axes,this.config)}assembleLegends(){return DY(this)}assembleProjections(){return jY(this)}assembleTitle(){var e,t,n;const i=null!==(e=this.title)&&void 0!==e?e:{},{encoding:r}=i,o=EA(i,[\"encoding\"]),a=Object.assign(Object.assign(Object.assign({},UB(this.config.title).nonMark),o),r?{encode:{update:r}}:{});if(a.text)return HA([\"unit\",\"layer\"],this.type)?HA([\"middle\",void 0],a.anchor)&&(a.frame=null!==(t=a.frame)&&void 0!==t?t:\"group\"):a.anchor=null!==(n=a.anchor)&&void 0!==n?n:\"start\",KA(a)?void 0:a}assembleGroup(e=[]){const t={};(e=e.concat(this.assembleSignals())).length>0&&(t.signals=e);const n=this.assembleLayout();n&&(t.layout=n),t.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||qH(this.parent)?function e(t){return GH(t)||VH(t)?t.children.reduce((t,n)=>t.concat(e(n)),CH(t)):CH(t)}(this):[];i.length>0&&(t.scales=i);const r=this.assembleAxes();r.length>0&&(t.axes=r);const o=this.assembleLegends();return o.length>0&&(t.legends=o),t}getName(e){return rF((this.name?this.name+\"_\":\"\")+e)}getDataName(e){return this.getName(Y$[e].toLowerCase())}requestDataName(e){const t=this.getDataName(e),n=this.component.data.outputNodeRefCounts;return n[t]=(n[t]||0)+1,t}getSizeSignalRef(e){if(qH(this.parent)){const t=aN(aY(e)),n=this.component.scales[t];if(n&&!n.merged){const e=n.get(\"type\"),i=n.get(\"range\");if(hI(e)&&_R(i)){const e=n.get(\"name\"),i=DH(jH(this,t));if(i){return{signal:oY(e,n,xB({aggregate:\"distinct\",field:i},{expr:\"datum\"}))}}return nR(v.unknownField(t)),null}}}return{signal:this.signalNameMap.get(this.getName(e))}}lookupDataSource(e){const t=this.component.data.outputNodes[e];return t?t.getSource():e}getSignalName(e){return this.signalNameMap.get(e)}renameSignal(e,t){this.signalNameMap.rename(e,t)}renameScale(e,t){this.scaleNameMap.rename(e,t)}renameProjection(e,t){this.projectionNameMap.rename(e,t)}scaleName(e,t){return t?this.getName(e):PP(e)&&bN(e)&&this.component.scales[e]||this.scaleNameMap.has(this.getName(e))?this.scaleNameMap.get(this.getName(e)):void 0}projectionName(e){return e?this.getName(\"projection\"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName(\"projection\"))?this.projectionNameMap.get(this.getName(\"projection\")):void 0}getScaleComponent(e){if(!this.component.scales)throw new Error(\"getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().\");const t=this.component.scales[e];return t&&!t.merged?t:this.parent?this.parent.getScaleComponent(e):void 0}getSelectionComponent(e,t){let n=this.component.selection[e];if(!n&&this.parent&&(n=this.parent.getSelectionComponent(e,t)),!n)throw new Error(v.selectionNotFound(t));return n}hasAxisOrientSignalRef(){var e,t;return(null===(e=this.component.axes.x)||void 0===e?void 0:e.some(e=>e.hasOrientSignalRef()))||(null===(t=this.component.axes.y)||void 0===t?void 0:t.some(e=>e.hasOrientSignalRef()))}}class ZH extends XH{vgField(e,t={}){const n=this.fieldDef(e);if(n)return xB(n,t)}reduceFieldDef(e,t){return uL(this.getMapping(),(t,n,i)=>{const r=AB(n);return r?e(t,r,i):t},t)}forEachFieldDef(e,t){lL(this.getMapping(),(t,n)=>{const i=AB(t);i&&e(i,n)},t)}}class QH extends RW{constructor(e,t){var n,i,r;super(e),this.transform=t,this.transform=BA(t);const o=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(i=o[0])&&void 0!==i?i:\"value\",null!==(r=o[1])&&void 0!==r?r:\"density\"]}clone(){return new QH(null,BA(this.transform))}dependentFields(){var e;return new Set([this.transform.density,...null!==(e=this.transform.groupby)&&void 0!==e?e:[]])}producedFields(){return new Set(this.transform.as)}hash(){return\"DensityTransform \"+UA(this.transform)}assemble(){const e=this.transform,{density:t}=e,n=EA(e,[\"density\"]);return Object.assign({type:\"kde\",field:t},n)}}class JH extends RW{constructor(e,t){super(e),this.filter=t}clone(){return new JH(null,Object.assign({},this.filter))}static make(e,t){const{config:n,mark:i,markDef:r}=t;if(\"filter\"!==XB(\"invalid\",r,n))return null;const o=t.reduceFieldDef((e,n,r)=>{const o=bN(r)&&t.getScaleComponent(r);if(o){fI(o.get(\"type\"))&&\"count\"!==n.aggregate&&!LF(i)&&(e[n.field]=n)}return e},{});return eF(o).length?new JH(e,o):null}dependentFields(){return new Set(eF(this.filter))}producedFields(){return new Set}hash(){return\"FilterInvalid \"+UA(this.filter)}assemble(){const e=eF(this.filter).reduce((e,t)=>{const n=this.filter[t],i=xB(n,{expr:\"datum\"});return null!==n&&(\"temporal\"===n.type?e.push(`(isDate(${i}) || (isValid(${i}) && isFinite(+${i})))`):\"quantitative\"===n.type&&(e.push(`isValid(${i})`),e.push(`isFinite(+${i})`))),e},[]);return e.length>0?{type:\"filter\",expr:e.join(\" && \")}:null}}class KH extends RW{constructor(e,t){super(e),this.transform=t,this.transform=BA(t);const{flatten:n,as:i=[]}=this.transform;this.transform.as=n.map((e,t)=>{var n;return null!==(n=i[t])&&void 0!==n?n:e})}clone(){return new KH(this.parent,BA(this.transform))}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return\"FlattenTransform \"+UA(this.transform)}assemble(){const{flatten:e,as:t}=this.transform;return{type:\"flatten\",fields:e,as:t}}}class eq extends RW{constructor(e,t){var n,i,r;super(e),this.transform=t,this.transform=BA(t);const o=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(i=o[0])&&void 0!==i?i:\"key\",null!==(r=o[1])&&void 0!==r?r:\"value\"]}clone(){return new eq(null,BA(this.transform))}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return\"FoldTransform \"+UA(this.transform)}assemble(){const{fold:e,as:t}=this.transform;return{type:\"fold\",fields:e,as:t}}}class tq extends RW{constructor(e,t,n,i){super(e),this.fields=t,this.geojson=n,this.signal=i}clone(){return new tq(null,BA(this.fields),this.geojson,this.signal)}static parseAll(e,t){if(t.component.projection&&!t.component.projection.isFit)return e;let n=0;for(const i of[[\"longitude\",\"latitude\"],[\"longitude2\",\"latitude2\"]]){const r=i.map(e=>{const n=FB(t.encoding[e]);return uB(n)?n.field:dB(n)?{expr:\"\"+n.datum}:mB(n)?{expr:\"\"+n.value}:void 0});(r[0]||r[1])&&(e=new tq(e,r,null,t.getName(\"geojson_\"+n++)))}if(t.channelHasField(pP)){const i=t.typedFieldDef(pP);i.type===WR&&(e=new tq(e,null,i.field,t.getName(\"geojson_\"+n++)))}return e}dependentFields(){var e;const t=(null!==(e=this.fields)&&void 0!==e?e:[]).filter(se.I);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${UA(this.fields)}`}assemble(){return Object.assign(Object.assign(Object.assign({type:\"geojson\"},this.fields?{fields:this.fields}:{}),this.geojson?{geojson:this.geojson}:{}),{signal:this.signal})}}class nq extends RW{constructor(e,t,n,i){super(e),this.projection=t,this.fields=n,this.as=i}clone(){return new nq(null,this.projection,BA(this.fields),BA(this.as))}static parseAll(e,t){if(!t.projectionName())return e;for(const n of[[\"longitude\",\"latitude\"],[\"longitude2\",\"latitude2\"]]){const i=n.map(e=>{const n=FB(t.encoding[e]);return uB(n)?n.field:dB(n)?{expr:\"\"+n.datum}:mB(n)?{expr:\"\"+n.value}:void 0}),r=\"longitude2\"===n[0]?\"2\":\"\";(i[0]||i[1])&&(e=new nq(e,t.projectionName(),i,[t.getName(\"x\"+r),t.getName(\"y\"+r)]))}return e}dependentFields(){return new Set(this.fields.filter(se.I))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${UA(this.fields)} ${UA(this.as)}`}assemble(){return{type:\"geopoint\",projection:this.projection,fields:this.fields,as:this.as}}}class iq extends RW{constructor(e,t){super(e),this.transform=t}clone(){return new iq(null,BA(this.transform))}dependentFields(){var e;return new Set([this.transform.impute,this.transform.key,...null!==(e=this.transform.groupby)&&void 0!==e?e:[]])}producedFields(){return new Set([this.transform.impute])}processSequence(e){const{start:t=0,stop:n,step:i}=e;return{signal:`sequence(${[t,n,...i?[i]:[]].join(\",\")})`}}static makeFromTransform(e,t){return new iq(e,t)}static makeFromEncoding(e,t){const n=t.encoding,i=n.x,r=n.y;if(uB(i)&&uB(r)){const o=i.impute?i:r.impute?r:void 0;if(void 0===o)return;const a=i.impute?r:r.impute?i:void 0,{method:s,value:l,frame:u,keyvals:c}=o.impute,d=cL(t.mark,n);return new iq(e,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({impute:o.field,key:a.field},s?{method:s}:{}),void 0!==l?{value:l}:{}),u?{frame:u}:{}),void 0!==c?{keyvals:c}:{}),d.length?{groupby:d}:{}))}return null}hash(){return\"Impute \"+UA(this.transform)}assemble(){const{impute:e,key:t,keyvals:n,method:i,groupby:r,value:o,frame:a=[null,null]}=this.transform,s=Object.assign(Object.assign(Object.assign(Object.assign({type:\"impute\",field:e,key:t},n?{keyvals:(l=n,void 0!==(null==l?void 0:l.stop)?this.processSequence(n):n)}:{}),{method:\"value\"}),r?{groupby:r}:{}),{value:i&&\"value\"!==i?null:o});var l;if(i&&\"value\"!==i){return[s,Object.assign({type:\"window\",as:[`imputed_${e}_value`],ops:[i],fields:[e],frame:a,ignorePeers:!1},r?{groupby:r}:{}),{type:\"formula\",expr:`datum.${e} === null ? datum.imputed_${e}_value : datum.${e}`,as:e}]}return[s]}}class rq extends RW{constructor(e,t){var n,i,r;super(e),this.transform=t,this.transform=BA(t);const o=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(i=o[0])&&void 0!==i?i:t.on,null!==(r=o[1])&&void 0!==r?r:t.loess]}clone(){return new rq(null,BA(this.transform))}dependentFields(){var e;return new Set([this.transform.loess,this.transform.on,...null!==(e=this.transform.groupby)&&void 0!==e?e:[]])}producedFields(){return new Set(this.transform.as)}hash(){return\"LoessTransform \"+UA(this.transform)}assemble(){const e=this.transform,{loess:t,on:n}=e,i=EA(e,[\"loess\",\"on\"]);return Object.assign({type:\"loess\",x:n,y:t},i)}}class oq extends RW{constructor(e,t,n){super(e),this.transform=t,this.secondary=n}clone(){return new oq(null,BA(this.transform),this.secondary)}static make(e,t,n,i){const r=t.component.data.sources,{from:o}=n;let a=null;if(function(e){return\"data\"in e}(o)){let e=_q(o.data,r);e||(e=new VY(o.data),r.push(e));const n=t.getName(\"lookup_\"+i);a=new IW(e,n,Y$.Lookup,t.component.data.outputNodeRefCounts),t.component.data.outputNodes[n]=a}else if(function(e){return\"selection\"in e}(o)){const e=o.selection;if(n=Object.assign({as:e},n),a=t.getSelectionComponent(rF(e),e).materialized,!a)throw new Error(v.noSameUnitLookup(e))}return new oq(e,n,a.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?Object(se.i)(this.transform.as):this.transform.from.fields)}hash(){return\"Lookup \"+UA({transform:this.transform,secondary:this.secondary})}assemble(){let e;if(this.transform.from.fields)e=Object.assign({values:this.transform.from.fields},this.transform.as?{as:Object(se.i)(this.transform.as)}:{});else{let t=this.transform.as;Object(se.I)(t)||(nR(v.NO_FIELDS_NEEDS_AS),t=\"_lookup\"),e={as:[t]}}return Object.assign(Object.assign({type:\"lookup\",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},e),this.transform.default?{default:this.transform.default}:{})}}class aq extends RW{constructor(e,t){var n,i,r;super(e),this.transform=t,this.transform=BA(t);const o=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(i=o[0])&&void 0!==i?i:\"prob\",null!==(r=o[1])&&void 0!==r?r:\"value\"]}clone(){return new aq(null,BA(this.transform))}dependentFields(){var e;return new Set([this.transform.quantile,...null!==(e=this.transform.groupby)&&void 0!==e?e:[]])}producedFields(){return new Set(this.transform.as)}hash(){return\"QuantileTransform \"+UA(this.transform)}assemble(){const e=this.transform,{quantile:t}=e,n=EA(e,[\"quantile\"]);return Object.assign({type:\"quantile\",field:t},n)}}class sq extends RW{constructor(e,t){var n,i,r;super(e),this.transform=t,this.transform=BA(t);const o=null!==(n=this.transform.as)&&void 0!==n?n:[void 0,void 0];this.transform.as=[null!==(i=o[0])&&void 0!==i?i:t.on,null!==(r=o[1])&&void 0!==r?r:t.regression]}clone(){return new sq(null,BA(this.transform))}dependentFields(){var e;return new Set([this.transform.regression,this.transform.on,...null!==(e=this.transform.groupby)&&void 0!==e?e:[]])}producedFields(){return new Set(this.transform.as)}hash(){return\"RegressionTransform \"+UA(this.transform)}assemble(){const e=this.transform,{regression:t,on:n}=e,i=EA(e,[\"regression\",\"on\"]);return Object.assign({type:\"regression\",x:n,y:t},i)}}class lq extends RW{constructor(e,t){super(e),this.transform=t}clone(){return new lq(null,BA(this.transform))}addDimensions(e){var t;this.transform.groupby=XA((null!==(t=this.transform.groupby)&&void 0!==t?t:[]).concat(e),e=>e)}producedFields(){}dependentFields(){var e;return new Set([this.transform.pivot,this.transform.value,...null!==(e=this.transform.groupby)&&void 0!==e?e:[]])}hash(){return\"PivotTransform \"+UA(this.transform)}assemble(){const{pivot:e,value:t,groupby:n,limit:i,op:r}=this.transform;return Object.assign(Object.assign(Object.assign({type:\"pivot\",field:e,value:t},void 0!==i?{limit:i}:{}),void 0!==r?{op:r}:{}),void 0!==n?{groupby:n}:{})}}class uq extends RW{constructor(e,t){super(e),this.transform=t}clone(){return new uq(null,BA(this.transform))}dependentFields(){return new Set}producedFields(){return new Set}hash(){return\"SampleTransform \"+UA(this.transform)}assemble(){return{type:\"sample\",size:this.transform.sample}}}function cq(e){let t=0;return function n(i,r){var o;if(i instanceof VY&&!i.isGenerator&&!R$(i.data)){e.push(r);r={name:null,source:r.name,transform:[]}}if(i instanceof UY&&(i.parent instanceof VY&&!r.source?(r.format=Object.assign(Object.assign({},null!==(o=r.format)&&void 0!==o?o:{}),{parse:i.assembleFormatParse()}),r.transform.push(...i.assembleTransforms(!0))):r.transform.push(...i.assembleTransforms())),i instanceof BY){r.name||(r.name=\"data_\"+t++),!r.source||r.transform.length>0?(e.push(r),i.data=r.name):i.data=r.source;for(const t of i.assemble())e.push(t)}else{if((i instanceof HY||i instanceof qY||i instanceof JH||i instanceof bU||i instanceof BU||i instanceof nq||i instanceof tq||i instanceof IY||i instanceof oq||i instanceof hH||i instanceof cH||i instanceof eq||i instanceof KH||i instanceof QH||i instanceof rq||i instanceof aq||i instanceof sq||i instanceof YY||i instanceof uq||i instanceof lq)&&r.transform.push(i.assemble()),(i instanceof zY||i instanceof BW||i instanceof iq||i instanceof dH)&&r.transform.push(...i.assemble()),i instanceof IW)if(r.source&&0===r.transform.length)i.setSource(r.source);else if(i.parent instanceof IW)i.setSource(r.name);else if(r.name||(r.name=\"data_\"+t++),i.setSource(r.name),1===i.numChildren()){e.push(r);r={name:null,source:r.name,transform:[]}}switch(i.numChildren()){case 0:i instanceof IW&&(!r.source||r.transform.length>0)&&e.push(r);break;case 1:n(i.children[0],r);break;default:{r.name||(r.name=\"data_\"+t++);let o=r.name;!r.source||r.transform.length>0?e.push(r):o=r.source;for(const e of i.children){n(e,{name:null,source:o,transform:[]})}break}}}}}function dq(e,t){var n;const{facet:i,config:r,child:o,component:a}=e;if(e.channelHasField(t)){const s=i[t],l=WU(\"title\",null,r,t);let u=jB(s,r,{allowDisabling:!0,includeDefault:void 0===l||!!l});o.component.layoutHeaders[t].title&&(u=Object(se.B)(u)?u.join(\", \"):u,u+=\" / \"+o.component.layoutHeaders[t].title,o.component.layoutHeaders[t].title=null);const c=WU(\"labelOrient\",s,r,t),d=pF((null!==(n=s.header)&&void 0!==n?n:{}).labels,r.header.labels,!0),h=HA([\"bottom\",\"right\"],c)?\"footer\":\"header\";a.layoutHeaders[t]={title:u,facetFieldDef:s,[h]:\"facet\"===t?[]:[hq(e,t,d)]}}}function hq(e,t,n){const i=\"row\"===t?\"height\":\"width\";return{labels:n,sizeSignal:e.child.component.layoutSize.get(i)?e.child.getSizeSignalRef(i):void 0,axes:[]}}function fq(e,t){var n;const{child:i}=e;if(i.component.axes[t]){const{layoutHeaders:o,resolve:a}=e.component;if(a.axis[t]=uY(a,t),\"shared\"===a.axis[t]){const a=\"x\"===t?\"column\":\"row\",s=o[a];for(const o of i.component.axes[t]){const t=\"top\"===(r=o.get(\"orient\"))||\"left\"===r||bR(r)?\"header\":\"footer\";s[t]=null!==(n=s[t])&&void 0!==n?n:[hq(e,a,!1)];const i=OU(o,\"main\",e.config,{header:!0});i&&s[t][0].axes.push(i),o.mainExtracted=!0}}}var r}function pq(e){gq(e);const t=1===e.layout.columns?\"width\":\"childWidth\",n=void 0===e.layout.columns?\"height\":\"childHeight\";mq(e,t),mq(e,n)}function gq(e){for(const t of e.children)t.parseLayoutSize()}function mq(e,t){const n=aY(t),i=aN(n),r=e.component.resolve,o=e.component.layoutSize;let a;for(const t of e.children){const e=t.component.layoutSize.getWithExplicit(n),o=r.scale[i];if(\"independent\"===o&&\"step\"===e.value){a=void 0;break}if(a){if(\"independent\"===o&&a.value!==e.value){a=void 0;break}a=N$(a,e,n,\"\")}else a=e}if(a){for(const i of e.children)e.renameSignal(i.getName(n),e.getName(t)),i.component.layoutSize.set(n,\"merged\",!1);o.setWithExplicit(t,a)}else o.setWithExplicit(t,{explicit:!1,value:void 0})}function vq(e,t){const n=\"width\"===t?\"x\":\"y\",i=e.config,r=e.getScaleComponent(n);if(r){const e=r.get(\"type\"),n=r.get(\"range\");if(hI(e)){const e=HL(i.view,t);return _R(n)||LL(e)?\"step\":e}return UL(i.view,t)}if(e.hasProjection||\"arc\"===e.mark)return UL(i.view,t);{const e=HL(i.view,t);return LL(e)?e.step:e}}function yq(e,t,n){return xB(t,Object.assign({suffix:\"by_\"+xB(e)},null!=n?n:{}))}class bq extends ZH{constructor(e,t,n,i){super(e,\"facet\",t,n,i,e.resolve),this.child=$q(e.spec,this,this.getName(\"child\"),void 0,i),this.children=[this.child],this.facet=this.initFacet(e.facet,i)}initFacet(e,t){return KI(e)?uL(e,(e,n,i)=>HA([aP,sP],i)?void 0===n.field?(nR(v.emptyFieldDef(n,i)),e):(e[i]=PB(n,i,t),e):(nR(v.incompatibleChannel(i,\"facet\")),e),{}):{facet:PB(e,\"facet\",t)}}channelHasField(e){return!!this.facet[e]}fieldDef(e){return this.facet[e]}parseData(){this.component.data=xq(this),this.child.parseData()}parseLayoutSize(){gq(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),function(e){for(const t of kP)dq(e,t);fq(e,\"x\"),fq(e,\"y\")}(this)}assembleSelectionTopLevelSignals(e){return this.child.assembleSelectionTopLevelSignals(e)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(e){return this.child.assembleSelectionData(e)}getHeaderLayoutMixins(){var e,t,n;const i={};for(const r of kP)for(const o of HU){const a=this.component.layoutHeaders[r],s=a[o],{facetFieldDef:l}=a;if(l){const t=WU(\"titleOrient\",l,this.config,r);if(HA([\"right\",\"bottom\"],t)){const n=$U(r,t);i.titleAnchor=null!==(e=i.titleAnchor)&&void 0!==e?e:{},i.titleAnchor[n]=\"end\"}}if(null==s?void 0:s[0]){const e=\"row\"===r?\"height\":\"width\",s=\"header\"===o?\"headerBand\":\"footerBand\";\"facet\"===r||this.child.component.layoutSize.get(e)||(i[s]=null!==(t=i[s])&&void 0!==t?t:{},i[s][r]=.5),a.title&&(i.offset=null!==(n=i.offset)&&void 0!==n?n:{},i.offset[\"row\"===r?\"rowTitle\":\"columnTitle\"]=10)}}return i}assembleDefaultLayout(){const{column:e,row:t}=this.facet,n=e?this.columnDistinctSignal():t?1:void 0;let i=\"all\";return(t||\"independent\"!==this.component.resolve.scale.x)&&(e||\"independent\"!==this.component.resolve.scale.y)||(i=\"none\"),Object.assign(Object.assign(Object.assign({},this.getHeaderLayoutMixins()),n?{columns:n}:{}),{bounds:\"full\",align:i})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof bq)){return{signal:`length(data('${this.getName(\"column_domain\")}'))`}}}assembleGroup(e){return this.parent&&this.parent instanceof bq?Object.assign(Object.assign({},this.channelHasField(\"column\")?{encode:{update:{columns:{field:xB(this.facet.column,{prefix:\"distinct\"})}}}}:{}),super.assembleGroup(e)):super.assembleGroup(e)}getCardinalityAggregateForChild(){const e=[],t=[],n=[];if(this.child instanceof bq){if(this.child.channelHasField(\"column\")){const i=xB(this.child.facet.column);e.push(i),t.push(\"distinct\"),n.push(\"distinct_\"+i)}}else for(const i of nN){const r=this.child.component.scales[i];if(r&&!r.merged){const o=r.get(\"type\"),a=r.get(\"range\");if(hI(o)&&_R(a)){const r=DH(jH(this.child,i));r?(e.push(r),t.push(\"distinct\"),n.push(\"distinct_\"+r)):nR(v.unknownField(i))}}}return{fields:e,ops:t,as:n}}assembleFacet(){const{name:e,data:t}=this.component.data.facetRoot,{row:n,column:i}=this.facet,{fields:r,ops:o,as:a}=this.getCardinalityAggregateForChild(),s=[];for(const e of kP){const t=this.facet[e];if(t){s.push(xB(t));const{bin:l,sort:u}=t;if(SN(l)&&s.push(xB(t,{binSuffix:\"end\"})),QI(u)){const{field:e,op:s=VI}=u,l=yq(t,u);n&&i?(r.push(l),o.push(\"max\"),a.push(l)):(r.push(e),o.push(s),a.push(l))}else if(Object(se.B)(u)){const n=LU(t,e);r.push(n),o.push(\"max\"),a.push(n)}}}const l=!!n&&!!i;return Object.assign({name:e,data:t,groupby:s},l||r.length>0?{aggregate:Object.assign(Object.assign({},l?{cross:l}:{}),r.length?{fields:r,ops:o,as:a}:{})}:{})}facetSortFields(e){const{facet:t}=this,n=t[e];return n?QI(n.sort)?[yq(n,n.sort,{expr:\"datum\"})]:Object(se.B)(n.sort)?[LU(n,e,{expr:\"datum\"})]:[xB(n,{expr:\"datum\"})]:[]}facetSortOrder(e){const{facet:t}=this,n=t[e];if(n){const{sort:e}=n;return[(QI(e)?e.order:!Object(se.B)(e)&&e)||\"ascending\"]}return[]}assembleLabelTitle(){const{facet:e,config:t}=this;if(e.facet)return QU(e.facet,\"facet\",t);const n={row:[\"top\",\"bottom\"],column:[\"left\",\"right\"]};for(const i of YU)if(e[i]){const r=WU(\"labelOrient\",e[i],t,i);if(HA(n[i],r))return QU(e[i],i,t)}}assembleMarks(){const{child:e}=this,t=function(e){const t=[],n=cq(t);for(const t of e.children)n(t,{source:e.name,name:null,transform:[]});return t}(this.component.data.facetRoot),n=e.assembleGroupEncodeEntry(!1),i=this.assembleLabelTitle()||e.assembleTitle(),r=e.assembleGroupStyle();return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:this.getName(\"cell\"),type:\"group\"},i?{title:i}:{}),r?{style:r}:{}),{from:{facet:this.assembleFacet()},sort:{field:kP.map(e=>this.facetSortFields(e)).flat(),order:kP.map(e=>this.facetSortOrder(e)).flat()}}),t.length>0?{data:t}:{}),n?{encode:{update:n}}:{}),e.assembleGroup(function(e,t){if(e.component.selection&&eF(e.component.selection).length){const n=Object(se.ab)(e.getName(\"cell\"));t.unshift({name:\"facet\",value:{},on:[{events:qC(\"mousemove\",\"scope\"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return iU(t)}(this,[])))]}getMapping(){return this.facet}}function _q(e,t){var n,i,r,o,a,s,l,u,c,d;for(const h of t){const t=h.data;if((!e.name||!h.hasName()||e.name===h.dataName)&&!((null===(n=e.format)||void 0===n?void 0:n.mesh)&&(null===(i=t.format)||void 0===i?void 0:i.feature)||((null===(r=e.format)||void 0===r?void 0:r.feature)||(null===(o=t.format)||void 0===o?void 0:o.feature))&&(null===(a=e.format)||void 0===a?void 0:a.feature)!==(null===(s=t.format)||void 0===s?void 0:s.feature)||((null===(l=e.format)||void 0===l?void 0:l.mesh)||(null===(u=t.format)||void 0===u?void 0:u.mesh))&&(null===(c=e.format)||void 0===c?void 0:c.mesh)!==(null===(d=t.format)||void 0===d?void 0:d.mesh)))if(I$(e)&&I$(t)){if(IA(e.values,t.values))return h}else if(R$(e)&&R$(t)){if(e.url===t.url)return h}else if(B$(e)&&e.name===h.dataName)return h}return null}function wq(e,t){if(e.data||!e.parent){if(null===e.data){const e=new VY({values:[]});return t.push(e),e}const n=_q(e.data,t);if(n)return L$(e.data)||(n.data.format=function(e,...t){for(const n of t)GA(e,null!=n?n:{});return e}({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const n=new VY(e.data);return t.push(n),n}}return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function xq(e){var t,n,i,r,o,a,s,l,u,c;let d=wq(e,e.component.data.sources);const{outputNodes:h,outputNodeRefCounts:f}=e.component.data,p=e.parent?e.parent.component.data.ancestorParse.clone():new z$,g=e.data;L$(g)?($$(g)?d=new qY(d,g.sequence):U$(g)&&(d=new HY(d,g.graticule)),p.parseNothing=!0):null===(null===(t=null==g?void 0:g.format)||void 0===t?void 0:t.parse)&&(p.parseNothing=!0),d=null!==(n=UY.makeExplicit(d,e,p))&&void 0!==n?n:d,d=new YY(d);const m=e.parent&&GH(e.parent);(HH(e)||qH(e))&&m&&(d=null!==(i=zY.makeFromEncoding(d,e))&&void 0!==i?i:d),e.transforms.length>0&&(d=function(e,t,n){var i,r;let o=0;for(const a of t.transforms){let s,l=void 0;if(nW(a))s=e=new BU(e,a),l=\"derived\";else if(H$(a)){const r=$Y(a);s=e=null!==(i=UY.makeWithAncestors(e,{},r,n))&&void 0!==i?i:e,e=new bU(e,t,a.filter)}else if(iW(a))s=e=zY.makeFromTransform(e,a,t),l=\"number\";else if(oW(a)){l=\"date\";void 0===n.getWithExplicit(a.field).value&&(e=new UY(e,{[a.field]:l}),n.set(a.field,l,!1)),s=e=BW.makeFromTransform(e,a)}else if(aW(a))s=e=IY.makeFromTransform(e,a),l=\"number\",vU(t)&&(e=new YY(e));else if(q$(a))s=e=oq.make(e,t,a,o++),l=\"derived\";else if(K$(a))s=e=new hH(e,a),l=\"number\";else if(eW(a))s=e=new cH(e,a),l=\"number\";else if(sW(a))s=e=dH.makeFromTransform(e,a),l=\"derived\";else if(lW(a))s=e=new eq(e,a),l=\"derived\";else if(tW(a))s=e=new KH(e,a),l=\"derived\";else if(V$(a))s=e=new lq(e,a),l=\"derived\";else if(J$(a))e=new uq(e,a);else if(rW(a))s=e=iq.makeFromTransform(e,a),l=\"derived\";else if(G$(a))s=e=new QH(e,a),l=\"derived\";else if(X$(a))s=e=new aq(e,a),l=\"derived\";else if(Z$(a))s=e=new sq(e,a),l=\"derived\";else{if(!Q$(a)){nR(v.invalidTransformIgnored(a));continue}s=e=new rq(e,a),l=\"derived\"}if(s&&void 0!==l)for(const e of null!==(r=s.producedFields())&&void 0!==r?r:[])n.set(e,l,!1)}return e}(d,e,p));const y=function(e){const t={};if(HH(e)&&e.component.selection)for(const n of eF(e.component.selection)){const i=e.component.selection[n];for(const e of i.project.items)!e.channel&&fF(e.field)>1&&(t[e.field]=\"flatten\")}return t}(e),b=WY(e);d=null!==(r=UY.makeWithAncestors(d,{},Object.assign(Object.assign({},y),b),p))&&void 0!==r?r:d,HH(e)&&(d=tq.parseAll(d,e),d=nq.parseAll(d,e)),(HH(e)||qH(e))&&(m||(d=null!==(o=zY.makeFromEncoding(d,e))&&void 0!==o?o:d),d=null!==(a=BW.makeFromEncoding(d,e))&&void 0!==a?a:d,d=BU.parseAllForSortIndex(d,e));const _=e.getDataName(Y$.Raw),w=new IW(d,_,Y$.Raw,f);if(h[_]=w,d=w,HH(e)){const t=IY.makeFromEncoding(d,e);t&&(d=t,vU(e)&&(d=new YY(d))),d=null!==(s=iq.makeFromEncoding(d,e))&&void 0!==s?s:d,d=null!==(l=dH.makeFromEncoding(d,e))&&void 0!==l?l:d}HH(e)&&(d=null!==(u=JH.make(d,e))&&void 0!==u?u:d);const x=e.getDataName(Y$.Main),k=new IW(d,x,Y$.Main,f);h[x]=k,d=k,HH(e)&&function(e,t){gU(e,n=>{const i=n.name,r=e.getName(\"lookup_\"+i);e.component.data.outputNodes[r]=n.materialized=new IW(new bU(t,e,{selection:i}),r,Y$.Lookup,e.component.data.outputNodeRefCounts)})}(e,k);let O=null;if(qH(e)){const t=e.getName(\"facet\");d=null!==(c=function(e,t){const{row:n,column:i}=t;if(n&&i){let t=null;for(const r of[n,i])if(QI(r.sort)){const{field:n,op:i=VI}=r.sort;e=t=new cH(e,{joinaggregate:[{op:i,field:n,as:yq(r,r.sort,{forAs:!0})}],groupby:[xB(r)]})}return t}return null}(d,e.facet))&&void 0!==c?c:d,O=new BY(d,e,t,k.getSource()),h[t]=O}return Object.assign(Object.assign({},e.component.data),{outputNodes:h,outputNodeRefCounts:f,raw:w,main:k,facetRoot:O,ancestorParse:p})}class kq extends XH{constructor(e,t,n,i){var r,o,a,s;super(e,\"concat\",t,n,i,e.resolve),\"shared\"!==(null===(o=null===(r=e.resolve)||void 0===r?void 0:r.axis)||void 0===o?void 0:o.x)&&\"shared\"!==(null===(s=null===(a=e.resolve)||void 0===a?void 0:a.axis)||void 0===s?void 0:s.y)||nR(v.CONCAT_CANNOT_SHARE_AXIS),this.children=this.getChildren(e).map((e,t)=>$q(e,this,this.getName(\"concat_\"+t),void 0,i))}parseData(){this.component.data=xq(this);for(const e of this.children)e.parseData()}parseSelections(){this.component.selection={};for(const e of this.children){e.parseSelections();for(const t of eF(e.component.selection))this.component.selection[t]=e.component.selection[t]}}parseMarkGroup(){for(const e of this.children)e.parseMarkGroup()}parseAxesAndHeaders(){for(const e of this.children)e.parseAxesAndHeaders()}getChildren(e){return IL(e)?e.vconcat:BL(e)?e.hconcat:e.concat}parseLayoutSize(){pq(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(e){return this.children.reduce((e,t)=>t.assembleSelectionTopLevelSignals(e),e)}assembleSignals(){return this.children.forEach(e=>e.assembleSignals()),[]}assembleLayoutSignals(){const e=nY(this);for(const t of this.children)e.push(...t.assembleLayoutSignals());return e}assembleSelectionData(e){return this.children.reduce((e,t)=>t.assembleSelectionData(e),e)}assembleMarks(){return this.children.map(e=>{const t=e.assembleTitle(),n=e.assembleGroupStyle(),i=e.assembleGroupEncodeEntry(!1);return Object.assign(Object.assign(Object.assign(Object.assign({type:\"group\",name:e.getName(\"group\")},t?{title:t}:{}),n?{style:n}:{}),i?{encode:{update:i}}:{}),e.assembleGroup())})}assembleDefaultLayout(){const e=this.layout.columns;return Object.assign(Object.assign({},null!=e?{columns:e}:{}),{bounds:\"full\",align:\"each\"})}}const Oq=Object.assign(Object.assign({disable:1,gridScale:1,scale:1},xF),{labelExpr:1,encode:1}),Eq=eF(Oq);class Sq extends M${constructor(e={},t={},n=!1){super(),this.explicit=e,this.implicit=t,this.mainExtracted=n}clone(){return new Sq(BA(this.explicit),BA(this.implicit),this.mainExtracted)}hasAxisPart(e){return\"axis\"===e||(\"grid\"===e||\"title\"===e?!!this.get(e):!(!1===(t=this.get(e))||null===t));var t}hasOrientSignalRef(){return bR(this.explicit.orient)}}const Dq={bottom:\"top\",top:\"bottom\",left:\"right\",right:\"left\"};function jq(e,t){if(!e)return t.map(e=>e.clone());{if(e.length!==t.length)return;const n=e.length;for(let i=0;i<n;i++){const n=e[i],r=t[i];if(!!n!=!!r)return;if(n&&r){const t=n.getWithExplicit(\"orient\"),o=r.getWithExplicit(\"orient\");if(t.explicit&&o.explicit&&t.value!==o.value)return;e[i]=Cq(n,r)}}}return e}function Cq(e,t){for(const n of Eq){const i=N$(e.getWithExplicit(n),t.getWithExplicit(n),n,\"axis\",(e,t)=>{switch(n){case\"title\":return nL(e,t);case\"gridScale\":return{explicit:e.explicit,value:pF(e.value,t.value)}}return P$(e,t,n,\"axis\")});e.setWithExplicit(n,i)}return e}function Mq(e,t,n,i,r){if(\"disable\"===t)return void 0!==n;switch(n=n||{},t){case\"titleAngle\":case\"labelAngle\":return e===(bR(n.labelAngle)?n.labelAngle:mF(n.labelAngle));case\"values\":return!!n.values;case\"encode\":return!!n.encoding||!!n.labelAngle;case\"title\":if(e===IU(i,r))return!0}return e===n[t]}const Tq=new Set([\"grid\",\"translate\",\"format\",\"formatType\",\"orient\",\"labelExpr\",\"tickCount\",\"position\",\"tickMinStep\"]);function Aq(e,t){var n,i,r;let o=t.axis(e);const a=new Sq,s=FB(t.encoding[e]),{mark:l,config:u}=t,c=(null==o?void 0:o.orient)||(null===(n=u[\"x\"===e?\"axisX\":\"axisY\"])||void 0===n?void 0:n.orient)||(null===(i=u.axis)||void 0===i?void 0:i.orient)||function(e){return\"x\"===e?\"bottom\":\"left\"}(e),d=t.getScaleComponent(e).get(\"type\"),h=TU(e,d,c,t.config),f=void 0!==o?!o:FU(\"disable\",u.style,null==o?void 0:o.style,h).configValue;if(a.set(\"disable\",f,void 0!==o),f)return a;o=o||{};const p=function(e,t,n,i,r){const o=null==t?void 0:t.labelAngle;if(void 0!==o)return bR(o)?o:mF(o);{const{configValue:o}=FU(\"labelAngle\",i,null==t?void 0:t.style,r);return void 0!==o?mF(o):\"x\"!==n||!HA([$R,BR],e.type)||uB(e)&&e.timeUnit?void 0:270}}(s,o,e,u.style,h),g={fieldOrDatumDef:s,axis:o,channel:e,model:t,scaleType:d,orient:c,labelAngle:p,mark:l,config:u};for(const n of Eq){const i=n in PU?PU[n](g):OF(n)?o[n]:void 0,r=void 0!==i,s=Mq(i,n,o,t,e);if(r&&s)a.set(n,i,s);else{const{configValue:e,configFrom:t}=OF(n)&&\"values\"!==n?FU(n,u.style,o.style,h):{},l=void 0!==e;r&&!l?a.set(n,i,s):(\"vgAxisConfig\"!==t||Tq.has(n)&&l||bF(e)||bR(e))&&a.set(n,e,!1)}}const m=null!==(r=o.encoding)&&void 0!==r?r:{},v=_F.reduce((n,i)=>{var r;if(!a.hasAxisPart(i))return n;const o=sY(null!==(r=m[i])&&void 0!==r?r:{},t),s=\"labels\"===i?function(e,t,n){var i;const{encoding:r,config:o}=e,a=null!==(i=FB(r[t]))&&void 0!==i?i:FB(r[BP(t)]),s=e.axis(t)||{},{format:l,formatType:u}=s;return zI(u)?Object.assign({text:LI({fieldOrDatumDef:a,field:\"datum.value\",format:l,formatType:u,config:o})},n):n}(t,e,o):o;return void 0===s||KA(s)||(n[i]={update:s}),n},{});return KA(v)||a.set(\"encode\",v,!!o.encoding||void 0!==o.labelAngle),a}function Fq(e,t,n){const i=XB(\"orient\",e,n);if(e.orient=function(e,t,n){switch(e){case TF:case RF:case IF:case PF:case AF:case CF:return}const{x:i,y:r,x2:o,y2:a}=t;switch(e){case jF:if(uB(i)&&(DN(i.bin)||uB(r)&&r.aggregate&&!i.aggregate))return\"vertical\";if(uB(r)&&(DN(r.bin)||uB(i)&&i.aggregate&&!r.aggregate))return\"horizontal\";if(a||o){if(n)return n;if(!o&&(uB(i)&&i.type===IR&&!SN(i.bin)||fB(i)))return\"horizontal\";if(!a&&(uB(r)&&r.type===IR&&!SN(r.bin)||fB(r)))return\"vertical\"}case FF:if(o&&(!uB(i)||!DN(i.bin))&&a&&(!uB(r)||!DN(r.bin)))return;case DF:if(a)return uB(r)&&DN(r.bin)?\"horizontal\":\"vertical\";if(o)return uB(i)&&DN(i.bin)?\"vertical\":\"horizontal\";if(e===FF){if(i&&!r)return\"vertical\";if(r&&!i)return\"horizontal\"}case MF:case NF:{const t=hB(i),o=hB(r);if(t&&!o)return\"tick\"!==e?\"horizontal\":\"vertical\";if(!t&&o)return\"tick\"!==e?\"vertical\":\"horizontal\";if(t&&o){const t=i,o=r,a=t.type===LR,s=o.type===LR;return a&&!s?\"tick\"!==e?\"vertical\":\"horizontal\":!a&&s?\"tick\"!==e?\"horizontal\":\"vertical\":!t.aggregate&&o.aggregate?\"tick\"!==e?\"vertical\":\"horizontal\":t.aggregate&&!o.aggregate?\"tick\"!==e?\"horizontal\":\"vertical\":n||\"vertical\"}return n||void 0}}return\"vertical\"}(e.type,t,i),void 0!==i&&i!==e.orient&&nR(v.orientOverridden(e.orient,i)),\"bar\"===e.type&&e.orient){const i=XB(\"cornerRadiusEnd\",e,n);if(void 0!==i){const n=\"horizontal\"===e.orient&&t.x2||\"vertical\"===e.orient&&t.y2?[\"cornerRadius\"]:qF[e.orient];for(const t of n)e[t]=i;void 0!==e.cornerRadiusEnd&&delete e.cornerRadiusEnd}}void 0===XB(\"opacity\",e,n)&&(e.opacity=function(e,t){if(HA([TF,NF,RF,IF],e)&&!rL(t))return.7;return}(e.type,t));return void 0===XB(\"cursor\",e,n)&&(e.cursor=function(e,t,n){if(t.href||e.href||XB(\"href\",e,n))return\"pointer\";return e.cursor}(e,t,n)),e}function Pq(e,t){const{config:n}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},AW(e,{align:\"ignore\",baseline:\"ignore\",color:\"include\",size:\"include\",orient:\"ignore\",theta:\"ignore\"})),bW(\"x\",e,{defaultPos:\"mid\"})),bW(\"y\",e,{defaultPos:\"mid\"})),mW(\"size\",e)),mW(\"angle\",e)),function(e,t,n){if(n)return{shape:{value:n}};return mW(\"shape\",e)}(e,0,t))}function Nq(e){var t;const{config:n,markDef:i}=e,{orient:r}=i,o=\"horizontal\"===r?\"width\":\"height\",a=e.getScaleComponent(\"horizontal\"===r?\"x\":\"y\"),s=null!==(t=XB(\"size\",i,n,{vgChannel:o}))&&void 0!==t?t:n.tick.bandSize;if(void 0!==s)return s;{const e=a?a.get(\"range\"):void 0;if(e&&_R(e)&&Object(se.F)(e.step))return 3*e.step/4;return 3*YL(n.view,o)/4}}const zq={arc:{vgMark:\"arc\",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},AW(e,{align:\"ignore\",baseline:\"ignore\",color:\"include\",size:\"ignore\",orient:\"ignore\",theta:\"ignore\"})),bW(\"x\",e,{defaultPos:\"mid\"})),bW(\"y\",e,{defaultPos:\"mid\"})),DW(e,\"radius\",\"arc\")),DW(e,\"theta\",\"arc\"))},area:{vgMark:\"area\",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign({},AW(e,{align:\"ignore\",baseline:\"ignore\",color:\"include\",orient:\"include\",size:\"ignore\",theta:\"ignore\"})),OW(\"x\",e,{defaultPos:\"zeroOrMin\",defaultPos2:\"zeroOrMin\",range:\"horizontal\"===e.markDef.orient})),OW(\"y\",e,{defaultPos:\"zeroOrMin\",defaultPos2:\"zeroOrMin\",range:\"vertical\"===e.markDef.orient})),PW(e))},bar:{vgMark:\"rect\",encodeEntry:e=>Object.assign(Object.assign(Object.assign({},AW(e,{align:\"ignore\",baseline:\"ignore\",color:\"include\",orient:\"ignore\",size:\"ignore\",theta:\"ignore\"})),DW(e,\"x\",\"bar\")),DW(e,\"y\",\"bar\"))},circle:{vgMark:\"symbol\",encodeEntry:e=>Pq(e,\"circle\")},geoshape:{vgMark:\"shape\",encodeEntry:e=>Object.assign({},AW(e,{align:\"ignore\",baseline:\"ignore\",color:\"include\",size:\"ignore\",orient:\"ignore\",theta:\"ignore\"})),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[Object.assign({type:\"geoshape\",projection:e.projectionName()},n&&uB(n)&&n.type===WR?{field:xB(n,{expr:\"datum\"})}:{})]}},image:{vgMark:\"image\",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign({},AW(e,{align:\"ignore\",baseline:\"ignore\",color:\"ignore\",orient:\"ignore\",size:\"ignore\",theta:\"ignore\"})),DW(e,\"x\",\"image\")),DW(e,\"y\",\"image\")),cW(e,\"url\"))},line:{vgMark:\"line\",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},AW(e,{align:\"ignore\",baseline:\"ignore\",color:\"include\",size:\"ignore\",orient:\"ignore\",theta:\"ignore\"})),bW(\"x\",e,{defaultPos:\"mid\"})),bW(\"y\",e,{defaultPos:\"mid\"})),mW(\"size\",e,{vgChannel:\"strokeWidth\"})),PW(e))},point:{vgMark:\"symbol\",encodeEntry:e=>Pq(e)},rect:{vgMark:\"rect\",encodeEntry:e=>Object.assign(Object.assign(Object.assign({},AW(e,{align:\"ignore\",baseline:\"ignore\",color:\"include\",orient:\"ignore\",size:\"ignore\",theta:\"ignore\"})),DW(e,\"x\",\"rect\")),DW(e,\"y\",\"rect\"))},rule:{vgMark:\"rule\",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return e.encoding.x||e.encoding.y||e.encoding.latitude||e.encoding.longitude?Object.assign(Object.assign(Object.assign(Object.assign({},AW(e,{align:\"ignore\",baseline:\"ignore\",color:\"include\",orient:\"ignore\",size:\"ignore\",theta:\"ignore\"})),OW(\"x\",e,{defaultPos:\"horizontal\"===n?\"zeroOrMax\":\"mid\",defaultPos2:\"zeroOrMin\",range:\"vertical\"!==n})),OW(\"y\",e,{defaultPos:\"vertical\"===n?\"zeroOrMax\":\"mid\",defaultPos2:\"zeroOrMin\",range:\"horizontal\"!==n})),mW(\"size\",e,{vgChannel:\"strokeWidth\"})):{}}},square:{vgMark:\"symbol\",encodeEntry:e=>Pq(e,\"square\")},text:{vgMark:\"text\",encodeEntry:e=>{const{config:t,encoding:n}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},AW(e,{align:\"include\",baseline:\"include\",color:\"include\",size:\"ignore\",orient:\"ignore\",theta:\"include\"})),bW(\"x\",e,{defaultPos:\"mid\"})),bW(\"y\",e,{defaultPos:\"mid\"})),cW(e)),mW(\"size\",e,{vgChannel:\"fontSize\"})),mW(\"angle\",e)),NW(\"align\",function(e,t,n){if(void 0===XB(\"align\",e,n))return\"center\";return}(e.markDef,0,t))),NW(\"baseline\",function(e,t,n){if(void 0===XB(\"baseline\",e,n))return\"middle\";return}(e.markDef,0,t))),bW(\"radius\",e,{defaultPos:null,isMidPoint:!0})),bW(\"theta\",e,{defaultPos:null,isMidPoint:!0}))}},tick:{vgMark:\"rect\",encodeEntry:e=>{const{config:t,markDef:n}=e,i=n.orient,r=\"horizontal\"===i?\"width\":\"height\",o=\"horizontal\"===i?\"height\":\"width\";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},AW(e,{align:\"ignore\",baseline:\"ignore\",color:\"include\",orient:\"ignore\",size:\"ignore\",theta:\"ignore\"})),bW(\"x\",e,{defaultPos:\"mid\",vgChannel:\"xc\"})),bW(\"y\",e,{defaultPos:\"mid\",vgChannel:\"yc\"})),mW(\"size\",e,{defaultValue:Nq(e),vgChannel:r})),{[o]:HB(XB(\"thickness\",n,t))})}},trail:{vgMark:\"trail\",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},AW(e,{align:\"ignore\",baseline:\"ignore\",color:\"include\",size:\"include\",orient:\"ignore\",theta:\"ignore\"})),bW(\"x\",e,{defaultPos:\"mid\"})),bW(\"y\",e,{defaultPos:\"mid\"})),mW(\"size\",e)),PW(e))}};function Rq(e){if(HA([MF,DF,zF],e.mark)){const t=cL(e.mark,e.encoding);if(t.length>0)return function(e,t){return[{name:e.getName(\"pathgroup\"),type:\"group\",from:{facet:{name:\"faceted_path_\"+e.requestDataName(Y$.Main),data:e.requestDataName(Y$.Main),groupby:t}},encode:{update:{width:{field:{group:\"width\"}},height:{field:{group:\"height\"}}}},marks:Iq(e,{fromPrefix:\"faceted_path_\"})}]}(e,t)}else if(HA([jF],e.mark)){const t=OR.some(t=>XB(t,e.markDef,e.config));if(e.stack&&!e.fieldDef(\"size\")&&t)return function(e){const[t]=Iq(e,{fromPrefix:\"stack_group_\"}),n=e.scaleName(e.stack.fieldChannel),i=(t={})=>e.vgField(e.stack.fieldChannel,t),r=(e,t)=>`${e}(${[i({prefix:\"min\",suffix:\"start\",expr:t}),i({prefix:\"max\",suffix:\"start\",expr:t}),i({prefix:\"min\",suffix:\"end\",expr:t}),i({prefix:\"max\",suffix:\"end\",expr:t})].map(e=>`scale('${n}',${e})`).join(\",\")})`;let o,a;\"x\"===e.stack.fieldChannel?(o=Object.assign(Object.assign({},LA(t.encode.update,[\"y\",\"yc\",\"y2\",\"height\",...OR])),{x:{signal:r(\"min\",\"datum\")},x2:{signal:r(\"max\",\"datum\")},clip:{value:!0}}),a={x:{field:{group:\"x\"},mult:-1},height:{field:{group:\"height\"}}},t.encode.update=Object.assign(Object.assign({},$A(t.encode.update,[\"y\",\"yc\",\"y2\"])),{height:{field:{group:\"height\"}}})):(o=Object.assign(Object.assign({},LA(t.encode.update,[\"x\",\"xc\",\"x2\",\"width\"])),{y:{signal:r(\"min\",\"datum\")},y2:{signal:r(\"max\",\"datum\")},clip:{value:!0}}),a={y:{field:{group:\"y\"},mult:-1},width:{field:{group:\"width\"}}},t.encode.update=Object.assign(Object.assign({},$A(t.encode.update,[\"x\",\"xc\",\"x2\"])),{width:{field:{group:\"width\"}}}));for(const n of OR){const i=ZB(n,e.markDef,e.config);t.encode.update[n]?(o[n]=t.encode.update[n],delete t.encode.update[n]):i&&(o[n]=HB(i)),i&&(t.encode.update[n]={value:0})}const s=e.fieldDef(e.stack.groupbyChannel),l=xB(s)?[xB(s)]:[];((null==s?void 0:s.bin)||(null==s?void 0:s.timeUnit))&&l.push(xB(s,{binSuffix:\"end\"}));o=[\"stroke\",\"strokeWidth\",\"strokeJoin\",\"strokeCap\",\"strokeDash\",\"strokeDashOffset\",\"strokeMiterLimit\",\"strokeOpacity\"].reduce((n,i)=>{if(t.encode.update[i])return Object.assign(Object.assign({},n),{[i]:t.encode.update[i]});{const t=ZB(i,e.markDef,e.config);return void 0!==t?Object.assign(Object.assign({},n),{[i]:HB(t)}):n}},o),o.stroke&&(o.strokeForeground={value:!0},o.strokeOffset={value:0});return[{type:\"group\",from:{facet:{data:e.requestDataName(Y$.Main),name:\"stack_group_\"+e.requestDataName(Y$.Main),groupby:l,aggregate:{fields:[i({suffix:\"start\"}),i({suffix:\"start\"}),i({suffix:\"end\"}),i({suffix:\"end\"})],ops:[\"min\",\"max\",\"min\",\"max\"]}}},encode:{update:o},marks:[{type:\"group\",encode:{update:a},marks:[t]}]}]}(e)}return Iq(e)}function Iq(e,t={fromPrefix:\"\"}){const{mark:n,markDef:i,encoding:r,config:o}=e,a=pF(i.clip,function(e){const t=e.getScaleComponent(\"x\"),n=e.getScaleComponent(\"y\");return!!(t&&t.get(\"selectionExtent\")||n&&n.get(\"selectionExtent\"))||void 0}(e),function(e){const t=e.component.projection;return!(!t||t.isFit)||void 0}(e)),s=GB(i),l=r.key,u=function(e){const{encoding:t,stack:n,mark:i,markDef:r,config:o}=e,a=t.order;if(!(!Object(se.B)(a)&&mB(a)&&YA(a.value)||!a&&YA(XB(\"order\",r,o)))){if((Object(se.B)(a)||uB(a))&&!n)return KB(a,{expr:\"datum\"});if(LF(i)){const n=\"horizontal\"===r.orient?\"y\":\"x\",i=t[n];if(uB(i)){const t=i.sort;if(Object(se.B)(t))return{field:xB(i,{prefix:n,suffix:\"sort_index\",expr:\"datum\"})};if(QI(t))return{field:xB({aggregate:rL(e.encoding)?t.op:void 0,field:t.field},{expr:\"datum\"})};if(ZI(t)){return{field:xB(e.fieldDef(t.encoding),{expr:\"datum\"}),order:t.order}}return null===t?void 0:{field:xB(i,{binSuffix:e.stack&&e.stack.impute?\"mid\":void 0,expr:\"datum\"})}}}else;}}(e),c=function(e){if(!e.component.selection)return null;const t=eF(e.component.selection).length;let n=t,i=e.parent;for(;i&&0===n;)n=eF(i.component.selection).length,i=i.parent;return n?{interactive:t>0||!!e.encoding.tooltip}:null}(e),d=XB(\"aria\",i,o),h=zq[n].postEncodingTransform?zq[n].postEncodingTransform(e):null;return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName(\"marks\"),type:zq[n].vgMark},a?{clip:!0}:{}),s?{style:s}:{}),l?{key:l.field}:{}),u?{sort:u}:{}),c||{}),!1===d?{aria:d}:{}),{from:{data:t.fromPrefix+e.requestDataName(Y$.Main)},encode:{update:zq[n].encodeEntry(e)}}),h?{transform:h}:{})]}class Bq extends ZH{constructor(e,t,n,i={},r){super(e,\"unit\",t,n,r,void 0,$L(e)?e.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection={},this.children=[];const o=UF(e.mark)?Object.assign({},e.mark):{type:e.mark},a=o.type;void 0===o.filled&&(o.filled=function(e,t,{graticule:n}){if(n)return!1;const i=ZB(\"filled\",e,t),r=e.type;return pF(i,r!==TF&&r!==MF&&r!==FF)}(o,r,{graticule:e.data&&U$(e.data)}));const s=this.encoding=aL(e.encoding||{},a,o.filled,r);this.markDef=Fq(o,s,r),this.size=function({encoding:e,size:t}){for(const n of nN){const i=LP(n);LL(t[i])&&hB(e[n])&&(delete t[i],nR(v.stepDropped(i)))}return t}({encoding:s,size:$L(e)?Object.assign(Object.assign(Object.assign({},i),e.width?{width:e.width}:{}),e.height?{height:e.height}:{}):i}),this.stack=l$(a,s),this.specifiedScales=this.initScales(a,s),this.specifiedAxes=this.initAxes(s),this.specifiedLegends=this.initLegend(s),this.specifiedProjection=e.projection,this.selection=e.selection}get hasProjection(){const{encoding:e}=this,t=this.mark===BF,n=e&&bP.some(t=>pB(e[t]));return t||n}scaleDomain(e){const t=this.specifiedScales[e];return t?t.domain:void 0}axis(e){return this.specifiedAxes[e]}legend(e){return this.specifiedLegends[e]}initScales(e,t){return yN.reduce((e,n)=>{var i;const r=FB(t[n]);return r&&(e[n]=null!==(i=r.scale)&&void 0!==i?i:{}),e},{})}initAxes(e){return nN.reduce((t,n)=>{const i=e[n];if(pB(i)||\"x\"===n&&pB(e.x2)||\"y\"===n&&pB(e.y2)){const e=pB(i)?i.axis:void 0;t[n]=e?Object.assign({},e):e}return t},{})}initLegend(e){return mN.reduce((t,n)=>{const i=FB(e[n]);if(i&&function(e){switch(e){case dP:case hP:case fP:case gP:case pP:case\"opacity\":case\"strokeWidth\":case\"strokeDash\":return!0;case\"fillOpacity\":case\"strokeOpacity\":case\"angle\":return!1}}(n)){const e=i.legend;t[n]=e?Object.assign({},e):e}return t},{})}parseData(){this.component.data=xq(this)}parseLayoutSize(){!function(e){const{size:t,component:n}=e;for(const i of nN){const r=LP(i);if(t[r]){const e=t[r];n.layoutSize.set(r,LL(e)?\"step\":e,!0)}else{const t=vq(e,r);n.layoutSize.set(r,t,!1)}}}(this)}parseSelections(){this.component.selection=function(e,t){var n;const i={},r=e.config.selection;for(const o of eF(null!=t?t:{})){const a=BA(t[o]),s=r[a.type],{fields:l,encodings:u}=s,c=EA(s,[\"fields\",\"encodings\"]);for(const e in c)\"encodings\"===e&&a.fields||\"fields\"===e&&a.encodings||(\"mark\"===e&&(a[e]=Object.assign(Object.assign({},c[e]),a[e])),void 0!==a[e]&&!0!==a[e]||(a[e]=null!==(n=c[e])&&void 0!==n?n:a[e]));const d=rF(o),h=i[d]=Object.assign(Object.assign({},a),{name:d,events:Object(se.I)(a.on)?qC(a.on,\"scope\"):BA(a.on)});eU(h,n=>{n.has(h)&&n.parse&&n.parse(e,h,a,t[o])})}return i}(this,this.selection)}parseMarkGroup(){this.component.mark=Rq(this)}parseAxesAndHeaders(){var e;this.component.axes=(e=this,nN.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[Aq(n,e)]),t),{}))}assembleSelectionTopLevelSignals(e){return function(e,t){let n=!1;if(gU(e,(i,r)=>{const o=i.name,a=Object(se.ab)(o+cU);if(0===t.filter(e=>e.name===o).length){const e=\"global\"===i.resolve?\"union\":i.resolve,n=\"multi\"===i.type?\", true)\":\")\";t.push({name:i.name,update:`${fU}(${a}, ${Object(se.ab)(e)}${n}`})}n=!0,r.topLevelSignals&&(t=r.topLevelSignals(e,i,t)),eU(i,n=>{n.topLevelSignals&&(t=n.topLevelSignals(e,i,t))})}),n){0===t.filter(e=>\"unit\"===e.name).length&&t.unshift({name:\"unit\",value:{},on:[{events:\"mousemove\",update:\"isTuple(group()) ? group() : unit\"}]})}return iU(t)}(this,e)}assembleSignals(){return[...EU(this),...(e=this,t=[],gU(e,(n,i)=>{const r=n.name;let o=i.modifyExpr(e,n);t.push(...i.signals(e,n)),eU(n,i=>{i.signals&&(t=i.signals(e,n,t)),i.modifyExpr&&(o=i.modifyExpr(e,n,o))}),t.push({name:r+hU,on:[{events:{signal:n.name+dU},update:`modify(${Object(se.ab)(n.name+cU)}, ${o})`}]})}),iU(t))];var e,t}assembleSelectionData(e){return function(e,t){const n=[...t];return gU(e,t=>{const i={name:t.name+cU};if(t.init){const n=t.project.items.map(e=>{const{signals:t}=e;return EA(e,[\"signals\"])}),r=t.init.map(e=>tU(e,!1));i.values=\"interval\"===t.type?[{unit:mU(e,{escape:!1}),fields:n,values:r}]:r.map(t=>({unit:mU(e,{escape:!1}),fields:n,values:t}))}n.filter(e=>e.name===t.name+cU).length||n.push(i)}),n}(this,e)}assembleLayout(){return null}assembleLayoutSignals(){return nY(this)}assembleMarks(){var e;let t=null!==(e=this.component.mark)&&void 0!==e?e:[];return this.parent&&GH(this.parent)||(t=nU(this,t)),t.map(this.correctDataNames)}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(e){return iL(this.encoding,e)}fieldDef(e){return AB(this.encoding[e])}typedFieldDef(e){const t=this.fieldDef(e);return gB(t)?t:null}}class Lq extends XH{constructor(e,t,n,i,r){super(e,\"layer\",t,n,r,e.resolve,e.view);const o=Object.assign(Object.assign(Object.assign({},i),e.width?{width:e.width}:{}),e.height?{height:e.height}:{});this.children=e.layer.map((e,t)=>{if(i$(e))return new Lq(e,this,this.getName(\"layer_\"+t),o,r);if(XF(e))return new Bq(e,this,this.getName(\"layer_\"+t),o,r);throw new Error(v.invalidSpec(e))})}parseData(){this.component.data=xq(this);for(const e of this.children)e.parseData()}parseLayoutSize(){var e;gq(e=this),mq(e,\"width\"),mq(e,\"height\")}parseSelections(){this.component.selection={};for(const e of this.children){e.parseSelections();for(const t of eF(e.component.selection))this.component.selection[t]=e.component.selection[t]}}parseMarkGroup(){for(const e of this.children)e.parseMarkGroup()}parseAxesAndHeaders(){!function(e){var t;const{axes:n,resolve:i}=e.component,r={top:0,bottom:0,right:0,left:0};for(const t of e.children){t.parseAxesAndHeaders();for(const r of eF(t.component.axes))i.axis[r]=uY(e.component.resolve,r),\"shared\"===i.axis[r]&&(n[r]=jq(n[r],t.component.axes[r]),n[r]||(i.axis[r]=\"independent\",delete n[r]))}for(const o of nN){for(const a of e.children)if(a.component.axes[o]){if(\"independent\"===i.axis[o]){n[o]=(null!==(t=n[o])&&void 0!==t?t:[]).concat(a.component.axes[o]);for(const e of a.component.axes[o]){const{value:t,explicit:n}=e.getWithExplicit(\"orient\");if(!bR(t)){if(r[t]>0&&!n){const n=Dq[t];r[t]>r[n]&&e.set(\"orient\",n,!1)}r[t]++}}}delete a.component.axes[o]}if(\"independent\"===i.axis[o]&&n[o]&&n[o].length>1)for(const e of n[o])e.get(\"grid\")&&!e.explicit.grid&&(e.implicit.grid=!1)}}(this)}assembleSelectionTopLevelSignals(e){return this.children.reduce((e,t)=>t.assembleSelectionTopLevelSignals(e),e)}assembleSignals(){return this.children.reduce((e,t)=>e.concat(t.assembleSignals()),EU(this))}assembleLayoutSignals(){return this.children.reduce((e,t)=>e.concat(t.assembleLayoutSignals()),nY(this))}assembleSelectionData(e){return this.children.reduce((e,t)=>t.assembleSelectionData(e),e)}assembleTitle(){let e=super.assembleTitle();if(e)return e;for(const t of this.children)if(e=t.assembleTitle(),e)return e}assembleLayout(){return null}assembleMarks(){return function(e,t){for(const n of e.children)HH(n)&&(t=nU(n,t));return t}(this,this.children.flatMap(e=>e.assembleMarks()))}assembleLegends(){return this.children.reduce((e,t)=>e.concat(t.assembleLegends()),DY(this))}}function $q(e,t,n,i,r){if(tB(e))return new bq(e,t,n,r);if(i$(e))return new Lq(e,t,n,i,r);if(XF(e))return new Bq(e,t,n,i,r);if(function(e){return IL(e)||BL(e)||RL(e)}(e))return new kq(e,t,n,r);throw new Error(v.invalidSpec(e))}function Wq(e,t={}){var n;t.logger&&(n=t.logger,eR=n),t.fieldTitle&&DB(t.fieldTitle);try{const n=QL(Object(se.O)(t.config,e.config)),i=E$(e,n),r=$q(i,null,\"\",void 0,n);r.parse(),function(e,t){gH(e.sources);let n=0,i=0;for(let i=0;i<5&&vH(e,t,!0);i++)n++;e.sources.map(fH);for(let n=0;n<5&&vH(e,t,!1);n++)i++;gH(e.sources),5===Math.max(n,i)&&nR(\"Maximum optimization runs(5) reached.\")}(r.component.data,r);return{spec:function(e,t,n={},i){const r=e.config?t$(e.config):void 0,o=[].concat(e.assembleSelectionData([]),function(e,t){var n,i;const r=[],o=cq(r);let a=0;for(const t of e.sources){t.hasName()||(t.dataName=\"source_\"+a++);const e=t.assemble();o(t,e)}for(const e of r)0===e.transform.length&&delete e.transform;let s=0;for(const[e,t]of r.entries())0!==(null!==(n=t.transform)&&void 0!==n?n:[]).length||t.source||r.splice(s++,0,r.splice(e,1)[0]);for(const t of r)for(const n of null!==(i=t.transform)&&void 0!==i?i:[])\"lookup\"===n.type&&(n.from=e.outputNodes[n.from].getSource());for(const e of r)e.name in t&&(e.values=t[e.name]);return r}(e.component.data,n)),a=e.assembleProjections(),s=e.assembleTitle(),l=e.assembleGroupStyle(),u=e.assembleGroupEncodeEntry(!0);let c=e.assembleLayoutSignals();return c=c.filter(e=>\"width\"!==e.name&&\"height\"!==e.name||void 0===e.value||(t[e.name]=+e.value,!1)),Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({$schema:\"https://vega.github.io/schema/vega/v5.json\"},e.description?{description:e.description}:{}),t),s?{title:s}:{}),l?{style:l}:{}),u?{encode:{update:u}}:{}),{data:o}),a.length>0?{projections:a}:{}),e.assembleGroup([...c,...e.assembleSelectionTopLevelSignals([])])),r?{config:r}:{}),i?{usermeta:i}:{})}(r,function(e,t,n,i){const r=i.component.layoutSize.get(\"width\"),o=i.component.layoutSize.get(\"height\");void 0===t?(t={type:\"pad\"},i.hasAxisOrientSignalRef()&&(t.resize=!0)):Object(se.I)(t)&&(t={type:t});if(r&&o&&(a=t.type,\"fit\"===a||\"fit-x\"===a||\"fit-y\"===a))if(\"step\"===r&&\"step\"===o)nR(v.droppingFit()),t.type=\"pad\";else if(\"step\"===r||\"step\"===o){const e=\"step\"===r?\"width\":\"height\";nR(v.droppingFit(aN(e)));const n=\"width\"===e?\"height\":\"width\";t.type=function(e){return e?\"fit-\"+aN(e):\"fit\"}(n)}var a;return Object.assign(Object.assign(Object.assign({},1===eF(t).length&&t.type?\"pad\"===t.type?{}:{autosize:t.type}:{autosize:t}),C$(n)),C$(e))}(e,i.autosize,n,r),e.datasets,e.usermeta),normalized:i}}finally{t.logger&&tR(),t.fieldTitle&&DB(EB)}}var Uq=n(86),Yq=n.n(Uq),Hq=n(147);var qq={background:\"#333\",title:{color:\"#fff\"},style:{\"guide-label\":{fill:\"#fff\"},\"guide-title\":{fill:\"#fff\"}},axis:{domainColor:\"#fff\",gridColor:\"#888\",tickColor:\"#fff\"}};var Vq={background:\"#fff\",arc:{fill:\"#4572a7\"},area:{fill:\"#4572a7\"},line:{stroke:\"#4572a7\",strokeWidth:2},path:{stroke:\"#4572a7\"},rect:{fill:\"#4572a7\"},shape:{stroke:\"#4572a7\"},symbol:{fill:\"#4572a7\",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:\"#000000\",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:\"middle\",labelFontSize:11,symbolSize:50,symbolType:\"square\"},range:{category:[\"#4572a7\",\"#aa4643\",\"#8aa453\",\"#71598e\",\"#4598ae\",\"#d98445\",\"#94aace\",\"#d09393\",\"#b9cc98\",\"#a99cbc\"]}};var Gq={arc:{fill:\"#30a2da\"},area:{fill:\"#30a2da\"},axis:{domainColor:\"#cbcbcb\",grid:!0,gridColor:\"#cbcbcb\",gridWidth:1,labelColor:\"#999\",labelFontSize:10,titleColor:\"#333\",tickColor:\"#cbcbcb\",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:\"#f0f0f0\",group:{fill:\"#f0f0f0\"},legend:{labelColor:\"#333\",labelFontSize:11,padding:1,symbolSize:30,symbolType:\"square\",titleColor:\"#333\",titleFontSize:14,titlePadding:10},line:{stroke:\"#30a2da\",strokeWidth:2},path:{stroke:\"#30a2da\",strokeWidth:.5},rect:{fill:\"#30a2da\"},range:{category:[\"#30a2da\",\"#fc4f30\",\"#e5ae38\",\"#6d904f\",\"#8b8b8b\",\"#b96db8\",\"#ff9e27\",\"#56cc60\",\"#52d2ca\",\"#52689e\",\"#545454\",\"#9fe4f8\"],diverging:[\"#cc0020\",\"#e77866\",\"#f6e7e1\",\"#d6e8ed\",\"#91bfd9\",\"#1d78b5\"],heatmap:[\"#d6e8ed\",\"#cee0e5\",\"#91bfd9\",\"#549cc6\",\"#1d78b5\"]},point:{filled:!0,shape:\"circle\"},shape:{stroke:\"#30a2da\"},bar:{binSpacing:2,fill:\"#30a2da\",stroke:null},title:{anchor:\"start\",fontSize:24,fontWeight:600,offset:20}};var Xq={group:{fill:\"#e5e5e5\"},arc:{fill:\"#000\"},area:{fill:\"#000\"},line:{stroke:\"#000\"},path:{stroke:\"#000\"},rect:{fill:\"#000\"},shape:{stroke:\"#000\"},symbol:{fill:\"#000\",size:40},axis:{domain:!1,grid:!0,gridColor:\"#FFFFFF\",gridOpacity:1,labelColor:\"#7F7F7F\",labelPadding:4,tickColor:\"#7F7F7F\",tickSize:5.67,titleFontSize:16,titleFontWeight:\"normal\"},legend:{labelBaseline:\"middle\",labelFontSize:11,symbolSize:40},range:{category:[\"#000000\",\"#7F7F7F\",\"#1A1A1A\",\"#999999\",\"#333333\",\"#B0B0B0\",\"#4D4D4D\",\"#C9C9C9\",\"#666666\",\"#DCDCDC\"]}};const Zq=\"Benton Gothic Bold, sans-serif\",Qq={\"category-6\":[\"#ec8431\",\"#829eb1\",\"#c89d29\",\"#3580b1\",\"#adc839\",\"#ab7fb4\"],\"fire-7\":[\"#fbf2c7\",\"#f9e39c\",\"#f8d36e\",\"#f4bb6a\",\"#e68a4f\",\"#d15a40\",\"#ab4232\"],\"fireandice-6\":[\"#e68a4f\",\"#f4bb6a\",\"#f9e39c\",\"#dadfe2\",\"#a6b7c6\",\"#849eae\"],\"ice-7\":[\"#edefee\",\"#dadfe2\",\"#c4ccd2\",\"#a6b7c6\",\"#849eae\",\"#607785\",\"#47525d\"]};var Jq={background:\"#ffffff\",title:{anchor:\"start\",color:\"#000000\",font:Zq,fontSize:22,fontWeight:\"normal\"},arc:{fill:\"#82c6df\"},area:{fill:\"#82c6df\"},line:{stroke:\"#82c6df\",strokeWidth:2},path:{stroke:\"#82c6df\"},rect:{fill:\"#82c6df\"},shape:{stroke:\"#82c6df\"},symbol:{fill:\"#82c6df\",size:30},axis:{labelFont:\"Benton Gothic, sans-serif\",labelFontSize:11.5,labelFontWeight:\"normal\",titleFont:Zq,titleFontSize:13,titleFontWeight:\"normal\"},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:\"middle\",maxExtent:45,minExtent:45,tickSize:2,titleAlign:\"left\",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:\"Benton Gothic, sans-serif\",labelFontSize:11.5,symbolType:\"square\",titleFont:Zq,titleFontSize:13,titleFontWeight:\"normal\"},range:{category:Qq[\"category-6\"],diverging:Qq[\"fireandice-6\"],heatmap:Qq[\"fire-7\"],ordinal:Qq[\"fire-7\"],ramp:Qq[\"fire-7\"]}};var Kq={background:\"#f9f9f9\",arc:{fill:\"#ab5787\"},area:{fill:\"#ab5787\"},line:{stroke:\"#ab5787\"},path:{stroke:\"#ab5787\"},rect:{fill:\"#ab5787\"},shape:{stroke:\"#ab5787\"},symbol:{fill:\"#ab5787\",size:30},axis:{domainColor:\"#979797\",domainWidth:.5,gridWidth:.2,labelColor:\"#979797\",tickColor:\"#979797\",tickWidth:.2,titleColor:\"#979797\"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:\"square\"},range:{category:[\"#ab5787\",\"#51b2e5\",\"#703c5c\",\"#168dd9\",\"#d190b6\",\"#00609f\",\"#d365ba\",\"#154866\",\"#666666\",\"#c4c4c4\"]}};var eV={background:\"#fff\",arc:{fill:\"#3e5c69\"},area:{fill:\"#3e5c69\"},line:{stroke:\"#3e5c69\"},path:{stroke:\"#3e5c69\"},rect:{fill:\"#3e5c69\"},shape:{stroke:\"#3e5c69\"},symbol:{fill:\"#3e5c69\"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:\"normal\"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:\"square\"},range:{category:[\"#3e5c69\",\"#6793a6\",\"#182429\",\"#0570b0\",\"#3690c0\",\"#74a9cf\",\"#a6bddb\",\"#e2ddf2\"]}};const tV={\"main-colors\":[\"#1696d2\",\"#d2d2d2\",\"#000000\",\"#fdbf11\",\"#ec008b\",\"#55b748\",\"#5c5859\",\"#db2b27\"],\"shades-blue\":[\"#CFE8F3\",\"#A2D4EC\",\"#73BFE2\",\"#46ABDB\",\"#1696D2\",\"#12719E\",\"#0A4C6A\",\"#062635\"],\"shades-gray\":[\"#F5F5F5\",\"#ECECEC\",\"#E3E3E3\",\"#DCDBDB\",\"#D2D2D2\",\"#9D9D9D\",\"#696969\",\"#353535\"],\"shades-yellow\":[\"#FFF2CF\",\"#FCE39E\",\"#FDD870\",\"#FCCB41\",\"#FDBF11\",\"#E88E2D\",\"#CA5800\",\"#843215\"],\"shades-magenta\":[\"#F5CBDF\",\"#EB99C2\",\"#E46AA7\",\"#E54096\",\"#EC008B\",\"#AF1F6B\",\"#761548\",\"#351123\"],\"shades-green\":[\"#DCEDD9\",\"#BCDEB4\",\"#98CF90\",\"#78C26D\",\"#55B748\",\"#408941\",\"#2C5C2D\",\"#1A2E19\"],\"shades-black\":[\"#D5D5D4\",\"#ADABAC\",\"#848081\",\"#5C5859\",\"#332D2F\",\"#262223\",\"#1A1717\",\"#0E0C0D\"],\"shades-red\":[\"#F8D5D4\",\"#F1AAA9\",\"#E9807D\",\"#E25552\",\"#DB2B27\",\"#A4201D\",\"#6E1614\",\"#370B0A\"],\"one-group\":[\"#1696d2\",\"#000000\"],\"two-groups-cat-1\":[\"#1696d2\",\"#000000\"],\"two-groups-cat-2\":[\"#1696d2\",\"#fdbf11\"],\"two-groups-cat-3\":[\"#1696d2\",\"#db2b27\"],\"two-groups-seq\":[\"#a2d4ec\",\"#1696d2\"],\"three-groups-cat\":[\"#1696d2\",\"#fdbf11\",\"#000000\"],\"three-groups-seq\":[\"#a2d4ec\",\"#1696d2\",\"#0a4c6a\"],\"four-groups-cat-1\":[\"#000000\",\"#d2d2d2\",\"#fdbf11\",\"#1696d2\"],\"four-groups-cat-2\":[\"#1696d2\",\"#ec0008b\",\"#fdbf11\",\"#5c5859\"],\"four-groups-seq\":[\"#cfe8f3\",\"#73bf42\",\"#1696d2\",\"#0a4c6a\"],\"five-groups-cat-1\":[\"#1696d2\",\"#fdbf11\",\"#d2d2d2\",\"#ec008b\",\"#000000\"],\"five-groups-cat-2\":[\"#1696d2\",\"#0a4c6a\",\"#d2d2d2\",\"#fdbf11\",\"#332d2f\"],\"five-groups-seq\":[\"#cfe8f3\",\"#73bf42\",\"#1696d2\",\"#0a4c6a\",\"#000000\"],\"six-groups-cat-1\":[\"#1696d2\",\"#ec008b\",\"#fdbf11\",\"#000000\",\"#d2d2d2\",\"#55b748\"],\"six-groups-cat-2\":[\"#1696d2\",\"#d2d2d2\",\"#ec008b\",\"#fdbf11\",\"#332d2f\",\"#0a4c6a\"],\"six-groups-seq\":[\"#cfe8f3\",\"#a2d4ec\",\"#73bfe2\",\"#46abdb\",\"#1696d2\",\"#12719e\"],\"diverging-colors\":[\"#ca5800\",\"#fdbf11\",\"#fdd870\",\"#fff2cf\",\"#cfe8f3\",\"#73bfe2\",\"#1696d2\",\"#0a4c6a\"]};var nV={background:\"#FFFFFF\",title:{anchor:\"start\",fontSize:18,font:\"Lato\"},axisX:{domain:!0,domainColor:\"#000000\",domainWidth:1,grid:!1,labelFontSize:12,labelFont:\"Lato\",labelAngle:0,tickColor:\"#000000\",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:\"Lato\"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:\"#DEDDDD\",gridWidth:1,labelFontSize:12,labelFont:\"Lato\",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:\"Lato\",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:\"Lato\",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:\"Lato\",orient:\"right\",offset:10},view:{stroke:\"transparent\"},range:{category:tV[\"six-groups-cat-1\"],diverging:tV[\"diverging-colors\"],heatmap:tV[\"diverging-colors\"],ordinal:tV[\"six-groups-seq\"],ramp:tV[\"shades-blue\"]},area:{fill:\"#1696d2\"},rect:{fill:\"#1696d2\"},line:{color:\"#1696d2\",stroke:\"#1696d2\",strokeWidth:5},trail:{color:\"#1696d2\",stroke:\"#1696d2\",strokeWidth:0,size:1},path:{stroke:\"#1696d2\",strokeWidth:.5},point:{filled:!0},text:{font:\"Lato\",color:\"#1696d2\",fontSize:11,align:\"center\",fontWeight:400,size:11},style:{bar:{fill:\"#1696d2\",stroke:null}},arc:{fill:\"#1696d2\"},shape:{stroke:\"#1696d2\"},symbol:{fill:\"#1696d2\",size:30}};var iV={arc:{fill:\"#3366CC\"},area:{fill:\"#3366CC\"},path:{stroke:\"#3366CC\"},rect:{fill:\"#3366CC\"},shape:{stroke:\"#3366CC\"},symbol:{stroke:\"#3366CC\"},circle:{fill:\"#3366CC\"},background:\"#fff\",padding:{top:10,right:10,bottom:10,left:10},style:{\"guide-label\":{font:\"Arial, sans-serif\",fontSize:12},\"guide-title\":{font:\"Arial, sans-serif\",fontSize:12},\"group-title\":{font:\"Arial, sans-serif\",fontSize:12}},title:{font:\"Arial, sans-serif\",fontSize:14,fontWeight:\"bold\",dy:-3,anchor:\"start\"},axis:{gridColor:\"#ccc\",tickColor:\"#ccc\",domain:!1,grid:!0},range:{category:[\"#4285F4\",\"#DB4437\",\"#F4B400\",\"#0F9D58\",\"#AB47BC\",\"#00ACC1\",\"#FF7043\",\"#9E9D24\",\"#5C6BC0\",\"#F06292\",\"#00796B\",\"#C2185B\"],heatmap:[\"#c6dafc\",\"#5e97f6\",\"#2a56c6\"]}};const rV=Hq.version;var oV=n(148),aV=\"#vg-tooltip-element {\\n  visibility: hidden;\\n  padding: 8px;\\n  position: fixed;\\n  z-index: 1000;\\n  font-family: sans-serif;\\n  font-size: 11px;\\n  border-radius: 3px;\\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\\n  /* The default theme is the light theme. */\\n  background-color: rgba(255, 255, 255, 0.95);\\n  border: 1px solid #d9d9d9;\\n  color: black; }\\n  #vg-tooltip-element.visible {\\n    visibility: visible; }\\n  #vg-tooltip-element h2 {\\n    margin-top: 0;\\n    margin-bottom: 10px;\\n    font-size: 13px; }\\n  #vg-tooltip-element img {\\n    max-width: 200px;\\n    max-height: 200px; }\\n  #vg-tooltip-element table {\\n    border-spacing: 0; }\\n    #vg-tooltip-element table tr {\\n      border: none; }\\n      #vg-tooltip-element table tr td {\\n        overflow: hidden;\\n        text-overflow: ellipsis;\\n        padding-top: 2px;\\n        padding-bottom: 2px; }\\n        #vg-tooltip-element table tr td.key {\\n          color: #808080;\\n          max-width: 150px;\\n          text-align: right;\\n          padding-right: 4px; }\\n        #vg-tooltip-element table tr td.value {\\n          display: block;\\n          max-width: 300px;\\n          max-height: 7em;\\n          text-align: left; }\\n  #vg-tooltip-element.dark-theme {\\n    background-color: rgba(32, 32, 32, 0.9);\\n    border: 1px solid #f5f5f5;\\n    color: white; }\\n    #vg-tooltip-element.dark-theme td.key {\\n      color: #bfbfbf; }\\n\";const sV=\"vg-tooltip-element\",lV={offsetX:10,offsetY:10,id:sV,styleId:\"vega-tooltip-style\",theme:\"light\",disableDefaultStyle:!1,sanitize:function(e){return String(e).replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\")},maxDepth:2};var uV=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function cV(e,t){return JSON.stringify(e,function(e){const t=[];return function(n,i){if(\"object\"!=typeof i||null===i)return i;const r=t.indexOf(this)+1;return t.length=r,t.length>e?\"[Object]\":t.indexOf(i)>=0?\"[Circular]\":(t.push(i),i)}}(t))}class dV{constructor(e){this.options=Object.assign(Object.assign({},lV),e);const t=this.options.id;if(this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const e=document.createElement(\"style\");e.setAttribute(\"id\",this.options.styleId),e.innerHTML=function(e){if(!/^[A-Za-z]+[-:.\\w]*$/.test(e))throw new Error(\"Invalid HTML ID\");return aV.toString().replace(sV,e)}(t);const n=document.head;n.childNodes.length>0?n.insertBefore(e,n.childNodes[0]):n.appendChild(e)}this.el=document.getElementById(t),this.el||(this.el=document.createElement(\"div\"),this.el.setAttribute(\"id\",t),this.el.classList.add(\"vg-tooltip\"),document.body.appendChild(this.el))}tooltipHandler(e,t,n,i){if(null==i||\"\"===i)return void this.el.classList.remove(\"visible\",this.options.theme+\"-theme\");this.el.innerHTML=function(e,t,n){if(Object(se.B)(e))return`[${e.map(e=>t(Object(se.I)(e)?e:cV(e,n))).join(\", \")}]`;if(Object(se.G)(e)){let i=\"\";const r=e,{title:o,image:a}=r,s=uV(r,[\"title\",\"image\"]);o&&(i+=`<h2>${t(o)}</h2>`),a&&(i+=`<img src=\"${t(a)}\">`);const l=Object.keys(s);if(l.length>0){i+=\"<table>\";for(const e of l){let r=s[e];void 0!==r&&(Object(se.G)(r)&&(r=cV(r,n)),i+=`<tr><td class=\"key\">${t(e)}:</td><td class=\"value\">${t(r)}</td></tr>`)}i+=\"</table>\"}return i||\"{}\"}return t(e)}(i,this.options.sanitize,this.options.maxDepth),this.el.classList.add(\"visible\",this.options.theme+\"-theme\");const{x:r,y:o}=function(e,t,n,i){let r=e.clientX+n;r+t.width>window.innerWidth&&(r=+e.clientX-n-t.width);let o=e.clientY+i;return o+t.height>window.innerHeight&&(o=+e.clientY-i-t.height),{x:r,y:o}}(t,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute(\"style\",`top: ${o}px; left: ${r}px`)}}oV.version;var hV,fV='.vega-embed {\\n  position: relative;\\n  display: inline-block;\\n  box-sizing: border-box; }\\n  .vega-embed.has-actions {\\n    padding-right: 38px; }\\n  .vega-embed details:not([open]) > :not(summary) {\\n    display: none !important; }\\n  .vega-embed summary {\\n    list-style: none;\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    padding: 6px;\\n    z-index: 1000;\\n    background: white;\\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\\n    color: #1b1e23;\\n    border: 1px solid #aaa;\\n    border-radius: 999px;\\n    opacity: 0.2;\\n    transition: opacity 0.4s ease-in;\\n    outline: none;\\n    cursor: pointer;\\n    line-height: 0px; }\\n    .vega-embed summary::-webkit-details-marker {\\n      display: none; }\\n    .vega-embed summary:active {\\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\\n    .vega-embed summary svg {\\n      width: 14px;\\n      height: 14px; }\\n  .vega-embed details[open] summary {\\n    opacity: 0.7; }\\n  .vega-embed:hover summary,\\n  .vega-embed:focus summary {\\n    opacity: 1 !important;\\n    transition: opacity 0.2s ease; }\\n  .vega-embed .vega-actions {\\n    position: absolute;\\n    z-index: 1001;\\n    top: 35px;\\n    right: -9px;\\n    display: flex;\\n    flex-direction: column;\\n    padding-bottom: 8px;\\n    padding-top: 8px;\\n    border-radius: 4px;\\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\\n    border: 1px solid #d9d9d9;\\n    background: white;\\n    animation-duration: 0.15s;\\n    animation-name: scale-in;\\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\\n    text-align: left; }\\n    .vega-embed .vega-actions a {\\n      padding: 8px 16px;\\n      font-family: sans-serif;\\n      font-size: 14px;\\n      font-weight: 600;\\n      white-space: nowrap;\\n      color: #434a56;\\n      text-decoration: none; }\\n      .vega-embed .vega-actions a:hover {\\n        background-color: #f7f7f9;\\n        color: black; }\\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\\n      content: \"\";\\n      display: inline-block;\\n      position: absolute; }\\n    .vega-embed .vega-actions::before {\\n      left: auto;\\n      right: 14px;\\n      top: -16px;\\n      border: 8px solid #0000;\\n      border-bottom-color: #d9d9d9; }\\n    .vega-embed .vega-actions::after {\\n      left: auto;\\n      right: 15px;\\n      top: -14px;\\n      border: 7px solid #0000;\\n      border-bottom-color: #fff; }\\n  .vega-embed .chart-wrapper {\\n    width: 100%;\\n    height: 100%; }\\n\\n.vega-embed-wrapper {\\n  max-width: 100%;\\n  overflow: scroll;\\n  padding-right: 14px; }\\n\\n@keyframes scale-in {\\n  from {\\n    opacity: 0;\\n    transform: scale(0.6); }\\n  to {\\n    opacity: 1;\\n    transform: scale(1); } }\\n';function pV(e,...t){for(const n of t)gV(e,n);return e}function gV(e,t){for(const n of Object.keys(t))Object(se.kb)(e,n,t[n],!0)}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e});const mV=m;let vV=y;const yV=\"undefined\"!=typeof window?window:void 0;void 0===vV&&(null===(hV=null==yV?void 0:yV.vl)||void 0===hV?void 0:hV.compile)&&(vV=yV.vl);const bV={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},_V={CLICK_TO_VIEW_ACTIONS:\"Click to view actions\",COMPILED_ACTION:\"View Compiled Vega\",EDITOR_ACTION:\"Open in Vega Editor\",PNG_ACTION:\"Save as PNG\",SOURCE_ACTION:\"View Source\",SVG_ACTION:\"Save as SVG\"},wV={vega:\"Vega\",\"vega-lite\":\"Vega-Lite\"},xV={vega:mV.version,\"vega-lite\":vV?vV.version:\"not available\"},kV={vega:e=>e,\"vega-lite\":(e,t)=>vV.compile(e,{config:t}).spec};function OV(e,t,n,i){const r=`<html><head>${t}</head><body><pre><code class=\"json\">`,o=`</code></pre>${n}</body></html>`,a=window.open(\"\");a.document.write(r+e+o),a.document.title=wV[i]+\" JSON Source\"}function EV(e,t,n={}){var i,r,o;return j(this,void 0,void 0,(function*(){const a=(s=n.loader)&&\"load\"in s?n.loader:mV.loader(n.loader);var s;const l=Object(se.I)(t)?JSON.parse(yield a.load(t)):t,u=yield SV(null!==(i=l.usermeta&&l.usermeta.embedOptions)&&void 0!==i?i:{},a),c=yield SV(n,a),d=Object.assign(Object.assign({},pV(c,u)),{config:Object(se.O)(null!==(r=c.config)&&void 0!==r?r:{},null!==(o=u.config)&&void 0!==o?o:{})});return yield function(e,t,n={},i){var r,o,a,s,l,u;return j(this,void 0,void 0,(function*(){const c=n.theme?Object(se.O)(b[n.theme],null!==(r=n.config)&&void 0!==r?r:{}):n.config,d=Object(se.C)(n.actions)?n.actions:pV({},bV,null!==(o=n.actions)&&void 0!==o?o:{}),h=Object.assign(Object.assign({},_V),n.i18n),f=null!==(a=n.renderer)&&void 0!==a?a:\"canvas\",p=null!==(s=n.logLevel)&&void 0!==s?s:mV.Warn,g=null!==(l=n.downloadFileName)&&void 0!==l?l:\"visualization\",m=\"string\"==typeof e?document.querySelector(e):e;if(!m)throw new Error(e+\" does not exist\");if(!1!==n.defaultStyle){const e=\"vega-embed-style\",{root:t,rootContainer:i}=function(e){var t;const n=e.getRootNode?e.getRootNode():document;return n instanceof ShadowRoot?{root:n,rootContainer:n}:{root:document,rootContainer:null!==(t=document.head)&&void 0!==t?t:document.body}}(m);if(!t.getElementById(e)){const t=document.createElement(\"style\");t.id=e,t.innerText=void 0===n.defaultStyle||!0===n.defaultStyle?fV.toString():n.defaultStyle,i.appendChild(t)}}const v=function(e,t){var n;if(e.$schema){const i=Yq()(e.$schema);t&&t!==i.library&&console.warn(`The given visualization spec is written in ${wV[i.library]}, but mode argument sets ${null!==(n=wV[t])&&void 0!==n?n:t}.`);const r=i.library;return Object(ae.satisfies)(xV[r],\"^\"+i.version.slice(1))||console.warn(`The input spec uses ${wV[r]} ${i.version}, but the current version of ${wV[r]} is v${xV[r]}.`),r}return\"mark\"in e||\"encoding\"in e||\"layer\"in e||\"hconcat\"in e||\"vconcat\"in e||\"facet\"in e||\"repeat\"in e?\"vega-lite\":\"marks\"in e||\"signals\"in e||\"scales\"in e||\"axes\"in e?\"vega\":null!=t?t:\"vega\"}(t,n.mode);let y=kV[v](t,c);if(\"vega-lite\"===v&&y.$schema){const e=Yq()(y.$schema);Object(ae.satisfies)(xV.vega,\"^\"+e.version.slice(1))||console.warn(`The compiled spec uses Vega ${e.version}, but current version is v${xV.vega}.`)}m.classList.add(\"vega-embed\"),d&&m.classList.add(\"has-actions\"),m.innerHTML=\"\";let _=m;if(d){const e=document.createElement(\"div\");e.classList.add(\"chart-wrapper\"),m.appendChild(e),_=e}const w=n.patch;w&&(y=w instanceof Function?w(y):H(y,w,!0,!1).newDocument),n.formatLocale&&mV.formatLocale(n.formatLocale),n.timeFormatLocale&&mV.timeFormatLocale(n.timeFormatLocale);const{ast:x}=n,k=mV.parse(y,\"vega-lite\"===v?{}:c,{ast:x}),O=new mV.View(k,Object.assign({loader:i,logLevel:p,renderer:f},x?{expr:mV.expressionInterpreter}:{}));if(!1!==n.tooltip){let e;e=\"function\"==typeof n.tooltip?n.tooltip:new dV(!0===n.tooltip?{}:n.tooltip).call,O.tooltip(e)}let E,{hover:S}=n;if(void 0===S&&(S=\"vega\"===v),S){const{hoverSet:e,updateSet:t}=\"boolean\"==typeof S?{}:S;O.hover(e,t)}if(n&&(null!=n.width&&O.width(n.width),null!=n.height&&O.height(n.height),null!=n.padding&&O.padding(n.padding)),yield O.initialize(_).runAsync(),!1!==d){let e=m;if(!1!==n.defaultStyle){const t=document.createElement(\"details\");t.title=h.CLICK_TO_VIEW_ACTIONS,m.append(t),e=t;const n=document.createElement(\"summary\");n.innerHTML='\\n<svg viewBox=\"0 0 16 16\" fill=\"currentColor\" stroke=\"none\" stroke-width=\"1\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\\n  <circle r=\"2\" cy=\"8\" cx=\"2\"></circle>\\n  <circle r=\"2\" cy=\"8\" cx=\"8\"></circle>\\n  <circle r=\"2\" cy=\"8\" cx=\"14\"></circle>\\n</svg>',t.append(n),E=e=>{t.contains(e.target)||t.removeAttribute(\"open\")},document.addEventListener(\"click\",E)}const i=document.createElement(\"div\");if(e.append(i),i.classList.add(\"vega-actions\"),!0===d||!1!==d.export)for(const e of[\"svg\",\"png\"])if(!0===d||!0===d.export||d.export[e]){const t=h[e.toUpperCase()+\"_ACTION\"],r=document.createElement(\"a\");r.text=t,r.href=\"#\",r.target=\"_blank\",r.download=`${g}.${e}`,r.addEventListener(\"mousedown\",(function(t){return j(this,void 0,void 0,(function*(){t.preventDefault();const i=yield O.toImageURL(e,n.scaleFactor);this.href=i}))})),i.append(r)}if(!0===d||!1!==d.source){const e=document.createElement(\"a\");e.text=h.SOURCE_ACTION,e.href=\"#\",e.addEventListener(\"click\",(function(e){var i,r;OV(oe()(t),null!==(i=n.sourceHeader)&&void 0!==i?i:\"\",null!==(r=n.sourceFooter)&&void 0!==r?r:\"\",v),e.preventDefault()})),i.append(e)}if(\"vega-lite\"===v&&(!0===d||!1!==d.compiled)){const e=document.createElement(\"a\");e.text=h.COMPILED_ACTION,e.href=\"#\",e.addEventListener(\"click\",(function(e){var t,i;OV(oe()(y),null!==(t=n.sourceHeader)&&void 0!==t?t:\"\",null!==(i=n.sourceFooter)&&void 0!==i?i:\"\",\"vega\"),e.preventDefault()})),i.append(e)}if(!0===d||!1!==d.editor){const e=null!==(u=n.editorUrl)&&void 0!==u?u:\"https://vega.github.io/editor/\",r=document.createElement(\"a\");r.text=h.EDITOR_ACTION,r.href=\"#\",r.addEventListener(\"click\",(function(n){!function(e,t,n){const i=e.open(t),{origin:r}=new URL(t);let o=40;e.addEventListener(\"message\",(function t(n){n.source===i&&(o=0,e.removeEventListener(\"message\",t,!1))}),!1),setTimeout((function e(){o<=0||(i.postMessage(n,r),setTimeout(e,250),o-=1)}),250)}(window,e,{config:c,mode:v,renderer:f,spec:oe()(t)}),n.preventDefault()})),i.append(r)}}return{view:O,spec:t,vgSpec:y,finalize:function(){E&&document.removeEventListener(\"click\",E),O.finalize()}}}))}(e,l,d,a)}))}function SV(e,t){var n;return j(this,void 0,void 0,(function*(){const i=Object(se.I)(e.config)?JSON.parse(yield t.load(e.config)):null!==(n=e.config)&&void 0!==n?n:{},r=Object(se.I)(e.patch)?JSON.parse(yield t.load(e.patch)):e.patch;return Object.assign(Object.assign(Object.assign({},e),r?{patch:r}:{}),i?{config:i}:{})}))}function DV(e,t){Object.keys(t).forEach(n=>{!function(e,t,n){var i;n&&((i=n)&&\"[object Function]\"==={}.toString.call(i)?n(e.data(t)):e.change(t,mV.changeset().remove(()=>!0).insert(n)))}(e,n,t[n])})}function jV(e){const t=new Set;return e.forEach(e=>{Object.keys(e).forEach(e=>{t.add(e)})}),t}const CV=()=>{};function MV(e,t){const n=Object.keys(t);return n.forEach(n=>{try{e.addSignalListener(n,t[n])}catch(e){console.warn(\"Cannot add invalid signal listener.\",e)}}),n.length>0}function TV(e,t){const n=Object.keys(t);return n.forEach(n=>{try{e.removeSignalListener(n,t[n])}catch(e){console.warn(\"Cannot remove invalid signal listener.\",e)}}),n.length>0}function AV(e){const{spec:t,width:n,height:i}=e;return void 0!==n&&void 0!==i?{...t,width:n,height:i}:void 0!==n?{...t,width:n}:void 0!==i?{...t,height:i}:t}function FV(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class PV extends w.a.PureComponent{constructor(...e){super(...e),FV(this,\"containerRef\",w.a.createRef()),FV(this,\"viewPromise\",void 0),FV(this,\"handleError\",e=>{const{onError:t=CV}=this.props;t(e),console.warn(e)}),FV(this,\"modifyView\",e=>{this.viewPromise&&this.viewPromise.then(t=>(t&&e(t),!0)).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(e){const t=jV([this.props,e]);if(t.delete(\"className\"),t.delete(\"signalListeners\"),t.delete(\"spec\"),t.delete(\"style\"),t.delete(\"width\"),t.delete(\"height\"),Array.from(t).some(t=>this.props[t]!==e[t]))this.clearView(),this.createView();else{const t=function(e,t){if(e===t)return!1;const n={width:!1,height:!1,isExpensive:!1},i=jV([e,t]);return!i.has(\"width\")||\"width\"in e&&\"width\"in t&&e.width===t.width||(\"width\"in e&&\"number\"==typeof e.width?n.width=e.width:n.isExpensive=!0),!i.has(\"height\")||\"height\"in e&&\"height\"in t&&e.height===t.height||(\"height\"in e&&\"number\"==typeof e.height?n.height=e.height:n.isExpensive=!0),i.delete(\"width\"),i.delete(\"height\"),[...i].some(n=>!(n in e)||!(n in t)||!TA()(e[n],t[n]))&&(n.isExpensive=!0),!(!1===n.width&&!1===n.height&&!n.isExpensive)&&n}(AV(this.props),AV(e)),{signalListeners:n}=this.props,{signalListeners:i}=e;if(t)if(t.isExpensive)this.clearView(),this.createView();else{const e=!D(n,i);this.modifyView(r=>{!1!==t.width&&r.width(t.width),!1!==t.height&&r.height(t.height),e&&(i&&TV(r,i),n&&MV(r,n)),r.run()})}else D(n,i)||this.modifyView(e=>{i&&TV(e,i),n&&MV(e,n),e.run()})}}componentWillUnmount(){this.clearView()}createView(){const{spec:e,onNewView:t,signalListeners:n={},width:i,height:r,...o}=this.props;if(this.containerRef.current){const e=AV(this.props);this.viewPromise=EV(this.containerRef.current,e,o).then(({view:e})=>(MV(e,n)&&e.run(),e)).catch(this.handleError),t&&this.modifyView(t)}}clearView(){return this.modifyView(e=>{e.finalize()}),this.viewPromise=void 0,this}render(){const{className:e,style:t}=this.props;return w.a.createElement(\"div\",{ref:this.containerRef,className:e,style:t})}}function NV(){return(NV=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function zV(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}FV(PV,\"propTypes\",{className:E.a.string,onError:E.a.func});class RV extends w.a.PureComponent{constructor(...e){super(...e),zV(this,\"vegaEmbed\",w.a.createRef()),zV(this,\"handleNewView\",e=>{this.update();const{onNewView:t=CV}=this.props;t(e)})}componentDidMount(){this.update()}componentDidUpdate(e){D(this.props.data,e.data)||this.update()}update(){const{data:e}=this.props;this.vegaEmbed.current&&e&&Object.keys(e).length>0&&this.vegaEmbed.current.modifyView(t=>{DV(t,e),t.resize().run()})}render(){const{data:e,...t}=this.props;return w.a.createElement(PV,NV({ref:this.vegaEmbed},t,{onNewView:this.handleNewView}))}}function IV(){return(IV=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function BV(e){return w.a.createElement(RV,IV({},e,{mode:\"vega-lite\"}))}zV(RV,\"defaultProps\",{data:{}});Object(k.initDB)({name:\"OpticQL\",version:2,objectStoresMeta:[{store:\"schemaData\",storeConfig:{keyPath:\"id\",autoIncrement:!0},storeSchema:[{name:\"schemaInfo\",keypath:\"schemaID\",options:{unique:!0}},{name:\"schemaMetrics\",keypath:\"schemaMetrics\",options:{unique:!1}}]},{store:\"queryData\",storeConfig:{keyPath:\"id\",autoIncrement:!0},storeSchema:[{name:\"queryID\",keypath:\"queryID\",options:{unique:!0}},{name:\"queryMetrics\",keypath:\"queryMetrics\",options:{unique:!1}}]}]}),Object(x.render)(w.a.createElement(BV,{spec:{$schema:\"https://vega.github.io/schema/vega-lite/v4.json\",description:\"A simple bar chart with embedded data.\",width:400,height:200,mark:\"bar\",encoding:{y:{field:\"task\",type:\"ordinal\"},x:{field:\"start\",type:\"quantitative\"},x2:{field:\"end\"}}},data:{values:[{task:\"A\",start:1,end:3},{task:\"B\",start:3,end:8},{task:\"C\",start:8,end:10}]}}),document.getElementById(\"root\"))}]);","extractedComments":[]}